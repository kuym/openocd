2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: The openocd-0.9.0-rc1 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2015-04-09  Paul Fertser <fercerpav@gmail.com>

	* NEWS: Add NEWS in preparation for the new release Change-Id: I629158b59ff38f9b82a560f119a391bb97af43f2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2701 Tested-by: jenkins

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ti_icdi_usb.c: jtag/drivers/ti_icdi: do not
	segfault when adapter can't be opened Change-Id: Id3af8dfd18b13947bca4f3c89c2516ccbcef60b6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2742 Tested-by: jenkins

2015-04-23  Andreas Färber <afaerber@suse.de>

	* tcl/board/xmc4500-application-kit-general.cfg: 
	xmc4500-application-kit-general: Drop srst_nogate Reset stopped working with this setting.  Change-Id: I98e8fafa48e0ab65dce8110870be422edf7b2fdb Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2727 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-02  Jiri Kastner <cz172638@gmail.com>

	* tcl/target/ti_rm4x.cfg, tcl/target/ti_tms570.cfg: 
	target/ti_tms570.cfg: added several JTAG IDs for TMS570LS family from TI datasheets for whole cortex-r4 family added JTAG IDs TMS570LS1227 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns192 	0x0B95502F 16/32-Bit RISC Flash Microcontroller, TMS5703137-EP (Rev. B)
	http://www.ti.com/lit/pdf/spns230 	0x0D8A002F 	0x2D8A002F 	0x3D8A002F RM48L952 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns177 	0x0D8A002F 	0x2D8A002F 	0x3D8A002F RM46L852 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns185 	0x0B95502F RM48Lx30 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns176 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F RM46Lx30 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns182 	0x0B95502F RM46Lx50 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns184 	0x0B95502F TMS570LS04x/03x 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns186 	0x0B97102F RM42L432 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns180 	0x0B97102F RM46Lx40 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/ 	0x0B95502F TMS570LS12x5 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns191 	0x0B95502F RM48Lx40 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns175 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F TMS570LS31x4/21x4 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns165 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F TMS570LS20216/20206/10216/10206/10116/10106 16/32-Bit RISC Flash
	Microcontroller (Rev. F) http://www.ti.com/lit/pdf/spns141 	0x0B7B302F TMS570LS31x5/21x5 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns164 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F RM48Lx50 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns174 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F TMS570LS3137 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns162 	0x0B8A002F 	0x2B8A002F 	0x3B8A002F TMS570LS12x4 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns190 	0x0B95502F TMS570LS1115 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns189 	0x0B95502F TMS570LS11x4 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns188 	0x0B95502F Change-Id: Idf53a44851e1bb4bde4a74c64b65d4411e56da7c Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Tested-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-on: http://openocd.zylin.com/2123
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-04-03  Alex Ray <a@machinaut.com>

	* tcl/board/ti_tmdx570ls20susb.cfg, tcl/target/ti_tms570.cfg,
	tcl/target/ti_tms570ls20xxx.cfg, tcl/target/ti_tms570ls3137.cfg: TI
	TMS570 USB Kit board config Split TMS570 target into LS31/LS21 and LS20/LS10 targets.  Board for
	the TMS570LS20SUSB Kit, which uses the TMS570 Cortex-R4 MCU from TI.
	Tested attaching.  Change-Id: I1a69ac1ed800d0d6b7f9860c19cbd149e3e47620 Signed-off-by:
	Alex Ray <a@machinaut.com> Reviewed-on:
	http://openocd.zylin.com/2089 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/mqx.c: rtos/mqx: prevent crash with -rtos auto Since mqx comes last in the list, with the auto option its
	update_threads is called even though it wasn't detected.  This check should be removed from all the rtos helpers and moved to
	the generic code, but better do it later all in one go.  Change-Id: If24ab42a58a468d90e9f12028d4c2fb76a9bc2e8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2741 Tested-by: jenkins

2015-04-20  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c: target/cortex_a: examination should be done
	every time it's asked for It was observed on AM437x that after every reset the target's debug
	regions are unpowered. To be able to properly communicate with the
	target and perform cortex_a init debug access after a reset event
	the examination need to be performed every time, not just on OpenOCD
	start.  Change-Id: Idf272e127ee88341e806ee00df154eade573451d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2723 Tested-by: jenkins Reviewed-by: Felipe
	Balbi <balbi@ti.com>

2015-04-17  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: try to reexamine even when polling
	fails After intermittent connection failures or target power failures it
	might be necessary to try reexamination even when polling fails.
	This should make communication with Cortex-A targets more reliable.  This was runtime tested with stlink attached to an stm32l1 and an
	FTDI JTAG adapter attached to an stm32f1 target.  Change-Id: I38c4db8124b7f4bbf53ddda53c13273449f49c15 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2721 Tested-by: jenkins Reviewed-by: Felipe
	Balbi <balbi@ti.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Andreas Färber <afaerber@suse.de>

2015-04-20  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/mqx.c, src/rtos/rtos.c: rtos: fix print format specifiers Exposed by arm-none-eabi build.  Change-Id: I657c642249aa83403f93132d1e28713aee692c30 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2724 Tested-by: jenkins

2015-03-17  Simon Qian <openocd@versaloon.com>

	* src/jtag/drivers/vsllink.c: configure the SWD frequency when
	setting adapter speed in SWD mode for versaloon Change-Id: I99cdc11ba1442e4c9efaa0f1de8e7089ec725e14 Signed-off-by:
	Simon Qian <openocd@versaloon.com> Reviewed-on:
	http://openocd.zylin.com/2608 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-30  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c, tcl/board/atmel_saml21_xplained_pro.cfg: 
	flash: at91samd: add SAML21 support, fix part ID issue This adds support for the new Atmel SAML21 family of low-power
	Cortex M0+ devices.  Their Flash controller is essentially the
	SAMDxx one so the change consists of adding the new part IDs.
	Unfortunately the device ID logic had a couple of mistakes in it
	that did not affect anything on SAMD2x devices (due to 0 values
	expected there) but that is a problem on L21, it's therefore
	addressed here and things should now match the datasheets.  Tested on Amtel SAML21 Xplained Pro development kit against the
	included SAML21J18A there.  Also tested for regressions on a SAMD20
	and SAMD21 using their dev kits.  Change-Id: I768f75e064b8656c15148730dacaa4c3acfc4101 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2690 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/jtag/drivers/stlink_usb.c: stlink_usb.c: Decode some more
	errors.  Change-Id: I637cb63bd39120554aa184eaa48fd00a4852359f Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2706 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-04  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/flash/nor/mdr.c: flash/nor/mdr: add docs,
	remove memory leak on probe() This adds the mandatory Info documentation for the driver as well as
	the usage field.  As a clean up, this also includes freeing of the allocated memory
	which results in a memory leak if probe is invoked multiple times.  Valgrind-tested.  Reported by Dmitry Shpak.  Change-Id: I2b1d9b9e8b069c6665b11d880b40ce19a1b26ce6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2694 Tested-by: jenkins Reviewed-by:
	Дмитрий Шпак <disona@yandex.ru> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2015-04-08  Marc Schink <openocd-dev@marcschink.de>

	* src/flash/nor/efm32.c: flash: efm32: Add support for EZR32LG and
	EZR32WG.  This patch was tested with an EZR32WG Starter Kit.  Change-Id: I0f7c619e715fe30e88e6da3bead0806dd3bce819 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2700 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-07  Spencer Oliver <spen@spen-soft.co.uk>

	* BUGS, README, doc/openocd.texi, src/openocd.c,
	tcl/target/amdm37x.cfg: docs: update OpenOCD url's to openocd.org
	domain Change-Id: I8b55c8d12773a1c36f2fd2afeecf20a74e890064 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2698 Tested-by: jenkins

2015-04-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/cmsis_dap_usb.c: cmsis-dap: print vendor and
	product id on open failure Change-Id: Iae7ed8d59a722b805536550a8033f5fb7c85c5fc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2708 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com>

2015-04-09  Mahavir Jain <mjain@marvell.com>

	* doc/openocd.texi: doc/openocd.texi: fix formatting for mrvlqspi
	driver documentation * also included example for flash usage information Change-Id: Icf9defc25d38bf24567b1708138b83a8de1e0497 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2705 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-09  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/stm32f3x.cfg: tcl/target/stm32f3: fix reset init for
	stlink Use mmw to manipulate only selected bits of the word. msb and mwb
	verify the memory location and may error on PLLRDY set as a result
	of PLLON written.  Change-Id: I9a4c1e58f002a1e5e99be1bd34aac27ba65d111d Reported-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2702 Tested-by: jenkins

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* contrib/itmdump.c: contrib/itmdump: add a hack to allow direct
	dumping of specific SWIT, fix timestamp Currently itmdump is not a production-quality code hence this hack
	seems to be appropriate.  More robust handling is possible with libswo-based swodec tool
	that's available from http://git.zapb.de/ .  This adds a new command line option -d N where N is a stimulus
	number you want to dump (counting from 1).  The idea here is that if you're interested to live-monitor just a
	single stimulus port, you can use this utility directly. If one
	wants to demultiplex the TPIU stream, the following is proposed: 1. Use https://gitorious.org/multiplex/multiplex utility that can
	accept binary data from a file/pipe/stdin and arbitrary number of
	TCP connections. It simply mirrors all the incoming data to all the
	accepted connections; 2. Use socat to connect itmdump to the proxy mentioned in 1. and
	then either dump the results to separate files or share via their
	dedicated TCP ports.  Example script (inspired by http://openocd.zylin.com/#/c/1662/ ,
	enables and disables specific itm ports on demand): for i in `seq 0 31`; do   while true; do     socat -U TCP-LISTEN:$((8000+$i)),reuseaddr \              SYSTEM:"echo itm port $i on | nc -q0 localhost 4444 >
	    /dev/null; nc localhost 7777 | stdbuf -oL itmdump
	    -d$((i+1))" echo itm port $i off | nc -q0 localhost 4444 >
	  /dev/null done < /dev/null >&0 2>&0 & done Change-Id: Iaeb102436eaa5b106002083f2ffe758fb7bd83e5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2537 Tested-by: jenkins

2015-03-15  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/at91samd.c, src/flash/nor/lpc2000.c,
	src/flash/nor/nrf51.c, src/flash/nor/sim3x.c,
	src/flash/nor/stellaris.c, src/target/arm_adi_v5.c,
	src/target/cortex_a.c, src/target/mips_ejtag.c: Fix several format
	specifiers errors exposed by arm-none-eabi Change-Id: I1fe5c5c0b22cc23deedcf13ad5183c957551a1b7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2719 Tested-by: jenkins

2015-03-18  Felipe Balbi <balbi@ti.com>

	* tcl/board/ti_am43xx_evm.cfg: board: ti_am43xx_evm: remove xds100v2
	interface GP and EPOS EVMs do not provide xds100v2 on board, rather they have
	a pin header which can be used to attach any debug pod the user
	might want.  Change-Id: I61678c50900fbe0fab500ea42f85ecde7a490ded Reported-by:
	Tom Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi
	<balbi@ti.com> Reviewed-on: http://openocd.zylin.com/2618 Tested-by:
	jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-04-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* contrib/rtos-helpers/FreeRTOS-openocd.c, doc/openocd.texi,
	src/rtos/FreeRTOS.c: rtos: add instructions and helper code to make
	FreeRTOS work again Run-time tested with FreeRTOS V8.1.2 (current version).  For the time being I propose this way of dealing with RTOSes that do
	not export necessary information on their own.  I also suggest implementing a similar scheme for ChibiOS, exporting
	the necessary struct fields' offsets via an OpenOCD-specific helper.  Change-Id: Iacf8b88004d62206215fe80011fd7592438446a3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2347 Tested-by: jenkins

2015-04-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/rtos/FreeRTOS.c: FreeRTOS: Make optional symbols optional xSuspendedTaskList and xTasksWaitingTermination are only available
	for some configurations. Missing optional symbols will have their
	addresses remaining at zero so the corresponding lists will be
	skipped when building the task list.  Change-Id: If330f5038d009298c3a14a4d2756db7105a30bc8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2425 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-14  Tomas Vanek <vanekt@fbl.cz>

	* doc/openocd.texi, src/flash/nor/at91sam4l.c,
	tcl/target/at91sam4lXX.cfg: AT91SAM4L: handle reset run/halt in SMAP This is a remake of http://openocd.zylin.com/1966 originally written
	by Angus Gratton <gus@projectgus.com> ATSAM4L has a "System Manager Access Port" (SMAP) that holds the CPU
	in reset if TCK is low when srst (RESET_N) is deasserted.  Without
	this change any use of sysresetreq or srst locks the chip in reset
	state until power is cycled.  A new function smap_reset_deassert is called as reset-deassert-post
	event handler.  It optionally prepares reset vector catch and SMAP
	reset is released then.  Change-Id: Iad736357b0f551725befa2b9e00f3bc54504f3d8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2604 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-13  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm_adi_v5.c, src/target/cortex_m.c: target/arm_adi_v5,
	cortex_m: retry ahbap_debugport_init few times in case of an error Some targets need arbitrary amount of time (usually not too long)
	after reset (both sysresetreq and srst) to do initialisation, and
	SWD/JTAG is not available during that. According to PSoC4 docs, the
	debugger should try connecting until it succeeds.  Also ahbap_debugport_init might be necessary to perform after using
	hardware srst too, so add it there (except for the targets that
	support srst_nogate since they are very unlikely to need it).  Change-Id: I3598d5ff7b8e0bf3a5566a57dec4b0b2b243d297 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2601 Tested-by: jenkins

2015-03-14  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c: target/cortex_a: emit a clear error message
	when dbgbase can't be detected In some cases (the most obvious are TI's SoCs) ROM table lacks
	entries for the cores, so OpenOCD has no way to determine what debug
	base to use. Due to an error fixed in ec9ccaa28849 it wasn't handled
	properly, and OpenOCD would continue to try using dbgbase = 0, which
	happened to work for e.g. AM437x.  This patch adds a clear indication to the user that to access such a
	target, dbgbase must be set manually in the config.  Reported by Felipe Balbi on IRC.  Change-Id: Id8533e708f44b76550eb8b659564f5f45717c298 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2603 Tested-by: jenkins

2015-04-05  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/lpc2000.c: flash/nor/lpc2000: free allocated working
	area when target_write fails In some circumstances (e.g. inappropriate jtag clock)
	target_write_memory in lpc2000_iap_working_area_init might fail. The
	allocated working area should be freed inside
	lpc2000_iap_working_area_init in this error case.  This was leading to a weird segfault due to stack corruption later
	when reset was executed.  Reported by quitte (Jonas Meyer).  Change-Id: Ia2ed42a9970a4d771727fd516a6eea88e9b859e2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2696 Tested-by: jenkins

2015-04-06  Paul Fertser <fercerpav@gmail.com>

	* src/target/adi_v5_jtag.c: jtag/adi_v5_jtag: fix infinite recursion
	in jtagdp_transaction_endcheck() Calling ahbap_debugport_init() is wrong here because the actions
	performed by it might lead to jtagdp_transaction_endcheck errors
	thus leading to infinite recursion.  The removed code is not needed now because target polling should
	lead to reexamination automatically, and both cortex_a and cortex_m
	call ahbap_debugport_init() as part of their target examine handler.  This was reported as a real life issue on IRC by Weaselweb with
	Cortex-A target. Quitte reports similar results in some
	circumstances (adapter_khz too high) with LPC17xx.  Change-Id: I7148022f76a1272b5262d251f2e807ffb1543547 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2697 Tested-by: jenkins

2015-04-04  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/lpc2000.c: flash/nor/lpc2000: properly free working
	area used in get_lpc2000_part_id() The IAP working area needs to be freed here, just like in all the
	other driver functions since an automatic local variable is used to
	store a pointer to it.  This was reported by quitte (Jonas Meyer) on IRC as a strange
	totally unrelated segfault after doing certain operations (leading
	to target reset) from GDB. He has provided me with remote access to
	the specific machine and configuration that exposed the issue, and
	after some debugging it became apparent that a auto local variable
	(holding the gdb connection pointer) gets overwritten somehow.
	Placing an appropriate breakpoint just before the event and using a
	watchpoint made the cause apparent: reset lead to freeing of all
	working areas, and there was one holding a pointer to a variable
	that was auto local in get_lpc2000_part_id().  Change-Id: I7e634d890135ca0f3b4b311e09e8385a03982bd6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2695 Tested-by: jenkins

2015-04-03  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/startup.tcl: jtag/startup.tcl: fix regression with
	autoselecting JTAG This regression was introduced with d90b86d8. "transport select"
	doesn't throw an error anymore and autoselects the first available
	transport on its own.  Reported by moyix on IRC.  Change-Id: I3f303c0372e915931cca4b28af450694abc1a63e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2693 Tested-by: jenkins

2015-03-11  Richard Braun <rbraun@sceen.net>

	* src/rtos/ChibiOS.c: ChibiOS: fix crash on auto detection The detection framework assumes rtos->symbols is dynamically
	allocated, an assumption that the ChibiOS variant breaks by
	providing a raw statically allocated symbol list.  Change-Id: I379bcc2af99006912608ddd3f646ff7085606f47 Signed-off-by:
	Richard Braun <rbraun@sceen.net> Reviewed-on:
	http://openocd.zylin.com/2597 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-13  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/flash/startup.tcl, src/helper/command.c,
	src/helper/startup.tcl, src/openocd.c, src/server/server.c: Tcl
	exception codes cleanup, shutdown command amendments This patch might influence openocd Tcl commands behaviour in subtle
	ways, please give it a nice testing.  The idea is that if an OpenOCD Tcl command returns an error, an
	exception is raised, and then the return code is propogated all the
	way up (or to the "catch" if present). This allows to detect
	"shutdown" which is not actually an error but has to raise an
	exception to stop execution of the commands that follow it in the
	script.  openocd_thread special-cases shutdown because it should then
	terminate OpenOCD with a success error code, unless shutdown was
	called with an optional "error" argument which means terminate with
	a non-zero exit code.  Change-Id: I7b6fa8a2e24c947dc45d8def0008b4b007c478b3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2600 Tested-by: jenkins Reviewed-by: Juha
	Niskanen <juha.niskanen@haltian.com> Reviewed-by: Jens Bauer
	<jens@gpio.dk> Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2015-03-09  Juha Niskanen <juha.niskanen@haltian.com>

	* src/helper/command.c: helper: shutdown command should return with
	0 exit status Commit a35712a85c42 caused a regression where command openocd -c "echo a1; shutdown; echo a2" always returned non-zero exit status to operating system, even when
	commands before shutdown all succeeded. This patch attempt to fix
	this.  Change-Id: I3f478c2c51d100af810ea0171d2fd4c8fcc657f3 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2589 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/tcl.c: jtag/tcl: fix incorrect memcpy in
	jim_newtap_expected_id Found by clang static checker.  On the very first call of jim_newtap_expected_id()
	pTap->expected_ids and expected_len are null, and there's nothing to
	copy. This patch changes this cryptic code to use realloc() instead.  Change-Id: Ic0b5140d08257a906f15b55a2ae64db7bc06d5f1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2562 Reviewed-by: Stian Skjelstad
	<stian@nixia.no> Tested-by: jenkins

2015-03-07  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/interface/ftdi/turtelizer2-revC.cfg,
	tcl/interface/turtelizer2.cfg: turtelizer2-revC: Tested with real
	hardware.  Also some hints around deprecated tcl/interface/turtelizer2.cfg
	added.  Change-Id: Ifa57b49febffaeddd5d8ff0a48833d3544927b10 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2584 Tested-by: jenkins Reviewed-by: Harald
	Kipp Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-17  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: lpc2000: Removed cmd51_can_xxxxb
	variables.  Current flash driver can fail to write across the sector boundary.
	This patch fixes "thisrun_bytes" set to "cmd51_dst_boundary" value
	instead of "cmd51_can_xxxxb" Referred to SevenW's post and fix,thanks.

	http://sourceforge.net/p/openocd/mailman/openocd-devel/thread/fa32e7d6654df22470dc5f4a3dbc984a%40familiebenschop.nl/#msg33594152Tested on below listed chips.
	LPC810,LPC811,LPC812,LPC824,LPC1115,LPC1343,LPC1347,LPC1227,
	LPC1769,LPC1788,LPC54102,LPC4088 and LPC2388.  Change-Id: If1c6a1daa58ca27c405bd959a784e599a7a8f4d4 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2607 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-02-28  Andreas Färber <afaerber@suse.de>

	* tcl/board/xmc-2go.cfg: tcl/board: Add Infineon XMC 2Go config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Jan 10 2014
	20:31:33".  Change-Id: Iefa9185372341d889db2b5f1f93bce126450b535 Cc: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by: Andreas
	Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2564 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-23  Patrick Noffke <patrick@noffke.me>

	* src/flash/nor/at91sam4.c: Added Atmel SAM4SA16C chip (chip ID
	0x28a70ce0).  Change-Id: I45e8e807a36c39940b910b3edb40698c7d8dabd6 Signed-off-by:
	Patrick Noffke <patrick@noffke.me> Reviewed-on:
	http://openocd.zylin.com/2625 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Färber <afaerber@suse.de>

	* tcl/board/xmc1100-boot-kit.cfg: tcl/board: Add Infineon XMC1100
	Boot Kit config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Jul 18 2014
	17:28:26".  Change-Id: Icc03172cefe38f2217bf44a73f94f8a6fb93dfba Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2472 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Färber <afaerber@suse.de>

	* tcl/target/xmc1xxx.cfg: tcl/target: Add Infineon XMC1000 family
	target config Basic target config, verified against XMC1100 AA/AB, XMC1200 AA/AB,
	XMC1300 AA/AB manuals.  The default adapter_khz was tested with the XMC1100 Boot Kit.  Change-Id: Iff6ed52d875ccb83c0d4ff0d555b90e0f28b860c Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2471 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-01  Andreas Färber <afaerber@suse.de>

	* tcl/board/spansion_sk-fm4-176l-s6e2cc.cfg: tcl/board: Add Spansion
	SK-FM4-176L-S6E2CC config Works best after update to firmware v2.3.  Change-Id: Id2d3a0ae28bba014ee5338df9280fe39773c3398 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2570 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-01  Andreas Färber <afaerber@suse.de>

	* tcl/target/fm4.cfg: tcl/target: Add Spansion FM4 config Assembled by trial-and-error for an S6E2CC.  Change-Id: I317c12d24c9075ce3de286455fa3ee45731c5c81 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2569 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-03  Ed Beroset <beroset@ieee.org>

	* src/jtag/startup.tcl: startup: Fixed measure_clk to return kHz
	instead of MHz.  The original code had iterated 10,000,000 times and taken the
	elapsed time divided by 10,000, to yield kHz which is mathematically
	correct only if we were measuring time in seconds, but we are
	 measuring time in milliseconds, so the correct divisor is actually
	10,000,000.  Previous code would report 0.500 for actual measured
	speed of 500 kHz.  Change-Id: Iba4c4961fe3973e7ccfa6dfa11d606a966ceb50c Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2573 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-05  Ed Beroset <beroset@ieee.org>

	* tcl/target/em357.cfg, tcl/target/em358.cfg: em357: Corrected EM357
	support including errata details Original submitted code had only been tested with em358, but testing
	with actual em357 revealed errors that this patch corrects.  Change-Id: I70cf31210de8ed84e3755a56e76261ad200322bb Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2581 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-08  Uwe Kleine-König <u.kleine-koenig@pengutronix.de>

	* src/target/cortex_a.c: Cortex-A: Don't flush the data/unified
	cache if MMU is off When the SCTLR has C set but M unset (i.e. Caching on, but MMU off)
	the cache if effectively off. So only flush the cache if MMU is on,
	otherwise stale entries might be committed to memory.  Change-Id: Iaff8b6f25b7a41ba838b91d45684c98f99fc0b27 Signed-off-by:
	Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/2429 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Vladimir Svoboda
	<ze.vlad@gmail.com>

2014-11-21  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/FreeRTOS.c, src/rtos/rtos.c: RTOS: Add logging to
	FreeRTOS and general RTOS Change-Id: I43d14f3b59daae7f90c344abdf71eaa8f74ef7ef Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2391 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-02  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/parport.cfg: tcl/interface/parport: default to sane
	value on non-windows systems When using ppdev driver 0 is the most appropriate default value as
	it corresponds to /dev/parport0. Raw port address is suitable only
	for direct access (I think that's parport-giveio on windows).  Reported by danitool on IRC.  Change-Id: I983c22251de6601b433ad31aaf660fb664cee7e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2572 Reviewed-by: Andreas Färber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-09  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/core.c: jtag/core: honour SRST timings in SWD mode Since SWD is currently abusing the JTAG command queue for reset and
	sleep handling (and all other operations are performed in a
	different way), sleep needs to be forced explicitly to ensure
	correct timings.  Change-Id: I5b0da6cbb7d0560154e4077b261aa6828cefc892 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2591 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-28  Jeff Ciesielski <jeffciesielski@gmail.com>

	* tcl/board/xmc4500-relax.cfg: tcl/board: Add Infineon XMC4500 Relax
	Kit config Tested with "J-Link Lite-XMC4000 Rev.1 compiled Dec  7 2012
	19:23:07" on XMC4500 Relax Lite Kit V1.  Change-Id: Ib680a444fa4cadbf640afba15d607c0e6bd4ab2c Signed-off-by:
	Jeff Ciesielski <jeffciesielski@gmail.com> Signed-off-by: Andreas
	Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2567 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-28  Jeff Ciesielski <jeffciesielski@gmail.com>

	* tcl/board/xmc4200-application-kit-actuator.cfg: tcl/board: Add
	Infineon XMC4200 Application Kit config Change-Id: I3a946ba3745da651d470cd574222ba5c7147ac9d Signed-off-by:
	Jeff Ciesielski <jeffciesielski@gmail.com> Signed-off-by: Andreas
	Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2566 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Färber <afaerber@suse.de>

	* tcl/board/xmc4500-application-kit-general.cfg,
	tcl/board/xmc4500-application-kit-sdram.cfg: tcl/board: Add Infineon
	XMC4500 Application Kit configs Tested CPU_45A-V2 (General Purpose) with ARM-USB-TINY-H (via SWD)
	and with "J-Link Lite-Cortex-M V8 compiled Jul 17 2014 11:40:12"
	firmware.  Tested CPU_45B-V1-006 (SDRAM) with ARM-USB-TINY-H (via SWD) and with
	"J-Link Lite-XMC4200 Rev.1 compiled Jul 18 2014 17:28:26" firmware.  Change-Id: I3451117606551671ec77722f6adf7d7a6a4bd576 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2481 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Färber <afaerber@suse.de>

	* tcl/target/xmc4xxx.cfg: tcl/target: Add Infineon XMC4000 family
	config Base config, verified against XMC4500, XMC4400 and XMC4100/XMC4200
	manuals.  Change-Id: I10907bdf307bc6d11dc5454bf5391758de49dc30 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2480 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* tcl/target/am335x.cfg, tcl/target/am437x.cfg,
	tcl/target/icepick.cfg: tcl: icepick: add icepick_d_set_coreid this is just to avoid open coding that in icepick_d_tapenable.
	Cleanup only, no functional changes.  Change-Id: Iabd20291b7bdd95957afa1c74f52171789201227 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2624 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* tcl/target/icepick.cfg: target: icepick: call icepick_c_setup it also works on icepick_d.  Change-Id: I50c0c81286aae673c94ea77e47454ff48eab1668 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2623 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* tcl/target/icepick.cfg: target: icepick: switch over to
	icepick_c_router Reusing what's already there to ease maintainability.  Change-Id: I2030581669c644e2d9d9f9968075ab6344445d04 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2622 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: target: am437x: pass coreid This commit is only for the sake of completeness as default coreid
	is zero. In any case, coreids 1-4 are used for the different PRU
	cores inside the SoC.  Change-Id: I775f2f444b1a908ffaf7bdbc43bcc966f19668c4 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2621 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: target: am437x: use more descriptive names Use more descriptive names for JRC and DAPs so they more closely
	match documentation.  For example there's no Cortex A9 DAP, that's the DebugSS DAP where
	Cortex A9 target sits. In that same DAP we have have ETM, STM and
	both dual-PRU subsystems.  Change-Id: I0e66ebb6299763f96606fae3e4c62e5785c804f2 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2620 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: target: am437x: fix DebugSS DAP ID Main DAP (where Cortex A9 sits) ID is actually 0x46b6902f. Fix it.  Change-Id: Ifa3335186bcf60d264d4ecea477bfe2f5ca10ead Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2619 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-17  Felipe Balbi <balbi@ti.com>

	* tcl/board/ti_am437x_idk.cfg: tcl: board: add AM437x IDK support Add support for Texas Instruments AM437x Industrial Development Kit
	support.  Change-Id: I33ed71c7392c3805a86cf2c8adce83c0e8aa323d Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2617 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-16  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: am437x: add reset-init event handler this event handler will configure and lock PLLs and configure DDR so
	platform is placed in usable state.  Change-Id: Idd02f4c9789181d69578f8606ac3576ea1dd8a0b Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2616 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-15  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: am437x: disable watchdog on reset-end sometimes, watchdog might be left running and it could expire in the
	middle of a debug session, to prevent that, just make sure to
	disable watchdog on reset-end if current state is 'halted'.  Change-Id: Ib4f2a2321cba17cd8c56ca3ae63114a563a6de90 Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2615 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-16  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: am437x: define registers to be used
	later a later commit will implement a proper reset-init handler to lock
	pll and configure ddr as we should.  Change-Id: I432cf28a5a944bfa83c20aed7298dbd29df30e38 Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2614 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* tcl/board/ti_am43xx_evm.cfg: tcl: board: ti_am43xx_evm: follow
	xds100v2 requirements xds100v2 asks us to call these three commands to guarantee proper
	behavior, so do it.  Change-Id: Iecf9c148ce7c2082ef915b46eeb511ceea395cc3 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2613 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* tcl/board/ti_am43xx_evm.cfg: tcl: board: ti_am437x_evm: select
	jtag transport default already is jtag, but this silences a warning during startup.  Change-Id: I94478327bbb259649500ef74a5b5c10d51e2a517 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2612 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: target: am437x: use entire SRAM area According to AM4379 TRM [1], table 2-1 L3 Memory Map, we have a
	total of 256KiB and there's no reason not to use it all.  [1] http://www.ti.com/lit/ug/spruhl7b/spruhl7b.pdf Change-Id: I117f2afe721bc4e3f0df304d3542e1a91aa69d12 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2611 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* tcl/target/am437x.cfg: tcl: target: am437x.cfg: pass correct
	dbgbase Since commit ec9ccaa28849 (arm_adi_v5: make
	dap_lookup_cs_component() traverse subtables and handle multicore)
	AM437x devices can't be used with OpenOCD anymore. The reason is
	that dbgbase used to be set to zero before that commit and that just
	happens to work with AM437x devices.  A more robust solution is to pass correct dbgbase when creating the
	target, which this commit does.  Signed-off-by: Felipe Balbi <balbi@ti.com> Change-Id:
	Iaf2617804324de8094b25137943e08b84f14c75f Reviewed-on:
	http://openocd.zylin.com/2602 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Tom Rini
	<trini@konsulko.com>

2015-03-25  DmitryShpak <disona@yandex.ru>

	* src/target/target.c: target/target.c: fixed rp check bug in
	asynchronous flash write algorithm.  Bug in read pointer check within flash write algorithm made
	incorrect check if block size is more than 4 bytes (bug was detected
	with 16 bytes block size).  Change-Id: I5b8e7ebca619a0a85ae6e9e496ff792248134d81 Signed-off-by:
	DmitryShpak <disona@yandex.ru> Reviewed-on:
	http://openocd.zylin.com/2657 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-02-26  Mateusz Manowiecki <segmentation@fault.pl>

	* src/jtag/drivers/ftdi.c: jtag/drivers/ftdi.c: removed memory leak swd_cmd_queue buffer memory leak removed Change-Id: Iafcdf034d32a37d577b58b6256c8fd9b064ce228 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2563 Tested-by: jenkins Reviewed-by:
	Andreas Färber <afaerber@suse.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-09  Marian Cingel <cingel.marian@gmail.com>

	* doc/openocd.texi: doc: update RTOS section, add 'mqx' info Change-Id: I20b93d49d275e6daaf5e39c49b4508c70c6fc56f Signed-off-by:
	Marian Cingel <cingel.marian@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2592 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-08  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/board/efm32.cfg: Add configuration for EFM32 Gecko boards with
	Segger J-Link.  Tested with Tiny Gecko.  Change-Id: Iddb87170b6aaaf7f15d3c4517c8661dd6394be8f Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2585 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-05  Mahavir Jain <mjain@marvell.com>

	* src/flash/nor/mrvlqspi.c: flash/nor: mrvlqspi: fix printf
	formatting issues Change-Id: I74cfce7bb8dbc13fbc3005b5a96213417f93a9f2 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2577 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2015-02-25  Angus Gratton <gus@projectgus.com>

	* doc/openocd.texi, src/transport/transport.c,
	tcl/target/swj-dp.tcl: transport: make 'transport select'
	auto-select the first available transport if not set This should allow most of the existing configurations for older
	versions to remain compatible without forcing the user to change his
	or her config to explicitly select transport.  Also in some circumstances can remove the need to chain a "-c
	transport select X" when building custom configs on the command
	line, which seems like a common new user pitfall.  Change-Id: Ic87a38c0b9b88e88fb6d106385efce2f39381d3d Suggested-by:
	Petteri Aimonen <jpa@git.mail.kapsi.fi> Signed-off-by: Angus Gratton
	<gus@projectgus.com> Reviewed-on: http://openocd.zylin.com/2551
	Reviewed-by: Paul Fertser <fercerpav@gmail.com> Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2015-03-11  Paul Fertser <fercerpav@gmail.com>

	* src/target/adi_v5_swd.c, src/target/cortex_m.c: target/adi_v5_swd,
	cortex_m: properly handle more cases requiring reconnect This brings SWD reconnection procedure in line with the ARM
	documentation and changes cortex_m reset procedure to make use of
	it.  The motivation behind this patch is to make SAM4L "reset" and "reset
	halt" properly without SRST. The complication here is that EDBG
	issues an additional read of DP_RDBUFF automatically right after
	writing SYSRESETREQ, that leads to a FAULT which needs to be dealt
	with properly. With this patch the very first ahbap_debugport_init
	DAP access will make SWD layer properly reinitialise the link before
	continuing.  Runtime tested with mbed CMIS-DAP + KL25 only.  Change-Id: Ic506f9db30931dfa60860036b83f73b897975909 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2596 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-26  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/core.c, src/jtag/drivers/cmsis_dap_usb.c,
	src/jtag/swd.h, src/jtag/tcl.c, src/target/Makefile.am,
	src/target/adi_v5_cmsis_dap.c, tcl/target/swj-dp.tcl: 
	drivers/cmsis-dap: port to common SWD framework Valgrind-tested.  Comparison of flashing performance on an FRDM-KL25Z board running
	mbed CMSIS-DAP variant, 5MHz clock, old driver: wrote 28096 bytes from file demo.elf in 26.833590s (1.023 KiB/s)
	verified 27264 bytes in 1.754972s (15.171 KiB/s) this implementation: wrote 28096 bytes from file demo.elf in 3.691939s (7.432 KiB/s)
	verified 27264 bytes in 0.598987s (44.450 KiB/s) Also tested "Keil ULINK-ME CMSIS-DAP" with an STM32F100 target, 5MHz
	clock, results reading from flash, old driver: dumped 131072 bytes in 98.445305s (1.300 KiB/s) this implementation: dumped 131072 bytes in 8.242686s (15.529 KiB/s) Change-Id: Ic64d3124b1d6cd9dd1016445bb627c71e189ae95 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2356 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/twr-k60f120m.cfg: tcl/board/twr-k60f120m: remove useless
	flash bank 0 definition Since the very first flash bank is already defined in target/kx.cfg,
	there's no sense in repeating it.  Reported and tested by Richard Braun.  Change-Id: I417b7072b5e6675ddbf824446e7581b8b7da8f4b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2595 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-10  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/kinetis.c: flash/nor/kinetis: do not attempt
	mass-erase in place of a bank erase Many kinetis parts come in multi-bank configuration, so this
	optimisation here can't be performed safely.  Investigated and fixed by Richard Braun.  Change-Id: I2b56614b47951595c403a1a8edd3afe11b85679b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2594 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-10  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/drivers/stlink_usb.c,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.h, src/jtag/interface.h,
	src/target/armv7m_trace.c, src/target/armv7m_trace.h: armv7m_trace,
	stlink: provide APIs to capture trace with an adapter Change-Id: I9d193dd5af382912e4fe838bd4f612cffd11b295 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2540 Tested-by: jenkins

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/jtag/drivers/stlink_usb.c,
	src/target/Makefile.am, src/target/armv7m.c, src/target/armv7m.h,
	src/target/armv7m_trace.c, src/target/armv7m_trace.h,
	src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/hla_target.c, src/target/target.c, src/target/target.h,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f3x.cfg, tcl/target/stm32f4x.cfg,
	tcl/target/stm32l1.cfg: armv7m: add generic trace support (TPIU,
	ITM, etc.) This provides support for various trace-related subsystems in a
	generic and expandable way.  Change-Id: I3a27fa7b8cfb111753088bb8c3d760dd12d1395f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2538 Tested-by: jenkins

2015-03-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/target/stm32l1.cfg: stm32l1.cfg: Add missing dash to fix
	f7394049d3 commit.  Change-Id: Ifeb2d4fc2b43813edbc6fe2cf08bfd4c55cd1e86 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2590 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2014-07-03  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/target/stm32f3x.cfg: tcl: Add default hooks for STM32F3x Keep clocks running in low power modes. Stop watchdogs from
	interfering with the debug session. Set up PLL and increase clock at
	reset init.  Change-Id: I984d2018f7d47a1042f1e12894563154fa7b566c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2196 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-21  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/flash/nor/stellaris.c: flash/nor/stellaris:
	allow to recover a locked device that can't be examined Change-Id: I28536184053e2d1ba906620e728f7fad6ba39f0a Reported-by: Ed
	Beroset <beroset@mindspring.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2552
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Ed Beroset <beroset@ieee.org>

2015-02-28  Andreas Färber <afaerber@suse.de>

	* src/jtag/drivers/jlink.c: jlink: Add variant "J-Link Lite-XMC4000" Avoids "J-Link hw type unknown 0x10" on the Infineon Relax Lite Kit.  Change-Id: I3091623ead2e84b67ac20d9866307ccbb3f26f66 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2568 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-28  Andreas Färber <afaerber@suse.de>

	* src/jtag/drivers/jlink.c: jlink: Add variant "J-Link Lite-XMC4200" Avoids "J-Link hw type unknown 0x11" on various Infineon boards.  Change-Id: If20b9e21110d2acc02be57f5faf28c5e6a39e2c9 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2565 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* src/server/server.c, src/target/cortex_m.c,
	src/target/cortex_m.h, src/target/hla_target.c,
	src/target/target.c, src/target/target.h, src/target/target_type.h: 
	server, target, cortex_m: add deinit_target to the API to free
	resources This should facilitate dynamic target creation and removal.  Currently it helps with getting 0 bytes lost report from Valgrind on
	exit (after talking to a nucleo board). However, 1,223,886 bytes in
	5,268 blocks are still reachable which means the app holds pointers
	to that data on exit. The majority comes from the jtag command
	queue, there're also many blocks from TCL command registration.  Change-Id: I7523234bb90fffd26f7d29cdd7648ddd221d46ab Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2544 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no>

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target/target: call event handlers around
	examine when polling resumes The target might be using Tcl examine-start and examine-end
	handlers, they need to be called when the target gets reexamined
	after polling succeeds again.  Change-Id: I371380c6f3c427ec7a0206d73426f6589f18a9bd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2536 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/hla/hla_interface.c: hla/hla_interface: call HLA layout
	API close() on quit This bug was exposed by Valgrind.  Change-Id: I2e2bc036b49ca3ff22f78f765ee4537763350096 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2543 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_m.c, src/target/register.c,
	src/target/register.h: target/cortex_m: do not leak memory on
	reexamination This bug was exposed by Valgrind.  Change-Id: If50878664d928c0a44e309ca1452089c1ac71466 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2542 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c, src/target/target.h: target: fix timer
	callbacks processing Warning, behaviour change: before this patch if a timer callback
	returned an error, the other handlers in the list were not called.  This patch fixes two different issues with the way timer callbacks
	are called: 1. The function is not designed to be reentrant but a nested call is
	possible via: target_handle timer event -> poll -> target events
	before/after reexaminantion -> script_command_run ->
	target_call_timer_callbacks_now . This patch makes function a no-op
	when called recursively; 2. The current code can deal with the case when calling a handler
	leads to its removal but not when it leads to removal of the next
	callback in the list. This patch defers actual removal to
	consolidate it with the calling loop.  These bugs were exposed by Valgrind.  Change-Id: Ia628a744634f5d2911eb329747e826cb9772e789 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2541 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Andreas Färber
	<afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-13  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm11.c: arm11: initialise DPM and register cache
	before reading DSCR for the first time When target was already halted during the initial examination,
	arm11_check_init() was trying to read, store and interpret DSCR
	contents before the DPM structure is initialised. This caused a
	segfault like described on
	http://sourceforge.net/apps/trac/openocd/ticket/65 .  This is a totally untested attempt to fix this issue.  Change-Id: I2fff115679a3f0023e7a88c749ccb5f045d6cf01 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2043 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-15  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/stlink_usb.c: stlink: avoid null pointer
	dereference in stlink_usb_close() Otherwise it happens if stlink can not be opened on start.  Change-Id: I7088f10e61508dae230eccfe576a51498c92f5b8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2550 Tested-by: jenkins Reviewed-by:
	Andreas Färber <afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Stian Skjelstad <stian@nixia.no>

2015-01-23  Franck Jullien <franck.jullien@gmail.com>

	* src/target/openrisc/or1k.c: openrisc: add profiling function Change-Id: Ifee89b289069590e6086a4713b165989578e29ec Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2494 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-29  Paul Fertser <fercerpav@gmail.com>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c: 
	armv7m: do not access FPU registers when not present This is runtime and valgrind tested with l0, l1 and f3 hla boards.  Change-Id: I49b0b042253d5f3bf216997f0203583db319fe23 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2516 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-04-01  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm.h, src/target/arm7_9_common.c,
	src/target/arm_dpm.c, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/cortex_m.c, src/target/hla_target.c, src/target/xscale.c: 
	armv7m: add FPU registers support This patch adds the fpv4-sp-d16 registers to the armv7m register
	set.  The work is inspired by Mathias K but takes a different approach:
	instead of having both double and single presicion registers in the
	cache this patch works only with the doubles and counts on GDB to
	split the data in halves whenever needed.  Tested with HLA only (on an STM32F334 disco board).  Currently this patch makes all ARMv7-M targets report an FPU-enabled
	target description to GDB. It shouldn't harm if the user is not
	trying to access non-existing FPU. However, the plan is to make this
	depend on actual FPU presence later.  Change-Id: Ifcc72c80ef745230c42e4dc3995f792753fc4e7a Signed-off-by:
	Mathias K <kesmtp@freenet.de> [fercerpav@gmail.com: rework to fit
	target description framework] Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/514
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2015-01-31  Paul Fertser <fercerpav@gmail.com>

	* jimtcl: jimtcl: update to 0.76 release version It makes sense to use the latest released version to ensure
	compatibility.  Change-Id: I0957f927d825fa6fb6a1594ca17bcca46ee6c1a6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2522 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-13  pierre Kuo <vichy.kuo@gmail.com>

	* src/target/arm_disassembler.c, src/target/arm_disassembler.h: 
	target/arm_disassembler: add exception related disassembly Add ERET/HVC/SMC disassebly decoding flow, below is testing result > mdw 0x5c 4 0x0000005c: e160006e e1400072 e1600073 ee110f10 > arm
	disassemble 0x5c 4 0x0000005c	0xe160006e	ERET 0x00000060	0xe1400072
	HVC 0x0002 0x00000064	0xe1600073	SMC 0x0003 0x00000068	0xee110f10
	MRC p15, 0x00, r0, c1, c0, 0x00 > Change-Id: I1beccff885b5b37747edd0b2e9fb2297ce466a00 Signed-off-by:
	pierre Kuo <vichy.kuo@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2548 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c: target/cortex_a: remove dead assignment Found by clang static checker.  Change-Id: I77b0dc18188328fdb28d07b9e5c52e06182d9e2b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2561 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: remove dead
	assignment Found by clang static checker.  Change-Id: Ifa58ba383092341c7343916e5cc8ec3c72ab2f60 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2560 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/sim3x.c: flash/nor/sim3x: remove dead assignment Found by clang static code checker.  Change-Id: Ic1370f8d7a48f08da6514afec5aacde38af7dfb6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2559 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-06  Paul Fertser <fercerpav@gmail.com>

	* contrib/itmdump.c: contrib/itmdump: fix UB in show_swit, and few
	compile warnings Change-Id: I1c5c99f190f7b4d405dc6fa06533e7ff37a652ec Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2533 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-19  Karl Palsson <karlp@remake.is>

	* contrib/itmdump.c: contrib: itmdump: fix incorrect format printf Change-Id: I29100e4b284e031613586a66daa74987d86ac9e1 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2449
	Tested-by: jenkins Reviewed-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-21  Austin Morton <austinpmorton@gmail.com>

	* doc/openocd.texi, src/server/tcl_server.c, src/target/target.c,
	src/target/target.h: server: tcl_notifications command Implements async target notifications to the tcl server Change-Id: I4d83e9fa209e95426c440030597f99e9f0c3b260 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2336 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-03  Marian Cingel <cingel.marian@gmail.com>

	* src/rtos/Makefile.am, src/rtos/mqx.c, src/rtos/rtos.c,
	src/rtos/rtos_mqx_stackings.c, src/rtos/rtos_mqx_stackings.h: rtos:
	Freescale MQX rtos support ARMv7E-M (CortexM4) architecture - fix position offset of r2,r3 registers on exception stack - switch 'calloc' arguments - remove prototypes of internal function and typedefs - add NULL check for alloc functions - remove last line of license "Franklin Street, Fifth Floor"   because of 'checkpatch' validation - environment: jlink + twrk60n512 Change-Id: I70840ded15b17dd945ca190ce31e2775078da2d9 Signed-off-by:
	Marian Cingel <cingel.marian@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2353 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-07-29  Matthijs van Duin <matthijs@rinnic-vaude.nl>

	* tcl/interface/ftdi/xds100v2.cfg: tcl/interface/ftdi/xdsv2: fix and
	clarify EMU* signals The signal names are changed for consistency with TI's docs and
	sources.  Change-Id: Ic5c5314daa20f6f610be8a848399f951d47aa137 Signed-off-by:
	Matthijs van Duin <matthijs@rinnic-vaude.nl> Reviewed-on:
	http://openocd.zylin.com/2231 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-29  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/target/stm32l1.cfg: stm32l1.cfg: Add ID Code of Cat.2 devices.  Change-Id: I4eb5020858c1896e294d633213f3df3fa45b6250 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2517 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-02-23  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/target/stm32f3x.cfg: stm32f3x.cfg: Remove duplicate item.  Change-Id: I812c36688add73fab2e74fc112c733c5d3c201a6 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2554 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-24  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* doc/openocd.texi, src/flash/nor/lpc2000.c,
	tcl/target/lpc1xxx.cfg, tcl/target/lpc40xx.cfg: lpc2000: Add
	LPC407x/8x flash size auto detection This patch adds auto flash size detection for LPC407x/8x series.  Tested on below listed chips.  LPC4088 LPC1788(regression test) Change-Id: I82f62678a04eac9b84658bd6d1cfdf45be64c931 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2555 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Jens Bauer <jens@gpio.dk>

2015-02-25  Olivier Esver <olg.esver@gmail.com>

	* src/flash/nor/avrf.c: atmega: add support for the at90usb128 flash Add support for the at90usb128 flash (tested on the RZUSBstick) Change-Id: Ic042d7c403b20a5cc533da00c30ae6e2139bbd10 Signed-off-by:
	Olivier Esver <olg.esver@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2557 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-05  Mateusz Manowiecki <segmentation@fault.pl>

	* src/openocd.c, src/server/server.c, src/server/server.h: Added
	system signal handling to Linux version (with http://www.cons.org/cracauer/sigint.html in mind) Change-Id: I15f559bc1122a408c3fb9338ba55c16fab3187e1 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2443 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-23  Mateusz Manowiecki <segmentation@fault.pl>

	* src/jtag/drivers/buspirate.c: jtag/drivers/buspirate: add
	JTAG_STABLECLOCKS cmd Solution found on the internet Change-Id: Ied6f7d9b28131a7ac83b203e4c64d4e9ffec0595 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2496 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-09-25  Arne Wichmann <arnew@rasentrimmer.org>

	* tcl/board/olimex_sam7_la2.cfg, tcl/target/at91sam7a2.cfg: target &
	board: AT91SAM7A2 and Olimex SAM7-LA2 Initial Support for AT91SAM7A2 on Olimex SAM7-LA2 board.  The board
	seems not to be able to reset into halted mode, as srst is connected
	to NRESET of the cpu (configured srst_pulls_trst).  JTAG RCLK is
	connected to CLK.  Tested with
	interface/ftdi/olimex-arm-usb-ocd-h.cfg.  Change-Id: I2bdd67e3683e45f1119c5850bad294aa107891d8 Signed-off-by:
	Arne Wichmann <arne.wichmann@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2318 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-25  Tomas Vanek <vanekt@fbl.cz>

	* src/flash/nor/psoc4.c: psoc4 flash driver: cleaned printf PRI...
	formats Failed build on Mac OS X 10.10.2 was reported in OpenOCD-devel.
	Cleaning types and printf formats. uint32_t prefered for
	flash/sector sizes.  2 minor changes in comments.  Removed redundant
	bracket.  Change-Id: Ia06b77af59c2c0ffd10869a4b263a760ca8b0a7a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2558 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2015-01-28  Theodore A. Roth <troth@openavr.org>

	* src/flash/nor/nrf51.c: nrf51: Update known devices table.  Added new entries to the nrf51_known_devices_table array. New
	entries are documented in the "nRF51 Series Compatability Matrix
	V1.0" found on the Nordic Semi web site. Reordered entries to match
	the order found in the document.  Also added an entry for an undocumented hwid discovered while
	flashing the PCA10031 and PCA10028 dev boards.  Change-Id: Icca7da103d437dc28e651f27ab937fe953b9aac9 Signed-off-by:
	Theodore A. Roth <troth@openavr.org> Reviewed-on:
	http://openocd.zylin.com/2514 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-04  dmitry pervushin <dpervushin@gmail.com>

	* src/flash/nor/spi.c: flash/nor/spi: add GigaDevice SPI flash Signed-off-by: dmitry pervushin <dpervushin@gmail.com> Change-Id:
	I5a239dc67754ef4be1d9ec36186f434b09aa1e25 Reviewed-on:
	http://openocd.zylin.com/2530 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-16  Paul Fertser <fercerpav@gmail.com>

	* contrib/99-openocd.rules, tcl/board/ti-cc3200-launchxl.cfg,
	tcl/interface/ftdi/ti-icdi.cfg, tcl/target/cc32xx.cfg: cfg: add
	board and target configs for TI SimpleLink Wi-Fi CC3200 LaunchPad Change-Id: I4396ee737c1dad380aa23894bbd1faf75f26d072 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2465 Tested-by: jenkins

2014-12-11  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/board/st_nucleo_f3.cfg, tcl/board/st_nucleo_f334r8.cfg,
	tcl/board/stm32f334discovery.cfg: Provide genuine F3 nucleo config
	and source it  for STM32F334 Discovery board.  The F334 disco board has a stlink V.2-1 as F3 nucleo boards. Normal
	F3 disco boards use stlink v2 and can't ne used.  Change-Id: I77ebef93b184592f25ff18bb2da776d636f60ff0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2434 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-19  Oleksij Rempel <linux@rempel-privat.de>

	* tcl/board/alphascale_asm9260_ek.cfg,
	tcl/target/alphascale_asm9260t.cfg: tcl/target|board: add configs
	for Alphascale asm9260t This adds configs for Alphascale asm9260t ARM based SoC and
	Evaluation Kit based on this chip.  Change-Id: Id8d3a1ef204e3ae84540c2693e3d62650ba82f73 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2515 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-01-09  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi, src/target/target.c: Remove long-deprecated
	"target count" and "target number" commands.  Given that the manual states that these two subcommands are
	deprecated and were scheduled to be removed back in 2010, remove
	them and the corresponding documentation from the manual.  Change-Id: Iaac633349d7fcb8b7f964109c7d26dd0cc5fc233 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1860 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-12  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/board/kwikstik.cfg, tcl/target/kx.cfg: cfg: Fix Kinetis
	kwikstik/kx config The flash definition belongs in the target cfg. Add some working
	area and suitable reset_config.  Make kx.cfg more similar to klx.cfg.  Disable rclk as it is dead slow and a fixed 1MHz clock seems to
	work.  Change-Id: I8328f179c3a33be64403da93616abb48651bdfe6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2227 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-12-11  Jean-Christian de Rivaz <jc@eclis.ch>

	* src/jtag/drivers/sysfsgpio.c: Add SWD protocol support to
	sysfsgpio Based on the initial work on bcm2835gpio.c by Paul Fertser with many
	additions. Modifications to the GPIO handling was minimal in this
	patch. A more big modification is required before cleanup the
	interface between bitbang and sysfsgpio.  Change-Id: I54bf2a2aa2ca059368b0e0e105dff6084b73d624 Signed-off-by:
	Jean-Christian de Rivaz <jc@eclis.ch> Reviewed-on:
	http://openocd.zylin.com/2438 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-12-11  Jean-Christian de Rivaz <jc@eclis.ch>

	* src/jtag/drivers/bitbang.c, src/jtag/drivers/bitbang.h: Add SWD
	protocol support to bitbang This is based on the initial work by Paul Fertser with addition of
	the switch sequences and new ACK handling.  In case of WAIT
	response, the sticky bits are cleared and the last operation is
	repeated. The ACK handling is based on the interpretation of the 8
	February 2006 ARM Debug Interface v5 Architecture Specification Change-Id: Id50855b1ffff310177ccf9883dc9eb0d1b4458c8 Signed-off-by:
	Jean-Christian de Rivaz <jc@eclis.ch> Reviewed-on:
	http://openocd.zylin.com/2437 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-02-11  Matej Kupljen <matej.kupljen@gmail.com>

	* src/server/gdb_server.c: gdb_server: ignore stray + in ACK mode I couldn't make OpenOCD to work with GDB. I was always getting this
	in GDB: (gdb) target remote localhost:3333 Remote debugging using
	localhost:3333 Ignoring packet error, continuing...  Ignoring packet
	error, continuing...  Ignoring packet error, continuing...  Ignoring
	packet error, continuing...  Malformed response to offset query,
	timeout (gdb) While debugging gdb remote protocol, I have seen that gdb
	responds with: w ++$?#3f And those two '+' seems to confuse the
	OpenOCD parser, if it sees another '+' sign it emits the DEBUG
	output and sets the noack_mode to 2. The problem is that we weren't
	even IN noack mode, this was set to 0 and then it explicitly sets it
	to 2 and thus turning the noack mode on.  Change-Id: If267c9226e57fa83121ded09cf69829f8f0b4b93 Signed-off-by:
	Matej Kupljen <matej.kupljen@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2545 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-02-13  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/target/arm_adi_v5.c:  cortex_m: Add Cortex-M0 identification to ROM-table display.  Change-Id: Id7715a83ba9793844475629aaffd10a81ce586b6 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2549 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2014-11-07  Christopher Head <chead@zaber.com>

	* src/target/cortex_a.c: Cortex A: fix extra memory read and
	non-word sizes Without this patch, to perform a memory read, OpenOCD first issues
	an LDC instruction into DBGITR in Stall mode (thus executing the
	instruction), then switches to Fast mode and reads from DBGDTRTX
	once for each word to transfer.  At the very end of the transfer, the final Fast mode read of
	DBGDTRTX has, as always, the side effect of re-issuing the LDC
	instruction. This causes two problems: (1) If the word immediately beyond the end of the requested region
	is inaccessible, this spurious LDC will cause a fault. On a fast
	CPU, the LDC will finish executing by the time the poll of DSCR
	takes place, failing the entire memory read. On a slow CPU, the LDC
	might finish executing later, leaving an unexpected and confusing
	sticky fault lying around for the next operation to see.  (2) If the LDC succeeds, it will leave the loaded word in DBGDTRTX,
	thus setting DBGDSCR.TXFULL=1. The cortex_a_read_apb_ab_memory
	routine completes without consuming that last word, thus confusing
	the next routine that tries to use DBGDTRTX (this may not have any
	visible effect on some implementations, because writing to
	DBGDTRTXint when TXFULL=1 is defined as Unpredictable, but I believe
	it caused a visible problem for me).  With this patch, the bulk mem_ap_sel_read_buf_noincr is modified to
	omit the last word of the block. The second-to-last read of DBGDTRTX
	by that function will cause the issue of the LDC for the last word.
	After switching back to Normal mode and waiting for that instruction
	to finish, do a final read of DBGDTRTX to extract the last word into
	the buffer, leaving TXFULL=0.  Without this patch, memory accesses are always expanded such that
	they are aligned to the access size. With this patch, accesses are
	issued exactly as ordered by the caller. The caller is expected to
	handle fragments at the beginning and end of the transfer if the
	address is unaligned and an unaligned access is not desired.  Without this patch, the DFAR and DFSR registers, which report the
	location and status of data faults, are ignored while performing
	memory accesses, which could cause problems debugging an OS page
	fault handler.  With this patch, DFAR and DFSR are preserved across
	memory accesses, and DFSR is decoded in the event of a synchronous
	fault to provide the caller with more information about the reason
	for failure.  Thanks to Boris Brezillon for the original patch whose ideas led to
	the non-word access mechanism implemented here and to various code
	reviewers for their comments.  Change-Id: I11ae7104fbe69a522efadefc705c9a217a7eef41 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/2381 Tested-by: jenkins Reviewed-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi: doc: stellaris driver supports Tiva C too Change-Id: I3b77bf0617c0bbba85cfd678adece57aa7d03e32 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2509 Tested-by: jenkins

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32lx.c: flash/nor/stm32lx: add all the IDs and
	revisions from current RM RM0038 Rev.12 lists these new parts and introduces the category
	naming scheme.  RM0367 Rev.2 (STM32L0x3 RM) doesn't add any new codes.  Change-Id: Id95dd48dda64d5f108dac57d265d29a7db3a1bd1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2495 Tested-by: jenkins

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* README, doc/openocd.texi: README, doc: add mrvlqspi flash driver
	information Change-Id: I7a270cdaf3d9119aa75285a8d1e063c2fe2a31b7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2510 Tested-by: jenkins

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* README, doc/openocd.texi: doc, README: mention all the variants
	supported by lpc2000 driver Change-Id: I66f9a201426a68fc1314ab7f02b27e36dcab33ba Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2508 Tested-by: jenkins

2014-08-22  Andrej Kazmin <funnyfish@funnyfish.botik.ru>

	* src/flash/nor/at91samd.c: flash/nor/at91samd: add small delay
	before checking nvm status OpenOCD's SWD subsystem doesn't currently have a consistent WAIT
	handling (i.e. it doesn't ever retry, just returns an error), so
	right after a row write a small delay is needed as AHB access is
	stalled during the flashing operation.  The issue was exposed with a samd20 using ftdi SWD transport.  Change-Id: I07d99d3a96845cc689c3904a41f4d41344f200aa Signed-off-by:
	Andrej Kazmin <funnyfish@funnyfish.botik.ru> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2268 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/flash/startup.tcl: flash/startup: extend
	"program" command to accept "exit" This optional argument tells OpenOCD to exit after finishing (either
	succesfully, or with an error) the programming sequence. Without it
	OpenOCD stays running.  Change-Id: I6ecaf33ff985eea9a9cd02ff644a74403ae3e1e5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2492 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* src/server/server.c: server: shutdown command should lead to exit
	without evaluating the rest Currently openocd -c "echo a1; shutdown; echo a2" outputs both "a1" and "a2" and only then shuts down. This patch
	fixes it by making shutdown command throw an exception, so unless
	it's caught the shutdown will behave as expected.  Change-Id: I764268b3a9046ff3e9717d04095ea0673f1d755a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2511 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target/profiling: Use the correct method to
	access registers Change-Id: I6b8590dc9d07886b885013b1b767fe2f0739cd6a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2479 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/xscale.c: xscale: Use the correct method to access
	registers Change-Id: I900a0787812cb24d1f74ca50eb6bb4f85375a353 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2478 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/hla_target.c: hla_target: Use the correct method to
	access registers Change-Id: I853fc5117bdf07ecbc4584ff59d324367b2cb3e3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2477 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: Use the correct method to access
	registers Convert the DWT register store to use a byte array and fix the byte
	order bug uncovered by that. Also fix an incorrect access of the PC
	value.  Change-Id: Idb5acab71bdf5a96895c358324b05c335e4d32ca Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2476 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/nds32.c, src/target/nds32.h: nds32: Use the correct
	method to access registers The registers are represented as bit arrays intended to be accessed
	using the buf_set_* and buf_get_* functions. Storing the register
	values in integers enables accessing them directly, which gives
	different results depending on host byte order.  Convert the register store to use a byte array instead and fix all
	the byte order bugs uncovered by that.  Also merge the 32 and 64 bit register fields. Only one of them is
	used at a time and after the change to byte arrays their types are
	also the same.  Change-Id: I456869a1737f4b4f5e8ecbfc1c63c49a75d21619 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2475 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-26  Antony Pavlov <antonynpavlov@gmail.com>

	* src/target/mips32.c, src/target/mips32.h: mips32: add gdb target
	description support This commit is inspired by     commit 1255b18fc650193094666ba8afd2018089cc9794     Author: Spencer Oliver <spen@spen-soft.co.uk>     Date:   Fri Sep 13 09:44:36 2013 +0100         armv7m: add gdb target description support Change-Id: I75c3971fd0599d34ed49fb73975378b57f2a4af0 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Signed-off-by: Salvador
	Arroyo <sarroyofdez@yahoo.es> CC: Spencer Oliver
	<spen@spen-soft.co.uk> CC: Oleksij Rempel <linux@rempel-privat.de>
	CC: Paul Fertser <fercerpav@gmail.com> CC: Gregory Fong
	<gregory.0xf0@gmail.com> Reviewed-on: http://openocd.zylin.com/1972
	Reviewed-by: Paul Fertser <fercerpav@gmail.com> Tested-by: jenkins

2014-07-15  Antony Pavlov <antonynpavlov@gmail.com>

	* src/target/mips32.c, src/target/mips32.h: mips32: use 'unsigned
	int' for CPU register indices Change-Id: I77e94b2fe0943a87e1d18d88ebf2a0133aaad728 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2216 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-02-09  Anton Kuzmin <anton.kuzmin@cs.fau.de>

	* tcl/interface/ftdi/dp_busblaster_kt-link.cfg: tcl/interface/ftdi:
	correct LED config for BusBlaster KT-Link Configure the LED to be off by default, blink on activity.  Change-Id: I8515ee66c49bddf866268b85811be15c2dbc086c Signed-off-by:
	Anton Kuzmin <anton.kuzmin@cs.fau.de> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2539
	Tested-by: jenkins

2015-01-08  Andreas Bomholtz <andreas@seluxit.com>

	* README, contrib/loaders/flash/sim3x.s, doc/openocd.texi,
	src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/sim3x.c, tcl/target/sim3x.cfg: sim3x: new flash driver
	for Silabs SiM3 microcontroller family This is a new driver for Silicon Laboratories SiM3 microcontroller
	family, based on the work of Ladislav Bábel. The driver will try to
	detect the type of MCU from the device id register, and if this
	fails it will use the flash size from the flash bank command.
	Driver added to the documentation and to the README.  TCL script
	added.  Tests: * Hardware: SiM3C166 (pre-production) and SiM3U167 * Binary: 4kb, 197kb, 256kb * Flash protect not tested Change-Id: I701e0cf505ca8ad99be7f83543fe5055b2f65dcc Signed-off-by:
	Andreas Bomholtz <andreas@seluxit.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2078
	Tested-by: jenkins

2014-06-27  Angus Gratton <gus@projectgus.com>

	* contrib/loaders/flash/cortex-m0.S, src/flash/nor/nrf51.c,
	tcl/target/nrf51.cfg: nrf51 - Add async loader. Performance on
	nrf51822QAA/stlink-v2 from ~3.5KiB/s to ~19.5KiB/s.  Change-Id: Ib0bf41a0cec85f0bd5728551f8ad7f6255e4ea04 Signed-off-by:
	Angus Gratton <gus@projectgus.com> [spamjunkeater@gmail.com: Cleanup
	buffer allocation, detect -1 for unknown pages] Signed-off-by: Erdem
	U. Altunyurt <spamjunkeater@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2204
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-11-20  Daniel Glöckner <daniel-gl@gmx.net>

	* src/target/armv7a.c: armv7a: fix interpretation of MMU table On armv7 there no longer are 1kB pages. Instead the bit that in
	older architectures distinguished 1kB pages from 4kB pages is on
	armv7 used for as execute-never marker. There may now also be 16MB
	supersections with 40 bit physical address.  Change-Id: I959bdb8012782a9d07d968907a21f50e3d9b356a Signed-off-by:
	Daniel Glöckner <daniel-gl@gmx.net> Reviewed-on:
	http://openocd.zylin.com/2386 Tested-by: jenkins Reviewed-by:
	Vladimir Svoboda <ze.vlad@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-01-31  Joerg Fischer <turboj@gmx.de>

	* doc/openocd.texi, src/jtag/drivers/jlink.c,
	tcl/interface/jlink.cfg: J-Link serial number config option Add serial option to jlink config commands, handy when there is more
	than one adapter connected.  To select adapter 0123456 for OpenOCD, use jlink serial 0123456 Change-Id: Ib29ce3f0c4975e1169211721a4531bf4db61f1ee Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2521 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-20  Olivier Schonken <olivier.schonken@gmail.com>

	* src/target/arm_adi_v5.c, src/target/cortex_a.c,
	src/target/cortex_a.h: cortex_a: Add Cortex-A5 identification Add Cortex-A5 identification to ROM-table display, and also to
	cortex_a_init_debug_access. This change is mostly cosmetic.  Change-Id: I7b1dd8755d70d45eb5f315aa1918d44a813b3cdf Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2483 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* README: README: mention "transport select" in quickstart section Change-Id: I027635c3c8632efcf58cf979b9cb2f99e9e7f046 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2512 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-01  Paul Fertser <fercerpav@gmail.com>

	* src/target/image.c: target/image: fix undefined behaviour when
	loading with GDB The image struct is malloc'd and hence base_address_set doesn't have
	a defined value.  Caught by Valgrind.  Change-Id: Ice15b2299fc768e44e8034eeb93e035076eacd03 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2524 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-04  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi: doc: document the OCL (on chip flash loader)
	driver Change-Id: I8afe870c7a16b04473f4822c2df9a7607f0480e7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2529 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-30  Oleksij Rempel <linux@rempel-privat.de>

	* tcl/tools/firmware-recovery.tcl: tcl: add TP-LINK TL-MR3020 to the
	firmware recovery script This adds the board to the list of supported devices for the easy
	recovery procedure. Only ram_boot is supported for this target.  Change-Id: I144e1836f8b6257e96a42c98c2668da74ce243f6 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2520 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Färber <afaerber@suse.de>

2015-01-30  Oleksij Rempel <linux@rempel-privat.de>

	* tcl/board/tp-link_tl-mr3020.cfg, tcl/target/atheros_ar9331.cfg: 
	tcl/target|board: add config Atheros ar9331 Add configs for Atheros ar9331 MIPS based WiSoC and board based on
	this chip: TP-LINK TL-MR3020 Change-Id: I9e99719bce4bbb28311f6e9cddb32288db6e7b91 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2519 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-12  Jose de Sousa <jose.t.de.sousa@gmail.com>

	* src/target/target.c: target: write gmon.out according to target
	endianness After profiling gmon.out was being written in little endian format
	only which would cause gprof to issue and error and exit on big
	endian targets.  Change-Id: I526a40adae0f9a439fc5b77cef30fda228198b48 Signed-off-by:
	Jose de Sousa <jose.t.de.sousa@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2168 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-06  Pawel Si <stawel+openocd@gmail.com>

	* src/flash/nor/mini51.c, tcl/target/m051.cfg: mini51: support for
	Nuvoton NuMicro M051 series flash memory adds flash support for Nuvoton M052, M054, M058, M0516
	microcontrollers into the mini51 driver, patch also adds support for
	programing LDROM, flash data and flash config.  I've tested it on a M0516LBN microcontroller using an ST-LINK/V2: 1. removing security lock:    openocd -f interface/stlink-v2.cfg  -f target/m051.cfg -c "init ;
	   halt ; mini51 chip_erase; exit" 2. flashing:    openocd -f interface/stlink-v2.cfg  -f target/m051.cfg -c
	   "program file.hex" Change-Id: I918bfbb42461279c216fb9c22272d77501a2f202 Signed-off-by:
	Pawel Si <stawel+openocd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2426 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-07-29  Jacob Palsson <jaaacke@gmail.com>

	* tcl/target/cc2538.cfg, tcl/target/cc26xx.cfg,
	tcl/target/ti-cjtag.cfg: tcl/target: add CC2538 and CC26xx target
	files (with cJTAG procedure) Added support for the Cortex-M3 based TI low power RF SoC CC2538 and
	the CC26xx family.  These chips need a start sequence for switching from cJTAG to JTAG
	before being used with OpenOCD, this is done in the tcl proc
	ti_cjtag_to_4pin_jtag in the ti-cjtag.cfg config.  The configs for CC2538 and CC26xx run the start sequence on
	post-reset event and set the ICEPick IDCODE in the data register for
	OpenOCD to read, this is done so that every time OpenOCD resets the
	device, it will enable JTAG.  Change-Id: I7db620211c0e7e03fad59d24fe31d23a9cdcfedc Signed-off-by:
	Jacob Palsson <jaaacke@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2232 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-17  Ed Beroset <beroset@ieee.org>

	* tcl/target/em357.cfg, tcl/target/em358.cfg: em357: added target
	files for em357 and em358 This patch adds support for Silicon Labs (formerly Ember) EM357 and
	EM358 chips and derivatives.  Change-Id: Ie63aed95a2f4ef1a6b955e301a51b4de1b3a5462 Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2470 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-09-13  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/jtag/drivers/jlink.c: jlink: Added hardware version number for
	JLink firmware on LPC-Link2 JLink firmware on LPC-Link2 has unique hardware version
	number(0x12).  Change-Id: I76b6e27c47d236da75c61dd6b83d6a823615968d Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2298 Tested-by: jenkins Reviewed-by: Anders
	Oleson <anders@openpuma.org> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-01-12  Heinz Schweiger <openocd@htl-steyr.ac.at>

	* tcl/board/dk-tm4c129.cfg: cfg: TI Tiva C dk-tm4c129x Evaluation
	Kits New Texas Instruments Tiva C Series Boards
	http://www.ti.com/tool/dk-tm4c129x Change-Id: I44f96982e91786b977b3d29e0f4c7053d584a703 Signed-off-by:
	Heinz Schweiger <openocd@htl-steyr.ac.at> Reviewed-on:
	http://openocd.zylin.com/1867 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-15  Michael Brown <fractalmbrown@gmail.com>

	* src/flash/nor/lpc2000.c: lpc2000: add chip IDs for
	LPC11U6x/LPC11E6x Change-Id: I53568674951ec8a5db5e191c7b50c60b5a84d0b6 Signed-off-by:
	Michael Brown <fractalmbrown@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2463 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-09-08  Tomas Vanek <vanekt@fbl.cz>

	* README, doc/openocd.texi, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/psoc4.c,
	tcl/target/psoc4.cfg: psoc4: support for Cypress PSoC 41xx/42xx
	family New NOR flash driver was derived from stm32lx.  Procedure
	ocd_process_reset_inner is overriden in psoc4.cfg to handle reset
	halt and system ROM peculiarities.  Change-Id: Ib835324412d106ad749e1351a8e18e6be34ca500 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2282 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-17  Jussi Kivilinna <jussi.kivilinna@haltian.com>

	* src/flash/nor/stm32lx.c: stm32lx: do not attempt mass-erase
	in-place of first bank erase Commit 832f0a5bfb439 'stm32: add mass erase support for STM32L'
	added use of mass-erase in-place of bank-erase. This is triggered if
	first bank is requested to be fully erased.  This erroneous action completely fails on STM32L162VEY (has 512 KiB
	flash in two 256 KiB banks) and also unintently destroying contents
	of EEPROM and second flash bank.  Change-Id: I0f13f7b0346747a09c755d72b5b95775ceff5a6f Signed-off-by:
	Jussi Kivilinna <jussi.kivilinna@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2441 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-01-24  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/flash/nor/stm32lx.c,
	tcl/target/stm32l1x_dual_bank.cfg: flash/nor/stm32lx: use 0 base to
	autodetect second bank location Change-Id: I3c296b3e276fcd4d92e4180fc0d2133eebfcc240 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2503 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-24  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi: doc: add stm32lx mass_erase description Change-Id: Ibe26f40a105dfabcf336ae12fcdc72f4e87513b6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2502 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32lx.c: flash/nor/stm32l: unify waiting for busy
	flag functions Change-Id: I5e6daff8232bb4807dd13a1951fbf335529661d4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2491 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32lx.c: flash/nor/stm32l: fix mass erase Topaz reports on http://sourceforge.net/p/openocd/tickets/87/ that
	protection level constants are mixed up. This leads to device ending
	up in protection level 1 after mass erase.  Additional work is required to actually put the device in RDP Level
	1 and then back to Level 0, as Option bootloader launch is a special
	kind of full target reset.  To be able to flash properly after mass_erase a "reset init" is
	needed (it's anyway recommended to always perform it before any
	flash operation).  Change-Id: I9a838909458039bb0114d3019723bf134fa4d7c9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2490 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-20  Paul Fertser <fercerpav@gmail.com>

	* configure.ac, src/helper/replacements.h: configure: define
	WIN32_LEAN_AND_MEAN early to make it effective This macro makes windows builds faster and helps with the old
	"#define interface struct" issue as the word "interface" is part of
	libusb-0.1 API. However, defining it in replacements.h is too late,
	as windows.h gets included by that time from somewhere else.  This solution is provided by Ray Donnelly from the MSYS2 team.  Change-Id: I376a5fb3d106786515d7e1ba44dbd751e4dcdb1b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2486 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-20  Paul Fertser <fercerpav@gmail.com>

	* src/Makefile.am: Makefile.am: link libusb-1.0 after libusb-0.1 to
	fix dependencies Since libusb-0.1 might be provided by libusb-compat, it will depend
	on libusb-1.0, so needs to be mentioned before it in the link
	command line, this is relevant for static linking.  Thanks go to mingwandroid for spotting it during MSYS2 build.  Change-Id: I15cf0b8f084c351b4f93e75686bd0f843477352b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2485 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32f2x.c: flash/nor/stm32f2x: add new revisions of
	STM32F4x parts Change-Id: I7585ccbe12fe079e960ce9e33d9a143672a6a08c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2493 Tested-by: jenkins Reviewed-by: Rémi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-20  Rémi PRUD’HOMME <prudhomme.remi@gmail.com>

	* src/flash/nor/stm32f2x.c: Subject: [PATCH] update
	src/flash/nor/stm32f2x.c Add the new STM32F446 mcu with 512 Ko Tested with a eval board Change-Id: I0c16ce7d32d249c7634d697815207c20e7f778c4 Signed-off-by:
	prudhomme.remi@gmail.com Reviewed-on: http://openocd.zylin.com/2484
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-12-11  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/flash/nor/stm32f1x.c, tcl/target/stm32f3x.cfg: Add more
	STM32F3 IDs in target/stm32f3.cfg.  Change-Id: I4c4462aa025639c4d20e6fa23c8845a69e60afc5 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2435 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-30  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/stlink_usb.c: drivers/stlink: clarify "init mode
	failed" message The message as it was didn't let the user know that something was
	wrong with the target or wiring.  Change-Id: Ib609c2d31959e77413e61c348d0e31d7269d5c58 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2365 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Jens
	Bauer <jens@gpio.dk>

2015-01-15  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/lpc1xxx.cfg, tcl/target/lpc8xx.cfg: tcl/target: add
	lpc8xx.cfg This adds a trivial config for LPC8xx chips based on the already
	existing infrastructure in lpc1xxx.cfg.  Change-Id: I7384df1f3c2e3e8ab767319728db5c4f8149480f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2464 Tested-by: jenkins Reviewed-by:
	Andreas Färber <afaerber@suse.de> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2015-01-19  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ulink.c,
	src/jtag/drivers/usb_blaster/ublast2_access_libusb.c: jtag/drivers:
	remove useless checks causing build failure with clang 3.5.0 Change-Id: Icafab6ac1e3e79c6da1bc163c30744eee4bde8d3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2482 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andreas Färber <afaerber@suse.de>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm.h, src/target/armv4_5.c: armv4_5: Continue the
	change from uint32_t to uint8_t[4] for regs Also remove an unrelated no-op cast.  Change-Id: Ibeb6c72e5b0b0347abb568947a05a179661faf2d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2473 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/helper/binarybuffer.h, src/jtag/drivers/ftdi.c,
	src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/smp.c: Use (uint8_t *) for buf_(set|get)_u(32|64) instead
	of (void *) This helps to uncover incorrect usage when a pointer to uint32_t is
	passed to those functions which leads to subtle bugs on BE systems.  The reason is that it's normally assumed that any uint32_t variable
	holds its value in host byte order, but using but_set_u32 on it
	silently does implicit pointer conversion to (void *) and the
	assumption ends up broken without any indication.  Change-Id: I48ffd190583d8aa32ec1fef8f1cdc0b4184e4546 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2467 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-16  Jens Bauer <jens@gpio.dk>

	* src/flash/nor/stm32f2x.c: stm32f2x: Fix byte order bug.  Do not use buf_set_u32 on integers; they're not buffers.  If using
	buf_set_u32 on integers, bytes will be exchanged on Big Endian
	targets.  In this particular case, FLASH_OPTCR was incorrectly
	written, causing it to often contain one of these values:
	0x00aaaae1, 0x00aaffef, 0x00ffabe1 or 0x00abffe1.  This
	write-protected the device before flash-programming, causing this
	command...  flash write_image erase unlock myfile.elf ... to fail,
	complaining about write-protection.  Repeating the above command
	would change the OPTCR register each time.  After applying this
	patch, the OPTCR remains "unchanged".  Change-Id: I73d510fcc2e81a01973ad5c6e1aa22715ebd2743 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/2466
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-12-05  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/kinetis.c: flash/nor/kinetis: pull SRST low during
	mass erase Mass erase operation might be impacted by different factors,
	apparently the most reliable way is to do it while asserting the
	chip reset line.  Change-Id: Id6ab57eaec86e402ffdf4f5c8843e7735640f03e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2424 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/core.c: jtag: Rewrite TAP verification/auto-probe logic Enable auto-creating additional discovered TAPs even if some TAPs
	are predefined, avoiding initialization failure when it's not
	necessary.  Also, drop the arbitrary limit on the number of predefined TAPs.
	Still, don't auto-create any if there are more than 20 TAPs already,
	to stop a noisy connection from creating unlimited TAPs.  Create auto-probed TAPs with less noise.  Reduce code duplication between verification and auto-probing.  Change-Id: I82a504d92dbcc0060206e71f10c5158256b5f561 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2236 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-09  Uwe Kleine-König <u.kleine-koenig@pengutronix.de>

	* src/target/armv7a.c: ARMv7-A: remove useless switch construct The default label does just return the same error code as the case
	for zero, so this can be handled by a simple if statement.  Change-Id: I61a8cb51b5e261f21eca386af7d8cbf17ffa2d44 Signed-off-by:
	Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/2430 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-21  Jaakko Kukkohovi <jkukkohovi@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c: jtag/drivers/cmsis-dap-usb: fix
	cmsis_dap_serial Previously the serial wasn't actually used in hid_open() call, which
	meant that the first device with matching vid:pid was opened
	irrespective of the actual serial number.  Change-Id: I45216ae5d9e0798e97be693c30e2f03c89b9a02b Signed-off-by:
	Jaakko Kukkohovi <jkukkohovi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2487 Tested-by: jenkins Reviewed-by: Jörg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/frdm-kl25z.cfg, tcl/board/frdm-kl46z.cfg: tcl/board:
	frdm kinetis boards have SRST connected Change-Id: I1a56b5e9d1ac6466bba11cc694ee3eaa2c9b504f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2462 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/stellaris.cfg: tcl/target/stellaris: Snowflake supports
	SYSRESETREQ too Change-Id: If4bf472ab8867c54a976bdb5803f7e4f79f350a8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2461 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Ed Beroset
	<beroset@ieee.org>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/k40.cfg, tcl/target/k60.cfg, tcl/target/kl25.cfg,
	tcl/target/kl46.cfg, tcl/target/klx.cfg, tcl/target/kx.cfg: 
	tcl/target: consolidate Kinetis configs Change-Id: I75fe6b239ff435f700459e7d7040616503fa458e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2460 Reviewed-by: Andreas Färber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/stlink_usb.c: jtag/drivers/stlink: demote the
	output of available speeds to DEBUG Change-Id: If0afb6fb1cb2f39619e4e614573065c145255c3e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2469 Reviewed-by: Jens Bauer <jens@gpio.dk>
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/hla/hla_interface.c: jtag/hla_interface: avoid segfault
	with adapters that do not have configurable speed Change-Id: I0386cbfc85ba8b28d3819530f9950b31545d6821 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2468 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/flash/nor/stm32f1x.c: stm32f07/9: Both devices have 256 kByte
	Flash Maximum.  See RM0091, Rev.7. page 56.  Change-Id: I9a98094d49739686f93e26a5112eb0a2a8a7c883 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2458 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/flash/nor/stm32f1x.c: stm32f0x: Remove duplicate code for
	revision string.  As of RM0091, Rev. 7, all F0 have the same revisioning scheme.  Change-Id: I0b344a1d3ca3f61f48fa151e83c549ca5333ae47 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2457 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/flash/nor/stm32f1x.c: stm32f09x: Print info in
	get_stm32x_info.  Change-Id: I5f9b765fe04906e124e2c95ff6bf7193be9d4ce2 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2456 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-22  Thomas Eichinger <eicht@lepus.uberspace.de>

	* tcl/board/st_nucleo_l1.cfg: tcl/board: Add ST NUCLEO L152RE
	configuration Added support for the ST nucleo l152re board with a stm32l152ret6
	MCU, analog to st_nucleo_f* configurations.  Change-Id: Id2c61dc7a7cb2e1cc64442191b367bab4247bdeb Signed-off-by:
	Thomas Eichinger <eicht@lepus.uberspace.de> Reviewed-on:
	http://openocd.zylin.com/2489 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/st_nucleo_f0.cfg, tcl/board/st_nucleo_f103rb.cfg,
	tcl/board/st_nucleo_f334r8.cfg, tcl/board/st_nucleo_f4.cfg,
	tcl/board/stm320518_eval_stlink.cfg,
	tcl/board/stm3220g_eval_stlink.cfg,
	tcl/board/stm3241g_eval_stlink.cfg,
	tcl/board/stm32429i_eval_stlink.cfg,
	tcl/board/stm32439i_eval_stlink.cfg,
	tcl/board/stm32f0discovery.cfg, tcl/board/stm32f3discovery.cfg,
	tcl/board/stm32f429discovery.cfg, tcl/board/stm32f4discovery.cfg,
	tcl/board/stm32l0discovery.cfg, tcl/board/stm32ldiscovery.cfg,
	tcl/board/stm32vldiscovery.cfg, tcl/target/k40.cfg,
	tcl/target/k60.cfg, tcl/target/kl25.cfg, tcl/target/stm32f0x.cfg,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f3x.cfg, tcl/target/stm32f4x.cfg,
	tcl/target/stm32l0.cfg, tcl/target/stm32l1.cfg,
	tcl/target/stm32w108xx.cfg: cfg: add srst_nogate to the supported
	targets, remove from board configs It depends on the particular target whether it can work with SRST
	asserted or not, so this belongs to the target config rather than
	the board config.  Also, this allows for simple openocd -f myboard.cfg -c "reset_config connect_assert_srst" command to be used whenever a user feels a need to connect to an
	unresponsive target.  Change-Id: I3d8da9ae47088fc0c75a20bfdd20074be1014de0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2459 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/board/st_nucleo_f4.cfg, tcl/board/st_nucleo_f401re.cfg,
	tcl/board/st_nucleo_f411re.cfg: stm32f4/nucleo: Use only one
	configuration for all stm32f4 nucleo boards.  Change-Id: Ic3d0b47b19dae9cb09c11d24f16fea85a1b90c0b Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2397 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/board/st_nucleo_f0.cfg, tcl/board/st_nucleo_f030r8.cfg: 
	stm32f0/nucleo: Use only one configuration for all stm32f0 nucleo
	boards.  Change-Id: Ib2ddcd7a92c0d7ad503ef8e953f2bc304241a9f0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2396 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* src/flash/nor/stm32f1x.c: flash/nor/stm32f1: Add handling of
	stm32f09, nearly same as stm32f07.  Change-Id: I9cb2aa75decca0e8a065fe7f5353de44d6877274 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2394 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-09  Karl Palsson <karlp@remake.is>

	* tcl/target/stm32f0x.cfg, tcl/target/stm32f1x.cfg,
	tcl/target/stm32f2x.cfg, tcl/target/stm32f3x.cfg,
	tcl/target/stm32f4x.cfg, tcl/target/stm32l0.cfg,
	tcl/target/stm32l1.cfg, tcl/target/stm32w108xx.cfg: target/stm32xx:
	Endian is not configurable.  So remove it from all the configs, it's misleading, and leads to
	cargo culting of config files.  Change-Id: I2b77e60d5e96f9759c7c9fc91b20e73be2e95d9a Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2446
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-08  Jörg Wunsch <openocd@uriah.heep.sax.de>

	* src/flash/nor/at91sam4.c: flash: add AT91SAM4SD16C device Change-Id: I12f740a1a2d10637b0e5b1e8d054dd912576d190 Signed-off-by:
	Jörg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2455 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-19  Karl Palsson <karlp@remake.is>

	* contrib/itmdump.c: contrib: itmdump: fix multi byte decoding Incorrect byte manipulations.  Change-Id: Id8c3f457b39f4b2b75613076d403359c4972a69d Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2448
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-27  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/iotlab-usb.cfg: tcl/interface/ftdi: add config
	for the IoT-LAB adapter This is an integrated adapter used on the IoT-LAB boards.  Schematics are available from
	https://github.com/iot-lab/iot-lab/wiki/Docs/openm3-schematics.pdf Change-Id: I1c80e72653c3f319bb04d01e3dfddb1c2447c398 Tested-by:
	Quentin Lampin <quentin.lampin@orange.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2415 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-15  Andreas Färber <afaerber@suse.de>

	* tcl/board/ti_tmdx570ls20susb.cfg: tcl/board: Add TI
	TMDX570LS20SUSB board config It is derived from ti_tmdx570ls31usb.cfg, using a different TAP ID.  Change-Id: I2d911995c76ea4f75a780cc230d61f4959825809 Signed-off-by:
	Andreas Färber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2440 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: add reconfigurable speed
	support The ability to change the speed has been added to firmware versions
	J22 and above. Any attempt to change on earlier versions will be
	ignored without error, as the existing code does.  For supported firmware versions the driver will attempt to get as
	close as possible to supported speeds (never higher).  The default stlink speed on power up is 1.8MHz.  The driver will now
	also print supported clocl speeds during init.  Change-Id: Iee9bd018bb8b6f94672a12538912d41c23d48a7e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2335 Tested-by: jenkins

2014-10-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.h: hla: add ability to change adapter speed
	(if supported) As a note we need to cache the requested speed setting, as the hla
	interface may not be ready when the first adapter_khz is called.  Change-Id: I2fa6807d5f0bd3f0365cf178bd10a230c39415a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2334 Tested-by: jenkins

2014-12-16  Karl Palsson <karlp@remake.is>

	* tcl/target/stm32l1.cfg: cfg: stm32l1: Use specific chipname This should have been corrected earlier with the split of l1/l0 code
	apart.  Change-Id: I87b94a310ae7e76318554a9cd2705348a942d58b Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2447
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-07  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/hla/hla_interface.c: jtag/hla: output possible idcode
	candidates in case of mismatch Output a similar message to what we have on low-level JTAG adapters
	to avoid confusing users. Reported on IRC by chickensk.  Change-Id: I96d58410ef715b966e32d79c0aacf38596c5eb3f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2451 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Evan Hunter <ehunter@broadcom.com>

	* src/jtag/core.c: jtag: Avoid extra SRSTn resets when connecting Previously the jtag_add_reset(1, 0) caused the processor to be
	released, and if SRSTn existed then it would then be reset again two
	lines later.  Change-Id: I58b7a12607f46f83caa7ed3b3cebc4195eb51ef6 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2398 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-07  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: update bug tracker URL Change-Id: I6a362020a29ccb9222f7909b5b34e5c35a02ed4b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2454 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-19  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: lpc2000: Improve lpc2000 flash driver.  This patch adds flash programming support for LPC5410x and LPC82x.
	And adds auto flash size detection for LPC800 series.  Tested on
	below listed boards/chips.  LPC54102(LPCLPC54102Xpresso)
	LPC824(LPCXpresso824-MAX) LPC812(LPC812MAX) LPC811,LPC810 Change-Id: Ie68b6d425b17ccfa83814607ee61056e99800c1c Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2442 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-10-14  Alexander Stein <alexander.stein@systec-electronic.com>

	* src/target/cortex_a.c, src/target/cortex_a.h: cortex_a: Add
	support for A7 MPCore A7 MPCore needs unlocking the debug registers same as with A15
	MPCore.  Found out by hacking on the code.  Change-Id: I613cb4fb35007b85b4a9a401577b47768bc1a08b Signed-off-by:
	Alexander Stein <alexander.stein@systec-electronic.com> Reviewed-on:
	http://openocd.zylin.com/2344 Tested-by: jenkins Reviewed-by: Kamal
	Dasu <kamal.dasu@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-08-29  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/arm_adi_v5.c, src/target/armv7a.c,
	src/target/armv7a.h, src/target/cortex_a.c, src/target/cortex_a.h: 
	cortex_a: Add support for A15 MPCore Added Cortex-A15 support for DAP AHB-AP init code as per ADI V5
	spec.  Also added changes to make the APB MEM-AP to work with A15.
	Made the the cortex_a target code  generic to work with A8, A9 and
	A15 single core or multicore implementation. Added armv7a code for
	os_border calculation to work for known A8, A9 and A15 platforms
	based on the ARM DDI 0344H, ARM DDI 0407F, ARM DDI 0406C ARMV7A
	architecture docs.  Change-Id: Ib2803ab62588bf40f1ae4b9192b619af31525a1a Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1601 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-12-08  Tomas Vanek <vanekt@fbl.cz>

	* src/rtos/ChibiOS.c: ChibiOS: struct ChibiOS_params_list[] should
	not be const Procedure ChibiOS_update_memory_signature() sets struct member
	signature.  Change-Id: I45adbd14fa7cda99413fd0b516d45b3fb55e322d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2427 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Karl Palsson <karlp@tweak.net.au>

	* src/transport/transport.c: transport: clarify error message when
	transport is not selected When no transport is selected, the error message dumps the available
	transports, but not how to actually select one.  Change-Id: I63da2a4b59e3f6cc8d30bd631e41a82636a056ef Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2406
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/kinetis.c: flash: fix kinetis driver typos Change-Id: I0a4557f08507c61cb8ab33b38d2b6b069c344c09 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2385 Tested-by: jenkins

2014-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/hitex_lpc1768stick.cfg, tcl/board/iar_lpc1768.cfg,
	tcl/board/keil_mcb1700.cfg, tcl/board/mbed-lpc1768.cfg,
	tcl/board/mcb1700.cfg: cfg: fix lpc17xx regression commit b5a6ba46 broke the following board files, update to new cfg.  Change-Id: Ic3b776bd32eb72eae6ad1e130e329268ce9ba71a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2384 Tested-by: jenkins

2014-10-11  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/target.c: avoid segfaulting when attempting to set an
	unavailable type of breackpoint For example "bp 0x20000000 8 2" makes openocd segfaulting on a
	stm32f4x Discovery board.  Change-Id: I1ddd46b1fa9ade78db2234ed975ccefb72539331 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/2342 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-28  Jens Bauer <jens@gpio.dk>

	* src/target/target.c: Mac/PPC: Fix build.  GCC-4.2 on Mac/PPC complains about size_t is expected for %zx and
	the build stops.  In order to avoid other problems, I've chosen
	simply to typecast.  Change-Id: I99b569c4d1100e729712e31d24d6539f8b5971b6 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/2360
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-11-02  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ftdi.c, src/jtag/drivers/jlink.c,
	src/target/adi_v5_swd.c, src/target/arm_adi_v5.h: swd: handle
	various failure conditions When communication with target fails for whatever reason, it makes
	sense to do JTAG-to-SWD (in case the target got power-cycled or the
	DAP method was reset anyhow), SWD line reset sequence (part of
	JTAG-to-SWD already) and the mandatory IDCODE read. Schedule that to
	be performed on the next poll.  Fix the return values for ftdi and jlink drivers to be consistent
	with OpenOCD error codes and remove ad-hoc calls to perform DAP
	method switching (as it's now done from the upper layer
	automatically).  Change-Id: Ie18797d4ce7ac43d8249f8f81f1064a2424e02be Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2371 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mateusz
	Manowiecki <segmentation@fault.pl>

2014-11-02  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: improve robustness of polling and
	reexamination When a target was present on OpenOCD start but later disappeared for
	whatever reason (typically unstable connection or target going to
	sleep) and reappeared only for a brief period of time, reexamination
	would fail, and poll would no longer run. This patch fixes it.  Change-Id: I61f9b5a3f366a761320e233f4e1689f926b5556d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2370 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/linux.c: rtos: free gdb packet allocated memory compile tested only.  Change-Id: I3bc06c212967a3ce44a875f802b554c178537d1d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2382 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-11-27  Paul Fertser <fercerpav@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch: fix check for the FSF
	address Commit 4525c0a4c4d0aaa199c37a6d2245617e8445f213 cherry-picked check
	for the FSF address presence from upstream. However, it has a typo
	resulting in this obscure error when triggered: Use of uninitialized value in concatenation (.) or string at

	/home/jenkins/.jenkins/jobs/openocd-gerrit/workspace/tools/scripts/checkpatch.pl line 1258.ERROR: This patch fixes it.  Change-Id: Ia417ef4782d21c8b3f1d39de88c4ab850a5a6630 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2414 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/core.c: jtag: Remove unnecessary global variable Change-Id: I96e5f13b12da2970eafc5fca24b7952d427eeca9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2235 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/core.c: jtag: Fix memory leaks in jtag_tap_free() Change-Id: I953fbb346fbf168fb50b349d245f2aa64dbfdcb3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2234 Tested-by: jenkins

2014-11-21  Karl Palsson <karlp@tweak.net.au>

	* tcl/board/stm32l0discovery.cfg, tcl/board/stm32ldiscovery.cfg,
	tcl/target/stm32l.cfg, tcl/target/stm32l0.cfg,
	tcl/target/stm32l1.cfg, tcl/target/stm32l1x_dual_bank.cfg,
	tcl/target/stm32lx_dual_bank.cfg, tcl/target/stm32lx_stlink.cfg: 
	stm32l: split l0/l1 support no jtag, different HSI settings L0 is cortex m0+, so different id codes, SWD only, different
	addresses for the clock speedup.  It has no endian options, no
	boundary scan.  Removed all L0 specific portions from L1 files, and renamed files to
	clarify their purpose.  The deprecated stm32lx_stlink.cfg is kept as
	is, as it is only around for backwards compatibility with prior
	releases.  Tested on STM32L053 Discovery and STM32L151 Discovery.  Has _not_ been tested with jtag on L1.  Change-Id: I8eea890d2f92a302d9e9c8a8832d218ee1b6bcfc Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2405
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Juha Niskanen
	<juha.niskanen@haltian.com>

2014-11-05  Juha Niskanen <juha.niskanen@haltian.com>

	* tcl/target/stm32l.cfg: stm32: Fix L0/1xx CPUTAPID setting and add
	new L1xx BSTAPIDs Fix script parse error, when using JTAG, introduced in commit
	0187ced9ed2 Add several BS TAPIDs with comments about ST documentation.  Change-Id: I8d0370b244ccaf7ea0dbe1919bfad1915f7317d4 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2376 Tested-by: jenkins Reviewed-by: Rémi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-18  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/target/stm32f4x.cfg: tcl/target/stm32f4: ramp up JTAG speed,
	HSI is 16MHz there Since all F4 parts have an internal HSI providing 16MHz, it's safe
	to use 2MHz JTAG frequency by default.  Change-Id: I2702d5a1d642d4acd4af2db54c028949132c6900 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2383 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-06  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/target/stm32f4x.cfg: tcl/target/stm32f4x: add F401 and F411
	IDs Change-Id: I12079586dafb8a7614bdf4cc0b13cd5030301742 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2379 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-30  Grigori Goronzy <greg@chown.ath.cx>

	* src/flash/nor/lpc2000.c: lpc2000: ignore status of part ID IAP
	command The IAP firmware won't return a proper status with some versions.
	This happens on my CCC r0ket board and others have seen it as well
	[1]. So just ignore the status code and do a (weak) consistency
	check instead.  [1]

	http://www.lpcware.com/content/forum/lpc1343-iap-read-part-identification-commandChange-Id: I0daa779d520a540629677c56857bbc20d6db422d Signed-off-by:
	Grigori Goronzy <greg@chown.ath.cx> Reviewed-on:
	http://openocd.zylin.com/2364 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch.pl: check for the FSF
	mailing address This check code is imported from Linux v3.17 checkpatch.pl.  Change-Id: If39d834ee9b6131bccc92de38fd7c108650bd2f1 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2341 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* src/target/openrisc/or1k.c, src/target/openrisc/or1k.h,
	src/target/openrisc/or1k_du.h, src/target/openrisc/or1k_du_adv.c,
	src/target/openrisc/or1k_tap.h,
	src/target/openrisc/or1k_tap_mohor.c,
	src/target/openrisc/or1k_tap_vjtag.c,
	src/target/openrisc/or1k_tap_xilinx_bscan.c: or1k: remove address of
	the Free Software Foundation The FSF address has changed; The FSF site says that address is   Free Software Foundation   51 Franklin Street, Fifth Floor   Boston, MA 02110-1301   USA (see http://www.fsf.org/about/contact/) Instead of updating it each time the address changes, just drop it
	completely treewide.  Change-Id: I27199f7625901f677d8105d1e8876cff00147b71 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2340 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch.pl: check for openocd
	tree, not for kernel tree checkpatch.pl looks for linux kernel specific paths and files to
	check source tree. As openocd misses kernel files it ends with this
	error message:     Must be run from the top-level dir. of a kernel tree This patch also renames 'kernel' -> 'openocd' in source tree-related
	messages.  Due to checkpatch checking modifications on itself, lift the
	restriction on having no spaces at the start of a line for Perl
	scripts. This can be readded back later.  Change-Id: I89b7ca976bef5e13785bd3a43e597c9feb4c2df4 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2339 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-07  Antony Pavlov <antonynpavlov@gmail.com>

	* src/target/mips32.c, src/target/mips32.h: mips32: fix typos Change-Id: Ibb98fe3da68bf670a5bb83600bb49647db8a4163 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2338 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-19  Alexei Colin <ac@alexeicolin.com>

	* doc/openocd.texi: doc: flash: write_image writes only loadable
	sections The code that takes only sections marked PT_LOAD is in
	image_elf_read_headers in src/target/image.c (Just trying to save some time for the next person with same
	question.) Change-Id: I493c102c908fca2b7238276ddbbecbe8c7cd9a0a Signed-off-by:
	Alexei Colin <ac@alexeicolin.com> Reviewed-on:
	http://openocd.zylin.com/2348 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-24  Christian Gudrian <christian.gudrian@gmx.de>

	* src/rtos/ChibiOS.c, src/rtos/rtos_chibios_stackings.c,
	src/rtos/rtos_chibios_stackings.h: Added FPU support for ChibiOS/RT When an enabled FPU is detected we now use an appropriate stacking.  Change-Id: I1b0f43ec22e1c55c4f10e2ffa97d4aaa77bca5ee Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2354 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-21  Christian Gudrian <christian.gudrian@gmx.de>

	* src/rtos/ChibiOS.c: rtos: add support for ChibiOS/RT 3.0 In ChibiOS/RT 3.0 the ready list pointer "rlist" is now part of the
	system data structure. Since the ready list is the first element in
	that structure it can be accessed via the structure's symbol "ch".  Change-Id: Idc7eaa87cb7bbad0afa0ff1dafd54283bf429766 Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2352 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-25  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c, src/rtos/ThreadX.c,
	src/rtos/eCos.c, src/rtos/embKernel.c, src/rtos/linux.c,
	src/rtos/rtos.c, src/rtos/rtos.h: rtos: allow symbols to be optional
	for a particular RTOS Default to non-optional.  Change-Id: Ifc9ddb1ab701a19c3760f95da47da6f7d412ff2e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2355 Tested-by: jenkins Reviewed-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-10-30  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c: flash: at91samd: fix use of is_erased in
	check is_erased can be one of -1, 0, or 1 so it must not be checked like a
	boolean value.  In this case we want to erase a page unless we know
	it's already erased so we just check for is_erased != 1.  Thanks to Jim Paris for pointing this out on another driver.  Change-Id: I4591186228153b64e5a9608a2aac18745e578d4a Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2368 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-31  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/jlink.c: jtag/drivers/jlink: implement register
	command to fix SWD Some J-Link fw versions require registration to be performed before
	SWD operation is possible. It doesn't harm anyway, vendor's
	utilities do it unconditionally.  Thanks go to Segger for providing the necessary information.  Change-Id: Iabd76c743eca86e2c817a97cb93c969fec3f7ac6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2331 Tested-by: jenkins

2014-08-15  Thomas Schmid <thomas@rfranging.com>

	* src/flash/nor/at91sam4.c: at91sam4: Adding support for the
	AT91SAM4S4A.  Added the chip definition for the Atmel AT91SAM4S4A. This chip is a
	48-pin package with 256k flash and 64k ram.  Change-Id: I8ada7d5735e31e0ce086f96f5906c7358464245c Signed-off-by:
	Thomas Schmid <thomas@rfranging.com> Reviewed-on:
	http://openocd.zylin.com/2254 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-27  Anders <anders@openpuma.org>

	* contrib/loaders/flash/lpcspifi_write.S, src/flash/nor/lpcspifi.c: 
	flash/nor/lpcspifi.c: fix bug that prevented clean reset after flash
	write After SPI flash was written by the assembly language stub, the last
	SPI command was not terminated by raising CS.  This left the SPI
	device in a hung state that prevented the flash from being read by
	the M4 SPIFI controller, even after the M4 was fully reset. To
	access the flash via SPIFI, it was necessary to completely power
	cycle the board.  This fix adds the missing instructions to raise CS and terminate the
	SPI command after the last byte. This allows the M4 to be resumed or
	reset cleanly after flashing. The SPIFI memory is now immediately
	accessable at address 0x1400 0000 after flashing is complete.  Change-Id: I4d5e03bded0fa00c430c2991f182dc18611d5f48 Signed-off-by:
	Anders <anders@openpuma.org> Reviewed-on:
	http://openocd.zylin.com/2359 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-07  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* HACKING: Hacking: Some note how to review.  Change-Id: Ied682884abdba27da265f1ce3632417f54a80fe2 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2380 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-20  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: lpc2000: Added LPC1500 series flash
	programming support.  This patch adds flash programming support for LPC1547/8/9 and
	LPC1517/8/9.  Tested on LPC1549(LPC1549 LPCXpresso Board with
	CMSIS-DAP firmware).  Change-Id: Ic95b4d62055bb9fdc2ca484696a38ccaf49ad951 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2304 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Grigori G
	<greg@chown.ath.cx>

2014-10-29  Jim Paris <jim@jtan.com>

	* src/flash/nor/nrf51.c: nrf51: fix checks for is_erased is_erased can take the value 0 (no), 1 (yes), or -1 (unknown).
	Checks like (!is_erased) don't do the right thing if it's -1.  Change-Id: I10ba32c99494ca803e0a7a1ba56fdd78184b96bb Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2366
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-29  Jim Paris <jim@jtan.com>

	* src/flash/nor/nrf51.c: nrf51: verify that UICR needs erasing
	before triggering an error about it If the UICR is already empty, there's no reason to return an error
	just because it can't be erased again.  This happens, for example,
	when flashing UICR from GDB after a "monitor nrf51 mass_erase".  Change-Id: Ia6d28c43189205fb5a7120b1c7312e45eb32edb7 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2363
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-28  Jim Paris <jim@jtan.com>

	* src/flash/nor/nrf51.c: nrf51: fix UICR erase nrf51_erase_page() checks for (sector->offset == NRF51_UICR_BASE) to
	determine if the UICR should be erased.  However, sector->offset for
	the UICR bank is set to 0 in nrf51_probe, so this code is never hit.
	Attempting to erase UICR ends up erasing the first flash sector.  Use bank->base instead to determine if UICR is being erased.  Change-Id: Ie5df0f9732f23662085ae2b713d64968cd801472 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2362
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-28  Jim Paris <jim@jtan.com>

	* src/flash/nor/nrf51.c: nrf51: fix UICR region size The UICR region is actually 0x100 bytes in size.  Besides making the
	full region accessible, having the right value is important because
	GDB rounds flash addresses to the nearest multiple of the block size
	when determing which flash blocks to erase.  Change-Id: I416c391cbfc7be41a03a9b9c6e42326c87391f38 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2361
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Tested-by: jenkins

2014-11-01  Peter Lawrence <majbthrd@gmail.com>

	* src/target/arm_adi_v5.c: arm_adi_v5: added two CoreSight
	peripheral IDs added "Single Wire Output" and "Trace Memory Controller" peripheral
	IDs to dap_rom_display(), which is invoked by the "dap info" command Change-Id: Iea3201007bb98e6376fbb50be40a4a2e031b0a03 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2369 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-26  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/swd-resistor-hack.cfg: 
	tcl/interface/ftdi/swd-resistor-hack: clarify and add schematic
	diagram Change-Id: I8600ee983de85e4225430ae508a50cd938122d89 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2357 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/jtag/drivers/cmsis_dap_usb.c,
	tcl/interface/cmsis-dap.cfg: cmsis-dap: add serial number support Change-Id: I66926d1013e2b3a43ce0d18d3599771428706b6a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2329 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/cmsis_dap_usb.c: cmsis-dap: refactor HID PID/VID
	check loop In preparation for adding serial number support.  Change-Id: I3c9fb411b79d54a4d2de067039255436ba6708c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2328 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-09-30  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: make makeinfo optional This means the user does not have to install texinfo to build
	OpenOCD.  Change-Id: Id9f42da798d3c2b79e95214c9e2559cf32802251 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2325 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32l0discovery.cfg, tcl/target/stm32l.cfg: cfg: remove
	incorrect execute permissions Change-Id: I0ba9dfdf876bc99df4e2d1f1f3bc0c9ccc6c98c2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2333

2014-10-01  Rémi PRUD'HOMME <prudhomme.remi@gmail.com>

	* src/flash/nor/stm32lx.c: stm32: add mass erase support for STM32L The mass erase for STM32L was lack because the procedure is more
	complex than the procedure for the STM32F4xx.  The reference manual RM0038 (L100 subfamily) page 79 is more
	accurate than the reference manual for the STM32L0xx. On the L0, the
	mass-erase erase also the EEPROM. This is a limit to mass erase on
	L0.  The mass erase procedure is a command of telnet interface.  Tested on Discovery L053 and Discovery L100.  Change-Id: I6a1d7a3669789aea89c59a006ab2d883f3d827ca Signed-off-by:
	Rémi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2319 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-24  Rémi PRUD'HOMME <prudhomme.remi@gmail.com>

	* tcl/board/stm32l0discovery.cfg: stm32: Add config file for a new
	board STM32L052 dsicovery this board use STLink-V2-1, the STM32L1xx use the STLink-V2.  Change-Id: Ie58f45affcb1e9a6fed711b48c3c03b5035ab2b2 Signed-off-by:
	Rémi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2317 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-24  Rémi PRUD'HOMME <prudhomme.remi@gmail.com>

	* tcl/target/stm32l.cfg: stm32: add L0xx CPUTAPID Add CPUTAPID for stm32 L0xx mcu devices. Using -expected-id to add
	the new id with the id for L1xx devices. This for reduce the
	duplicated code.  Change-Id: I48bd230884ecf38fa200c620b547bdf3b5f59132 Signed-off-by:
	Rémi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2315 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-21  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: implement
	protection statuses and procedures This should make protection work as expected on all stellaris
	families, including the latest Tiva C Snowflake.  Run-time tested on TM4C123x (Blizzard).  Change-Id: Ia017edb119bec32382b08fc037b5bbc02dd9000c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2267 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-01  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/aice/aice_usb.c, src/jtag/drivers/jlink.c,
	src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h: libusb: introduce
	jtag_libusb_choose_interface() and use it for JLink This introduces a new common function that allows auto-discovery of
	a suitable USB interface based on class, subclass and protocol
	matching. It claims the interface and returns the corresponding
	endpoints number to the caller.  The need for this arised due to nRF51822 USB dongle which comes with
	an "on-board Segger J-link debugger" having 3 interfaces, so the
	current code can't work at all with it (in this particular case the
	last interface needs to be choosen). This also removes special
	handling of JLink-OB endpoint numbers as it's now possible to
	autodetect them as well as the standard JLink endpoints.  Change-Id: I4d990a7a3b373efdd2949a394b32d855a168e138 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2327 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: actually enable
	protection and unprotection with ICDI This is still limited to pre-Snowflake parts and the first 64K of
	flash.  Change-Id: I9ca872ada3d1a87dba6261464b2a72a15eda5ecf Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2264 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_layout.h: hla: add a
	way to pass arbitrary commands from user to layout and use for ICDI TI's ICDI adapter supports some additional commands which a user
	might want to run for debugging or other purposes, the most useful
	of them being "debug unlock" that fully mass-erases the device and
	unprotects the flash.  Change-Id: I26990e736094367f92106fa891e9bb8fb0382efb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2263 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-10  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/olimex-arm-usb-ocd-h.cfg: 
	interface/ftdi/olimex-arm-usb-ocd-h: fix nTRST control definition According to my inspection of an Olimex ARM-USB-OCD-H adapter ACBUS0
	is connected directly to an SN74LVC2T45 buffer input B2, and the
	corresponding output A2 is connected directly to the JTAG connector.
	It seems the information in the Olimex flyer is incorrect for the -H
	version and TRST can't be tri-stated, ACBUS2 is unused.  The older ARM-USB-OCD device has SN74AC244 for an output buffer and
	ACBUS2 controls its !2OE, ACBUS0 connected to 2A1 (2Y1 is nTRST), in
	accordance with the information flyer.  Change-Id: I22828b7b959b6f62c3f51367feb8fab9705641e5 Reported-by:
	Tim Sander <tim@krieglstein.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2286
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Tim Sander <tim@krieglstein.org>

2014-09-12  Anders <anders@openpuma.org>

	* src/jtag/drivers/jlink.c: jtag/drivers/jlink.c: fix for LPC Link-2
	running JLink firmware on Linux Change 2288 fixed the extraneous reset caused by set_configuration
	that crashed the LPC Link-2 running JLink firmware and works on
	windows platforms.  On Linux however, conditional code was still
	calling USB reset and caused the adapter to crash on any non-windows
	platforms.  Change-Id: Ibf2a02d0dcdd91ccb71d86231cd8311dcadfee1e Signed-off-by:
	anders@openpuma.org Reviewed-on: http://openocd.zylin.com/2297
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-10-01  Anders <anders@openpuma.org>

	* src/jtag/drivers/libusb1_common.c: jtag/drivers/libusb1_common:
	avoid device reset when reselecting configuration According to [1], we shouldn't reselect an already active
	configuration to avoid needless device reset. This is known to cause
	issues with e.g. LPC Link2 with JLink firmware.  [1] http://libusb.sourceforge.net/api-1.0/caveats.html#configsel Change-Id: I3568ada77780a521548c450090db7173f8d0b2dd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Anders Oleson
	<anders@openpuma.org> Reviewed-on: http://openocd.zylin.com/2288
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/binarybuffer.c, src/helper/log.c: helper: constify
	log_strings Change-Id: I5bdd8958e79b754d56bb7aee2892856e557eed76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2296 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_adi_v5.c, src/target/arm_semihosting.c,
	src/target/armv7m.c, src/target/armv7m.h, src/target/avr32_ap7k.c,
	src/target/breakpoints.c, src/target/dsp563xx.c,
	src/target/dsp563xx_once.h, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/nds32_reg.c,
	src/target/openrisc/jsp_server.c, src/target/openrisc/or1k.c,
	src/target/openrisc/or1k_tap_vjtag.c, src/target/xscale.c: target:
	constify structures Change-Id: I875cfab8dec4ade72ed9c9cd7d52baaca182a1ef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2295 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/aice/aice_interface.c, src/jtag/aice/aice_interface.h,
	src/jtag/aice/aice_port.h, src/jtag/drivers/amt_jtagaccel.c,
	src/jtag/drivers/at91rm9200.c, src/jtag/drivers/cmsis_dap_usb.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/opendous.c,
	src/jtag/drivers/parport.c, src/jtag/hla/hla_interface.h,
	src/jtag/interface.h: jtag: constify driver arrays Change-Id: I81574fa8ca3cc748526dc61b75a2c75d6335ef04 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2294 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/fm3.c, src/flash/nor/non_cfi.c,
	src/flash/nor/nrf51.c: flash: constify driver data structures Change-Id: Ia5c3de48119f036e1d7a41be62a672a6fb37e59b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2293 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c, src/rtos/ThreadX.c,
	src/rtos/eCos.c, src/rtos/embKernel.c, src/rtos/linux.c,
	src/rtos/rtos.c, src/rtos/rtos.h: rtos: constify symbol names and
	lists Change-Id: I72f3cd50fc6a33a178e72e169c9660e707751524 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2292 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/nuc1x.c: nuc1x: fix typos Change-Id: Ia67b55ccb2bea71a99daa176def82960f487ca9f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2291 Tested-by: jenkins

2014-09-30  Andrey Yurovsky <yurovsky@gmail.com>

	* doc/openocd.texi, src/flash/nor/at91samd.c: at91samd: fix protect,
	add EEPROM and boot commands There were two problems with the _protect() feature: 1. The address written was off by a factor of two because the
	address register takes 16-bit rather than 8-bit addresses.  As a
	result the wrong sectors were (un)protected with the protect
	command.  This has been fixed.  2. The protection settings issued via the lock or unlock region
	commands don't persist after reset.  Making them persist requires
	modifying the LOCK bits in the User Row using the infrastructure
	described below.  The Atmel SAMD2x MCUs provide a User Row (the size of which is one
	page).  This contains a few settings that users may wish to modify
	from the debugger, especially during production.  This change adds
	commands to inspect and set: - EEPROM size, the size in bytes of the emulated EEPROM region of
	  the Flash.  - Bootloader size, the size in bytes of the protected "boot" section
	  of the Flash.  This is done by a careful read-modify-write of the special User Row
	page, avoiding erasing when possible and disallowing the changing of
	documented reserved bits.  The Atmel SAMD20 datasheet was used for
	bit positions and descriptions, size tables, etc. and testing was
	done on a SAMD20 Xplained Pro board.  It's technically possible to store arbitrary user data (ex: serial
	numbers, MAC addresses, etc) in the remaining portion of the User
	Row page (that is, beyond the first 64 bits of it).  The
	infrastructure used by the eeprom and bootloader commands can be
	used to access this as well, and this seems safer than exposing the
	User Row as a normal Flash sector that openocd understands due to
	the delicate nature of some of the data stored there.  Change-Id: I29ca1bdbdc7884bc0ba0ad18af1b6bab78c7ad38 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2326 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-06  Andrey Yurovsky <yurovsky@gmail.com>

	* doc/openocd.texi, src/flash/nor/at91samd.c: at91samd: add
	erase/secure commands, minor fix Reference code for the SAMD2x disables caching in the NVM controller
	when issuing NVM commands.  Let's do this as well to be consistent
	and safer.  Add a "chip-erase" for the Atmel SAMD targets that issues a complete
	Chip Erase via the Device Service Unit (DSU).  This can be used to
	"unlock" or otherwise unbrick a chip that can't be halted or
	inspected, allowing the user to reflash with new firmware.  Add a "set-security" command which issues an SSB.  Once that's done
	and the device is power-cycled, the flash cannot be written to until
	a "chip-erase" is issued.  The chip-erase cannot be issued by
	openocd at this time because the device will not respond to a
	request for the DAP IDCODE.  Change-Id: I80122f0bbf7e3aedffe052c1e77d69dc2dba25ed Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2239 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_a.c: arm_adi_v5: make dap_lookup_cs_component()
	traverse subtables and handle multicore When looking for a debug base address of a core, one should search
	through all the ROM tables, not just the top-level one.  This code also assumes that the first found entry (in a depth-first
	search) will correspond to core 0, the second to core 1 etc.  The patch is supposed to be an alternative implementation of
	http://openocd.zylin.com/#/c/1313/.  Change-Id: Ifc88971a02fe3d9c00d9bf72a822ade5804d4e09 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1920 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-29  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi: doc/openocd.texi: add SWD to the transports
	supported by jlink Since 67332532194b16b99f0535a41b4179ca5df349b0 jlink adapter driver
	supports SWD in addition to JTAG.  Change-Id: I9376aa02d9281f3e2734d8f127cd42162633d95b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2324 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-18  Jon Burgess <jburgess777@gmail.com>

	* src/server/gdb_server.c: gdb_server: Include current RTOS thread
	in signal packets This allows GDB to automatically switch to the thread that has been
	interrupted and show you where it has stopped.  Change-Id: Icb9500dc42a61eb977e9fac55ce9503c9926bf5d Signed-off-by:
	Jon Burgess <jburgess777@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2303 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-21  Jon Burgess <jburgess777@gmail.com>

	* src/target/cortex_m.c: cortex_m.c: Use two byte breakpoint for
	32bit Thumb-2 request When GDB requests a breakpoint on a 32bit Thumb-2 instruction it
	sends a length of 3 which the current code rejects. Using the
	existing two byte breakpoint for this case appears to work fine.  The use of length==3 for this case is mentioned in a few places:
	https://sourceware.org/gdb/onlinedocs/gdb/ARM-Breakpoint-Kinds.html
	http://sourceforge.net/p/openocd/mailman/message/30012280/ Change-Id: I59cd69ba4d1bc9a37b86569738c6bb2a67c3eb7a Signed-off-by:
	Jon Burgess <jburgess777@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2312 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-16  Simon Qian <openocd@versaloon.com>

	* src/jtag/drivers/vsllink.c: vsllink: improve the performance when
	using swd Versaloon firmware has been updated for reporting errors if fail on
	swd transactions.  Change-Id: I49ac0ad034cc9ad83cc4e43953579811d1243063 Signed-off-by:
	Simon Qian <openocd@versaloon.com> Reviewed-on:
	http://openocd.zylin.com/2302 Reviewed-by: Fatih Aşıcı
	<fatih.asici@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-03-24  Karl Palsson <karlp@tweak.net.au>

	* tcl/board/ek-tm4c1294xl.cfg: tcl/board: add TI Tiva C
	ek-tm4c1294xl config Change-Id: Iab070fe4c0f03ecc0db035b16dfb64105b0841be Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2063
	Tested-by: jenkins

2014-09-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/command.c, src/helper/startup.tcl: command: Fix
	confusing syntax error message If the user executes a command with an invalid subcommand, the error
	message is extremely unhelpful: > flash write test.elf flash write test.elf: command requires more
	arguments This is because any command line that starts with a valid command
	group is classified as a group, triggering ocd_bouncer to print the
	confusing message.  Fix by requiring that to be a command group, the command line must
	not contain any unknown tokens after the last valid (sub-)command
	group. That is OK because command groups don't have handlers defined
	and thus can't take any parameters.  Also fix the error message for "unknown" type to be similar to the
	error message that is printed (by Jim) for non-existent primary
	commands.  Change-Id: I26950349f0909fd3961c4f9ab9b198c221cea9fc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2285 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* doc/openocd.texi, src/target/target.c, src/target/target.h,
	src/target/xscale.c, tcl/board/at91cap7a-stk-sdram.cfg,
	tcl/target/at91r40008.cfg, tcl/target/at91sam7se512.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/at91sam7x256.cfg,
	tcl/target/at91sam7x512.cfg, tcl/target/at91sam9.cfg,
	tcl/target/cs351x.cfg, tcl/target/faux.cfg,
	tcl/target/gp326xxxa.cfg, tcl/target/imx21.cfg,
	tcl/target/imx27.cfg, tcl/target/imx28.cfg, tcl/target/is5114.cfg,
	tcl/target/ixp42x.cfg, tcl/target/ks869x.cfg,
	tcl/target/lpc2900.cfg, tcl/target/pxa270.cfg,
	tcl/target/pxa3xx.cfg, tcl/target/samsung_s3c2410.cfg,
	tcl/target/samsung_s3c2440.cfg, tcl/target/samsung_s3c2450.cfg,
	tcl/target/samsung_s3c6410.cfg, tcl/target/smp8634.cfg,
	tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg,
	tcl/target/test_reset_syntax_error.cfg, tcl/target/ti_calypso.cfg,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg: target: Remove
	"-variant" argument Remove this underutilized feature. Despite the fact that a lot of
	configs specifies a arbitrary "variant", only the xscale target
	actually defines any.  In the case of xscale, the use of -variant is dubious since 1) it's used as a redundant irlen specifier, 2) it carries a comment that it doesn't really need it and 3) only two xscale configs even specify it.  If there's a future target that needs a variant set, a target
	specific option could be added when needed.  Change-Id: I1ba25a946f0d80872cbd96ddcc48f92695c4ae20 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2283 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-08  Joakim Gebart <joakim.gebart@eistec.se>

	* src/jtag/drivers/mpsse.c: mpsse: Display libusb error names
	instead of numbers Added calls to libusb_error_name() where applicable in order to
	easier understand the error messages.  Change-Id: I3fe3d4b5624ae0de37c36e54a371eba5535ccaa1 Signed-off-by:
	Joakim Gebart <joakim.gebart@eistec.se> Reviewed-on:
	http://openocd.zylin.com/2289 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-04  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/tcl.c: flash/nor/tcl.c: Do not double probe banks Previous to this version the code of handle_flash_probe_command
	would probe a bank twice: first time by auto-probe through a call to
	flash_command_get_bank and second time by calling the probe function
	directly. This change adds a flash_command_get_bank_maybe_probe wich
	is a more generic version of the flash_command_get_bank, that would
	allow commands to decide whether auto-probing should be performed or
	not.  Change-Id: If150ca9c169ffe05e8c7eba36338d333360811e3 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2093 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-31  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm_dpm.c: target/arm_dpm: prevent endless loop in
	arm_dpm_full_context() The code treats registers that are shadowed in FIQ mode in a special
	way: to read them out the target is first switches to USR mode. But
	since USR != ANY the current implementation later skips register
	read, and the loop becomes endless in case any !valid ARM_MODE_ANY
	is present at the moment arm_dpm_full_context() is called. This was
	reported in https://sourceforge.net/p/openocd/tickets/76/. The issue
	surfaced because 2efb1f14f611f2ff8a380b703f3e8bcb8a95d1ad added two
	ARM_MODE_ANY registers ("sp" and "lr") which were not normally read,
	so at the time a user was calling "arm reg" they were not valid.  Fix this by changing the mode appropriately while keeping the "mode"
	variable state intact so it would later match register's mode.  Compile-tested only.  Change-Id: I01840e8fa20ec392220138a3f1497ac25deb080a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2278 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-04  Mahavir Jain <mjain@marvell.com>

	* contrib/loaders/flash/mrvlqspi_write.S,
	src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/mrvlqspi.c: flash/nor: add mrvlqspi flash controller
	driver This patch adds support for QSPI flash controller driver for
	Marvell's Wireless Microcontroller platform.  For more information
	please refer,

	https://origin-www.marvell.com/microcontrollers/wi-fi-microcontroller-platform/Following things have been tested on 88MC200 (Winbond W25Q80BV flash
	chip): 1. Flash sector level erase 2. Flash chip erase 3. Flash write in normal SPI mode 4. Flash fill (write and verify) in normal SPI mode Change-Id: If4414ae3f77ff170b84e426a35b66c44590c5e06 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2280 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-26  Mahavir Jain <mjain@marvell.com>

	* src/flash/nor/spi.c: flash/nor/spi: Add Winbond w25q32fv flash
	support Change-Id: I2919d462e04b489cc793b82ec347838a08cb8c48 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2273 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-18  Austin Phillips <austin_phillips@hotmail.com>

	* doc/openocd.texi, src/jtag/aice/aice_usb.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/opendous.c,
	src/jtag/drivers/osbdm.c, src/jtag/drivers/stlink_usb.c,
	src/jtag/drivers/usb_blaster/ublast2_access_libusb.c,
	tcl/interface/stlink-v2-1.cfg, tcl/interface/stlink-v2.cfg: Support
	hla_serial command for ST-LINK adapters.  The hla_serial command allows for a programming device serial number
	to be specified in addition to USB VID/PID.  This allows for
	multiple ST-LINK/V2 programmers to be attached to a single machine
	and operated using openocd.  Change-Id: I350654bf676eb26ba3a90450acfa55d2a5d2d791 Signed-off-by:
	Austin Phillips <austin_phillips@hotmail.com> Reviewed-on:
	http://openocd.zylin.com/2198 Tested-by: jenkins Reviewed-by: Martin
	Glunz <mg@wunderkis.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-16  Andrey Skvortsov <andrej.skvortzov@gmail.com>

	* src/jtag/drivers/stlink_usb.c: jtag: drivers: stlink: remove
	unnecessary '\n' in LOG_* entries Change-Id: Ia2dc3efc27b53334af4d85f9807abba0463c291b Signed-off-by:
	Andrey Skvortsov <andrej.skvortzov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2220 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-09-07  Anders <anders@openpuma.org>

	* src/flash/nor/spi.c: flash: added new Spansion S25FL116K,
	S25FL132K, and S25FL164K devices The new FL1-K family is replacing the FL-K family. The data from all
	three was based on the datasheet. In addition the 8MB S25FL164K was
	tested successfully with OpenOCD on a custom board.  Change-Id: Idafeed86da12a481c0db92cc0de7ba28f50c2252 Signed-off-by:
	Anders <anders@openpuma.org> Reviewed-on:
	http://openocd.zylin.com/2281 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-28  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/stm32lx.c: stm32lx: don't allow part_info to be
	uninitialized It's possible for us to fail to read the part ID code so make sure
	that part_info is initialized to NULL before attempting to do so,
	otherwise we could proceed and use it uninitialized and then
	segfault.  Change-Id: I0a3f3d3947690b66f0981b5046340449521e0b33 Signed-off-by:
	Jack Peel <jack.peel@synapse.com> Signed-off-by: Andrey Yurovsky
	<yurovsky@gmail.com> Reviewed-on: http://openocd.zylin.com/2276
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: Check return value from
	cortex_m_dcc_read.  Caught by clang.  Change-Id: I26d2b845aca431612862ef432b217ca397d9b893 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2279 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-18  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* tcl/board/st_nucleo_f411re.cfg: cfg: Added Nucleo-F411RE board
	config.  It supports STLink/V2-1 debug adapter.  Change-Id: Ifbc610cd68ec929608369e69d0b1395fe04956cd Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2259 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-08-20  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/sheevaplug.cfg: tcl/board/sheevaplug: add adapter_khz
	setting This combination is known to work properly with 2MHz JTAG clock.  Change-Id: Ie5ec3d3b415efbb13faee7d34e0c7f862b78350c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2266 Tested-by: jenkins

2014-08-20  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/sheevaplug.cfg: tcl/interface/ftdi/sheevaplug:
	fix device description Without this SheevaPlug debugging interface can't be matched.  Change-Id: Ifca149130d03c1aa165ed1123e8540e49485f023 Reported-by:
	Andreas Schneider <schneider.andi@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2265 Tested-by: jenkins

2014-02-20  Vanya Sergeev <vsergeev@gmail.com>

	* tcl/board/mbed-lpc11u24.cfg, tcl/target/lpc11uxx.cfg,
	tcl/target/lpc11xx.cfg, tcl/target/lpc12xx.cfg,
	tcl/target/lpc13xx.cfg, tcl/target/lpc1751.cfg,
	tcl/target/lpc1752.cfg, tcl/target/lpc1754.cfg,
	tcl/target/lpc1756.cfg, tcl/target/lpc1758.cfg,
	tcl/target/lpc1759.cfg, tcl/target/lpc1763.cfg,
	tcl/target/lpc1764.cfg, tcl/target/lpc1765.cfg,
	tcl/target/lpc1766.cfg, tcl/target/lpc1767.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc1769.cfg,
	tcl/target/lpc1788.cfg, tcl/target/lpc17xx.cfg,
	tcl/target/lpc1xxx.cfg: cfg: refactor lpc1xxx targets onto one base
	config Since now auto-detection for flash size works nicely, there's no
	reason to keep numerous configs around.  Change-Id: If0cbc37985abf17ef7c1f7d0688e76500fac228f Signed-off-by:
	Vanya Sergeev <vsergeev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1960 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-08-25  Бурага Александр <dtp-avb@yandex.ru>

	* "tcl/target/\320\2721879x\320\2611\321\217.cfg": tcl/target: add
	config for К1879ХБ1Я, a hybrid ARM11/DSP SoC by RC Module This adds config to allow JTAG debugging of an ARM core of a modern
	hybrid SoC by Research Centre "Module"
	(http://www.module.ru/en/company/). К1879ХБ1Я is targetted at
	set-top boxes and other multimedia equipment, the official SDK is
	Linux-based.  Change-Id: Ib2ae5784d25699f952682e66b025a3f677a76d5d Signed-off-by:
	Бурага Александр <dtp-avb@yandex.ru> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2272 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-18  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/stm32f2x.c: stm32f2x: added STM32F411xx series
	support.  Added STM32F411xx series to flash driver.  Tested on NUCLEO-F411RE board(STM32F411RET6).  Change-Id: Id7d1f2858c09815a013e0590e65ad193fb039157 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2258 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/olimex-arm-usb-tiny-h.cfg,
	tcl/interface/ftdi/olimex-jtag-tiny.cfg: tcl/interface/ftdi: fix
	TRST for Olimex TINY adapters According to the research by Eldar, TINY-H adapter has nTRST
	connected to ACBUS0 directly via a 100 Ohms series resistor. I think
	it's safe to assume the older TINY adapter does the same.  See high-res photos at [1].  This patch should fix issues with JTAG for the case when nTRST is
	actually connected but is missing from the config.  [1] https://wikidevi.com/wiki/Olimex_ARM-USB-TINY-H Change-Id: Iaaee7be30536ebb502802d38b82cd9573408f854 Reported-by:
	Хайруллин Эльдар <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2247 Tested-by: jenkins Reviewed-by:
	demokmail <demokmail@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: add all Tiva C
	parts IDs Luckily, TI's website has predictable URLs for the datasheets, so it
	was trivial to download all the pdfs corresponding to the currently
	available 71 TivaC devices. Then they were processed with pdftotext
	and parsed by this script: BEGIN { capture = -1 } /^Device Identification 0 \(DID0\)$/ { state
	= "waitingclass0" } /^Device Identification 1 \(DID1\)$/ { state =
	"waitingpartno0" } /^CLASS$/ { if (state == "waitingclass0") state =
	    "waitingclass" else if (state == "waitingclass") capture = 4 }
	/^PARTNO$/ { if (state == "waitingpartno0") state = "waitingpartno"     else if (state == "waitingpartno") capture = 4 } (FNR == 3) {
	family = $2 } {     if (capture >= 0) { 	if (capture == 0) { 	    if (state == "waitingclass") 		class = $0 	    else if (state == "waitingpartno") 		partno = $0 	} 	capture--     } } END { print "{" class ", " partno ", \"" family "\"}," } Change-Id: I6820c409fe535f08394c203276b5af4406fe8b92 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2262 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-17  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: improve support
	for Tiva C (Blizzard and Snowflake) This should make current Tiva C parts usable apart from the
	protection.  Runtime tested on TM4C123GXL (Blizzard) and TM4C1294XL (Snowflake).  Change-Id: Ia64e9d39fbd2b7049578bbfade72435e5203ddf5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2257 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-24  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/dp_busblaster.cfg,
	tcl/interface/ftdi/dp_busblaster_kt-link.cfg: tcl/interface/ftdi:
	add kt-link config (with SWD) for DP BusBlaster Change-Id: Icbeca8c0c3845c0b777fb2e4c81b17e7b7cc5ff8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2269 Tested-by: jenkins Reviewed-by: Ben
	Gamari <bgamari@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb1_common.c: jtag/drivers/libusb0_common: fix
	FTBFS (libusb_device_descriptor error) This struct and libusb_get_device_descriptor() method are not
	present in libusb-0.1 API, so when libusb-1.0 is unavailable, this
	code breaks the build. Fix by using the appropriate struct (which is
	apparently filled automatically on device initialisation).  While at it, change return values for consistency with the callers.  Change-Id: I7d85ab9a70401a155a65122397008ae4d81382fe Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2252 Tested-by: jenkins Reviewed-by: Austin
	Phillips <austin_phillips@hotmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/imx6.cfg: tcl/target/imx6: add yet another SJC tapid This is for mx6q TO1.1.  Change-Id: Id6af2ed232fc19be9bf49eb6d2df0004c6668698 Reported-by:
	Fabio Estevam <fabio.estevam@freescale.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2253 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-17  Paul Fertser <fercerpav@gmail.com>

	* src/target/adi_v5_swd.c: target/adi_v5_swd: fix segfault when
	calling jtag_to_swd When SWD mode is not supported by the target adapter, the call
	should return an error instead of segfaulting.  Change-Id: I1626097deb93ecfbe78a6e82d812c7a673dbbde5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2256 Tested-by: jenkins

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/tcl.c: jtag: always configure enabled tap parameter
	appropriately Commit f701c0cb seems to have introduced a regression for non-JTAG
	transports as the newly created "tap" (DAP actually) ended up being
	disabled, thus resulting in total lack of functionality.  This was exposed by a debug log demonstrating ftdi SWD transport
	connection to mdr32f9q2i, the target wasn't examined on init and
	couldn't be reset.  Change-Id: If53cbe800d4adc177aa3ac3219860e7fa15b3e49 Reported-by:
	Хайруллин Эльдар <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2261 Tested-by: jenkins Reviewed-by: Angus
	Gratton <gus@projectgus.com> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-01  Angus Gratton <gus@projectgus.com>

	* src/target/target.c: target async loader: add offset to debug
	lines This was very helpful when debugging programs during async loading.  Change-Id: Ia2eacc3e105403f70f51b1242b675e2ffe86e8ca Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2203 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-10  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/stm32lx.c: stm32lx: refactor and add support for
	STM32L0xx This adds initial support for the STM32L0 family, specifically the
	ID code 417 variant.  The 'L0 has 128B rather than 256B pages as
	well as a different number of pages per sector.  It also has several
	key registers and register sets in different locations from the
	STM32L1xx parts.  This change therefore takes the opportunity to reorganize part
	information into a const table (it was previously determined by a
	set of control statements) and abstracts away some of the low-level
	details to make them generic for L1 and L0 parts.  We also include the first bank's size (for dual bank parts) in the
	new device information table (and correct that size for the 0x437
	variant which is 256 rather than 192KB).  The 'L0 parts will not use the built-in loader/helper for Flash
	writing.  Tested on STM32L053 (dicovery board and Nucleo board) and STM32L152
	(discovery board).  Change-Id: I57f7a8ab02caee266de71b31ae82a50d85728a0b Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2200 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-19  Angus Gratton <gus@projectgus.com>

	* src/jtag/drivers/ftdi.c: jtag/drivers/ftdi: Use adapter_khz value
	for initial clock speed (was default 1kHz) nrf51822 doesn't like a 1kHz initial clock rate, puts the DAP into a
	bad state.  Mailing list discussion thread:

	http://sourceforge.net/p/openocd/mailman/openocd-devel/thread/20140718081528.GA5554%40ex2.lan/#msg32621853Change-Id: I71aa75505cc1b41ee80c7b9db415f6ac738c2916 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2223 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-18  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c: flash: samd: add missing ID for
	SAMD20E18A This was somehow missed in the chip ID table and of course that's
	exactly the one on my board (as such, tested on hardware).  Change-Id: I212d7c729d979e0357f1d4635f40935e25fe6ff3 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2260 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/jlink.c: jlink: Constantify string arrays Change-Id: Ib63f4c32e6d5a7dad21567521d938142ea40b308 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2245 Tested-by: jenkins

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/jlink.c: jlink: add variant "J-Link Lite-ADI" Fitted to various Analog Devices ADuCM36x dev boards.  Change-Id: Ib3691704c0ecd2f8cba1abba284aee695d6bc135 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2244 Tested-by: jenkins

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/jlink.c: jlink: fix typo Change-Id: If495b819c0532a97447ec7208c13d8a66a3ad47d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2243 Tested-by: jenkins

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32f1x.c: flash/nor/stm32f1x: add STM32F302x6/8
	IDs, clarify STM32F302xB/C Change-Id: I22afbe30f32b0ea9b59c3de8d15ce14bdc4763cc Reported-by:
	Luis Rodrigues <lfrodrigues@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2249
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-27  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/jtag/drivers/usb_blaster/usb_blaster.c: jtag: usb_blaster: fix
	initialization regression As Daniel pointed out, since the rewrite of the USB Blaster driver,
	the initialization behaviour has change. The initial flush of the
	FIFOs is not longer done with a specific USB setup packet, but with
	a write filling up the blaster queues.  The problem is, quoting Daniel :     When the CPLD is in bit banging mode (as is usually the case),
	    the first 0x00 byte sets all pins to low and disables the output     driver. Disabling the output drivers is a few nanoseconds slower     than changing a pin from high to low, so I see a spike towards
	    GND on my reset line when that byte is sent over USB. The spike
	    is too short to have an effect on the board.      When the 4096 0x00 bytes are processed and the TMS=1 is to be     generated, all I see is several microseconds of low level on all     pins, resetting my board.  This patch changes the way the initialization is done :  - at driver init, nothing is sent towards the usb-blaster    This gives time for init script to setup PIN6 and PIN8 (resets)  - at the very first driver command, the initialization is done :    - the output is in bit bigbang mode    - the PIN6 and PIN8 are computed according to init script    - the 4096 computed output is sent Change-Id: If7ceee957f6b59bcb27c8f912f1cfdd0f94f75ed Reported-by:
	Daniel Glöckner <daniel-gl@gmx.net> Cc: Franck Jullien
	<franck.jullien@gmail.com> Signed-off-by: Robert Jarzmik
	<robert.jarzmik@free.fr> Reviewed-on: http://openocd.zylin.com/2229
	Tested-by: jenkins Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Daniel Glöckner
	<daniel-gl@gmx.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* src/transport/transport.c: transport: emit a warning when a user
	tries to reselect a transport Even though changing transport is impossible, reselecting it should
	be harmless.  Change-Id: I6c1c2786134e826f47f848b590e6d712b6fd2206 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2251 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/olimex-arm-jtag-swd.cfg,
	tcl/interface/ftdi/rowley-cc-arm-swd.cfg,
	tcl/interface/ftdi/swd-resistor-hack.cfg: tcl/interface/ftdi:
	auto-select SWD from converters' configs When you source a JTAG-SWD converter config, any other transport
	doesn't make any sense, so just autoselect it right there.  Change-Id: I6c098740905a0d4007473fc19cc07e11cbcc9369 Suggested-by:
	Хайруллин Эльдар <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2248 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Eldar Khayrullin
	<eldar.khayrullin@mail.ru>

2014-08-17  Eldar Khayrullin <eldar.khayrullin@mail.ru>

	* tcl/board/stm32ldiscovery.cfg: tcl/board/stm32ldiscovery: fix
	breakage Change-Id: I450ea82c27009be6bad6a7814969d81964ff44d8 Signed-off-by:
	Eldar Khayrullin <eldar.khayrullin@mail.ru> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2255 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-23  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_m4k.c: mips_m4k.c: EJTAGBOOT and NORMALBOOT are
	not supported on EJTAG 2.0 Change-Id: I8157c19e9d8aed5c2376a2c54c32c1ddac1ad5af Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1934 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-22  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_m4k.c: mips_m4k.c: D or I breaks only if they
	supported.  For example Realtek RTL8186 (Lexra LX5280 core) don't support break-
	and watchpoints.  Change-Id: Ie00102da4bf13a8c42a9ad05910c66884f297cfd Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1933 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-05  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips32.c, src/target/mips_ejtag.h: mips32.c: cache
	debug caps and support EJTAG 2.0 specific changes EJTAG v2.0 indicated some debug caps in IMP register.  V2.6 moved
	them to DCR register. To make it more universal, convert this values
	and store them for later use.  Change-Id: Id6b9f47c9c2ea94d37281ebfcae5acf357261ddf Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1932 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-21  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips32.c: mips32.c: fix IB and DB bits check for EJTAG
	v2.0 Change-Id: I4e28dddc1d5d9c2b923ae17beacdd7f73591b1d0 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1931 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-23  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_ejtag.c: mips_ejtag.c: do not set v2.6 ECR bits on
	v2.0 devices Change-Id: I894abbb923282d5f84daf8e0bca69190c07567de Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1930 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-14  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips_ejtag.c|h:
	use version specific IMPs and make version specific debug log Change-Id: I17f7ff757cfa1264a1dadbfe20c5e21de62ef87a Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1929 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-08  Cristian Maglie <c.maglie@bug.st>

	* src/helper/options.c: Removed limit on lenght of command line
	options.  In particular -f and -s options may contains paths that can easily
	exceed the (old) 128 bytes buffer.  Change-Id: Ifc198536549f50663e8e588519bb9ef75dcd172c Signed-off-by:
	Cristian Maglie <c.maglie@bug.st> Reviewed-on:
	http://openocd.zylin.com/2241 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-04-16  Andrey Smirnov <andrew.smirnov@gmail.com>

	* tcl/board/nordic_nrf51822_mkit.cfg: tcl/board: Add board
	configuration for nRF51822-mKIT Add board configuration for Nordic's nRF51822-mKIT devkit, available
	here: http://mbed.org/platforms/Nordic-nRF51822/ Change-Id: Ib9329307147b1e7be061a5060b4eec8256fe2bd4 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> [gus@projectgus.com: Minor
	tweaks, model number] Signed-off-by: Angus Gratton
	<gus@projectgus.com> Reviewed-on: http://openocd.zylin.com/2116
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-28  Angus Gratton <gus@projectgus.com>

	* src/helper/log.h, src/jtag/drivers/stlink_usb.c: stlink_usb: Fix
	swallowed error on read/write operations, add retries on SWD WAIT,
	clean up error debug output.  - stlink_usb_get_rw_status() had a bug where FAULT or WAIT responses   in read/write operations were ignored, leading to incomplete data.  - Added wrapper stlink_cmd_allow_retry to handle   SWD_AP_WAIT/SWD_DP_WAIT statuses in most commands. These statuses   appear if an SWD read or write received a WAIT ACK response from
	  the target more than 4 times in a row. The driver retries the
	  operation (with exponential backoff) before failing outright (in
	  testing 1 retry was always enough.) - As part of the implementation of stlink_cmd_allow_retry a large   number of lines of boilerplate were refactored.  - Fleshed out stlink_usb_error_check and added it to some more code   paths so WAIT or FAULT responses are logged to debug. WAIT
	  responses will be logged even if they are subsequently retried,
	  which should help in case the retries have subtle side effects (none   anticipated.) Tested with two targets: STLINK F0 Discovery, Nordic NRF51822. Only
	tested with STLINK V2 programmers.  Change-Id: I9af24e8f0121b035356dbb9978d6bbf4feb2e4d3 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2201 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-01  Angus Gratton <gus@projectgus.com>

	* tcl/target/nrf51.cfg: nRF51822: Add workaround for PAN-16 where
	not all RAM blocks reliably enabled on reset According to Nordic Semiconductor Product Anomaly Notice (document
	NRF51822-PAN), item 16, some revisions of nRF51822 sometimes reset
	without all RAM blocks enabled. This was noted on NRF51822-QFAA rev
	CA/C0, only 8KiB of memory was accessible.  This patch turns on all RAM following a debugger induced reset
	(matches specified behaviour.) Change-Id: I4f8be4ec3d1271da7fe5bc9a084fdcb2968535bb Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2202 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-07  Andrey Skvortsov <andrej.skvortzov@gmail.com>

	* tcl/target/amdm37x.cfg: tcl/target: added support for TI OMAP/AM
	3505 and 3517 added TAPID for OMAP/AM 3505 and 3517. Tested on TAM3517 Twister
	board with AM3517 SoC.  Change-Id: I78a3268a4adb18092c694a556538c99c9032f648 Signed-off-by:
	Andrey Skvortsov <andrej.skvortzov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2127 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-28  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/stlink_usb.c, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.h, src/jtag/hla/hla_tcl.c,
	src/jtag/hla/hla_transport.c, src/target/target.c,
	src/transport/transport.h, tcl/board/ek-lm4f120xl.cfg,
	tcl/board/ek-lm4f232.cfg, tcl/board/ek-tm4c123gxl.cfg,
	tcl/board/st_nucleo_f030r8.cfg, tcl/board/st_nucleo_f103rb.cfg,
	tcl/board/st_nucleo_f334r8.cfg, tcl/board/st_nucleo_f401re.cfg,
	tcl/board/stm320518_eval_stlink.cfg,
	tcl/board/stm3220g_eval_stlink.cfg,
	tcl/board/stm3241g_eval_stlink.cfg,
	tcl/board/stm32429i_eval_stlink.cfg,
	tcl/board/stm32439i_eval_stlink.cfg,
	tcl/board/stm32f0discovery.cfg, tcl/board/stm32f3discovery.cfg,
	tcl/board/stm32f429discovery.cfg, tcl/board/stm32f4discovery.cfg,
	tcl/board/stm32ldiscovery.cfg, tcl/board/stm32vldiscovery.cfg,
	"tcl/target/1986\320\262\320\2651\321\202.cfg",
	tcl/target/at91sam3XXX.cfg, tcl/target/at91sam3nXX.cfg,
	tcl/target/at91sam4XXX.cfg, tcl/target/at91samdXX.cfg,
	tcl/target/efm32.cfg, tcl/target/efm32_stlink.cfg,
	tcl/target/fm3.cfg, tcl/target/k40.cfg, tcl/target/k60.cfg,
	tcl/target/kl25.cfg, tcl/target/kl25z_hla.cfg, tcl/target/kl46.cfg,
	tcl/target/lpc11uxx.cfg, tcl/target/lpc1788.cfg,
	tcl/target/lpc17xx.cfg, tcl/target/lpc1850.cfg,
	tcl/target/lpc4350.cfg, tcl/target/mdr32f9q2i.cfg,
	tcl/target/nrf51.cfg, tcl/target/nrf51_stlink.tcl,
	tcl/target/stellaris.cfg, tcl/target/stellaris_icdi.cfg,
	tcl/target/stm32_stlink.cfg, tcl/target/stm32f0x.cfg,
	tcl/target/stm32f0x_stlink.cfg, tcl/target/stm32f1x.cfg,
	tcl/target/stm32f1x_stlink.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f2x_stlink.cfg, tcl/target/stm32f3x.cfg,
	tcl/target/stm32f3x_stlink.cfg, tcl/target/stm32f4x.cfg,
	tcl/target/stm32f4x_stlink.cfg, tcl/target/stm32l.cfg,
	tcl/target/stm32lx_dual_bank.cfg, tcl/target/stm32lx_stlink.cfg,
	tcl/target/stm32w108_stlink.cfg, tcl/target/stm32w108xx.cfg,
	tcl/target/swj-dp.tcl: Allow transports to override the selected
	target (hla configs unification) This should allow to share common configs for both regular access
	and high-level adapters.  Use the newly-added functionality in stlink and icdi drivers, amend
	the configs accordingly.  Runtime-tested with a TI tm4c123g board.  Change-Id: Ibb88266a4ca25f06f6c073e916c963f017447bad Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> [gus@projectgus.com:
	context-specific deprecation warnings] Signed-off-by: Angus Gratton
	<gus@projectgus.com> [andrew.smirnov@gmail.com: additional nrf51.cfg
	mods] Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com>
	Tested-by: Andrey Skvortsov <andrej.skvortzov@gmail.com>
	Reviewed-on: http://openocd.zylin.com/1664 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-24  Angus Gratton <gus@projectgus.com>

	* src/jtag/tcl.c: newdap: Ignore -irlen/-irmask/etc newdap params on
	SWD or CMSIS-DAP Previously the -irlen parameter was required even though it is not a
	part of the SWD or CMSIS-DAP transports.  This may eventually need to be changed for CMSIS-DAP once that
	supports JTAG as well.  Change-Id: Ia02b67840c19c7cf1c7a75063648c0174176a311 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2226 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/interface/ftdi/flyswatter.cfg: interface/ftdi: Mark
	flyswatter.cfg as tested - Flyswatter + Proxmark3 (Atmel AT91SAM7S256) - works - Flyswatter + Tiva Launchpad (EK-TM4C123GXL) - works Change-Id: I615e0ff9262be6ae1064fb2de8e6e810775e7db4 Tested-by:
	Ondrej Mikle <ondrej.mikle@nic.cz> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2237 Tested-by: jenkins

2014-07-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/jlink.c: drivers/jlink: Revert old workaround This workaround broke usage with at least the I.MX6Q.  The comment implies that talking to the J-Link dongle itself should
	fail if the target isn't reset, which sounds really strange. I'm
	guessing it just triggered another bug in OpenOCD or Segger FW which
	might have been fixed since. Revert and wait and see if there are
	any failure reports.  Tested with Kwikstik (J-Link + Kinetis K40), not with the mentioned
	adapter.  Change-Id: I97f555efe079bd99c098bf483491d9509b2363ad Signed-off-by:
	Roy Spliet <rspliet@mpi-sws.org> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2147 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-07-19  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/jlink.c: drivers/jlink: fix SWD speed config, and
	set it before sending anything During the initialisation a driver might need to communicate with
	the target (e.g. sending jtag2swd sequence), so when doing so it
	should honour the user-specified speed.  Change-Id: If84fea6057fda9edcf2c0a653edfbab2500e3cdd
	[andrew.smirnov@gmail.com: fix khz/hz confusion] Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2224 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-14  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/jlink.c: drivers/jtag/jlink: support SWD mode Quick attempt at SWD support, closely modelled after ftdi.  Change-Id: I25140d80c5be7b2f8f0e2ef722a4ba4df0da4cf3 Signed-off-by:
	Brian Campbell <Brian.Campbell@ed.ac.uk> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2141
	Tested-by: jenkins Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-07-28  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s3748.cfg,
	tcl/board/ek-lm3s6965.cfg, tcl/board/ek-lm3s811-revb.cfg,
	tcl/board/ek-lm3s811.cfg, tcl/board/ek-lm3s8962.cfg,
	tcl/board/ek-lm3s9b9x.cfg, tcl/board/ek-lm3s9d92.cfg,
	tcl/board/hitex_stm32-performancestick.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/openrd.cfg,
	tcl/board/sheevaplug.cfg: tcl/board: fix all the remaining boards
	that were sourcing ft2232 configs This was reported in
	https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=751372 .  Change-Id: I258f3d40593ff2966ce3ca61c13a23699d1b162f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2230 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* .gitignore, src/Makefile.am, src/helper/bin2char.sh,
	src/openocd.c, src/openocd.h, src/target/Makefile.am,
	src/target/xscale.c: Fix some problems with the bin2char utility Don't hardcode the type for the array, just output the array
	initializer so the includer can choose the type and storage class,
	zero-terminate at will and so on.  Change-Id: I6d5e0710eaaba0a218b3eb32f6569177356f4462 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2176 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-11  Paul Fertser <fercerpav@gmail.com>

	* configure.ac, src/Makefile.am, src/helper/Makefile.am,
	src/helper/bin2char.c, src/helper/bin2char.sh,
	src/target/Makefile.am: Provide od+sed replacement for the bin2char
	helper Using custom build-time tools is always more problematic, especially
	for cross-compiling.  This alternative implementation assumes "od" (IEEE Std 1003.1-2001)
	and sed are available which should be the case for any reasonably
	modern system.  Change-Id: I0208f475648c78e7dca127ff4bab60d314b2bf53 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2139 Tested-by: jenkins Reviewed-by: Fatih
	Aşıcı <fatih.asici@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-13  Fredrik Hederstierna <fredrik@hederstierna.com>

	* tcl/board/stm32429i_eval.cfg,
	tcl/board/stm32429i_eval_stlink.cfg, tcl/board/stm32439i_eval.cfg,
	tcl/board/stm32439i_eval_stlink.cfg: tcl/board: add STM32429I-EVAL
	and STM32439I-EVAL dev boards from ST.  Change-Id: I304b6e7bae832391f11d53003299d68e31b0e4ef Signed-off-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-on:
	http://openocd.zylin.com/2171 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-23  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/stm32l.cfg: tcl/target/stm32l: restore slow clock on
	reset Change-Id: I63eafaa38b188fe50c13ab966be44a3eaa2006b0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2188 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-07-01  Thomas Schmid <thomas@rfranging.com>

	* src/flash/nor/at91samd.c, tcl/board/atmel_samr21_xplained_pro.cfg: 
	Adding support for the Atmel SAMR21.  The Atmel SAMR21 is a Atmel SAMD21 with an Atmel RF233 in one
	package (two dies). Tested with the SAMR21 Xplained Pro eval kit.  Change-Id: I1d79ea05834b925d7ec810527206fe86854e684b Signed-off-by:
	Thomas Schmid <thomas@rfranging.com> Reviewed-on:
	http://openocd.zylin.com/2194 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-06-24  Masaki Muranaka <monaka@monami-ya.com>

	* src/jtag/drivers/cmsis_dap_usb.c: drivers/cmsis_dap_usb: Return
	with ERROR_FAIL if no CMSIS-DAP device is found.  Even if it does not return, the initialization will be failed.  But
	it is better to show why the error is caused.  Change-Id: I399c7c94a7156be22723a9715e594061bb414a7e Signed-off-by:
	Masaki Muranaka <monaka@monami-ya.com> Reviewed-on:
	http://openocd.zylin.com/2189 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-07  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_m4k.c: mips_m4k.c: make sure fast_data_area is
	safe If load_image address overlap with fast_data_area, it will caouse
	different mysterius issues. This patch should prevent it.  Change-Id: Ibc95e5aa3ac002a59755029496b6a72616e9287f Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1854 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-03  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/target/altera_fpgasoc.cfg, tcl/target/armada370.cfg: cfg:
	Rename leftover cortex_a8 -> cortex_a Change-Id: Id11d89ae2fb78854da4284afb7f14d8a892a2e49 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2197 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-07-02  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/kinetis.c: kinetis : Added Kinetis-K Series MDM-AP
	ID.  Kinetis-K series has ID:0x001C0000 on MDM-AP IDR register.  Other
	Kinetis(L/M/V/E) series have ID:0x001C0020.  Change-Id: Iada37038cd239f7331ba80a3673b36bf7e18c555 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2195 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-29  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/cortex_a.c, src/target/cortex_a.h, src/target/target.c: 
	cortex_a: target implementation renames cortex_a8 to cortex_a A previous commit changes the target name used by tcl scripts.
	commit d9ba56c295f057e716519a798bf9cdb4898c24f4 target: rename
	cortex_a8 to cortex_a The current change renames target functions and definitions in the
	implementation from cortex_a8 to cortex_a.  This prepares the
	implementation to support Cortex-A8, A9, A15-MPCore in one place.  Change-Id: I73b5a38a92c12ba5bd3b806fbbb664817575a6d7 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1599 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-18  Fatih Aşıcı <fatih.asici@gmail.com>

	* configure.ac, src/jtag/drivers/versaloon/versaloon.c,
	src/jtag/drivers/versaloon/versaloon.h,
	src/jtag/drivers/versaloon/versaloon_include.h,
	src/jtag/drivers/vsllink.c: vsllink: Port to libusb-1.0 API Change-Id: I8a9a4dace8e7e8152947094b27b86f9a0d90fa61 Signed-off-by:
	Fatih Aşıcı <fatih.asici@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1952 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-02-16  Fatih Aşıcı <fatih.asici@gmail.com>

	* src/jtag/drivers/versaloon/usbtoxxx/usbtoswd.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.h,
	src/jtag/drivers/versaloon/versaloon.h, src/jtag/drivers/vsllink.c: 
	vsllink: Add SWD support Tested with stm32f1x, stm32f4x and kl25 targets using SWD transport.  Change-Id: I118d07371b53f402ea9ac73f874460a309c05100 Signed-off-by:
	Fatih Aşıcı <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1947 Tested-by: jenkins

2014-06-23  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/opendous.c: jtag/drivers/opendous: remove ftime()
	calls ftime() is deprecated by POSIX.1-2008 and causes a warning on
	FreeBSD.  The generic OpenOCD LOG_DEBUG implementation already outputs time of
	an event with a millisecond precision.  Change-Id: Ic8e4ea27c268f07554ba519768b9bdfc4343f3e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2187 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-25  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c: drivers/cmsis_dap_usb:
	restructure init sequence a bit This fixes the issue of improper initialisation sequence and in
	particular makes "cmsis_dap_vid_pid" config specification
	functional.  Not really elegant but it's in line with the ftdi driver and so can
	be reworked in a uniform way later when the internal API is changed.  Change-Id: Ief9fc64ad0ac24e1c66727153f383e4f30a830c7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2192 Reviewed-by: Andrey Yurovsky
	<yurovsky@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-06-24  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c: jtag/drivers/cmsis_dap: fix
	check for hardcoded vids/pids This is intended to fix cmsis_dap_vid_pid command but it doesn't
	because cmsis-dap has only one transport and it's auto-selected from
	"interface" command handler (before any other commands are run) and
	as the result cmsis_dap_usb_open() is called too early.  Change-Id: Idaade73797d8df67a6439d096f6abc9736495599 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2191 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-20  Kamal Dasu <kdasu@broadcom.com>

	* src/svf/svf.c: Openocd: svf: Add ability to ignore svf_check_tdo
	errors Added Openocd commandline argument to ignore_error when the read
	back TDO does not match to expected value specified with TDO after
	masking with what is specified in MASK. This allows to continue to
	play entire SVF file ignoring errors.  Error logs clearly show the
	failure reason and prints read back TDO value.  Change-Id: I324f476fc16a003b35e6f2c5b63976431f49d54a Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2129 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-02-26  Mathias K <kesmtp@freenet.de>

	* src/target/cortex_m.c: Add error handling and remove double
	readout.  Remove double readout of DCB_DHCSR in target poll. The return value
	of the endreset event is handled and not ignored in target poll.  Change-Id: I8fe026418dadcf0b0dcbb09acee871ad950937a2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1181 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-06-22  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ftdi.c: jtag/drivers/ftdi: do not touch
	unavailable reset signals If the current reset_config doesn't specify availability of nTRST or
	nSRST, just leave them alone, do not try to deassert them ever
	(asserting would be prevented by the upper layer).  Change-Id: I90123c666e05a1c26f1e164625e82d766a3e3744 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2186 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/luminary-icdi.cfg,
	tcl/interface/ftdi/luminary-lm3s811.cfg,
	tcl/interface/ftdi/luminary.cfg: cfg: add SWD configs for stellaris
	ftdi based adapters Tested on hardware.  Change-Id: Ib0191e97988dc79e9a62da74bd7fe25f548ff5a2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2185 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/kt-link.cfg,
	tcl/interface/ftdi/olimex-arm-jtag-swd.cfg,
	tcl/interface/ftdi/rowley-cc-arm-swd.cfg,
	tcl/interface/ftdi/swd-resistor-hack.cfg: tcl/interface/ftdi: add
	SWD configs for kt-link, olimex, rowley and resistor hack Resistor hack is runtime-tested, other configs are based on
	schematics.  Change-Id: I8daffa0434cd41d142fbec7c230a302284f7aa31 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2184 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ftdi.c,
	tcl/interface/ftdi/jtag-lock-pick_tiny_2.cfg: jtag/drivers/ftdi:
	require defining SWD_EN signal for SWD mode Use a special signal instead of a dedicated swd mask. Amend
	jtag-lock-pick_tiny_2 config accordingly.  Change-Id: Ifb007a0b5434b590c52f936efd5f5458e913e2e4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2183 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ftdi.c: jtag/drivers/ftdi: declare standard JTAG
	signals on SWD init Unfortunately, this means they're available for config files only
	after selecting swd transport.  Change-Id: Ia2afc1f3bfdba8d81efbb8ab964b174c0f7e2811 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2182 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/jtag/drivers/ftdi.c: jtag/drivers/ftdi: add
	option to declare signal aliases This adds -alias|-nalias options to ftdi_layout_signal command that
	allow to declare a new signal based on an already defined one.  Change-Id: I552578ebcd12ae21957a1c0d3b7e878adeff6df0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2181 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-19  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/startup.tcl, tcl/target/swj-dp.tcl: Auto-select JTAG
	transport when appropriate I looked through all the target configs after stripping comments and
	such from them with sed to see what jtag-specific commands can
	appear first, and it looks like all the meaningful combinations
	should be covered.  Change-Id: I8d543407b7f4ac8aca7354ecd50e841c8a04d5f3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2179 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/core.c, src/target/adi_v5_swd.c: Relax polling check if
	not in JTAG mode Polling was disabled based on global variables jtag_trst and
	jtag_srst which were never touched in non-JTAG mode. Modify the
	check and remove the ugly workaround to avoid calls to a possibly
	uninitialized JTAG subsystem.  Change-Id: I3b18c81e0fba7aaf35afe6f08c3fe8fa6f8443fd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2143 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/interface/ftdi/jtag-lock-pick_tiny_2.cfg: cfg: Add SWD support
	to JTAG-lock-pick Tiny 2 Change-Id: I61eac507fa6861b7daf603ebca58e8bf3cc699c1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2136 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c: Add FTDI SWD driver This is usable on most or all FTDI adapters using a small hardware
	tweak.  TCK goes to SWCLK as expected. TDO should be wired to SWDIO. For TDI
	there are two options: Either add a 74HC126 or similar tri-state buffer between TDI and
	SWDIO, with OE controlled by a signal named SWDIO_OE. Or simply
	connect TDI and SWDIO together via a suitable resistor (220-470 ohms
	or so depending on the drive capability of the target and adapter).  nSRST (and of course Vcc, GND) may be connected too but all other
	signals should be NC.  Change-Id: Id36cf4577439be96bd4e5955c3026236e1cabced Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1958 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/adapter.c, src/jtag/interface.h,
	src/transport/transport.c, src/transport/transport.h: transport:
	Constify the transports vector Change-Id: I0c874b5d4c97cf781d83bd381d701f770e069f72 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2135 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/swd.h: swd: Add frequency setting and special/switching
	sequences to the API Change-Id: I6f3950374f2525a18bbcb9cbd340c447c20fb704 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2134 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.h: adi_v5: Make sure all bit masks are
	unsigned and wide enough.  Also align them with spaces instead of tabs.  Change-Id: I1c01412a3ea77b29e8e133f5c92d05ed79d7c0f3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2133 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c, src/jtag/swd.h,
	src/target/adi_v5_cmsis_dap.c, src/target/adi_v5_swd.c: swd: Remove
	support for turnaround periods other than 1 ARM deprecated other trn periods in ADIv5.1 and one cycle is the
	only setting that is guaranteed to be implemented, as well as being
	the reset value in ADIv5.0.  Thus it makes no sense supporting anything else.  Change-Id: Iffa16bb0ce74788bca88fd3ace8a026148013d00 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2132 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/swd.h: swd: Fix park bit polarity according to ADIv5.1
	Supplement Change-Id: I27293defd3f3c3bf37c9662f88689e85ba593d86 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2131 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c, src/jtag/swd.h,
	src/target/adi_v5_cmsis_dap.c, src/target/adi_v5_swd.c,
	src/target/arm_adi_v5.h: swd: Convert API to asynchronous Change-Id: I859568dbb2ad4e92411980751c3f747bd70638b8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1959 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-06-18  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/adi_v5_cmsis_dap.c: adi_v5_cmsis_dap.c: Simplify
	debugging output Name of the function is already a part of the LOG_DEBUG macro, so
	there's no need to include it in the string itself.  Change-Id: I18c3d5b746e9106d55104e490ccf5bc5e85cc380 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2138 Tested-by: jenkins

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/adi_v5_cmsis_dap.c, src/target/cortex_m.c,
	tcl/target/at91sam4lXX.cfg: cortex_m: Do additional initialization
	during reset SAM4L requires additional steps to be taken right after SYSRESETREQ
	is issued in order to function robustly:        - CMSIS-DAP DAP driver needs to explicitly check for sticky
	         bit errors since it is possible for adapter to perform
	         successful write opration, report no errors and then, under the
	         hood, do some other things that will result in sticky bit being set.         - Debugger needs to wait for security system to finish          intialization and assert CDBGPWRUPACK before proceeding This change is related to commit http://openocd.zylin.com/#/c/1995/ Change-Id: I741c95a809bfd60d930cec9482239e4796a62326 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2088 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andrey Yurovsky <yurovsky@gmail.com>

2014-06-18  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/adi_v5_cmsis_dap.c: adi_v5_cmisis_dap: Separate ABORT
	from clearing sticky errors We don't need to do full blown AP ABORT in case of CMSIS-DAP errors,
	and the code that was in place was not doing that(issuing AP ABORT)
	anyway.  Change-Id: Ide83b1f8875d725da6cb0d53aae8229f8c6316b3 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2112 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com>

2014-05-09  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c: drivers/cmsis_dap_usb: remove
	jtag reset hacks This should no longer be needed after tcl scripts are fixed to avoid
	calling jtag subcommands when jtag is not used.  Barely tested with an frdm board.  Change-Id: I75f02b088e6134562ae634417d97c48e377df6e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2130 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-01  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/startup.tcl, src/target/startup.tcl,
	"tcl/target/1986\320\262\320\2651\321\202.cfg",
	tcl/target/at91sam3XXX.cfg, tcl/target/at91sam4XXX.cfg,
	tcl/target/lpc17xx.cfg, tcl/target/mdr32f9q2i.cfg,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f3x.cfg, tcl/target/stm32f4x.cfg,
	tcl/target/stm32l.cfg, tcl/target/stm32w108xx.cfg,
	tcl/target/swj-dp.tcl: tcl: introduce using_(jtag|swd|hla) helpers
	and use them in reset handler Barely tested with plain SWD transport.  Change-Id: I48b59136bf4294ffed737dba01f1b30ef83aa86b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2003 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/types.h, src/jtag/swd.h: swd: Improve parity
	calculation and move it to types.h It could be reused by SWD drivers and in other places.  Change-Id: Ieed0cf70c111a73d3a42ed59f46a0cdd177a73d5 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1957 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/adi_v5_swd.c: adi_v5_swd: Separate sticky error
	clearing from AP abort Swd_queue_ap_abort should set DAPABORT, not only clear sticky
	errors.  However, DAPABORT should not be set as soon as there is a
	single FAULT/WAIT response. It's an "emergency only" operations for
	use only when the AP have stalled the transfer for a long time. So
	these need to be separate functions.  Change-Id: I37618447884faad54d846c2b07fa668ad505919d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1956 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c, src/jtag/swd.h,
	src/target/adi_v5_cmsis_dap.c, src/target/adi_v5_jtag.c,
	src/target/adi_v5_swd.c, src/target/arm_adi_v5.h: adi_v5: Remove
	unused features of the DAP and SWD interfaces These features are not currently used so remove or disable them
	before something starts to. Not having them around simplifies
	redesign of the APIs.  Change-Id: Iad25cc71c48b68a1fa71558141bf14d5ab20d659 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1955 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/adi_v5_swd.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: adi_v5_swd: Read RDBUFF once after a
	sequence of AP reads Increases performance by a factor of two for long reads.  Change-Id: I81a7a83835058560c6a53a43c3cc991100f01766 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1954 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c: adi_v5: Remove strange IDCODE check from
	dap info handler Otherwise it breaks SWD targets. The check seems really weird anyway
	since it loops through *all* TAPs after the ADIv5 target but doesn't
	do anything at all with the result, other than not setting the
	return values despite returning ERROR_OK.  Remove a bogus initialization that was needed because of the odd
	behaviour of this routine when an IDCODE wasn't found.  Change-Id: Ic086352f6af868b3406b00420291a0a671e3acac Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1953 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-14  Fatih Aşıcı <fatih.asici@gmail.com>

	* src/jtag/swd.h, src/target/adi_v5_swd.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: adi_v5_swd: Improve SWD support Fix bug in parity calculation macro.  Cache and update the selected DP bank when necessary.  Add aborts when the Ack code signals a failure (we should really
	only clear the sticky bits, but this will do for now).  Change-Id: I38a4da136ba1d9e989b33c1875a80c0b1b2be874 Signed-off-by:
	Fatih Aşıcı <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1950 Tested-by: jenkins

2014-06-15  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: configure: fix formatting when "echo -n" is not
	supported The -n option is non-standard and is unavailable on some systems
	(e.g. OS X's shell builtin).  Change-Id: Ia2fed186dee5fa6da543944873d67ebee1d9354e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2172 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-12  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/jlink.c: jtag/drivers/jlink: better diagnostics
	for RCLK problems The JLink protocol description doesn't really specify it for
	JTAG-level commands but the real life evidence is that 0x01 error
	code means "Adaptive clocking timeout" as it does for e.g.
	WRITE_MEM_ARM79.  Change-Id: I4e3b568742814271919f92d202713968c8fcccfb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2169 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-12  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c: flash: samd: add SAMD10 and SAMD11 part
	IDs Add part IDs for the new SAMD10 and SAMD11 parts within the Atmel
	SAMD family, they have the same Flash controller as the other samd
	parts and should be supported by the at91samd driver.
	Compile-tested only.  Change-Id: I493ae96a7d7e8d19e607fd9a4b6544a982be42b3 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2170 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-04  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/fm3.cfg: tcl/target/fm3.cfg: use a CHIPNAME known by
	the flash driver fm3 flash driver needs to know which chip variant is used.  This fixes "unknown fm3 variant: mb9bf500.cpu" error if the config
	is used as is.  Change-Id: I500fcfb413f23ee246678cec5bd19d14139a28e2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2160 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-10  Jiri Kastner <jkastner@redhat.com>

	* src/target/arm_adi_v5.c: target: arm_adi_v5: added types and
	subtypes based on latest coresight documentation while investigating coresight components, i've found some new
	partnumbers and devtypes.  Change-Id: Ie68032b0b21d542c2084f80db38b06f5cd4c7591 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2166 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-30  Franck Jullien <franck.jullien@gmail.com>

	* src/server/server.c, src/target/openrisc/Makefile.am,
	src/target/openrisc/jsp_server.c, src/target/openrisc/jsp_server.h,
	src/target/openrisc/or1k_du.h, src/target/openrisc/or1k_du_adv.c,
	tcl/board/or1k_generic.cfg, tcl/target/or1k.cfg: openrisc: add
	support for JTAG Serial Port Change-Id: I623a8c74bcca2edb5f996b69c02d73a6f67b7d34 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2162 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-09  Franck Jullien <franck.jullien@gmail.com>

	* src/target/openrisc/or1k_du_adv.c: openrisc: restore current JTAG
	module while polling the CPU Change-Id: I93827afaa164d23a93bdddbfa864624b18473f45 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2163 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-04  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/tcl.c: flash/nor/tcl.c: fix formatting in "rejected"
	error message The error message (with the usage field unpopulated) looks like
	this, obviously missing at least a space before Usage: Error: 'fm3' driver rejected flash bank at 0x00000000Usage (null) Change-Id: I2a625676e784d02942823f972a201f7f4f810c68 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2161 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-16  Joshua Wise <joshua@joshuawise.com>

	* src/svf/svf.c: svf: Only read TDO back from the device if we
	actually need to look at the bits.  This results in a 90% speedup on USB-Blaster, which serializes
	repeated TDI input against TDO readback; program time on an
	5CGXFC5C6F27 part was dropped from 2m30s to 9s.  Signed-off-by: Joshua Wise <joshua@joshuawise.com> Change-Id:
	I92d5a8b800492283d619328549235b610528c338 Reviewed-on:
	http://openocd.zylin.com/2145 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-21  Tom Rini <trini@ti.com>

	* tcl/target/am335x.cfg: tcl/target/am335x.cfg: Drop gdb-attach
	stanza This isn't needed nor a recommended practice now, was a simple
	copy/paste from amdm37x.cfg anyhow.  Change-Id: I064226dc859d7563cfad945b577279fc37448645 Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2068
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-02-27  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/efm32.c: efm32 : Added ZeroGecko family support.  Added Cortex-M0plus "ZeroGecko" Family to flash driver.  Tested on
	EFM32ZG222F32.  Change-Id: I1660b34ef6ee04837e97581504fff0faf84d1c6d Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1994 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-06  Seth LaForge <sethml@google.com>

	* src/target/cortex_a.c: cortex_a: fix lockup when writing to high
	address On a processor with caches, when you write data to memory OpenOCD
	invalidates the cache lines affected. If you write to an address
	within 64 bytes of UINT32_MAX, then the for loop control variable
	wrapped around resulting in an infinite loop. Change control
	variable to be an offset from the address involved. We should never
	be asked to write 2^32 bytes, so wraparound should not be a problem.  Change-Id: Ibfe654113eff71684862ff651e7a1cd05ccc6760 Signed-off-by:
	Seth LaForge <sethml@google.com> Reviewed-on:
	http://openocd.zylin.com/2126 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* tcl/board/st_nucleo_f334r8.cfg: cfg: Added Nucleo-F334R8 board
	config.  It supports STLink/V2-1.  Change-Id: I0a8c01247a7a0165321818ca222479e3ae67ce5c Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2175 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/stm32f1x.c: stm32f1x: add STM32F33x support.  Added STM32F33x series to flash driver.  Tested on NUCLEO-F334R8
	board(STM32F334R8T6).  Change-Id: I2fe70d40eb7613a7a3cfa63d25fa83f7bc055fb4 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2174 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-15  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/kinetis.c: flash/nor/kinetis: prevent segfaulting
	with an HLA HLAs do not provide direct DAP access, so the best we can do about
	it is skipping it.  Change-Id: I877ef8fd2d86e40e7442a637cdba182cfd60e05a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2173 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-29  Marco Cruz <marco.caratuva@gmail.com>

	* tcl/board/atmel_sam4e_ek.cfg: tcl/board: add Atmel SAM4E-EK Change-Id: I07d7e0528ed4e88b070ba4e7598a193ec8e9e37d Signed-off-by:
	Marco Cruz <marco.caratuva@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2158 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-05-29  Marco Cruz <marco.caratuva@gmail.com>

	* src/flash/nor/at91sam4.c: flash/nor/at91sam4: add SAM4E16 support Change-Id: I7ab4750073c9d34812b690996eef76fccf70c627 Signed-off-by:
	Marco Cruz <marco.caratuva@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2157 Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com> Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-05-17  Paul Fertser <fercerpav@gmail.com>

	* README.OSX: README.OSX: mention Gentoo Prefix and clarify other
	options Change-Id: I431bfb9acf7dd6ad61b9e8f5c20568be22e9f39d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2146 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-25  Franck Jullien <franck.jullien@gmail.com>

	* src/target/openrisc/or1k.c, src/target/openrisc/or1k.h,
	src/target/openrisc/or1k_du_adv.c: target: or1k: remove wrong endian
	swap from or1k generic code We don't need to swap the endianness in the target generic code.
	This swap is necessary because of the adv_debug_if debug unit.  This
	patch moves this specific piece of code from or1k.c to
	or1k_du_adv.c.  Change-Id: I3acea092fe6edfa79b4a87861b5f01204f071bf0 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1663 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-04-23  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/kl25.cfg: tcl/target/kl25.cfg: add maximum speed
	specification Maximum frequency wasn't tested on hardware but the docs seem to be
	quite explicit and do not mention any restrictions for that.  Change-Id: Idcf58df5358d06525e683f07c76eedad8f0b292d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2120 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-24  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/asus-rt-n66u.cfg, tcl/target/bcm4706.cfg,
	tcl/tools/firmware-recovery.tcl: tcl: add ASUS RT-N66U config CFI flashing verified with real hardware. RAM configuration wasn't
	attempted.  Change-Id: I9185ab71430d799793befef708a15f62edba1663 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2153 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-29  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/osbdm.c: jtag/drivers/osbdm: downgrade init
	message severity, fix wording Change-Id: Iacf874b0fe9fbf840e82e6b63f1c97031f4720de Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2156 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-29  Cosmin Gorgovan <cosmin@linux-geek.org>

	* doc/openocd.texi, src/flash/nor/lpc2000.c: Flash/LPC2000: Add
	support for auto-probing flash size Adds support for auto-probing on devices which support the IAP Read
	Part ID command. Includes IDs for all LPC17XX, LPC13XX, LPC11XX and
	LPC11XXX devices with publicly available user manuals.  To use auto-probing, select the 'auto' lpc2000 variant.  Change-Id: Ic617c32925c9ebe0e9d9192ed8ddbfa08e9f0aaa Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/2075 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-29  Cosmin Gorgovan <cosmin@linux-geek.org>

	* doc/openocd.texi, src/flash/nor/lpc2000.c: Flash/LPC2000: Add
	support for LPC11(x)xx, LPC13xx LPC11(x)xx and LPC13xx devices are mostly compatible with the
	lpc1700 variant of the LPC2000 driver, but use a fixed flash sector
	size of 4KB.  Change-Id: I033515f4ff6bc61d3b9babd27096f78c99cea927 Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/2071 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-28  Elliott Partridge <elliott.partridge@gmail.com>

	* src/flash/nor/stm32f2x.c: STM32F2x: Don't clear FLASH_OPTCR bits
	when locking register stm32x_write_options is locking the FLASH_OPTCR register by writing
	0x00000001 to it, which clears the other bits. This causes problems
	with subsequent flash operations; the hardware is probably seeing
	the write protection bits in the register set to '0' (protect),
	causing a WRPERR.  This patch ORs the value of the register with
	0x00000001, so that the only change is the lock bit itself.  Change-Id: I0e3ca9aa6563ce1b57a01fc0faf7563b6b85f620 Signed-off-by:
	Elliott Partridge <elliott.partridge@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2155 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-06  Alex Ray <a@machinaut.com>

	* src/target/armv7a.c: Disable multiprocessor-id read on ARMv7-R
	cores ARMv7-R cores are largely uniprocessor-configured, and when they are
	multiprocessor-configured the format of the MPIDR register isn't
	compatible with ARMv7-A cores.  Change-Id: I024ec514496fbab5075c6fb34b6acd870e68e1fc Signed-off-by:
	Alex Ray <a@machinaut.com> Reviewed-on:
	http://openocd.zylin.com/2096 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-15  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: src/target: select the last created target as
	current Configuration commands assume the last created target is the one
	they should be applied to. An example of this is sourcing an
	stm32f1.cfg several times to access several microcontrollers on the
	same JTAG chain where cortex_m reset_config should apply to the
	target that was just created, not to the first one.  This fixes http://sourceforge.net/p/openocd/tickets/71/ .  Change-Id: I1ca41cc05fe5f36c4bc62dde4614da1405754fd8 Reported-by:
	Michael Eischer <mieischer@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2142
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/stlink_usb.c: jtag/drivers/stlink: allow to
	reconnect seamlessly after polling failure If the communication with the target was failing (either because of
	an intermittent connection or the target was rebooted), this is
	needed to reestablish operational state.  Reported-by: Tim Sander <tim@krieglstein.org> Tested-by: Tim Sander
	<tim@krieglstein.org> Change-Id:
	I91ea2e2b2b5ef8eb27dfe9bae95ef2a919f67e4e Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2152 Tested-by: jenkins Reviewed-by: Tim
	Sander <tim@krieglstein.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: reexamine after polling succeeds
	again If polling was failing, it likely meant that either the target was
	disconnected or rebooted. In the latter case it needs to be
	reexamined to be properly configured for the debug session, so do it
	just in case.  Reported-by: Tim Sander <tim@krieglstein.org> Tested-by: Tim Sander
	<tim@krieglstein.org> Change-Id:
	I5b067c18d9276d4e86cc59739f196ae7d0931622 Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2151 Tested-by: jenkins Reviewed-by: Tim
	Sander <tim@krieglstein.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/adi_v5_cmsis_dap.c: adi_v5_cmsis_dap: Fix logging order
	of appearance Move logging for cmsis_dap_queue_ap_read/write to happen after a
	call to cmsis_dap_ap_q_bankselect so that that SWD operation would
	appear in the log in the same sequence they happen on the bus.  Change-Id: Ic046bc753e661da7924b019c9100d6932fb686bf Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2087 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: arm_adi_v5: Do
	not ignore register polling timeout Previous to this commit 'ahbap_debugport_init' would ignore if
	timeout happened or not when waiting for CDBGPWRUPACK and
	CSYSPWRUPACK and would continue initialization regardless. It also
	would not reset the timeout counter after finishing polling for
	CDBGPWRUPACK and starting for CSYSPWRUPACK which could potentially
	cause some problems.  Also refactor code of both snippets into a more generic function to
	avoid duplication.  Change-Id: I16e4f50e6819e08c4126e71ef8cec7db559d608e Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2086 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/arm_adi_v5.h: arm_adi_v5: Add convenience "atomic""
	function for DP reads Add convenience "atomic"" function dap_dp_read_atomic_u32() Change-Id: Ic9ebb58959d2f14bbf03be42a26b0fe58ecfeddb Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2085 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-31  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: configure.ac: correct test for USB_BLASTER_DRIVER AM
	symbol Blaster II should depend on the corresponding symbol, not on
	libusb-1 presence.  Change-Id: I3d27a1005a78fe81042cb7b515618604612c3ece Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2159 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32f1x.c: flash/nor/stm32f1x: add support for F04x
	parts Ref. RM0091 Rev.6.  Change-Id: I13bcdb1741edc59712e4fa1849fff38d17709fa7 Reported-by:
	efuentes@irc.freenode.net Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2150
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-06  Paul Fertser <fercerpav@gmail.com>

	* src/server/server.c: server: fix confusing wording for incoming
	tcp connections Change-Id: I40d5de322f3fc38097e04ce538b0fc2b136e0d6a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1937 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-05-12  Paul Fertser <fercerpav@gmail.com>

	* src/target/mips32_pracc.c: target/mips32_pracc: fix C99 format
	specifiers Warnings exposed by arm-none-eabi build.  Change-Id: Icdaf168d7aaa1a62bdfd41a64e43ef94816d3721 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2140 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-21  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* src/target/lakemont.c, src/target/lakemont.h,
	src/target/x86_32_common.c, src/target/x86_32_common.h: quark_x10xx:
	cleanup of LOG format specifiers Fix for LOG format specifiers, this is a superset of those exposed
	by the arm-none-eabi build.  Add 0x prefix for all values printed in hex.  Add LOG messages for error cases when enabling or disabling paging.  Change-Id: I070c556e0ad31204231a2b572e7b93af22a9bc61 Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/2149 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-12-19  Aurelien Jacobs <aurel@gnuage.org>

	* src/flash/nor/lpcspifi.c: lpcspifi: setup a valid stack pointer
	before calling ROM code using stack The spifi_init_code blob is calling the spifi_init() function from
	the ROM.  This ROM function is making use of the stack. So if the
	stack pointer is invalid, trying to execute this code leads to a
	double fault and the target_run_algorithm() call return with an
	error.  This patch simply ensure that the stack pointer is properly
	setup before calling the spifi_init() ROM function.  Change-Id: I42a2163cfc2c6dfe5ada97ae8eb2bb6d2e283ff7 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/1836 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-05  Yegor Yefremov <yegorslists@googlemail.com>

	* tcl/target/ks869x.cfg: KS869x: add new target This patch adds Micrel's KS869x target. The configuration was taken
	from http://www.mmnt.net/db/0/0/www.micrel.com/ethernet/8695 -
	Micrel's FTP server i.e. their OpenOCD 7.0 package.  The only change compared to the original file is the removal of
	reset configuration, as it belongs to the board configuration.  Change-Id: Ic8509aa5fe5ce3166a3129e1c055280a3b2b9312 Signed-off-by:
	Yegor Yefremov <yegorslists@googlemail.com> Reviewed-on:
	http://openocd.zylin.com/2125 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-03-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/kinetis.c, src/target/arm_adi_v5.c,
	tcl/target/kl25.cfg, tcl/target/kl25z_hla.cfg: kinetis: Revise CPU
	un-securing code Old version of the code had several problems, among them are:  * Located in a generic ADI source file instead of some Kinetis    specific location  * Incorrect MCU detection code that would read generic ARM ID    registers  * Presence of SRST line was mandatory  * There didn't seem to be any place where after SRST line assertion    it would be de-asserted.   * Reset was asserted after waiting for "Flash Controller Ready" bit    to be set, which contradicts official programming guide AN4835  * Mass erase algorithm implemented by that code was very strange:    ** After mass erase was initiated instead of just polling for the       state of "Mass Erase Acknowledged" bit the code would
	      repeatedly initiate mass erase AND poll the state of the "Mass
	      Erase Acknowledged"    ** Instead of just polling for the state of "Flash Mass Erase in       Progress"(bit 0 in Control register) to wait for the end of
	      the mass erase operation the code would: write 0 to Control       register, read out Status register ignoring the result and
	      then read Control register again and see if it is zero.   * dap_syssec_kinetis_mdmap assumed that previously selected(before    it was called) AP was 0.  This commit moves all of the code to kinetis flash driver and
	introduces three new commands: o "kinetis mdm check_security" -- the intent of that function is to
	  be used as 'examine-end' hook for any Kinetis target that has that
	  kind of JTAG/SWD security mechanism.  o "kinetis mdm mass_erase""  -- This function removes secure status
	  from MCU be performing special version of flash mass erase.  o "kinetis mdm test_securing" -- Function that allows to test
	  securing fucntionality. All it does is erase the page with flash
	  security settings thus making MCU 'secured'.  New version of the code implements the algorithms specified in
	AN4835 "Production Flash Programming Best Practices for Kinetis K-
	and L-series MCUs", specifically sections 4.1.1 and 4.2.1.  It also
	adds KL26 MCU to the list of devices for which this security check
	is performed. Implementing that algorithm also allowed to simplify
	mass command in kinetis driver, since we no longer need to write
	security bytes. The result that the old version of mass erase code
	can now be acheived using 'kinetis mdm mass_erase' Tested on accidentally locked FRDM-KL26Z with KL26 Kinetis MCU.  Change-Id: Ic085195edfd963dda9d3d4d8acd1e40cc366b16b Signed-off-by:
	Andrey Smrinov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2034 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-12-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips32: new code
	for pracc exec This is only the basic code proposed for mips32_pracc_exec()
	function.  It checks every pracc address against the expected
	address when reading (instruction fetch).  The code expects to start
	at PRACC_TEXT and any subsequent read address is obtained by adding
	4 to the previous one.  After shifting out all the instructions the
	code executes a final check.  It checks now for the first pass
	trough PRACC_TEXT and shift out only NOP instructions.  A mips core
	does not need an additional NOP and after the first check it exits
	if there is no store access pending.  After shifting out one NOP the
	core must be reading at pracc text or the code exits with error.
	The code continues shifting out NOPs until all store accesses have
	been performed.  After shifting out 10 NOPs it exits with error.  No
	assumption is made about the number of store instruction shifted out
	or the ordering of the store accesses. It only checks that the
	number of store accesses is the same as the number of store
	instructions at dmseg after execution.
	mips32_pracc_read_ctrl_addr() and mips32_pracc_finish() are added to
	simpify a bit the code. Fields pa_ctrl and pa_addr are added in
	ejtag_info for storing values of pracc control and address.  Change-Id: If6322d5c8cbeadcd4acd3972c0f72c8490f53c34 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1827 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-12-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h: mips32:
	cleanups in legacy pracc code This is the first patch intended to
	make a more precise pracc check when running in legacy mode (code
	executed by mips32_pracc_exec()).  It only makes some cleanups,
	mostly due to unnecessary code.  With the last cache optimizations
	for processor access (pa for short) all the pracc functions generate
	the code following some rules that make pa more easily to check: 	There are no load instructions from dmseg. All the read pas are 	instruction fetches. PARAM_IN related stuff is not needed.  	Registers are restored either from COP0 DeSave or from ejtag 	info fields. PRACC_STACK related stuff is not needed any more.  	The code starts execution at PRACC_TEXT and there are no branch or
		jump instruction in the code, apart from the last jump to
		PRACC_TEXT.  The fetch address is ever known.  	For every store instruction to dmseg the function code sets 	the address of the write/store pa.  	The address of every store pa is known.  Current code ends
	execution when reading a second pass through PRACC_TEXT.  This
		approach has same inconveniences: If the code starts in the delay
		slot of a jump it makes a jump to PRACC_TEXT after executing the
		first instruction. A second pass through PRACC_TEXt is read and the
		function exits without any warning.  This seems to occur sometimes
		when a 24kc core is halted in the delay slot of a branch.  	If a debug mode exception is triggered during the execution of a 	function the core restarts execution at PRACC_TEXT. Again the
		function exits without any warning.  	If for whatever reason the core starts fetching  at an unexpected 	address the code now sends a jump instruction to PRACC_TEXT, but
		due to the delay slot the core continues fetching at whatever
		address + 4 and a second jump instruction will be send for
		execution. The result of a jump instruction in the delay slot of
		another jump is UNPREDICTABLE. It may work as expected (ar7241), or
		let the core in the delay slot of a jump to PRACC_TEXT for example.
		This means the function called next may also fail (pic32mx).  Change-Id: I9516a5146ee9c8c694d741331edc7daec9bde4e3 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1825 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-25  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: use cp0 DeSave to cache $15 / t7 Near all pracc functions store $15 in DeSave and restore it when
	exiting.  There is no need to save it, if mips32_pracc_read_regs()
	save this register in Desave when entering debug mode.
	mips32_pracc_write_regs() needs to update it when exiting debug
	mode.  Other pracc functions must not modify DeSave.  The jump code
	in the fastdata transfer function needs also some little
	modifications.  Remark: Like in current code the user can
	read/modify $15 with the cp0 31 commands.  Change-Id: I5b7dfc1b6169da846f5d2dd3ad4209a9da2c3fad Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1565 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: load fast data transfer handler
	code with mips32_pracc_write_mem() Currently the code is loaded calling
	mips32_pracc_write_mem_generic().  Cache synchronization is not
	performed.  If configured as write back cache there is no chance to
	execute the handler. If configured as write through cache and the
	cache lines written to are not cache resident (I-side cache miss)
	may work.  The patch makes possible to execute the handler in a
	cached active memory segment (mainly from KSEG0), but nothing else.
	The data is still loaded without performing cache synchronization,
	code loaded may not be executable.  Performance may not be faster.
	At start, for example, the code resides in main memory, not in
	cache, and the core must transfer code from memory. We can really
	modify the code to force a wait for the first transfer like we do
	with start and end addresses, making sure the code is cache resident
	for the rest of the queued transfers.  This can also may happen if
	we execute code (greater than the I cache size) and the handler code
	is evicted from the cache.  Code tested on ar7241.  Change-Id: Iffdb4dae108b872fef0e7bacc5ea99649cdc1630 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1564 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32.c: mips: load code in buffer mode Currently the functions mips32_checksum_memory() and
	mips32_blank_check_memory() load the code word by word.  The bug in
	cache code is a good reason for doing so.  If there is no other
	reason we can load the code as a buffer to save time.
	mips_m4k_write_memory() expect a buffer in target endianness, this
	is done by target_buffer_set_u32_array().  Cleaned up exit code.
	Tested on ar7241 big endian and pic32mx little endian with
	verify_image.  Flash erase check only tested in pic32mx.  Change-Id: Ib63ed98732b2e23b058e7349a0a57934b7604905 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1562 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-18  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips32: optimized cache code for pracc
	access Follows the the same rules of optimization used by all pracc
	functions.  Solves some bugs in previous code and adds support for
	write through caches.  Change-Id: If88c6738ca8c8197f327f22b766120a24f71b567 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1557 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-04-28  Paul Fertser <fercerpav@gmail.com>

	* jimtcl, src/helper/command.c, src/helper/command.h: Update to the
	current Jim Tcl This is a post-release version but hopefully some fixes that went in
	are worth it; also the changes here make OpenOCD compatible with
	stock 0.75 version if a distro maintainer decides to use it.  Change-Id: I7ad1814c7c4868198475cdca4750c3d0ee4f5f8b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2121 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-05-08  Paul Fertser <fercerpav@gmail.com>

	* README.OSX: README.OSX: recommend XCode 5 as that's the current
	version Using current "Command Line Tools" with XCode 4 is known to provoke
	issues (the build "hangs"), see e.g.
	http://stackoverflow.com/questions/18667916/xcrun-lipo-freezes-with-os-x-mavericks-and-xcode-4-xThis fixes https://sourceforge.net/p/openocd/tickets/70/ .  Change-Id: I511b347b9388e0e3f1d136b566915021c4b5fbde Reported-by:
	n321203 <n321203@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2128
	Reviewed-by: Xiaofan <xiaofanc@gmail.com> Tested-by: jenkins
	Reviewed-by: Freddie Chopin <freddie.chopin@gmail.com>

2014-02-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c: ftdi: Optimize GPIO toggling Only send the new I/O state for the bytes that changed.  Change-Id: I930edc9518e6019331e68e4756acc5e92dda25a4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1999 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-12-03  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/svf/svf.c: svf: Fix debug and error messages that print hex
	buffer Added SVF_BUF_LOG macro to properly print the hex buffer of parsed
	string for SIR, SDR, TDI, TDO and MASK. The original debug and error
	logs with respect to printing real values were misleading and also
	had endianess issues. All the bits are printed now instead of just
	u32 values.  Change-Id: Ie89902403bdb61ff458418446c2ca1253ea2a63f Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1964 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-16  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi: doc: document [start end] parameters of
	"profile" command Change-Id: I56561b08304e5b854a67b06ab6b9cee7a24919b2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2115 Tested-by: jenkins

2014-03-20  Andrey Smirnov <andrew.smirnov@gmail.com>

	* tcl/target/gp326xxxa.cfg: generalplus: Add configuration file for
	General Plus GP326XXXA series Add configuration file for General Plus GP326XXXA series. Tested on
	GP326833A on GPC-1737B board.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I1ad0e22598b01317bbc823870a7a262e9192c595 Reviewed-on:
	http://openocd.zylin.com/2058 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7a.c: armv7a: fix typo in cache_config help text Change-Id: I48cb83bf56b2f6841c3add68ed94b9f92037357d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2114 Tested-by: jenkins

2014-04-28  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/at91sam4l.c, src/flash/nor/at91samd.c,
	src/target/arm_adi_v5.c, src/target/target.c: Fix some C99 format
	specifiers As exposed by arm-none-eabi build, fix the wrong modifiers.  Change-Id: Ia6ce7c5c1d40e95059525c3e5d81b752df2fea7c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2122 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-16  Ash Charles <ashcharles@gmail.com>

	* tcl/board/gumstix-aerocore.cfg: Add support for Gumstix AeroCore
	device The Gumstix AeroCore board [1] contains a STM32F427 microcontroller.
	Schematics for this board will also be made available [2].  The JTAG
	interface for this chip can be accessed via a USB connection
	provided by an FTDI chip (0403:6011).  [1] https://store.gumstix.com/index.php/products/585/ [2]
	https://pubs.gumstix.com/boards/AEROCORE Change-Id: I0bf3bb525f51528bedd807b1f7210b09ef2e1015 Signed-off-by:
	Ash Charles <ashcharles@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2117 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-27  Paul Fertser <fercerpav@gmail.com>

	* NEWS, NEWS-0.8.0, configure.ac: Restore normal development cycle Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-27  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: The openocd-0.8.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/nrf51.c: nrf51: remove dereference of null pointer found by clang 3.4.  Change-Id: Id499b546f65acd7a719498bc97e33b21d1ba565a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2119 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andrey Smirnov <andrew.smirnov@gmail.com>

2014-04-18  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* src/target/x86_32_common.c: quark_x10xx: fix IO r/w operations
	with paging enabled Paging checking and disabling wasn't present for IO r/w, so the
	commands were successful only when paging wasn't enabled (e.g. EFI
	boot phase).  Change-Id: I41366c0fadff3ea1eb8a153291f20a46cd9ddec1 Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/2118 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-04-15  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-15  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: The openocd-0.8.0-rc2 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-14  Paul Fertser <fercerpav@gmail.com>

	* NEWS: NEWS: minor fixes for rc2 Change-Id: Iba04baae4f3278db8b36283574a82c077d28bb4a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2113 Tested-by: jenkins

2014-04-09  Paul Fertser <fercerpav@gmail.com>

	* src/svf/svf.c: svf: try to reallocate buffers if they're not
	enough On larger FPGAs the default buffer size is not nearly enough;
	automatically reallocate it as needed.  Change-Id: Ic8071e8cceddeef897ce76996c029250fd22662b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2099 Tested-by: jenkins Reviewed-by:
	Kenneth Lorthioir <ibelimb@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-04-01  Seth LaForge <sethml@google.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	tcl/target/ti_tms570.cfg: cortex_a: fix endiannes issues on  TI
	TMS570 The TI TMS470 and TMS570 series of processors are BE-32 processors,
	despite BE-32 not being supported by ARM in the Cortex-R4 core. TI
	hacked in BE-32 support, which requires odd swizzling in OpenOCD to
	make memory reads and writes function correctly. In particular,
	without this change, OpenOCD word reads and writes had the bytes
	reversed, and halfword and byte packed reads were reading garbage.
	In my testing, this change fixes these problems.  Change-Id: I21dd30f4b9003f20fcc85f674ab833407bb61f74 Signed-off-by:
	Seth LaForge <sethml@google.com> Reviewed-on:
	http://openocd.zylin.com/2064 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-04-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/usb_blaster/usb_blaster.c: usb_blaster: fix
	warning: array subscript has type ‘char’ caught by clang 3.4 running on cygwin.  Change-Id: I59f652337334e557fb50374f5270ba9c30392b6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2100 Reviewed-by: Jörg Wunsch
	<openocd@uriah.heep.sax.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-12  Paul Fertser <fercerpav@gmail.com>

	* src/target/avr32_ap7k.c, src/target/dsp563xx.c,
	src/target/lakemont.c, src/target/mips32.c,
	src/target/openrisc/or1k.c: mips32, dsp563xx: fix segfault on Gdb
	attach Since c6216201b249e6a97fcc085e413e3d34e0de6fb7 gdb target
	description generation support is enabled by default and it counts
	on checking "feature" pointer in reg_list. Both mips32 and dsp563xx
	neither used calloc nor explicitly set feature (as it was a newly
	introduced struct field).  This patch changes all targets to use calloc for consistency.  Change-Id: I9eceadef8b04aacb108e24ae23cb51ca3009586f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2102 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-10  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: configure: presto ftdi driver requires libftdi Change-Id: I4b04eec5084d4b8129e2aff8f3411c6d92e84431 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2101 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-04-06  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/remote_bitbang.c: jtag/drivers/remote_bitbang:
	use sizeof to determine maximum unix socket path length Different *nix systems use different constants, so sizeof should be
	used instead. This fixes the build on OS X (as sun_path length is
	hardcoded to 104 on Darwin).  Change-Id: I1df611383dedcfc6d153ec59b453a895c7d84e94 Reported-by:
	Xiaofan Chen <xiaofanc@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2095
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Xiaofan <xiaofanc@gmail.com>

2014-03-31  Tim Sander <tim@krieglstein.org>

	* src/target/arm.h: target: fix incorrect arm cpu monitor mode
	encoding According to the "Arm Arch Ref Manual ARMv7-a and ARMv7-R edition"
	the CPSR encoding for Monitor mode is 0b10110 (22) not 0b11010 (26)
	as is currently used.  Change-Id: I73373a0029a81abc92febf518b88bf0dd4dec1fa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2081 Reviewed-by: Jörg Wunsch
	<openocd@uriah.heep.sax.de> Tested-by: jenkins Reviewed-by: Younes
	REGAIEG <y.regaieg@gmail.com> Reviewed-by: Tim Sander
	<tim@krieglstein.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2014-04-06  Lee Bowyer <lee@sodnpoo.com>

	* tcl/board/bt-homehubv1.cfg, tcl/target/bcm6348.cfg,
	tcl/tools/firmware-recovery.tcl: tcl: bcm6348 target config, BT
	HomeHub v1 board config Also add the board to the firmware recovery script.  Change-Id: I4f9c895dae171df7249e3b1c0563b288518b9fe0 Signed-off-by:
	Lee Bowyer <lee@sodnpoo.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2097
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-28  Andreas Ortmann <ortmann@finf.uni-hannover.de>

	* contrib/rpc_examples/ocd_rpc_example.py: contrib/rpc_examples: add
	example for python3 Halt, resume, memory read/write are used in various ways.  Change-Id: Ia6727678bfc19cc764f822b739bddaae56e9dc70 Signed-off-by:
	Andreas Ortmann <ortmann@finf.uni-hannover.de> Reviewed-on:
	http://openocd.zylin.com/2000 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-04-01  Paul Fertser <fercerpav@gmail.com>

	* contrib/99-openocd.rules: openocd.rules: match CMSIS DAP devices
	by product string Since the standard requires to have "CMSIS-DAP" somewhere in product
	string, use that to automatically match all the compliant adapters.  Change-Id: I1e2ac088333a7d69a136af825248914339debdd8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2082 Tested-by: jenkins Reviewed-by: Jörg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-05  Karl Hammar <karl@aspodata.se>

	* src/jtag/drivers/parport.c: parport: add "aspo" hotpluggable
	adapter config This adds a new adapter config.  Design files are available from: http://turkos.aspodata.se/git/openhw/isp/pp_jtag_arm20.sch
	http://turkos.aspodata.se/git/openhw/isp/pp_jtag_arm20.pcb No need to document it anywhere as only a single device was ever
	built.  Change-Id: If031fdb9dedb1e544401747bfb7fbc5afc4d5407 Signed-off-by:
	Karl Hammar <karl@aspodata.se> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2094
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-07  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c: target/cortex_a: check gdb_service before
	dereferencing in update_halt_gdb If gdb was disconnected by the moment the target entered halted
	state, update_halt_gdb would segfault.  Change-Id: I67477e9199c1df097be83a49e38602f975c083f5 Reported-by:
	Younes REGAIEG <younes.regaieg@imag.fr> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2098
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-31  Paul Fertser <fercerpav@gmail.com>

	* README.OSX: README.OSX: add 10.9 specific hints Change-Id: I8c684f2964262fb0670ed74fded26676833aee10 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2080 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* src/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/usb_blaster/Makefile.am: Makefile.am: fix build for
	libftdi1, pass CFLAGS where appropriate Change-Id: I9d8afa6ae32fc01e69ec434b5bc9d71524d386a2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2079 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/aice/aice_usb.c: jtag/aice/aice_usb: remove unused
	constants Those are breaking the build with clang 3.4 (current default
	compiler on OS X 10.9.2).  Change-Id: I9f2fbfbb6d544498cb8d6a62565e4ebe7223e784 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2077 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/at91sam3.c: flash/nor/at91sam3: remove
	sam3_page_write_opcodes Apparently this helper was never actually used, and current clang
	produces an unused const variable warning, so it's breaking the
	build.  Change-Id: Ib088bef5e9c0a48942c1d417d46f738469ee7e28 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2076 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-03-29  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: The openocd-0.8.0-rc1 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-03-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/replacements.c,
	src/jtag/drivers/versaloon/versaloon.c, src/rtos/ChibiOS.c,
	src/rtos/FreeRTOS.c, src/rtos/ThreadX.c, src/rtos/eCos.c,
	src/rtos/embKernel.c, src/rtos/linux.c, src/rtos/rtos.c,
	src/svf/svf.c, src/target/arm11_dbgtap.c, src/target/nds32.c,
	src/target/target.c, src/transport/transport.c: Don't cast return
	value of [cm]alloc Change-Id: I0028a5b6757b1ba00031893d9a2a1725f915a0d5 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2069 Tested-by: jenkins Reviewed-by: Jörg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-29  Paul Fertser <fercerpav@gmail.com>

	* Makefile.am: Makefile.am: fix adding contrib directory for dist With extra / the directory was getting added as a subdirectory of
	itself.  Change-Id: I5a3d5635f3c949f39d88b34a2ddab8244643f560 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2070 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* NEWS: NEWS: add release highlights Change-Id: Ifa4459b3b7b58b639d6c885a2ea88cefbfac2680 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1881 Tested-by: jenkins

2014-02-10  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/at91samd.c: at91smad: Fixes to 'samd_protect' Some fixes to 'samd_protect' including:      - Fix a bug in which the value of 'set' parameter passed into
	     the function was ignored so it was impossible to remove flash      protection once it was set.       - Check the protection status of the sector via 'is_protected'      field of the  corresponding 'flash_sector' structure to see if      any actual HW manipulations needs to be done.       - Change the way the errors during protection activation are      handled. Now even in the case of error in the middle of      protecting a number of sectors the subroutine would still
	     update the state of the sector protection in sectors array so
	     as to avoid cases where openocd thinks that the sector is not
	     protected while it actually is.  Change-Id: I4cc6445a98ec13bdd94c89f0711c17840738a215 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2027 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/at91samd.c: at91samd: Bail early if trying to erase
	protected sector Bail early if trying to erase protected sector and also do not
	double-erase already erased sectors.  Change-Id: Ic2d39af48c3b8e10e78d52dd978b9bc01f671c6a Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2026 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/at91samd.c: at91samd: Bail early if trying to write
	to protected sector Bail early if trying to write to protected sector also mark the
	sector we are writing to as dirty.  Change-Id: I892f83461792e1cc2dcccade7aa65717831a6805 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2025 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/at91samd.c: at91samd: Remove 'first' and 'last'
	checks in 'samd_erase' Remove 'first' and 'last' checks in 'samd_protect' since those
	parameters are checked in 'handle_flash_erase_command'.  Change-Id: I30e5598a9ab656d81055f26cc63e291377605300 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2024 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-22  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, src/target/startup.tcl, src/target/target.c: 
	tcl: introduce init_target_events and use it for gdb flashing events This introduces a new global Tcl procedure that is run just after
	init_targets and before init_boards.  Its default behaviour is to assign gdb-flash-erase-start and
	gdb-flash-write-end to reasonable defaults.  The rationale for doing "reset init" before gdb erases and flashes
	memory is that all flash drivers are written in assumption that they
	can safely be used only after chip reset (plus chip-specific
	configuration in the init handler if any). The need to use "reset
	halt" after flashing is because a user expects running firmware
	after loading to be the same as running it from power-on-reset.  Change-Id: I9ddc4047611904ca4ca779b73376d2739611948a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2062 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-21  Paul Fertser <fercerpav@gmail.com>

	* "tcl/target/1986\320\262\320\2651\321\202.cfg",
	tcl/target/mdr32f9q2i.cfg: tcl/target: make milandr configs
	swd-compatible Change-Id: Ibb34f0d7829b205341bcce511ffc2624bdfe2c75 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1962 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_adi_v5.c, src/target/nds32_cmd.c,
	src/target/openrisc/or1k.c, src/target/xscale.c: target: remove
	memory leaks Found by clang.  Change-Id: Ifb25dca52f8d9e8e46a35f0947a7239f26eb3757 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2067 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Jörg
	Wunsch <openocd@uriah.heep.sax.de>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: fix handle_profile_command variable
	typo Change-Id: I5d476aecb4622731890e168b1be3173718151e95 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2066 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: remove handle_profile_command memory
	leak COMMAND_PARSE_NUMBER may return, thus any memory allocated may not
	be freed, simple reorder fixes the issue.  Change-Id: I0ce444a5b032f5c49b6d33a03a8c0b71cad49c8c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2065 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* src/target/Makefile.am: Add xscale debug helper sources and
	everything related to dist GPL requires providing sources for any derived work. I do not see
	any reason to not include the xscale stuff into release tarballs.  Wildcard matching is used because plain directory name matches
	implicit rule for executables and xscale.c built is errorneously
	attempted, and directory name with a slash duplicates a directory (xscale/xscale) in dist.  Change-Id: Ie0266470dcb97be87a09ba2dda9b3957f7cbc2fa Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1911 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* Makefile.am: Add all of contrib/ to dist, not just loaders Change-Id: I467e21de6805ea9f23ae483317d602e9d81e1148 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1909 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/Makefile.am: Add usb_blaster cheap clone notes to
	dist Change-Id: Ie9569634415ef76e88d5ca58bae6184838cf7114 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1908 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* Makefile.am, src/jtag/drivers/Makefile.am: Add rlink speed table
	sources and everything related to dist GPL requires providing sources for any derived work. I do not see
	any reason to not include the rlink stuff into release tarballs.  Change-Id: I686ab88994030312aca5bdfe731a72f10803b5c3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1907 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* contrib/remote_bitbang/remote_bitbang_sysfsgpio.c,
	contrib/xsvf_tools/svf2xsvf.py, contrib/xsvf_tools/xsvfdump.py,
	tools/remote_bitbang/remote_bitbang_sysfsgpio.c,
	tools/xsvf_tools/svf2xsvf.py, tools/xsvf_tools/xsvfdump.py: Move
	xsvf_tools and remote_bitbang to contrib/ It looks like tools/ should be used only for build tools, and
	contrib/ is a suitable place for everything else.  Change-Id: Iddaebba0acb6d66404912ec96749b46e4be643d8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1906 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* Makefile.am: Add previous NEWS* files to dist Change-Id: I2f814e01c7b5aa9cd76e8e63c9c4a1ebbf3dd2ea Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1905 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* contrib/loaders/flash/at91sam7x/at91sam7x_ocl_flash.script,
	contrib/loaders/flash/at91sam7x/at91sam7x_ram.ld,
	contrib/loaders/flash/at91sam7x/crt.s,
	contrib/loaders/flash/at91sam7x/dcc.c,
	contrib/loaders/flash/at91sam7x/dcc.h,
	contrib/loaders/flash/at91sam7x/main.c,
	contrib/loaders/flash/at91sam7x/makefile,
	contrib/loaders/flash/at91sam7x/ocl.h,
	contrib/loaders/flash/at91sam7x/platform.h,
	contrib/loaders/flash/at91sam7x/samflash.c,
	contrib/loaders/flash/at91sam7x/samflash.h,
	contrib/loaders/flash/at91sam7x/samregs.h,
	src/flash/ocl/at91sam7x/at91sam7x_ocl_flash.script,
	src/flash/ocl/at91sam7x/at91sam7x_ram.ld,
	src/flash/ocl/at91sam7x/crt.s, src/flash/ocl/at91sam7x/dcc.c,
	src/flash/ocl/at91sam7x/dcc.h, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/makefile, src/flash/ocl/at91sam7x/ocl.h,
	src/flash/ocl/at91sam7x/platform.h,
	src/flash/ocl/at91sam7x/samflash.c,
	src/flash/ocl/at91sam7x/samflash.h,
	src/flash/ocl/at91sam7x/samregs.h: Move ocl (at91sam7x flash loader)
	sources to contrib Change-Id: Ib5c3c505a067d0e285a7b074cb6fddebfa6dda1e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1904 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* doc/Makefile.am: doc: add "manual/" directory in its entirety to
	dist Change-Id: I750c2938ab207012a6488bf34f55d784e5e26b6e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1903 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h: armv7m: remove magic
	numbers for number of core registers Change-Id: I4296b812f0211011ccf3da8d203545dfba493903 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2053 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/rtos_chibios_stackings.c,
	src/rtos/rtos_ecos_stackings.c,
	src/rtos/rtos_embkernel_stackings.c,
	src/rtos/rtos_standard_stackings.c: rtos: fix xml register support
	regression Seems that when xml register support was added the rtos code was not
	updated to match. This then caused gdb to return the following error
	when rtos support was enabled - "Remote 'g' packet reply is too
	long".  Change-Id: I7429c4b1efed120e2e690678d55f3d6e87ee1ff1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2054 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-15  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/nrf51.c: nrf51: Fix incorrect flash writing sequence nRF51 doesn't have any sort of flash page cache so we need to write
	all of the data on the word-by-word basis and poll for "Flash Ready"
	bit each time.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I8caffbf69ebf9a69915724704ddbe270d1bb8d92 Reviewed-on:
	http://openocd.zylin.com/2050 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-17  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/nrf51.c: nrf51: Remove unnecessary explicit type
	casting Change-Id: I523e81645434760649ea2c00e6f80c2b08d08d94 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2055 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-01  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/nrf51.c, tcl/target/nrf51_stlink.tcl: nrf51: Add
	UICR writing support SoftDevice stack ihex binary, provided by Nordic expects being able
	to write data necessary for its correct operation at the adresses
	inside UICR.  This patch exposes UICR region of flash as a second
	bank on the MCU to facilitate that.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	Idbc140b8de027f60655f78043877b7c054eb06f9 Reviewed-on:
	http://openocd.zylin.com/2013 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-28  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/nrf51.c: nrf51: Add a known devices table and simple
	chip type detection code Unfortunately due to my oversight, the original version of the
	nrf51_probe function contained useless code that read the contents
	of DEVICEID[0] an DEVICEID[1] registers and did nothing about
	it(those registers had nothing to do with the device type
	information anyway).  This commit fixes that code by changing its behavior to read the
	HWID field of CONFIGID register and looking up the corresponding
	device information in the know devices table. This information is
	useful when choosing the versions of SDK and SoftDevice for the chip
	using "nRF51822 compatibility matrix".  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	Ibd80b35460df4278e86e0c2500b7dcc876eec10c Reviewed-on:
	http://openocd.zylin.com/2012 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-18  Franck Jullien <franck.jullien@gmail.com>

	* tcl/board/or1k_generic.cfg: cfg: or1k_generic: allow TAP_TYPE
	override This patch allows users to specify TAP_TYPE from the command line
	when using or1k_generic.cfg.  Change-Id: I9f4b7d8e4867658fa34bb4e92fc3a5f25227df11 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2056 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-19  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/target/armv7m.c: armv7m: Do not ignore 'value' parameter in
	armv7m_write_core_reg Ignoring the value parameter in that function makes its code rather
	misleading. Also the only caller of it, armv7m_restore_context
	already does the whole "buf_get_u32" conversion business, so using
	'value' also removes the waste of doing the conversion twice.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I515979c314d9b59ee1065c55b5bb5747c7e93f01 Reviewed-on:
	http://openocd.zylin.com/2057 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-21  Tim Sander <tim@krieglstein.org>

	* tcl/board/digilent_zedboard.cfg, tcl/target/zynq_7000.cfg: tcl:
	add Zynq-7000 target and Zedboard board configs Change-Id: Ia7f2a57d1b32dda9936ad87e22635f7749ff3ce1 Signed-off-by:
	Tim Sander <tim@krieglstein.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2061
	Tested-by: jenkins

2014-02-12  Angus Gratton <gus@projectgus.com>

	* src/flash/nor/at91sam4l.c: AT91SAM4L: Fix bug when writing to
	flash at a non-zero offset, add debug output for flash page writes The offset wasn't being considered in the "full page" write
	codepath, so any writes at an offset were actually written out
	starting from page 0.  Change-Id: I5e70a1f35f144b3edd1ce6d9df9af9b5da6cf194 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/1965 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-07  Andrey Yurovsky <yurovsky@gmail.com>

	* contrib/99-openocd.rules, src/jtag/drivers/jlink.c,
	src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h: jlink: add support for Jlink-OB
	(0x0105) devices The JLink-OB (onboard) devices work the same way as the normal JLink
	except that their PID is 0x0105 (and that's the only one we know of
	so far) and their endpoint addresses are different due to there
	being a CDC-ACM interface as well.  These JLink-OB devices show up
	on a lot of vendors' development kits as an integrated debugger.  This change simply checks whether the adapter we opened has a
	JLink-OB PID and, if it does, uses the JLink-OB endpoints rather
	than the default.  To do this, we add a new routine,
	jtag_libusb_get_pid() to the libusb adapter layer, it in turn just
	calls libusb_get_device_descriptor(), which previously had no
	wrapper.  Also, checkpatch.pl doesn't like the VID/PID macros as defined so I
	moved them to the array itself.  This should have no effect on the
	code.  This change adds the 0102 through 0104 PIDs to openocd.rules as well
	as this new 0105 PID.  Tested on an Atmel SAM4S Xplained board which has a JLink-OB, also
	regression tested by using a 0x0101 PID normal JLink adapter.  Signed-off-by: Andrey Yurovsky <yurovsky@gmail.com> Change-Id:
	I121d30e57729cda3adb66e2a5dc72e1fcb7ef8b1 Reviewed-on:
	http://openocd.zylin.com/2031 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/at91sam3.c: Support for sam3n0a sam3n0b sam3n00a
	sam3n00b Change-Id: I70a04f5f9b0b20d42a677ea8781130e44be758d3 Signed-off-by:
	Stefan Arnold <sarnold@sh-sw.de> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2042 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-26  Antony Pavlov <antonynpavlov@gmail.com>

	* .gitignore: top .gitignore: ignore ctags tag files Change-Id: I64538525626688b0cd1eda579294e547a2e40b30 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1971 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Jörg Wunsch
	<openocd@uriah.heep.sax.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-28  Felipe Balbi <balbi@ti.com>

	* tcl/board/ti_am43xx_evm.cfg, tcl/target/am437x.cfg: cfg: add TI
	am43xx devices This adds support for the am43xx SoC and the AM437x GP EVM and
	AM438x ePOS EVM.  Change-Id: I09cbb09072f38e0e08fdd520dedb6e67d45056be Signed-off-by:
	Felipe Balbi <balbi@ti.com> Signed-off-by: Tom Rini <trini@ti.com>
	Reviewed-on: http://openocd.zylin.com/2047 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-02-25  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/tcl.c: flash/nor/tcl: fix segfault on write_image
	misuse "flash write_image (unlock|erase)" (without filename) was causing
	segmentation fault in strcmp(). This patch fixes it.  Change-Id: Ia3b8c796f4107621d78605c02d2b8e123b1b207b Reported-by:
	ajkroll][ <ajkroll][@irc.freenode.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1970
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_ejtag.c: mips_ejtag.c: disable DMA for all
	platforms DMA seems to be broken in many ways. Don't trust it! Change-Id: I7e28608f299abdf78d02a967c62849b6b2ce5985 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1936 Tested-by: jenkins Reviewed-by: Antony
	Pavlov <antonynpavlov@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* README.Windows, configure.ac, src/jtag/drivers/ft2232.c: ft2232:
	Mark interface driver as deprecated Change-Id: I5ebc924ab66c86f1902942bebc203a34d97abc64 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1899 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-05  Jens Hoffmann <jehoffma@gmail.com>

	* contrib/99-openocd.rules, tcl/board/st_nucleo_f030r8.cfg,
	tcl/board/st_nucleo_f103rb.cfg, tcl/board/st_nucleo_f401re.cfg: cfg:
	Added st nucleo board configs.  This patch adds board configs for Nucleo FXXX boards.  Change-Id: I25bfd7d63f734bad710917efa67bc6096aa60ef8 Signed-off-by:
	Jens Hoffmann <jehoffma@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2022 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-28  Felipe Balbi <balbi@ti.com>

	* tcl/target/am335x.cfg, tcl/target/icepick.cfg: tcl: target:
	icepick: add icepick_d_tapenable procedure instead of replicating icepick_d_tapenable in many of TI's newer
	platforms, we can move to icepick.cfg and just call it from board
	TCL configuration file.  This is similar to the C but has a few
	changes we need to make.  Change-Id: I0ab48005ccd66cd5b67b919fb5e3b462288f211d Signed-off-by:
	Felipe Balbi <balbi@ti.com> Signed-off-by: Tom Rini <trini@ti.com>
	Reviewed-on: http://openocd.zylin.com/2030 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-03-06  Paul Fertser <fercerpav@gmail.com>

	* README, tcl/interface/ftdi/digilent_jtag_smt2.cfg: 
	tcl/interface/ftdi: add Digilent JTAG-SMT2 config Tested on ZedBoard by Tim Sander.  Change-Id: I4316d9b4d36f01bbe91a46c78ea8bca22efb1a5a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2029 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-27  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/at91sam4lXX.cfg: cfg: change default SAM4L cortex_m
	reset_config From testing this target does not seem to support using SYSRESETREQ,
	change the default to the safe VECTRESET.  This target also has other reset issues (srst not working) that will
	be addressed in another patch.  Change-Id: Icfc78347dc71aa3a062ddea63190a818d7fbc760 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1995 Tested-by: jenkins Reviewed-by: Angus
	Gratton <gus@projectgus.com>

2014-03-14  Jörg Wunsch <openocd@uriah.heep.sax.de>

	* src/jtag/drivers/cmsis_dap_usb.c: CMSIS-DAP: print a debug message
	when the USB product string cannot be read As suggested by Stian Skjelstad in a comment in: http://openocd.zylin.com/#/c/2044/ if the USB product string cannot be read, provide a debug message so
	users might get aware of a potential permission problem when looking
	at the debug output.  Fix style bug found by Jenkins.  Change-Id: I6acb1c6261fec6f2bee80e4be513a5c5e29eff79 Signed-off-by:
	Jörg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2048 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-14  Jörg Wunsch <openocd@uriah.heep.sax.de>

	* tcl/target/at91sam3XXX.cfg: Make the Atmel SAM3 family SWD-aware Atmel's SAM3 and SAM4 processor families are very close to each
	other in many respects.  However, so far, only the SAM4 target
	script contained the magic to allow using SWD, while SAM3 was tied
	to JTAG only.  This e.g. prevented the CMSIS-DAP driver from
	accessing SAM3 devices as it only uses SWD transport (by now).  The patch pulls all the things from the SAM4 target script that are
	also applicable to SAM3 devices.  With the patch, an Atmel CMSIS-DAP
	debugger (Atmel-ICE) was proven to be able to successfully attach to
	a SAM3S-EK evaluation kit.  I also cross-checked that accessing
	through a SAM-ICE (Segger J-Link) still works with the patch.  Change-Id: I20dafbff8e1e9f967da950e48a56205586eeef8d Signed-off-by:
	Jörg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2046 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-14  Jörg Wunsch <openocd@uriah.heep.sax.de>

	* src/jtag/drivers/cmsis_dap_usb.c: All Atmel-provided CMSIS-DAP
	devices use 512 byte packet size The existing CMSIS-DAP driver matches the USB VID/PID against 0x3eb
	(Atmel VID) and 0x2111 (Atmel EDBG embedded CMSIS-DAP debugger), and
	then bumps the packet size from its default of 64 to 512.  However,
	it turned out that *all* Atmel-provided CMSIS-DAP devices (EDBG with
	PID 0x2111; JTAGICE3 with firmware version 3.x, PID 0x2140; new
	Atmel-ICE [successor of JTAGICE3], PID 0x2141) require a 512-byte
	packet size.  Obviously, all run the same USB implementation inside
	their custom microcontroller.  Thus, it seems best to simply assume
	that *all* Atmel CMSIS-DAP devices use this packet size, and don't
	check the PID at all.  This has also been filed as Trac bug #68: https://sourceforge.net/apps/trac/openocd/ticket/68 Change-Id: I942af93060fdf265fca3961841638caa6182f877 Signed-off-by:
	Jörg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2045 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andrey Yurovsky
	<yurovsky@gmail.com>

2014-03-14  Jörg Wunsch <openocd@uriah.heep.sax.de>

	* src/jtag/drivers/cmsis_dap_usb.c: Prevent segfault when the USB
	product string cannot be retrieved In the CMSIS-DAP driver, if nothing has been specified by the user,
	an attempt is made to find the first device with the (mandatory)
	substring "CMSIS-DAP" in any USB device's product string.  However,
	while (usually) all devices can be traversed, devices the user does
	not have permission for cannot be read the product string from,
	resulting in a NULL pointer.  Trying to find the substring
	"CMSIS-DAP" causes a segementation fault then.  This has also been filed as Trac bug #67: https://sourceforge.net/apps/trac/openocd/ticket/67 Change-Id: Idfc9f072e34152e9af99fe1c8ec88c99dea4624c Signed-off-by:
	Jörg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2044 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-09  Jens Hoffmann <jehoffma@gmail.com>

	* src/flash/nor/stm32f2x.c: stm32f2x.c: Add STM32F401xE device id.  Nucleo F401 board uses STM32F401RE chip with new device id and got
	more flash than existing devices (512K). This patch adds new the
	identifier to probe functions so flashing will now work.  Change-Id: Ibe9c047c79244db0cfbb06610da9d84987b9f85a Signed-off-by:
	Jens Hoffmann <jehoffma@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2037 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam4.c, src/flash/nor/at91sam4l.c,
	src/flash/nor/at91sam7.c, src/flash/nor/at91samd.c,
	src/flash/nor/avrf.c, src/flash/nor/cfi.c, src/flash/nor/driver.h,
	src/flash/nor/dsp5680xx_flash.c, src/flash/nor/efm32.c,
	src/flash/nor/em357.c, src/flash/nor/faux.c, src/flash/nor/fm3.c,
	src/flash/nor/kinetis.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc2900.c,
	src/flash/nor/lpcspifi.c, src/flash/nor/mdr.c,
	src/flash/nor/mini51.c, src/flash/nor/nrf51.c,
	src/flash/nor/nuc1x.c, src/flash/nor/ocl.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c, src/flash/nor/stmsmi.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tms470.c,
	src/flash/nor/virtual.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h, src/target/target.c, src/target/target.h: 
	flash: Constify write buffer Change-Id: Ic812098d3ed5a2992c26bb57d08ae350e2c5d5d8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2040 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/kinetis.c: flash/kinetis: Fix bug in odd byte count
	padding Change-Id: Ic5cfd880f2b49e3a96c408cf868db622bfe698a1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2039 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/efm32.c: flash/efm32: Fix bug in odd byte count
	padding Change-Id: I7fcd152a8501f399c6ac5a85fd62a84c82b030a0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2038 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: Don't poll until the target is
	examined.  The timer callback is started on target init, but it makes no sense
	to poll until the target is fully setup.  Change-Id: I118201e125e39be3d0a920e3ef9a3f68a2035f39 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2041 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-31  Paul Fertser <fercerpav@gmail.com>

	* contrib/rpc_examples/ocdrpc.hs, doc/openocd.texi: openocd.texi:
	document Tcl RPC and add an example client This should provide enough information to start using OpenOCD RPC.  I've seen some other example clients in different languages but I
	can't find them anymore, and their legal status was unclear.  Change-Id: I3a95fe361d773040d1e52a62f9cc0cc655019a9f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1915 Tested-by: jenkins Reviewed-by:
	Andreas Ortmann <ortmann@finf.uni-hannover.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-03-09  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/dp_busblaster_v3.cfg: tcl/board: add config for DP Bus
	Blaster reconfiguration Reported and tested by Gracana on IRC.  Change-Id: If0524d2d627d566e8b5e1d00784dd7556f44b125 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2036 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-07  Paul Fertser <fercerpav@gmail.com>

	* src/server/gdb_server.c: gdb_server: do not copy feature names for
	tdesc generation We always have feature names defined by string literals and the
	standard guarantees static storage duration for them. Hence, there's
	no need duplicating and then freeing them.  Valgrind-tested.  Change-Id: I1b77f966c548e3694141c63bd8680735f0f47505 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2028 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-04  Bartosz Bielawski <bartosz.bielawski@gmail.com>

	* src/jtag/drivers/stlink_usb.c, tcl/interface/stlink-v2-1.cfg: 
	stlink_usb.c: add support for STLink V2-1 The new version of STLink (V2-1) has a different USB endpoint
	layout.  As the PID of the device also changed it's possible to
	change EPs used by OpenOCD in runtime. The patch adds three new
	fields to stlink_usb_handle_s and assigns right EP numbers in
	stlink_usb_open().  Parts of the code inspired by and used with
	consent of Jens Hoffmann.  Change-Id: I93b69fb889f15317e9bf864905f435905db39745 Signed-off-by:
	Bartosz Bielawski <bartosz.bielawski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2019 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-02  Tim Kryger <tim.kryger@linaro.org>

	* tcl/board/bcm28155_ap.cfg, tcl/target/bcm281xx.cfg: bcm281xx: Add
	bcm281xx SoC and bcm28155_ap board Add support for Broadcom's dual A9 mobile SoC and its reference
	board.  Change-Id: Ia145b120043bddc89c44726066023154ae390788 Signed-off-by:
	Tim Kryger <tim.kryger@linaro.org> Reviewed-on:
	http://openocd.zylin.com/1926 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-03-03  Tom Rini <trini@ti.com>

	* tcl/interface/ftdi/xds100v2.cfg: interface/ftdi/xds100v2.cfg: Add
	another VID/PID, drop desc The XDS100v2 is often embedded in a number of platforms using the
	VID/PID of 0x0403/0x6010 and a generic FTDI device description.  Add
	this VID/PID combination and remove the description line.  Change-Id: I370e6199ac24f802426e9541e19ee38f18f1209a Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2016
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/stlink_usb.c, src/target/target.c,
	src/target/target.h: stlink: Use callback to increase frequency of
	trace data sampling The ST-LINK/V2 has limited internal buffering, such that trace data
	can be missed if the target is generating data at a rate quicker
	than the OpenOCD trace sampling. The issue of lost data is
	compounded since individual TPIU packets may be split across
	individual STLINK_TRACE_EP reads, and misleading results can occur
	if mid-packet loss occurs.  This patch increases the frequency of checking for pending trace
	data with the aim of minimising such losses. Note: With the limited
	(I/O and memory) bandwidth of the ST-LINK/V2 there cannot, however,
	be a guarantee against trace data loss.  The timer callback is only added when enabling tracing, and is
	removed when tracing is disabled.  Change-Id: Ibde9794b77793d3068f88cb5c1a26f9ceadcbd8a Signed-off-by:
	James G. Smith <jsmith@ecoscentric.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1661 Tested-by: jenkins

2014-02-28  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/flash/nor/nrf51.c: nrf51: Fix format string bugs in nrf51_info Additional information string appended to the 'flash info' output
	used incorrect offsets and was missing a couple of fields.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	If131be021295cab6adfca7da03c2f0fb8dca7d42 Reviewed-on:
	http://openocd.zylin.com/2011 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-03  Tom Rini <trini@ti.com>

	* tcl/board/ti_beaglebone.cfg: cfg: Switch ti_beaglebone to new ftdi
	interface Tested on Beagelbone White.  Change-Id: I544d7c1ba21a6bd594c0a1c4a9611639fa3c320d Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2017
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2013-10-24  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/cortex_a.c: cortex_a: Fix endianess issues in
	cortex_a8_*_apb_ab_memory Make the APB-AB memory read routines handle endianess order when
	running on big endian host. cortex_a8_read_apb_ab_memory is also
	called by cortex_a8_write_apb_ab_memory and was breaking both APB-AB
	read and write functions. Also fixed bug in write function in
	calculating the offset of end of buffer data. The change aslo fixes
	the read issues with all combinations of aligned unaligned memory
	access found by 'test_mem_access' cmd.  Tested with target "test_mem_access 4000", also size 1-9, 'mdb/h/w'
	'mwb/h/w' cmds and equivalent gdb 'x' 'set' cmds.  Change-Id: Ia927c60c4837617f5342a9beb6fdab1f061855fe Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1781 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-02-05  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm_adi_v5.c: target: add CoreSight PMU and an
	unidentified component to "dap info" Change-Id: I705eae46b190dbd89ab01bc086c49eb04368d9b3 Reported-by:
	Brad Riensche <brad.riensche@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1928
	Tested-by: jenkins Reviewed-by: Brad Riensche
	<brad.riensche@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-22  Brad Riensche <brad.riensche@gmail.com>

	* src/target/arm_adi_v5.c: target: "dap info" command cosmetic
	output changes This makes the listing easier to read, imho. The tab indentation
	technique causes the base address to precess as the parser proceeds
	through the subtables, and can easily wrap.  Change-Id: Iea5e678255e6314a9d532e4b222a2572b5394390 Signed-off-by:
	Brad Riensche <brad.riensche@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1518 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-05-29  Chris Johns <chrisj@rtems.org>

	* src/target/arm_adi_v5.c: targets: Print nested ROM tables with the
	'dap info' command.  Move the ROM table printing into a separate function to allow
	recursive calls with nested tables. ROM tables can nest. The
	printing is limited to 16 levels.  Update the types of tables printed. When an entry can't be read,
	print a warning and continue.  Change-Id: Ib134edd9e987af2f5f606071521885b17af4d70f Signed-off-by:
	Chris Johns <chrisj@rtems.org> Reviewed-on:
	http://openocd.zylin.com/1427 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* Makefile.am, README, contrib/99-openocd.rules,
	contrib/openocd.udev, doc/openocd.texi: Rename and sort udev rules
	file Also add missing entries for JTAG-lock-pick Tiny 2, Xverve
	Signalyzer LITE and default FTDI VID:PIDs.  Change-Id: I41b4f15409642298d1cf134d1f8014dc8f003005 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1969 Tested-by: jenkins

2014-03-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/server/gdb_server.c: gdb_server: Fix segfault in (and rewrite)
	decode_xfer_read Introduced by 537b06a81 (free non-malloced memory).  Rewrite to use standard C string routines and make returning annex
	optional since it's not currently used.  Change-Id: Idf3698a482dfeff7fa5ea1660fd89122eb80b68d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2023 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdbserver: fix duplicate declaration commit da0d1e37 did not merge correctly, causing the build to fail.  Change-Id: I3f525054bb38b7ee29bf27309bb2e6a5bb8329c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2020 Tested-by: jenkins

2014-02-25  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91sam4.c,
	tcl/board/atmel_samg53_xplained_pro.cfg, tcl/target/at91samg5x.cfg: 
	Add support for the Atmel SAMG53 flash: at91sam4: add support for the SAMG53 family (this also covers
	the SAMG51).  The SAMG5x parts have an EEFC (enhanced embedded flash
	controller) which seems to be identical to the EFC that the sam4
	driver supports.  Add a script for the Xplained Pro G53 board, this has the onboard
	CMSIS-DAP debugger and a SAMG53N19.  Tested on this board and chip
	combination.  Change-Id: I12af50402cd2069b3c7380d92e6fe54816d6c045 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1974 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-25  Jens Bauer <jens@gpio.dk>

	* src/jtag/drivers/cmsis_dap_usb.c: CMSIS-DAP: Fix build errors on
	Mac OS X Rename the argument variable 'wait' to 'delay', as 'wait' conflicts
	with an API function declared in system header
	/usr/include/sys/wait.h on Mac OS X.  Change-Id: I5742da6e5def6e5ec197e774c3844e4bf0424569 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/1973
	Tested-by: jenkins Reviewed-by: Andrey Yurovsky <yurovsky@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-02-02  Christian Eggers <ceggers@gmx.de>

	* src/server/gdb_server.c: gdb_server: fix memory leaks in users of
	get_reg_features_list() v4: - changed first line of commit message v3: - added extra LOG_ERROR() message v2: - Added missing "goto error" - free also the on extra element of features[] In contrast to target_get_gdb_reg_list(), the list returned by
	get_reg_features_list() consists of items which are itself
	malloc'ed.  --> Free the list items prior freeing the list itself.  Additionally: - gdb_generate_target_description():   o Do error handling similar as gdb_get_target_description_chunk()
	  does.  - gdb_get_target_description_chunk()   o **features must be initialised prior an "goto error" can happen Change-Id: Iad07824618c51084e0aa0499ee6fc96198b320f0 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1917 Tested-by: jenkins Reviewed-by: Trevor
	Woerner <trevor.woerner@linaro.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-14  Christian Eggers <ceggers@gmx.de>

	* src/rtos/linux.c, src/rtos/rtos.c, src/rtos/rtos.h,
	src/server/gdb_server.c, src/target/image.c, src/target/image.h,
	src/target/smp.c, src/target/smp.h: Constify received GDB packet v2: - Split work into separate patches The received packet will not be altered in any of the processing
	functions.  Some it can be made "const".  Change-Id: I7bb410224cf6daa74a6c494624176ccb9ae638ac Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1919 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-14  Christian Eggers <ceggers@gmx.de>

	* src/server/gdb_server.c: gdb_server: Don't modify "buf" argument
	in decode_xfer_read() Make a temporary copy of argument "buf" before modifying it.  This
	requires also returning annex as copy of "buf".  This change is necessary in order to make packet[] "const".  Change-Id: I41eddc2edba1a88384aa7f5591fe50f6ee6a135c Signed-off-by:
	Christian Eggers <ceggers@gmx.de> --- Changelog: v4: - Initialize annex to NULL v3: - Return "annex" as copy instead of removing it.  Reviewed-on:
	http://openocd.zylin.com/1924 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Christian Eggers <ceggers@gmx.de>

	* src/server/gdb_server.c: Remove unneeded zero termination of
	received packet v2:   removed curly braces around single statement if-block packet[] has already been zero terminated in gdb_input_inner() This
	change is necessary in order to make packet[] "const".  Change-Id: I978bbe52d151a63574db77fb747f596da256d377 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1922 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Christian Eggers <ceggers@gmx.de>

	* src/rtos/rtos.c: gdb-server/rtos: Send correct answer to
	"qfThreadInfo" packet Even if no RTOS is configured, "qfThreadInfo" must be answered with
	"l" instead of "". Otherwise GDB will switch to the older thread
	packet ("qL"), which is not supported by OpenOCD.  Change-Id: Iead045bdf8268bac2378c8f70829b17c37834e44 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1925 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-01  Christian Eggers <ceggers@gmx.de>

	* src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c, src/rtos/ThreadX.c,
	src/rtos/eCos.c, src/rtos/embKernel.c, src/rtos/rtos.c,
	src/rtos/rtos.h: RTOS: Unify wipe-out of thread list Each RTOS implementation uses it's own (similar) code to free the
	thread list. There are some additional issues: <---> if (pointer != NULL) 	free(pointer); <---> This is not necessary, free(NULL) is perfectly
	ok.  <---> free(rtos->thread_details); rtos->thread_details = NULL;
	rtos->thread_count = 0; <---> The 3rd line has been missing for all
	RTOS but ChibiOs. There are paths in the code where
	rtos->thread_count is never set to NULL, which can lead to null
	pointer dereference of rtos->thread_details.  Change-Id: I6f7045c3d4518b925cb80dd5c907a566536b34ad Signed-off-by:
	Christian Eggers <ceggers@gmx.de> --- Changelog: v7: - rtos_wipe_threadlist() --> rtos_free_threadlist() - removed non related changes in gdb_server.c from this patch v3: - Removed world "topic" from first line of commit message v2: - typo: "whipe" --> "wipe" Reviewed-on:
	http://openocd.zylin.com/1916 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* src/target/mips32.c: mips32: build register cache in a more clear
	way This commit is inspired by armv7m_build_reg_cache().  Change-Id: I62b51b2a5f0fed788af167b6f8e60c09b53181be Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1943 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-11  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/fm3.c: fm3: fix erase flash fail on using High Level
	Adapters.  This fix can "erase flash" on using High Level Adapters by running
	algorithm.  Because fm3 flash commands must need true 16-bit memory
	access, but High Level Adapters(ST-Link/TI-ICDI) can 8/32bit access
	only.  Tested on MB9BF618T and MB9AF112K with STLink/V2.  Change-Id: I849a8a8e8ae2b3e77717de04f7522cf718c915d7 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1944 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* src/jtag/drivers/usb_blaster/usb_blaster.c: drivers/jtag:
	usb_blaster: make command handlers more strict If user used wrong argument number for some usb_blaster_* commands
	then openocd show just warning message.  This commit makes command
	handler's behaviour more strict and openocd treats wrong argument
	number as an error.  In addition we already have 'help' and 'usage' information in struct
	command_registration ublast_command_handlers[], so we can drop
	redundancy messages in command handlers.  Change-Id: I73b8c75ec60a18e5258a4bdffe972e8a1afc1066 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1942 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-07  Andrey Smirnov <andrew.smirnov@gmail.com>

	* README, doc/openocd.texi, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/nrf51.c,
	tcl/target/nrf51_stlink.tcl: nrf51: Implement the support for
	Nordic's nRF51 devices Add support for Nordic's nRF51 chip series. Tested with nRF51822.  Change-Id: Id70f6fd76888cc595a353aefb84d25c4cd325d7d Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1945 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-23  Joerg Fischer <turboj@gmx.de>

	* src/flash/nor/efm32.c: EFM32 Wonder Gecko Family support Add support for EFM32 Wonder Gecko family to flash driver.  This
	family has Cortex M4F core.  Change-Id: If71511015403069e3e30cb9f19df12cd97ac49e8 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1968 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-04  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/tcl.c: tcl/drscan: handle invalid syntax with a
	conditional, not assert When "drscan" command is used improperly, such as in: drscan
	stm32f1x.cpu -endstate drpause there're no fields to scan, and so
	the assert leads to a segfault. This should be treated like any
	other syntax error instead.  Change-Id: Id1743f5d641038e1e3754c6f3097aabc5d1916b9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1927 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* src/jtag/drivers/usb_blaster/ublast_access.h: usb_blaster:
	ublast_access.h: add guard macro Change-Id: I10f6e2048cf88f64f5dce275a273783365afd65c Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1941 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-15  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ftdi.c: drivers/ftdi: warn the user if he tries
	to use undefined reset signals It is really an error to try to use a reset_config that doesn't
	match adapter's capabilities, however OpenOCD has no way to specify
	them.  Using wrong reset_config might lead to very confusing behaviour, so
	I think LOG_ERROR is justified here.  Change-Id: I1c6dcfa7c0d78829229a850189cad646b565dd66 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1948 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-15  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ft2232.c: ft2232: warn about lack of TRST on
	"turtle" adapter This patch fixes a build error (assigning a variable to itself) with
	clang.  Since this adapter lacks trst, trying to use it in reset_config will
	fail silently. Warn the user accordingly.  Change-Id: I16fd20936f00d7ff82962f4fcc629ff434aa4dce Reported-by:
	Rainer Müller <raimue@codingfarm.de> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1946
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-16  Fatih Aşıcı <fatih.asici@gmail.com>

	* tcl/target/stm32f4x.cfg: cfg: Make stm32f4x usable with SWD
	transport Change-Id: Ib8f3b414ec3c31cf8a112e75efe003e2237c59bb Signed-off-by:
	Fatih Aşıcı <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1951 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2014-02-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: Fix option byte flag parsing Change-Id: Ifa04e1f215ac5790db3d432cc0d7d532660459f2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1963 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-30  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm926ejs.c: arm926ejs: fix write memory operations
	with caches enabled Perform proper ICache flush operations on memory writes. This should
	fix inability to use software breakpoints for debugging with caches
	enabled.  This patch is only compile-time tested.  Commit 1137eaedaf6498f3448cdedf6f93076d9b3fd58a fixed the same issue
	for arm920t. Among all the arm7_9_common targets only arm926ejs
	seems to be broken in the same way.  Change-Id: I575306ac4319a69fc637b42f7c958f4595c5e81f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1912 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-06  Adrian Burns <adrian.burns@intel.com>

	* README, doc/openocd.texi, src/target/Makefile.am,
	src/target/lakemont.c, src/target/lakemont.h,
	src/target/quark_x10xx.c, src/target/target.c,
	src/target/x86_32_common.c, src/target/x86_32_common.h,
	tcl/board/quark_x10xx_board.cfg, tcl/target/quark_x10xx.cfg: 
	quark_x10xx: add new target quark_x10xx Intel Quark X10xx SoC debug support added Lakemont version 1 (LMT1)
	is the x86 core in Quark X10xx SoC Generic x86 32-bit code is in
	x86_32_common.c/h Change-Id: If2bf77275cd0277a82558cd9895b4c66155cf368 Signed-off-by:
	adrian.burns@intel.com Reviewed-on: http://openocd.zylin.com/1829
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-02-06  Pete Batard <pete@akeo.ie>

	* README.Windows: doc: update README.Windows with new Zadig download
	URL As the old SF repository indicates, newer downloads have been moved
	to an alternate server, and 3 new releases of Zadig have already
	occurred there.  Change-Id: I8ff967fd834e9c8dd2cce9dcbbe07e03d2b33e4a Signed-off-by:
	Pete Batard <pete@akeo.ie> Reviewed-on:
	http://openocd.zylin.com/1940 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2014-01-18  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/xds100v2.cfg: interface/ftdi/xds100v2.cfg:
	default to reset state and ask user to release it later This adapter is special and needs a reset sequence to be performed
	before operation. Since there're no suitable hooks to do that, we
	have no choice but to ask the user to manually add the necessary
	commands to his or her config file.  Change-Id: I48fb4276e77529768266840221b68c3ae26801e1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1884 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-03  Kuldeep Singh Dhaka <kuldeepdhaka9@gmail.com>

	* src/flash/nor/stm32f1x.c: nor/flash/stm32f1x: add stm32f07x
	support Added configuration to work with stm32f07x.  Tested on
	stm32f072discovery with libopencm3 stm32f0 blink example.  Change-Id: I63cdc9bf1f28f5951d6b4faac871cfde331c9c78 Signed-off-by:
	Kuldeep Singh Dhaka <kuldeepdhaka9@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1921 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-10-29  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c: cortex_a: do not try to use MMU for
	translation if it wasn't enabled on target stop On a target where AHB AP memory access is unavailable, care should
	be taken to avoid treating addresses as virtual if the MMU was
	disabled at the time the target was stopped.  Without this it's impossible to peek memory with Gdb when debugging
	e.g. a bootloader because cortex_a8_read_memory() unconditionally
	tried (and failed because of a sanity check in cortex_a8_mmu_modify)
	to enable MMU.  Change-Id: Id7c63f4912920fb71a6104226ec6428d18c96a56 Reported-by:
	mbm@openwrt.org Signed-off-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-on: http://openocd.zylin.com/1787 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-22  Anton Kolesov <anton.kolesov@synopsys.com>

	* src/server/gdb_server.c: gdb_server: Fix confusing warning when
	entering noack mode Comment in gdb_server code mistakenly attributed constant warnings
	about unexpected acknowledgement to the ACK packet sent by GDB when
	establishing connection. However that is not the case, OpenOCD
	gdb_server is handling this packet correctly without an warnings.
	This warning instead was caused by the ACK packet which GDB sends
	right after going into noack mode. Because OpenOCD gdb_server is
	already in noack mode at this state, it emits warning about it. This
	is a documented GDB behaviour

	(https://sourceware.org/gdb/onlinedocs/gdb/Packet-Acknowledgment.html)so there is no reason to scare users with warnings in this case.  This patch basically introduces two-level noack mode: after
	receiving QStartNoAckMode gdb_server will set noack_mode to 1, then
	it will receive this last ACK packet, but instead of printing a
	warning, noack_mode will be increased to 2. Should there be any
	other ACK packets after that, they will be properly reported by
	warning. All other code that relies on noack_mode checks it for "!=
	0", so there will be no difference if it is 1 or 2.  Change-Id: I0e9c57fd93293bfe010390db2f3f161528b11d86 Signed-off-by:
	Anton Kolesov <anton.kolesov@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/1895 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-20  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/gen-stellaris-part-header.pl, src/flash/nand/lpc32xx.c,
	src/flash/nor/at91sam4l.c, src/flash/nor/at91sam7.c,
	src/flash/nor/avrf.c, src/flash/nor/fm3.c, src/flash/nor/kinetis.c,
	src/flash/nor/lpcspifi.c, src/flash/nor/nuc1x.c,
	src/flash/nor/spi.c, src/flash/nor/spi.h,
	src/flash/nor/stellaris.c, src/flash/nor/stmsmi.c,
	src/flash/nor/str7x.c: flash: declare fixed arrays const Change-Id: Id06b8b53ec59a7b3182f60f51dde5b16563aaeef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1887 Tested-by: jenkins

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/mdr.c: flash/nor/mdr.c: fix uninitialised variable
	warning Caught (actually, it's breaking the build) by clang 3.3.  Change-Id: Ife6fabf8a57e6c90ab45aaaf75557c984ac6772c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1875 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/stm32f1x.c: flash/nor/stm32f1x: fix format
	specifiers warning Caught by clang on OS X. Reported by Steffanx on IRC.  Change-Id: Id77c7297c58e58c4e2aa8e5dafcb3a29a1f33f3d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1879 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/target/nds32_disassembler.c: target/nds32_disassembler: fix
	format specifiers warnings According to the standard every operation returns at least an
	integer, so PRIu8 format specifier is not suitable for these values
	as is.  This breaks build on OS X (x86_64-apple-darwin13.0.0) with "Apple
	LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".  Fix by adding appropriate casts. In fact there's plenty of room (and
	I'd say necessity) for factoring out common code in there, but it's
	too invasive for a non-maintainer.  Change-Id: I7d2182eb1d2f86fa22c882fbbaa6cfadf1c3e8fc Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1878 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Hsiangkai Wang
	<hsiangkai@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/server/gdb_server.c: server/gdb_server: fix uninitialised
	variable warning Caught (breaks build) with clang 3.3.  Change-Id: I5978fe34e82122f62e3d587bcdc45ad12f5e55ca Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1877 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/rtos.c: rtos: fix uninitialised variable warning Breaks build with clang 3.3. This "addr" variable is actually always
	ignored by next_symbol() when cur_symbol is an empty string but
	clang can't (and probably shouldn't) prove that automatically.  Change-Id: Id030f1aa34b9d40b5fa20a422031511520e52669 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1876 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-24  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/target/target.c: doc: add missing reg
	command argument 'force' The argument 'force' enables a user to bypass the internal cache and
	read a target register directly. However it is missing from the user
	guide.  Change-Id: I26f689eec20b38a0dc5294626b25df566b554446 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1897 Tested-by: jenkins

2014-02-02  Paul Fertser <fercerpav@gmail.com>

	* contrib/openocd.udev, tcl/interface/ftdi/tumpa-lite.cfg: 
	interface/ftdi: add TUMPA Lite config TUMPA Lite is a cheap FT232H-based breakout board, without any
	buffering. It also lacks series resistors so for some targets
	(especially when not using ridiculously short wires) one needs to
	add about 47 Ohms in series on every high-speed line.  The SRST line is connected directly to the FT232H too.  Real-life tested (including SRST and TRST).  Change-Id: I5ed4f88d8d20384e9c52efe2ff0c290e2650d43e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1918 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-22  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/kinetis.c: kinetis : improve kinetis flash driver.  Kinetis K-series have different guranuarity for each frequency
	model.  This patch adding more minute guranuarity detection.  And
	adopted mass erase command not only L-series but also K-series.
	Tested on MK20DX32VLF5,MK10DX32VLF5,and MKL25Z128VLK4.  Change-Id: Iffef850d4b388463756a13faf02c3890bfc19acf Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1894 Tested-by: jenkins Reviewed-by: Per
	Ekman <pekenator@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Mateusz Kaduk
	<mateusz.kaduk@gmail.com>

2014-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: doc: update CMSIS-DAP info to match default
	driver behaviour By default the driver will now auto detect attached adapters, it
	does not use an internal list any more. Update docs to match this.  Change-Id: I62a9d243cd236a8cf54cbd9d088c4837a8df31bf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1902 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-01-22  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/lpc17xx.cfg: cfg: LPC17xx default to using SYSRESETREQ
	to reset target Originally the LPC17xx user guide (UM10360 Rev 2) stated that
	SYSRESETREQ was not supported, so this was the default cortex_m
	reset mode.  Rev 3 of the same user guide states that it is now supported.  This
	has been verified on a LPC1768 mbed platform, previously I have not
	tested this functionality.  Change-Id: I4858248903981a1c93ce75016e67c9e02702fcc5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1892 Tested-by: jenkins Reviewed-by: Jörg
	Fischer <turboj@gmx.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-01-25  Antony Pavlov <antonynpavlov@gmail.com>

	* .gitignore: top .gitignore: ignore .dirstamp files Just after succesfull build you can see some untracked files in the
	'git status' output: 	src/jtag/drivers/versaloon/.dirstamp 	src/jtag/drivers/versaloon/usbtoxxx/.dirstamp This commit fixes the problem.  Change-Id: I1674eb4423e97c5f0a47f216981eaffdc351f784 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1898 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-11-26  Paul Fertser <fercerpav@gmail.com>

	* src/target/arm920t.c: arm920t: fix write memory operations with
	caches enabled Commit ff5ec942d80a34e20b5a3ca3328f7e6a55fb309b made this target
	always use generic arm7_9 memory write routines for software
	breakpoints which resulted in inability to debug and single-step
	sources in Gdb when icache is active as generic routine doesn't
	invalidate it. This should fix it (and is real-life tested against
	Samsung S3C2442). I expect other arm7-9 targets to be affected as
	well.  Change-Id: Id7980e370ae4db47ac6b1490321d81ffe85711c0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1817 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-08-22  Luca BRUNO <lucab@debian.org>

	* src/target/armv4_5.c: Add GDB remote target description support
	for ARM4 This commit adds support for passing the ARM4 target description to
	GDB when enabling gdb_target_description, in order to expose all
	banked registers.  Change-Id: Id618bc6226f00fe83397ea28888a84b64b09cafd Signed-off-by:
	Luca BRUNO <lucab@debian.org> Reviewed-on:
	http://openocd.zylin.com/1810 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-20  Peter Lawrence <majbthrd@gmail.com>

	* src/jtag/drivers/cmsis_dap_usb.c: CMSIS-DAP: auto-detect CMSIS-DAP
	USB VID:PID The current OpenOCD implementation requires CMSIS-DAP adapter USB
	VID:PID values to either be hard-coded in the source or manually
	supplied by the user's configuration files.  The CMSIS-DAP
	specification stipulates that all compliant adapters should have
	"CMSIS-DAP" in the product string.  This should obviate the need for
	hard-coding.  This patch was previously submitted as changes 1882, 1883, and 1886
	but amendments failed to be registered by the server.  The
	functionality was changed from 1886 in response to comments so that
	user-supplied VID:PID values overrided the CMSIS-DAP auto-detect.  Change-Id: Ifb2dc217248359f448e0a42bd1527dd744c434b0 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1888 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-15  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c: flash: samd: declare const data Make the chip information lookup tables const (thanks to Spencer
	Oliver for pointing this out).  Also fix spacing on one macro.  No
	functional changes.  Change-Id: I053c4951c2626b8aa4541a79673b500394ef08e8 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1874 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* doc/openocd.texi: doc: Add Gerrit to the Developer resources
	section Change-Id: Icbf2050967cea06b05a09574a6a91ce1407a489f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1885 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* README, README.OSX: Add CMSIS-DAP information to the READMEs.  Change-Id: I8c87d559adf07b0f0702fe9d388f26bf046bcb8b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1880 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-06  Paul Fertser <fercerpav@gmail.com>

	* src/server/gdb_server.c: gdb_server: check for invalid read memory
	requests This prevents invalid free(NULL) (that crashes OpenOCD on desktop
	distros).  With radare2 it's now a bit more useful, memory access works if I
	seek to the correct address, can't test further as it apparently
	lacks thumb2 support.  Change-Id: I6ec32d09fd52dab53ba765d7f7519baa1f55d973 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1853 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/driver.c, src/jtag/drivers/minidriver_imp.h,
	src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidriver/minidriver_imp.h,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/target/arm7tdmi.c, src/target/arm_jtag.c,
	src/target/embeddedice.h, src/target/xscale.c: Retire
	jtag_add_dr_out The out only version of jtag_add_dr_scan smells like a bogus
	optimization that complicates the minidriver API for questionable
	gain.  The function was only used by four old ARM targets. Rewrite the
	callers to use the generic function and remove all implementations.  Change-Id: I13b643687ee8ed6bc9b6336e7096c34f40ea96af Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1801 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-03  Franck Jullien <franck.jullien@gmail.com>

	* configure.ac, src/jtag/drivers/usb_blaster/Makefile.am,
	src/jtag/drivers/usb_blaster/ublast2_access_libusb.c,
	src/jtag/drivers/usb_blaster/ublast_access.h,
	src/jtag/drivers/usb_blaster/usb_blaster.c, src/jtag/interfaces.c,
	tcl/interface/altera-usb-blaster2.cfg: jtag/drivers: add USB-Blaster
	II This patchs adds a new access driver for the existing USB-Blaster
	interface driver.  This interface (as it is build-in on the sockit development board)
	is composed of a Cypress EZ-USB plus a CPLD.  The Cypress chip as an embedded 8051 microcontroller.  When it's
	powered up, the firmware is downloaded to the chip then the device
	is disconnected and reconnected with the new firmware.  The USB-Blaster II protocol is almost identicial to the old one. The
	only difference is that you need to send a 0x5F before read TDO
	back. This command seems to copy TDO buffer datas to the endpoint
	buffer.  Driver will be auto enabled if libusb-1.0 is detected.  Change-Id: I562a720a68cb4dcabeab791947d5d38776cb70fa Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1791 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-11  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/frdm-kl46z.cfg, tcl/target/kl46.cfg: cfg: add Freescale
	FRDM-KL46Z Board Change-Id: Ib585728f13a380eeeb2ada095f3e1a1c2aaf44cb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1866 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/etb.c, src/target/etm.c: target: fix typos Change-Id: Icdb517224e8bcf41a16498088e09955048077d35 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1864 Tested-by: jenkins Reviewed-by: Bill
	Traynor <btraynor@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortexm: use Cortex-M rather than cortex-m3
	for dwt registers Change-Id: I28e3a8c65ccc4a4e3ec94e41c846e6a263c165e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1865 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-11-04  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_interface.c, src/jtag/aice/aice_pipe.c,
	src/jtag/aice/aice_usb.c, src/jtag/aice/aice_usb.h,
	src/jtag/drivers/jlink.c, src/jtag/drivers/opendous.c,
	src/jtag/drivers/osbdm.c, src/jtag/drivers/stlink_usb.c,
	src/jtag/drivers/ti_icdi_usb.c, src/jtag/hla/hla_interface.c,
	src/rtos/linux.c, src/server/gdb_server.c, src/target/nds32.c,
	src/target/nds32_disassembler.c, src/target/nds32_v2.c,
	src/target/nds32_v3.c, src/target/nds32_v3_common.c,
	src/target/nds32_v3m.c, src/target/openrisc/or1k.c,
	src/target/openrisc/or1k_du_adv.c,
	src/target/openrisc/or1k_tap_vjtag.c: Conform to C99 integer types
	format specifiers Review and modify to conform to C99 integer types format specifiers.
	Use arm-none-eabi toolchain to build successfully.  Change-Id: If855072a8f88886809309155ac6d031dcfcbc4b2 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Signed-off-by: Hsiangkai
	<hsiangkai@gmail.com> Reviewed-on: http://openocd.zylin.com/1794
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-13  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi: Grammatical cleanup to Tcl Scripting chapter of
	User's Guide Changes solely to the Tcl Scripting API chapter of the UG: * Some grammatical cleanup * Fix formatting issues (@example and @verbatim formatting) * Add references to missing OSes OpenBSD, NetBSD and eCos.  Change-Id: I3ec1a192a0b1e0a207dceb76fd39008d01e287a5 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1872 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-23  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91samd.c, tcl/board/atmel_samd21_xplained_pro.cfg: 
	Atmel samd: add support for SAMD21 Tested with SAMD21J18A on the SAMD21 Xplained Pro board.  Change-Id: Ice9ebcd229ed038b3193baf92d910f9256d7ce91 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1873 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: Avoid unnecessary saving and
	restoring of DCRDR This is used for the emulated DCC channel which is only maintained
	as long as target->dbg_msg_enabled is set. Skip the saving and
	restoring if not enabled to save one dap_run() per core register
	access.  Note that we could've probably queued all core register accesses in
	the same transaction if the armv7 register framework hadn't required
	synchronous register accesses.  Change-Id: I4fe6d713261ee5db42422203eb63035fdcc48891 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1848 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_a.c: adi_v5: Remove unnecessary MEM-AP access
	functions It's far nicer to pass a size parameter than to split the calls to
	separate wrappers which are combined to a single function anyway.  Change-Id: I716741ebf916f6f8e9358a31c8f4fe761107c82f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1847 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: Fix possible endianness problem
	in emulated DCC channel Change-Id: If7104464a8c65085f3ceac445e9c9be8446f2da9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1846 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: Add test bench for memory access
	functions Change-Id: I86e6fe4d0b4d580389ae5e1d3f4813d1e25b2613 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1629 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-27  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: lpc2000: fix LPC810 programming support IAP commands fail on programming LPC810 because it has only 1kByte
	of SRAM.  This patch is fixing cmd51_max_buffer suitable size for
	LPC810,LPC811 and other LPC1000 series.  Tested on a
	LPC810,LPC812,LPC11u14,and LPC1114(DIP28).  Change-Id: Iecec9fd963cb63bdff4a7bd3bbf4f8b1a7c60fbd Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1843 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-11  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi: A few more grammar and typo fixes from the
	User's Guide.  More cleanup from some of the later chapters from the User's Guide,
	no functional changes.  Change-Id: Ib2860fc2574503e8107935d79db45fa96014fe3a Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1863 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-11  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi: Remove obsolete tip referring to 2010 removal of
	TAP numbers.  Remove a tip describing the discouraged use of TAP numbers, and how
	these numbers would be removed by mid-2010.  Change-Id: Iebe7e2e4a0f8e1f18a91d7935588dd9ced2b398d Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1862 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-10  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi: Proofreading, typo and grammar fixes to Ch 10
	User's Guide.  Various cleanups to Chapter 10 of the User's Guide, no functional
	changes.  Change-Id: I055d032eacc8e85b1d8edbd4bcc505f6f0feaa49 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1861 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-09  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/manual/helper.txt: Some minor URL fixes and typo fixes, no
	functional changes.  Change-Id: Ib262d9e6330c35d26868942b821de7b53e00b854 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1859 Tested-by: jenkins Reviewed-by: Bill
	Traynor <btraynor@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-03  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/at91samd.c,
	src/flash/nor/drivers.c, tcl/target/at91samdXX.cfg: add support for
	Atmel SAMD NOR Flash This adds a new NOR Flash driver, "at91samd", which supports the
	built-in Flash on Atmel's D-series Cortex M MCUs, starting with the
	D20.  Parts and their geometry are detected automatically using the
	DSU and lookup schemes described in the D20 document,
	42129F–SAM–10/2013.  Future D-series variants and families
	should presumably use this controller as well (possibly with minor
	changes and improvements).  Tested on the SAMD20 Xplained Pro board, for which we also add the
	corresponding Flash configuration.  Change-Id: Id8d3dd601e9f53121682d1a1190d0be4ea3b83eb Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1684 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/at91sam4l.c,
	src/flash/nor/drivers.c, tcl/target/at91sam4lXX.cfg: add support for
	Atmel SAM4L NOR Flash This adds a new NOR Flash driver, "at91sam4l", which supports the
	built-in Flash on Atmel's low-power SAM4L family of Cortex M4 MCUs.
	Parts and their geometry are detected automatically using the Chip
	ID and lookup schemes described in document 42023E–SAM–07/2013.  Tested on AT91SAM4LC4CA via the SAM4L XPlained Pro development kit.  Change-Id: If73499dee92cc8ce231845244ea25c6984f6cecd Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1639 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-04  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/openocd.udev, tcl/board/atmel_sam4l8_xplained_pro.cfg,
	tcl/board/atmel_sam4s_xplained_pro.cfg,
	tcl/board/atmel_samd20_xplained_pro.cfg,
	tcl/target/at91sam4XXX.cfg, tcl/target/at91sam4lXX.cfg,
	tcl/target/at91sam4sXX.cfg, tcl/target/at91sam4sd32x.cfg,
	tcl/target/at91samdXX.cfg: cfg: add initial Atmel xplained kit
	support These kits feature a CMSIS-DAP compliant debugger and so have been
	added as part of the pending support.  Currently the flash drivers for the L8 and D20 are wip.  One issue this implementation of CMSIS-DAP raised is that it
	supports 512byte HID reports, however using the current HIDAPI we
	have no cross platform way of querying this info. Long term we plan
	to add this support to HIDAPI.  Change-Id: Ie8b7c871f58a099d963cd71a9f8a0105a38784e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1625 Tested-by: jenkins

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm320518_eval.cfg, tcl/target/stm32f0x.cfg,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f3x.cfg, tcl/target/stm32f4x.cfg,
	tcl/target/stm32l.cfg, tcl/target/stm32w108xx.cfg: cfg: add stm32
	cmsis-dap compliant config Change-Id: I3cfb21fdcef830e22b03bf4b5d58993728cc7475 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1543 Tested-by: jenkins

2013-12-19  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac, contrib/cross-build.sh, contrib/openocd.udev,
	doc/openocd.texi, src/Makefile.am, src/jtag/core.c,
	src/jtag/drivers/Makefile.am, src/jtag/drivers/cmsis_dap_usb.c,
	src/jtag/interface.h, src/jtag/interfaces.c, src/jtag/swd.h,
	src/jtag/tcl.c, src/target/Makefile.am,
	src/target/adi_v5_cmsis_dap.c, src/target/adi_v5_swd.c,
	tcl/board/frdm-kl25z.cfg, tcl/board/mbed-lpc11u24.cfg,
	tcl/board/mbed-lpc1768.cfg, tcl/interface/cmsis-dap.cfg,
	tcl/target/kl25.cfg, tcl/target/lpc11uxx.cfg,
	tcl/target/lpc17xx.cfg, tcl/target/swj-dp.tcl: cmsis-dap: add
	initial cmsis-dap support This is based on work from:
	https://github.com/TheShed/OpenOCD-CMSIS-DAP/tree/cmsis-dap Main changes include moving over to using HIDAPI rather than
	libusb-1.0 and cleaning up to merge into master. Support for reset
	using srst has also been added.  It has been tested on all the mbed boards as well as the Freedom
	board from Freescale. These boards only implement SWD mode, however
	JTAG mode has been tested with a Keil ULINK2 and a stm32 target -
	but requires a lot more work.  Change-Id: I96d5ee1993bc9c0526219ab754c5aad3b55d812d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: Andrey Yurovsky
	<yurovsky@gmail.com> Reviewed-on: http://openocd.zylin.com/1542
	Tested-by: jenkins

2014-01-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/command.c: command: Fix formatting for empty usage
	string Introduced by requirement in 54d6330b.  Change-Id: If3dba057127b54b15ca7f364f37c6286d34f77e0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reported-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1858 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/netgear-dg834v3.cfg, tcl/tools/firmware-recovery.tcl: 
	tcl/netgear-dg834v3.cfg: add to easy firmware recovery list Change-Id: I6e5205ec41c58dc2fe3fb0051c30918507ef1e88 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1851 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, tcl/tools/firmware-recovery.tcl: tools: add
	firmware recovery helpers This adds a set of helper functions with the aim to make it possible
	to flash mass-market devices without RTFMing altogether (i.e. to
	obsolete GPL-violating proprietary tjtag and other similar
	software).  Real-life tested on an RT-N16 and WRT54GL.  Change-Id: I197a9b28a5f386803f081057c4b4ebf2f9c447b1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1850 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-31  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/linksys-wrt54gl.cfg, tcl/target/bcm5352e.cfg: tcl/board:
	add Linksys WRT54GL v1.1 board config Tested flashing a real v1.1 device.  Change-Id: Ie0d202b9fded8b92e731d93e0ef17be415a75fc8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1852 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/asus-rt-n16.cfg, tcl/target/bcm4718.cfg,
	tcl/target/bcm47xx.cfg: tcl: add bcm47xx config and Asus RT-N16
	board using it This adds the bcm47xx config with the special undocumented trick to
	put it into standard EJTAG mode from the mystic "LV mode".  The RAM setup is not done as it would require considerable efforts
	without much practical gain.  The only issue I noticed so far is that "reset" doesn't actually
	reset the chip.  Unfortunately, it's unclear how to make it work properly with SRST
	as OpenOCD asserts it in MIPS-specific code so the device will enter
	LV mode again but the LV tap is already disabled by that time, so
	it's not possible to send the magic command again.  Anyway, this config is more than enough to "recover" any RT-N16
	provided the hardware is not damaged.  Change-Id: I0894e339763e6d20d1c93341c597382b479d039b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1849 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* src/server/tcl_server.c: Allow "tcl_port" to be run after config
	to simply display the port.  To be consistent with gdb_port and telnet_port, allow tcl_port to be
	run to display the configured port number, while still not allowing
	the user to change it after configuration.  Change-Id: Ibe6aedb3bd447f2985e42dd8246358481a047dd6 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1857 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* tcl/target/amdm37x.cfg: Update URLs and names in amdm37x.cfg, no
	functional changes.  * openocd.berlios.de -> openocd.sourceforge.net * Update link to AM/DM37x Technical Reference Manual (ver R) *
	"ICEpick" is properly spelled "ICEPick" according to TI Change-Id: Ie04458e82c97ef766ec03bd9b9f27edadf5d1cb2 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1856 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* doc/openocd.texi: Numerous pedantic fixes to the User's Guide,
	including typo fixes, grammar fixes and so on.  Change-Id: Iaeb603447ecd9f77f1d49ce77044431442f4f219 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1855 Reviewed-by: Bill Traynor
	<btraynor@gmail.com> Tested-by: jenkins Reviewed-by: Francois
	Lorrain <francois.lorrain@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-29  Franck Jullien <franck.jullien@gmail.com>

	* src/jtag/drivers/jtag_vpi.c, tcl/interface/jtag_vpi.cfg: jtag_vpi:
	make the server address configurable Change-Id: I58e89c789b79ffb0b54ef94d208be876c271ddf7 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1840 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-24  Franck Jullien <franck.jullien@gmail.com>

	* src/target/image.c: target/image: allow for comments in IHEX files This is not in the Intel hex file format specification but some hex
	files may include comments (i.e. Altera USB-Blaster II firmware)
	starting with '#'.  This patch makes image_ihex_buffer_complete_inner to skip comment
	lines.  Change-Id: Id1f57d84d75da45e592f1c72b2b8c29193bc14e3 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1842 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-28  Steve Moorby <steve.moorby60@gmail.com>

	* src/flash/nor/spi.c: topic: Added Spansion S25FL128S and S25FL256S
	spifi devices.  S25FL256S device tested on mbest LPC4357 EVM, S25S128S untested but
	from the same data sheet.  Change-Id: Idf58416aab08671fe29d22c3c34c2118b25a9d45 Signed-off-by:
	Steve Moorby <steve.moorby60@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1844 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-11-29  Per Ekman <pekenator@gmail.com>

	* src/target/arm_adi_v5.c: kinetis : Add timeouts to flash status
	checking in dap_syssec_kinetis_mdmap().  Change-Id: Ifc8fe7aa4c2a40a78fa0655435e82418f549bad3 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1819 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-10  Mathias K <kesmtp@freenet.de>

	* doc/openocd.texi, src/jtag/drivers/stlink_usb.c,
	src/jtag/hla/hla_interface.c: stlink: remove stlink_api command Remove stlink_api command.  Change-Id: I8f7885d3756fec462f9ebbee2ed285a98a51366c Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1760 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-29  Per Ekman <pekenator@gmail.com>

	* src/flash/nor/kinetis.c: kinetis : Detect MCU flash parameters
	based on the SDID register.  Try to detect the flash parameters based on the MCU SDID register.
	The hope is that this works for K and KL series MCUs but it has only
	been tested on a K21. YMMV.  Change-Id: Idfe71383a449065267f393b09ee3c3b24ac6a803 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1823 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/options.c: Add %APPDATA%\OpenOCD to script search path
	on win Change-Id: I01e9715fe064f3ff41e41a59a4764d6474f82183 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1797 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* common.mk, src/helper/options.c: Remove special handling of script
	search path on Windows On all platforms, search for scripts in $HOME/.openocd
	${run_prefix}${pkgdatadir}/site ${run_prefix}${pkgdatadir}/scripts On Windows, set run_prefix to the runtime path of the executable,
	minus ${bindir}. This is to enable the install dir to be moved
	anywhere, as long as the structure of the install dir is kept
	intact. On all other platforms, run_prefix is empty.  The script paths can now be adjusted on Windows builds the normal
	way; by overriding pkgdatadir at build time. For example, to create
	a Windows package layout of bin/openocd.exe scripts/interface/...  scripts/target/...  you can do configure --prefix= --enable-... and then make
	pkgdatadir= DESTDIR=/some/path clean all install Also, remove the unused PKGLIBDIR define.  Change-Id: If2c8228fc80c598d763efad21c5f51695ff9b6cf Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1796 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-20  Alex Murray <alex.murray@cohdawireless.com>

	* tcl/target/imx6.cfg: target/imx6: Fix typo in setting _SJC_TAPID
	from SJC_TAPID variable The set command was missing the $ prefix on the SJC_TAPID variable
	and so would fail if SJC_TAPID was set Change-Id: Ib9af58f5188bd8a2bc3f888309f203d624476c27 Signed-off-by:
	Alex Murray <alex.murray@cohdawireless.com> Reviewed-on:
	http://openocd.zylin.com/1811 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Vladimir Zapolskiy <vz@mleia.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-12-18  Ed Maste <emaste@freebsd.org>

	* src/flash/nor/lpcspifi.c: Avoid 'may be used uninitialized'
	warning from FreeBSD base GCC Change-Id: Ice2472bf7a467652485a5a8c36880c6a47d64c6c Signed-off-by:
	Ed Maste <emaste@freebsd.org> Reviewed-on:
	http://openocd.zylin.com/1835 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-30  Mathias K <kesmtp@freenet.de>

	* configure.ac, src/Makefile.am: build: remove hard coded ftdi and
	usb libraries This patch remove the hardcoded libraries. Also a check for libftdi1
	installations was added. This check fix an issue with gentoo and
	maybe other systems.  Change-Id: Ieff9ec4d66ee0f3e6b22261a10e4cab9f26b6b51 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1759 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-21  Franck Jullien <franck.jullien@gmail.com>

	* src/jtag/drivers/jtag_vpi.c: jtag_vpi: fix build errors under
	MinGW Change-Id: Ic13f9982014ead811e2f2d737ca1621e0e85577e Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1839 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-07  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/kl25z_hla.cfg: target: add kl25z HLA (stlink) config Based on Nemuisan Tokusei's. Untested, but original config was
	reported to work ok.  Change-Id: Ic991dce55bfca266880081fe2bbd9e6e263b0fc0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1803 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-22  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* tcl/target/at91sam7sx.cfg: at91sam7sx.cfg: fix use $_TARGETNAME as
	target identifier, not '0' warning all other at91 cfg files already has this fix.  It also fix "No
	flash at address 0x...." error when JTAG chain consist of more than
	one at91sam7sx cores during attempt to flash other than first mcu in
	chain.  Change-Id: I7785d9103d0fc494b6a823e2c73f850373ffe112 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1812 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-17  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* tcl/target/stm32f4x.cfg: cfg: Add new BSTAPID for STM32F42xxx and
	STM32F43xxx series STM32F42xxx & STM32F43xxx series boudary scan TAP-ID are differ from
	STM32F405xx/07xx & STM32F415xx/17xx.  And Section number was also
	fixed for RM0090 rev5.  Tested on a STM32F427IIT6 and STM32F429ZIT6.  Change-Id: Ie9c54c55b97b9c396ace752d94ea2ad916cc8479 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1808 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-22  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* src/flash/nor/core.c, src/server/gdb_server.c: fix flash bank
	auto_probe() fail with multiple targets   get_flash_bank_by_addr() iterates through all flash banks trying
	to auto_probe() every bank, even if bank can belongs to target other
	than requested, and this other target can be in non-halted state,
	which leads to error message and operation abort.    Same situation in gdb_new_connection() and gdb_memory_map():
	get_flash_bank_by_num() tries to auto_probe() requested bank, so
	first get bank by get_flash_bank_by_num_noprobe(), check if it
	belongs to current connection's target and skip
	get_flash_bank_by_num() (actually autoprobing) if not.  Change-Id: I48b3f93dddcd9283394f14ad2de3248397c75ab3 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1813 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-11-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/vsllink.c: versaloon: Finish support for serial
	number matching Add a command to specify the serial string and pass it to the find
	helper.  Actual matching was already supported for both serial and
	product but was using hard coded string indices. Instead use the
	indices from the device descriptor.  Change-Id: I17c7538e5ad301ef41eace1ee70a202adab23bb4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1816 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-26  Paul Fertser <fercerpav@gmail.com>

	* "tcl/target/1986\320\262\320\2651\321\202.cfg": tcl/target: add
	config for Milandr's 1986ве1т controller This is a Cortex-M1 controller targetting aviation appliances.  Contributed (and live-tested) by 8daemon.  Change-Id: I133d6122cf6492b51ddbdbd800c16ba121d51bf3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1818 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-25  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/neodb.cfg: ftdi/neodb.cfg: mark as tested Working against openmoko gta02 target, including TRST and SRST (the
	stupid samsung chip fully resets under trst, so it's actually of
	little use here).  Change-Id: I831124659fc12efbccef536f07d15509c2112f92 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1814 Tested-by: jenkins Reviewed-by:
	Vladimir Zapolskiy <vz@mleia.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-10  Sergio Chico <sergio.chico@gmail.com>

	* doc/openocd.texi, src/target/openrisc/Makefile.am,
	src/target/openrisc/or1k.c, src/target/openrisc/or1k_tap.h,
	src/target/openrisc/or1k_tap_xilinx_bscan.c,
	tcl/board/or1k_generic.cfg, tcl/target/or1k.cfg: topic: Support for
	the Xilinx BSCAN_* Virtual JTAG in Openrisc This add support to the Xilinx BSCAN_* virtual JTAG interface.  This
	is the Xilinx equivalent of the Altera sld_virtual_jtag interface,
	it allows a user to connect to the debug unit through the main FPGA
	JTAG connection.  Change-Id: Ia438e910650cff9cbc8f810b719fc1d5de5a8188 Signed-off-by:
	Sergio Chico <sergio.chico@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1806 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-10  Andrey Yurovsky <yurovsky@gmail.com>

	* tcl/target/stm32lx_dual_bank.cfg: stm32lx_dual_bank.cfg: fix typo
	in file path s/stm32l1x/stm32lx ...this makes tm32lx_dual_bank.cfg work again.  Change-Id: I04dc617523caa6b46c675fe9b700d1bbe88170e6 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1832 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32lx.c: flash: revert
	incorrect stm32f1 default_padded_value Commit 2493671e2d9c352ea70edc8665b4c8f172ef1141 added a default
	flash padded value to the wrong file, should have been stm32lx.c not
	stm32f1x.c.  Change-Id: Idab634a03ccb28609cc977a92ac2b138d1e8d859 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1833 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-22  Luca BRUNO <lucab@debian.org>

	* src/server/gdb_server.c: NULL check before dereferencing Check reg_list[i]->feature for NULL pointers before checking
	feature->name in order to avoid NULL access.  Change-Id: If20401a6c5aa5e1e29f0fcf9bb95585b49658832 Signed-off-by:
	Luca BRUNO <lucab@debian.org> Reviewed-on:
	http://openocd.zylin.com/1809 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Jens Bauer <jens@gpio.dk>

2013-11-15  Dongxue Zhang <elta.era@gmail.com>

	* src/helper/types.h, src/target/target.c, src/target/target.h: 
	[PATCH 1/2]support64: Add functions into types and target Add functions into types.h, target.c, target.h to operate 64bits
	data.  Prepare for 64bits mips target.  Change-Id: I668a8a5ac12ba754ae310fa6e92cfc91af850b1c Signed-off-by:
	Dongxue Zhang <elta.era@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1700 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/types.h: Add byte-swap helpers Change-Id: I970616bb0e2bbc693165a0d311840febbd9134f1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1798 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* src/flash/nor/kinetis.c: kinetis : Add flash sector size detection
	for K21 MCU.  The current way of detecting the sector size of the internal flash
	does not work for all Kinetis MCUs. Add support for the K21 flash by
	detecting the specific model from the SDID register and picking the
	correct sector size based on that.  Change-Id: I41f678353e45a44561af8a3398bdd4479dfeea4f Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1764 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* src/flash/nor/kinetis.c: kinetis : Add flash read support to the
	kinetis nor flash driver.  The default_flash_read() function seems to work ok.  Change-Id: Ia34c4642405f669ff63310fa8c641098b771a401 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1763 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* src/target/arm_adi_v5.c: kinetis : Fix broken check for mass
	erase.  If the flash is not ready (MDM_STAT_FREADY is 0) then
	dap_syssec_kinetis_mdmap() would act as if the MDM_STAT_SYSSEC bit
	was set and erase the flash. Wait until MDM_STAT_FREADY is set
	before checking the MDM_STAT_SYSSEC bit.  Change-Id: I5c3352f625599016625ed9be8787033f49bfacea Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1762 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Mathias K <kesmtp@freenet.de>

	* src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.c, src/jtag/hla/hla_layout.h,
	src/target/hla_target.c: hla: Make consistent parameter naming Rename fd to handle.  Change-Id: I98615aed1546976d00b0f20856d4e8e75f83c575 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1761 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nand/arm_io.c, src/flash/nor/cfi.c,
	src/target/arm7_9_common.c, src/target/feroceon.c: target: use
	target_buffer_set_u32_array Attempt to use target_buffer_set_u32_array to convert to target
	endian arrays rather reimplementing code.  This also removed cfi_fix_code_endian as its functionality is also
	repeated.  Change-Id: I7c359dbe46ea791cd5f6fb18d8b0fb6895c599d3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1783 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-04  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ulink.c: ulink: Fix libusb include changed since
	pkg-config merge Change-Id: I1556aaf117f99de046e3c16d5386faaaefdfefd8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1795 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2013-11-03  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/commands.c: jtag: fix support for really long scans When programming large FPGAs the generated SVF files might contain
	really long SDR scans. They won't fit in the 1MiB jtag scan page at
	all, so in this case the allocated page needs to be bigger. The
	current code was silently corrupting memory.  One particular example was sent by Volter targetting XC3S4000. It
	has an SDR 11316992 bits long, that is 1414624 bytes.  Change-Id: I39f18d7e0654f2dbdf37df58c837c9ec1fb2aa2a Reported-by:
	"Voltner, Jiří" <j.voltner@era.aero> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1792
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-01  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/stm32lx.c: stm32l flash: add another device ID Add device ID 0x437, a dual-bank part with 512KB total.  This one
	used the Medium+/HD flash size register to read the flash size in Kb
	rather than the 0/1 code in the Medium+ parts.  Signed-off-by: Andrey Yurovsky <yurovsky@gmail.com> Change-Id:
	I870fe3bb1b473939b7211c3b2edb44b4b3643648 Reviewed-on:
	http://openocd.zylin.com/1790 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-30  Andrey Yurovsky <yurovsky@gmail.com>

	* tcl/board/ti_tmdx570ls31usb.cfg, tcl/target/ti_tms570.cfg: add TI
	TMS570 support scripts Add support for the TMS570 Cortex-R4 MCU from TI and their USB stick
	development kit, TMDX570LS31USB.  Tested attaching, reset/halt/run,
	and reading and writing memory and registers.  Change-Id: I12d779cef0c2b834f9bcf722307f35677cc4bd8f Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Signed-off-by: Andrey Smirnov
	<andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1788 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-04  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/fm3.c: fm3: fix Fujitsu MB9Ax family support Some MB9Ax (especially few internal SRAM model) fails programming
	because of wrong SRAM basic-address on running algorithm.  Default
	SRAM basic-address must be 0x20000000.  This patch is fixing default
	SRAM basic-address and ramcode offset.  Tested on a MB9BF618T and
	MB9AF112K.  Change-Id: Ibda9aceb4c317bcae0dcce9f6d0fd1c4b5d81952 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1793 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-05  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/jtag/hla/hla_interface.c: Correct argument numbering in trace
	command The trace command was opening a file named with the source
	frequency.  This change correctly passes the filename that is
	specified.  Change-Id: Ia2eb8eda0e1e0f4f44b05c3a0ce7bef3bda51446 Signed-off-by:
	Alan Bowman <alan.michael.bowman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1800 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-31  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/lpcspifi.c: lpcspifi: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I42ef3ebcce9fc6391154888b48601ede8377c34e Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1771 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-24  Mathias K <kesmtp@freenet.de>

	* src/target/target.c: target: fix mem2array/array2mem  if data size is bigger than transfer buffer, all portions are  transferred from/to the same target address - address advance  after successful transmission missed.  Change-Id: I79a6c388af197ac062d2807e397a2d7947400520 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1679 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/smp.c: smp: Fix byte order bug Found by grepping for pointer casts.  Also rewrite to reduce scope and allocate the few bytes needed on
	stack instead of on heap.  Change-Id: Ia2a369fb612e807b981ee60ebcfd9c09c2fbdf4c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1779 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ti_icdi_usb.c: ti_icdi_usb: Remove unnecessary
	casts and fix byte order bugs Found by grepping for pointer casts.  Some additional cast can be removed if hexify/unhexify arguments are
	changed to a more suitable type.  Change-Id: I13796b056f00976979bf0e754de3aa7648f7f321 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1778 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/ioutil.c: ioutil: Remove unnecessary casts and fix
	const-discarding Using the right parameter type, there's no need to resort to
	casting.  Change-Id: I8aec852431ead26e24793fd6fac8781353963bf2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1777 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Jens Bauer
	<jens@gpio.dk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: 
	binarybuffer: Remove unnecessary cast and fix hidden "bug" Because of the cast, the const decoration on the parameter provided
	no guarantee against modification since it was silently discarded.  Change-Id: Ib83ade955e1a61ee2175c690620437b5e19cbb6a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1776 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/str9x.c: str9x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: Ie2d698310b077c3849266e81df8e6a808cbc6896 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1775 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/str7x.c: str7x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I56d5680590e37d8c61197488067fbb0776e5e0f0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1774 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: Fix byte order bug and remove
	unnecessary cast Found by grepping for pointer casts.  Change-Id: Ibd8f22a9e9ca71459ba0bedc8447a3623d0e4184 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1773 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/pic32mx.c: pic32mx: Fix byte order bug Found by grepping for pointer casts.  Change-Id: If73184a16904ec2958e7253ba98f44479fdcad3f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1772 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/lpc2900.c: lpc2900: Fix byte order bugs and remove
	unnecessary casts Found by grepping for pointer casts.  Change-Id: Ib94957a0c53ec7abcbd5787d8c70e20c9eedc4b7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1770 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/aduc702x.c: aduc702x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I00e000515cb2573130b73423eb19ba941f524b05 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1769 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c: ftdi: Remove unnecessary cast Also make sure future growth of the tap_get_tms_path() return value
	will get noticed.  Change-Id: Id859b463e5fdc819a4bc3b4845bf4363fbe713af Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1768 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nand/tcl.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam4.c, src/flash/nor/cfi.c,
	src/flash/nor/efm32.c, src/flash/nor/em357.c, src/flash/nor/mdr.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c, src/helper/command.c,
	src/helper/configuration.c, src/jtag/commands.c,
	src/jtag/drivers/minidriver_imp.h, src/jtag/drivers/mpsse.c,
	src/jtag/drivers/opendous.c, src/jtag/drivers/osbdm.c,
	src/jtag/drivers/stlink_usb.c,
	src/jtag/drivers/versaloon/versaloon.c, src/jtag/drivers/vsllink.c: 
	Remove unnecessary casts Change-Id: Ia97283707282ccccdc707c969f59337313b4e291 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1767 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nand/mx3.c, src/flash/nand/mx3.h, src/flash/nand/mxc.c,
	src/flash/nand/mxc.h: nand/mx*: Remove unused host endianness flag Probably shouldn't depend on that anyway.  Change-Id: Ic27ead4cb82cff1ab187696439da4b93941e09d8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1766 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/mflash.c, src/target/adi_v5_jtag.c,
	src/target/arm11_dbgtap.c, src/target/arm_semihosting.c,
	src/target/armv7a.c, src/target/etm.c, src/target/mips_ejtag.c: 
	Remove unnecessary (void *) When pointer casts are needed, cast directly to the correct type,
	instead of going via void*.  Don't explicitly cast to void* if it would have been done
	implicitly.  Change-Id: I4093209200051c5eb62847d00a4b9c8567480068 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1669 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/command.c, src/helper/command.h, src/helper/fileio.c,
	src/jtag/aice/aice_transport.c, src/jtag/core.c,
	src/jtag/drivers/ulink.c, src/jtag/hla/hla_tcl.c, src/jtag/jtag.h,
	src/jtag/tcl.c, src/rtos/ChibiOS.c, src/rtos/embKernel.c,
	src/rtos/linux.c, src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c, src/target/mips32_dmaacc.c,
	src/target/mips32_dmaacc.h, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h, src/target/mips_m4k.c,
	src/target/target.c, src/target/target.h: Clean up const usage to
	avoid excessive casting Don't use const on pointers that hold heap allocated data, because
	that means functions that free them must cast away the const.  Do use const on pointer parameters or fields that needn't be
	modified.  Remove pointer casts that are no longer needed after fixing the
	constness.  Change-Id: I5d206f5019982fd1950bc6d6d07b6062dc24e886 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1668 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-31  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/tumpa.cfg: ftdi/tumpa.cfg: enable proper output
	buffer control, add another USB ID The schematics used for writing the config file were incorrect, real
	hardware needs ACBUS3 _low_ as it's connected directly to the output
	buffer's !OE pin.  Also apparently sometimes TUMPA comes with default FTDI IDs.  Real-life tested (including TRST and SRST) with a custom stm32f103
	board, thanks to Mike Wang for the adapter sample.  Change-Id: Iab566e6d14f8392030f6ff2c8d976e1b57cf5ce6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1789 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-30  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nand/lpc32xx.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam4.c, src/flash/nor/cfi.c,
	src/flash/nor/core.c, src/flash/nor/efm32.c, src/flash/nor/fm3.c,
	src/flash/nor/kinetis.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpcspifi.c, src/flash/nor/nuc1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c,
	src/flash/nor/stmsmi.c, src/flash/nor/tcl.c,
	src/target/adi_v5_swd.c, src/target/arm7_9_common.c,
	src/target/arm946e.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h, src/target/armv7a.c,
	src/target/avr32_ap7k.c, src/target/breakpoints.c,
	src/target/cortex_a.c, src/target/cortex_m.c,
	src/target/dsp563xx.c, src/target/dsp5680xx.c,
	src/target/hla_target.c, src/target/mips32.c,
	src/target/mips32_pracc.c, src/target/mips_m4k.c,
	src/target/nds32.c, src/target/nds32_cmd.c, src/target/nds32_reg.c,
	src/target/target.c, src/target/xscale.c: Clean up many C99 integer
	types format specifiers This eliminates most of the warnings reported when building for
	arm-none-eabi (newlib).  Hsiangkai, there're many similar warnings left in your nds32 files,
	I didn't have the nerve to clean them all, probably you could pick
	it up.  Change-Id: Id3bbe2ed2e3f1396290e55bea4c45068165a4810 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1674 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch: correct false positives
	reporting instructions Change-Id: Ib45d3db4436a5df5215f2c2d8b8f9a6d48d5f348 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1786 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch: treat jenkins as valid
	email This is needed to avoid checkpatch barking on already committed
	patches.  Change-Id: Ic2b4cfa04c8230d45c68bbf6b370841f682b32d6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1785 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex_m: set fpb_enabled on enabling fpb If the fpb_enabled is not set then as part of
	cortex_m3_set_breakpoint we enable the fpb, however we do not signal
	the fpb as being enabled.  This issue only effects the hla target as the current cortex_m code
	enables the fpb during cortex_m3_endreset_event.  Change-Id: I44d3fc65916c131b7a226869dd16aed5afb441b4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1634 Tested-by: jenkins

2013-09-26  James G. Smith <jsmith@ecoscentric.com>

	* doc/openocd.texi, src/jtag/drivers/stlink_usb.c,
	src/jtag/hla/hla_interface.c: hla/stlink: Re-order trace parameters
	to allow trace output file to be optional Re-order the "trace" parameters to allow the raw capture (log) file
	to be an optional feature. The clock frequency for calculating the
	"Async Clock Prescalar" is always required when enabling trace
	processing and is now the first "required" parameter.  The ST-Link driver is updated to use the (required parameter)
	"trace_source_hz" non-zero value as the indicator of trace being
	required, rather than the now optional output file descriptor being
	non-NULL.  Background: This patch is groundwork for extending the OpenOCD SWO
	capture to implement other (OpenOCD built-in) ITM/DWT processing
	where the core trace support is required, but there is no
	requirement to store raw trace data to a configured host file. By
	itself this patch is almost a functional NOP, since without the
	other processing in place there is no reason NOT to specify a
	capture file.  Change-Id: Ibc385dd0a7adaf9bd652bceded27262fef35fd59 Signed-off-by:
	James G. Smith <jsmith@ecoscentric.com> Reviewed-on:
	http://openocd.zylin.com/1660 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-24  Thomas Schmid <thomas.schmid@gmail.com>

	* src/flash/nor/at91sam4.c: sam4s flash: fix PLLA frequency
	calculation if diva > 1 The code didn't address the case where diva is bigger than 1.  Change-Id: I15d8c47aa7b5cf80df1f29e067f30575f5d60a90 Signed-off-by:
	Thomas Schmid <thomas.schmid@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1765 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-22  Paul Fertser <fercerpav@gmail.com>

	* doc/openocd.texi, tcl/tools/memtest.tcl: tcl: add memory testing
	functions for board diagnostics This is a tcl implementation of public domain tests by Michael Barr,
	http://www.barrgroup.com/Embedded-Systems/How-To/Memory-Test-Suite-C The initial porting is done by Shane Volpe and posted to the mailing
	list:

	http://www.mail-archive.com/openocd-development@lists.berlios.de/msg16676.htmlThis patch includes some cosmetic amendments plus hardcodes 32bit
	word size (as the code depends on memread32/memwrite32 anyway) which
	fixes original code's issue of testing only the first quarter of the
	specified nBytes.  Change-Id: I5f3a66f1f16fc4082c7a5a6aba338430646ed21c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1455 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2013-10-13  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/altera_fpgasoc.cfg, tcl/target/at91sam9.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/at91sam9g20.cfg, tcl/target/imx6.cfg,
	tcl/target/is5114.cfg, tcl/target/mc13224v.cfg,
	tcl/target/omap3530.cfg, tcl/target/omapl138.cfg,
	tcl/target/str912.cfg, tcl/target/ti_dm355.cfg,
	tcl/target/ti_dm365.cfg, tcl/target/ti_dm6446.cfg: Remove jtag_rclk
	from target configs Some boards might have RCLK omitted from the JTAG connector and if
	the interface claims support for it, OpenOCD will end up trying to
	use RCLK while it's actually impossible.  This is a "cd tcl/target; sed -i s/jtag_rclk/adapter_khz/g *" patch.  Change-Id: Iee7337107bc1457966b104389ba9db75a9c860b4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1695 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2013-10-18  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* src/jtag/hla/hla_interface.c: hla_interface: init trst, srst
	variables.    There is an remark in jtag_srst and jtag_trst variables
	  declaration: /*    * JTAG adapters must initialize with TRST and SRST de-asserted    * (they're negative logic, so that means *high*).  But some    * hardware doesn't necessarily work that way ... so set things    * up so that jtag_init() always forces that state.     */   but in hla_target such forsing is missed and both variables
	  remains uninitialized until "reset" command issued, It prevents
	  target polling when connecting to running target.  Change-Id: Ia620d8794cca8ba1403f5c5f24767e730033748a Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1698 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2013-10-26  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: lpc2000: Fix flash programming fail on
	LPC4300 internal flash LPC43xx with internal flash parts model needs "IAP Init(49)"Command
	before erase & write internal flash.Tested on a LPC4337 and LPC4357.  Change-Id: I48620ce12e578c61a3ca1adcd48815c1f71c35bb Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1784 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-09  Greg Ungerer <gerg@uclinux.org>

	* tcl/target/armada370.cfg: armada370: initial support for Marvell
	Armada 370 family Initial support for using the jtag interface to the Marvell Armada
	370 family of SoCs.  Change-Id: Id823a567e8805ac622c3c330bc111297c1dae37e Signed-off-by:
	Greg Ungerer <gerg@uclinux.org> Reviewed-on:
	http://openocd.zylin.com/1690 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-21  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* configure.ac: Fix ULINK driver dependencies in configure.ac Commit dd6274deed65c47ba2ef46e14259167d393399d8 (see
	http://openocd.zylin.com/#/c/1475/ for futher information) adds the
	wrong libusb dependency for the ULINK driver (libusb-0.1), when in
	fact the ULINK driver uses the libusb-1.0 API since commit
	f684252b2530d86f3a8330940105b86c770231f1.  Change-Id: I6946f1fdc0e26bfc7bdcff27a721e05a05b464a5 Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1699 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-10-12  Gaëtan Carlier <gcembed@gmail.com>

	* src/flash/nand/mxc.c: flash: mxc nfc(v1) : fix incorrect address
	in spare area for biswap command For NFC v1 (i.MX27), swapping must be done between offset 464 of
	Main buffer and offset 4 of Spare buffer.  Change-Id: I09c2036e88770032da87d5846cd2094847f47b46 Signed-off-by:
	Gaetan Carlier <gcembed@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1692 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32f429discovery.cfg: cfg: add STM32F429 discovery
	board config Change-Id: I4ee7a8185a02fac9d1f6079ab34d6a9f7047193a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1691 Tested-by: jenkins

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/lpc288x.c: lpc288x: Can now use
	target_write_buffer() Use the preferred code path according to the comment.
	Target_write_buffer() now simply uses suitably aligned
	target_write_memory calls, so from this pov, they should be
	equivalent.  Change-Id: I77f51ec3ac9faa822cf428708a1aecb67c77830c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1687 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/nds32.h: nds32: Remove unused declaration Change-Id: Ie0df720b2adacc8f10474f88f15142fa94c388b8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1686 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-07  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* src/target/hla_target.c:     hla_target: Update target state when polling     Polling target does not change stste information     except if new state is TARGET_HALTED.      Connecting to the runing target result in target->state     not updated with retrieved value and remains "UNKNOWN"     until 'halt' command issued.  Change-Id: I803d6c0207f7f8699e648779d1df342c9ee7315a Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1680 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm9tdmi.c, src/target/fa526.c, src/target/feroceon.c: 
	arm7_9: Avoid infinite loops in bulk write dispatching Add a mandatory field in struct arm7_9_common for regular,
	non-optimized memory writes. Together with the existing
	bulk_memory_write field, this allows variants to select any
	combination of implementations for regular and bulk writes, without
	risking infinite loops from accidentally using bulk writes for
	implementing bulk writes.  ARM 7/9 targets may now select arm7_9_memory_write_opt as their
	target.write_memory implementation, which will dispatch to
	arm7_9_common.bulk_write_memory if possible, or fallback to
	arm7_9_common.write_memory otherwise.  To avoid loops, bulk write implementations mustn't call any other
	functions than arm7_9_write_memory_no_opt() to write memory; it will
	unconditionally call arm7_9_common.write_memory. If they fail, they
	should simply return error to allow the caller to fallback to
	regular writes.  Tested on a regular ARM7TDMI only.  Change-Id: Iae42a6e093e2df68c4823c927d757ae8f42ef388 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1685 Tested-by: jenkins Reviewed-by: Sergey
	A. Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-13  Franck Jullien <franck.jullien@gmail.com>

	* src/target/openrisc/or1k_tap_vjtag.c: openrisc/tap_vjtag: fix IR
	setting Change-Id: I2b1f057dc9777ff263d6cefa4ff5958e85607a22 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1694 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-13  Franck Jullien <franck.jullien@gmail.com>

	* src/target/openrisc/or1k_du_adv.c: openrisc/du_adv: check
	or1k_adv_jtag_init return value Change-Id: I784c16b8137b4269254c86007e6766b1a2297aa2 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1693 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-14  Paul Fertser <fercerpav@gmail.com>

	* tools/scripts/checkpatch.pl: checkpatch: add logging functions It's commonly considered that user-visible strings should not be
	split to different lines in the sources to ease grepping for them.
	Hence, checkpatch traditionally makes an exception for logging
	functions, lines having them can be of arbitrary length.  OpenOCD uses different (from Linux, the kernel) names, so they need
	to be added to avoid false positives.  Change-Id: I1198c1ffc62b5403d97efa41e665c81a5b6bb3a3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1696 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-03  Franck Jullien <franck.jullien@gmail.com>

	* src/jtag/drivers/jtag_vpi.c: jtag_vpi: use DIV_ROUND_UP Change-Id: I31d315a79a1587d7873c5b8713daf8276fa146d0 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1683 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-10-03  Franck Jullien <franck.jullien@gmail.com>

	* src/jtag/drivers/jtag_vpi.c: jtag_vpi: fix path move function Change-Id: I82bf6f733e0d9cb5c86553d0827c558fa98aa247 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1672 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-20  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/at91sam4.c: sam4s flash: remove unused bootstrap
	routine Remove the static const array containing ARM instructions for a
	bootstrap program.  Despite what the comment says, the DAP can write
	to the Flash and in fact this program is not referenced anywhere in
	openocd so it's a bit confusing having it in there.  There should be
	no functionality change from this.  Change-Id: I4ca4206f090a896628ee9b675d1f04450ada1563 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1641 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-18  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/bcm2835gpio.c: bcm2835gpio: use maximum drive
	strength According to the docs, the default drive strength for the GPIO pads
	is 8mA but they're capable of 16mA. Configure GPIO 0-27 to use the
	maximum (as they might be used on high enough frequency with JTAG).  Change-Id: I621737a1b0a855bb97b56ce2cc46c0e385b74f5d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1633 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/README, src/rtos/embKernel.c,
	src/rtos/rtos_embkernel_stackings.c,
	src/rtos/rtos_embkernel_stackings.h, src/target/armv7m.c,
	src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/hla_target.c, src/target/target.c,
	testing/examples/cortex/cm3-ftest.cfg,
	testing/examples/cortex/fault.c: cortex_m: target implementation
	renames cortex_m3 to cortex_m We changed the actual target name quite a while ago.  This changes
	the actual target function names/defines to also match this change.  Change-Id: I4f22fb107636db2279865b45350c9c776e608a75 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1626 Tested-by: jenkins

2013-10-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/str7x.c: str7x: Improve info text There's no way to print two lines, so let it wrap.  Change-Id: I1f6211358a58877c0b729d9fdefd5d3dea8cba00 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1643 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f2x.c: stm32f2x: Fix sector numbering for dual
	bank flash erase Reference: RM0090 rev 5.  Change-Id: I9f7ae09c0ba91d166aebcdc25300d0ca58a5a56d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reported-by: Nader
	Shehayed <nshehayed@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1689 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stm32l: set default padded value The stm32l family has an erased value of 0x00, so overide the
	defaults used by OpenOCD.  Change-Id: I314bdef1f8482fbcbd43e0f413247d3a35af869d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1636 Tested-by: jenkins

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/flash/nor/core.c, src/flash/nor/core.h,
	src/flash/nor/tcl.c, src/flash/nor/virtual.c: flash: add
	padded_value cmd This adds support for setting the default value used when padding
	image sections. Previously 0xff was used but some targets have an
	erased value of 0x00.  Change-Id: If3df6fea3abf95b09daa3ff7be362acf991070ce Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1635 Tested-by: jenkins

2013-10-02  John David Anglin <dave.anglin@bell.net>

	* src/flash/nor/mini51.c: flash: fix mini51 cygwin build issues Under certain versions of cygwin it appears PAGE_SIZE is already
	defined.  So change name to stop any possible build issues.  Change-Id: I6f0e0c352c06bb6118ac3a5b884ae8e93194b570 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1675 Tested-by: jenkins

2013-10-03  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* src/flash/nor/lpc2000.c: fix lpc2000 flash programming fail.   some members of lpc2000_info structure sometimes used uninitialized  (cmd51_can_64b for all LPC except LPC800 as example).    Init allocated lpc2000_info structure with zeros to avoid this and
	  similar bugs in the future.  Note: maybe discarding all
	cmd51_can_XXXb fields and using cmd51_dst_boundary instead will be a
	better solution.  Signed-off-by: Sergey A. Borshch <sb-sf@users.sourceforge.net>
	Change-Id: Idf116a5b0bf4ea1c39ea0ce308ec2c13bfbd4d8c Reviewed-on:
	http://openocd.zylin.com/1676 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp>

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f2x.c: stm32f2x: Detect STM32F42x rev Y Change-Id: Iaf94f6dda0686cce56be77431bbb961bfd5e8d14 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1688 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/tcl.c: jtag/tcl: Avoid casting away const Here, in_value == out_value, so free the non-const one.  Change-Id: I017ad9e7519711ac0c9da79265be7daaa846f356 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1667 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/tcl.c: jtag/tcl: Remove no-op free And use calloc instead of malloc+memset.  Change-Id: Icc1ed6e34904972bb5d3728307dcae5c55b32fc3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1666 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/tcl.c: jtag/tcl: Fix double free in jtag newtap argument
	parsing Found when grepping for void* casts. I'm pretty sure there are about
	*picking a number out of the blue* 0.31 bugs per pointer cast in
	OpenOCD.  Verified by valgrind, i.e.: valgrind openocd -f
	interface/jtagkey.cfg -c "jtag newtap dummy cpu -irlen foo" Change-Id: Idc12e8f18036cc908fdb572828fa46563be14242 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1665 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/server/gdb_server.c: gdb_server: Further cleanup of target
	desc functions Fix use of uninitialized pointer passed to xml_printf, caught by
	valgrind.  Make sure a failed gdb_generate_target_description frees all
	allocated memory and avoids touching its out argument.  Plug memory leak and check allocation in
	handle_gdb_save_tdesc_command.  Change-Id: I30e20f6760a6215b1b4496304acdf47347eed829 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1645 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com>

2013-09-29  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/ti_icdi_usb.c, src/jtag/hla/hla_interface.c,
	src/jtag/hla/hla_layout.h: hla: if the idcode callback returns 0,
	treat as a wildcard Also document the callback accordingly.  Change-Id: I7e8ef481e8b5391b763b7f7187fac023e9fe04df Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1673 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Paul Fertser <fercerpav@gmail.com>

	* tcl/board/ek-tm4c123gxl.cfg: board: add TM4C123G LaunchPad config Almost the same as the LM4F120 LaunchPad but the chip is using the
	new naming scheme (Tiva C series), supports USB OTG and has some new
	PWM hardware blocks.  Change-Id: I6a7b2df76768766471f366cddaf64df3cc63f5f2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1647 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam4.c, src/flash/nor/dsp5680xx_flash.c,
	src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc2900.c,
	src/flash/nor/mini51.c, src/flash/nor/ocl.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/flash/nor/str9xpec.c,
	src/flash/nor/tcl.c: flash/nor: Make info function optional Remove lots of no-op or dummy info function implementations and
	check if it's implemented before invoking it.  Change-Id: I2144dad6a84a80359bb13a8a29a4614387e4c135 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1642 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: Call mem_ap_read/write directly Change-Id: I52e1d8babf7bf9fcde4094046d29b817c15c0562 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1659 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: arm_adi_v5:
	Rewrite MEM-AP transfer implementation Create a single pair of relatively simple functions to handle all
	variants of MEM-AP transfers. This replaces the many separate
	functions that handled different access sizes and packed or
	non-packed transfers, which were all implemented rather differently.  With this single implementation, performance should be more
	consistent, regardless of transfer type.  Change-Id: I89960e437fc6ba68a389c074fab8eac91abcf844 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1658 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m.c: cortex_m: mem_ap access functions take
	number of bytes, not words Accessing one byte of memory using a 16-bit access is not well
	defined.  The current implementation is forgiving and rounds up, but
	it should not be relied upon.  Also, I suspect this code might fail if the byte order differs
	between target and host, but I have no way of verifying it so I left
	it as it is.  Change-Id: I8d6a511151a194ed419f141703201f0632d84fc8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1657 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c: arm_adi_v5: Fix packed transfers crossing
	TAR auto-increment block The word count returned from max_tar_block_size() was compared with
	the count of half-word/bytes in the u16 and u8 packed access
	functions, causing an infinite loop if the access actually crossed
	the boundary.  Change max_tar_block_size() to return a byte count, and scale at the
	call site.  Change-Id: I2fe9b5941eb485f3d8219cfdd29fb71e02006de4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1649 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c: arm_adi_v5: Fix packed and unaligned
	memory writes For packed and/or unaligned accesses, the write functions reordered
	the source buffer in place. Causing in the best case a segfault, in
	the worst case silent data corruption.  Rewrite the data fetching to directly match the byte lane mapping
	according to IHI0031C, without destroying the buffer.  Also slightly clean up variable usage and harmonize all the write
	functions.  Change-Id: I9a01cfc5578653f9ec02043ff6b61a7a20f90d67 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1646 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-08  Franck Jullien <franck.jullien@gmail.com>

	* configure.ac, doc/openocd.texi, src/helper/binarybuffer.c,
	src/helper/binarybuffer.h, src/target/Makefile.am,
	src/target/openrisc/Makefile.am, src/target/openrisc/or1k.c,
	src/target/openrisc/or1k.h, src/target/openrisc/or1k_du.h,
	src/target/openrisc/or1k_du_adv.c, src/target/openrisc/or1k_tap.h,
	src/target/openrisc/or1k_tap_mohor.c,
	src/target/openrisc/or1k_tap_vjtag.c, src/target/target.c,
	tcl/board/or1k_generic.cfg, tcl/target/or1k.cfg: Add new target
	type: OpenRISC Add support for OpenRISC target. This implementation supports the
	adv_debug_sys debug unit core. The mohor dbg_if is not supported.
	Support for mohor TAP core and Altera Virtual JTAG core are also
	provided.  Change-Id: I3b1cfab1bbb28e497c4fca6ed1bd3a4362609b72 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1547 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-23  Paul Fertser <fercerpav@gmail.com>

	* README, configure.ac: Require Autoconf >= 2.64 m4_argn macro was introduced in v2.63b-34-g46e87de on the 22nd of
	Apr 2009.  Change-Id: Id01cc9f0ffdb46cf6dfd26c3bf3b5efa0ddd2984 Reported-by:
	Franck Jullien <franck.jullien@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1656 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-17  Philip Craig <phil@blackmoth.com.au>

	* src/jtag/drivers/jlink.c: jlink: improve USB read during
	jlink_tap_execute Previously, when doing EMU_CMD_HW_JTAG3 commands we would do two
	reads, one to read the data, and one to read the result. However, we
	can just do a single larger read instead.  The motivation for this change is a weird problem. If I run the
	Segger software before running OpenOCD, then the first read always
	fails: Error: usb_bulk_read failed (requested=1, result=0) Error:
	jlink_tap_execute, wrong result -107 (expected 1) Sniffing the USB traffic shows that the J-Link is returning an
	overflow error, meaning it is expecting to return the full result in
	a single read.  Change-Id: I75e020d3b3732c9a74ee3d31838fdf17a7fac24c Signed-off-by:
	Philip Craig <phil@blackmoth.com.au> Reviewed-on:
	http://openocd.zylin.com/1447 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: Fix strange ordering in
	target_read_u8 It's been like this since the check was added, in 5aa93a5e.  Change-Id: Iaa0586e0cd1ce57ad92735dcc3e51108a133fe96 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1640 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/jlink.c: jlink: Replace crazy home cooked
	assertion with a real one Change-Id: I83d66ddef34965dd94a0ff76aa1367cc9d19f2df Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1644 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: doc: correctly terminate @xref @xref should be terminated by either a ',' or '.'.  Change-Id: I141335cd4e149992fc971c6f2c04f1dbe390c8f4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1637 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-17  Søren Jørvang <jorvang@users.sourceforge.net>

	* src/jtag/drivers/usb_blaster/ublast_access_ftd2xx.c,
	src/jtag/drivers/usb_blaster/ublast_access_ftdi.c: bus_blaster: do
	not fail on missing get_latency_timer Patch submitted from Trac #64 Seems certain clones do not correctly
	emulate the ftdi chip, if the call to read the latency timer fails
	then do not treat this as a failure.  Change-Id: Iae671b926d101adf1010639d11ca46c58d0af524 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1627 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-14  Petri Laakso <petri.laakso@asd.fi>

	* src/flash/nor/mini51.c: build: fix NetBSD build warning Seems NetBSD does like the name reboot, so rename to keep happy.  Change-Id: I60ada9d217c4a8386a8d1ff1c88db7335451794e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1623 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.c, src/target/hla_target.c: hla: move memory
	read/write functionality to driver Due to issues reported when using the jtag mode of the stlink (see
	Trac #61), the functionality/checking has been moved to the driver.  This change also fixes unaligned 32bit memory read/write for the
	stlink.  From testing this change also brings a 3KiB/s speed increase, this
	is due to the larger read/write packets.  Change-Id: I8234110e7e49a683f4dadd54c442ecdc3c47b320 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1632 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: remove usb timeout magic
	numbers Change-Id: I4ec4cb0bc344c4c1de9113fa12ed84e5e2e87b31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1631 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/hla/hla_layout.h, src/target/hla_target.c: hla: cleanup
	read/write api This is the first part in moving the adapter specific api back into
	the driver.  The next task is to also move the hla read/write buffer size
	handling.  Change-Id: I86a19144b50b6de18659bfcd05b3729b2cafc051 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1621 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-19  Paul Fertser <fercerpav@gmail.com>

	* README.Windows: README.Windows: MinGW-w64 is known to work for
	building, regular MinGW is quirky The regular MinGW doesn't work properly because it doesn't try to
	provide C99 compatibility currently.  Change-Id: I27c1b9e1496a8c32032fab08a29cbe1124316edd Reported-by:
	Tomáš Voda <Voda.Tomas@seznam.cz> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1638
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c: armv7m: add gdb target description support Change-Id: I7c01109c0b85d208fb04a7ae1185fab4b2ab96b8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1620 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb: cleanup gdb target description
	support Make sure we free any memory used for gdb_save_tdesc.  Change-Id: Ia226f6134318c8c6b0ac4fa20fe70a570a08d80d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1619 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb: enable target description support by
	default This enables gdb target description support by default, it will
	check that this is supported by the active target.  Change-Id: Iea5a5b94c5e373af30dacb780020b79536caa1e3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1618 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c,
	src/target/hla_target.c: armv7m: remove gdb register hacks Now that we support the target description format we do not need
	these hacks anymore, we can now tell gdb what registers we support.  Change-Id: Ie774231d296420b35efcf708bc4435475c87ff5e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1617 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c, src/target/register.h: gdb: add default
	description reg types Add support for the default gdb register description type "int" and
	"float".  When this is given to gdb it will use the bitsize to
	determine the reg size.  Change-Id: Iaeed594d1feece54044128eae1baff9858bdcae0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1622 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: Restore mwh/mwb functionality.  Half-word and byte writes using mwh/mwb has been completely broken
	since bf71e34cbf, because it dispatched all writes, regardless of
	access size, to target_write_buffer(), which uses as large accesses
	as possible.  Partially revert the commit by changing back to the correct write
	method.  Change-Id: I60731fc576bf4a076a7da02bee7879e121c21d17 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1628 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: adiv5: check
	packed transfers are supported Currently we try and use MEM-AP packed transfers as much as possible
	for 8/16bit transfers. However not all targets support packed
	transfers, so check before using.  Change-Id: I66256007f25ccd0c583f23db5acf6d1aa8b5e57d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1602 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-18  Paul Fertser <fercerpav@gmail.com>

	* README.Windows: README.Windows: pkgconfig-lite should go into
	MinGW, not MSYS As autoconf is part of MinGW, it uses its root to find m4 files,
	pkg-config should be installed accordingly.  Change-Id: I551797e61a3d044f751768bd7d57d8e26e7202cc Reported-by:
	Tomáš Voda <Voda.Tomas@seznam.cz> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1630
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-15  Paul Fertser <fercerpav@gmail.com>

	* README: README: add missing adapters and flash drivers, mention
	profiling This updates README with all the "keywords" added since the initial
	upstream submission (and finally fixes the typo in the beginning).  Change-Id: Ia071267246fe6afc19fc0bfcda83c4778e7ff5b1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1624 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-06  Stephan Linz <linz@li-pro.net>

	* configure.ac: configure: expand library search for libftd2xx Error was: checking for library containing FT_GetLibraryVersion...
	no configure: error: You appear to be missing the FTD2xx driver
	library.  Reason were two cases: Case one: The FTD2xx library uses clock_gettime() and in normal
	cases the linker will find the function in the libc library. Most (older) systems require the program be linked with the librt library
	to use these (see man clock_gettime: Link with -lrt).  Case two: You can rebuild the FTD2xx library (relink from the object
	files) against the primary (system wide installed) libusb-1.0.  So
	you avoid mixed code (GPL with proprietary code) in the FTD2xx
	library. In this case, the FTD2xx library provides no private
	(linked in) libusb-1.0 functionality and require the program be
	linked with the libftd2xx __AND__ the libusb-1.0 to resolve all the
	libusb-1.0 symbols.  Change-Id: Iaf9a35ab4257e37b98dccd47667378ad2a64b7ed Signed-off-by:
	Stephan Linz <linz@li-pro.net> Reviewed-on:
	http://openocd.zylin.com/1614 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* contrib/cross-build.sh: contrib: Add example cross-build script Usage: export LIBUSB1_SRC=/path/to/libusb-1.0 export
	OPENOCD_CONFIG="--enable-..." cd /work/dir
	/path/to/openocd/contrib/cross-build.sh <host-triplet> For static linking, a workaround is to export
	LIBUSB1_CONFIG="--enable-static --disable-shared" All the paths must not contain any spaces.  Feel free to comment or update this patchset with improvements.  Change-Id: Ib3b4970117f13a6140a1eddc493d324a52364519 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1531 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-01  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* configure.ac: configure: Add libusb-1.0 header bug workaround Force the libusb-1.0 include dir to be treated as a system include
	path which suppresses the cast-align warnings otherwise failing the
	build on some platforms.  Change-Id: I738cfd793052b8772731d2feeef968ee893bd4bd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1534 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* configure.ac, src/jtag/drivers/Makefile.am: configure: auto-enable
	USB adapters based on libusb availability This unifies the way the USB adapters are handled, and enables them
	automatically whenever possible (until explicitly disabled). If an
	adapter is explicitly enabled but can't be built, abort the
	configure.  Also add infrastructure for generic handling of adapter drivers in
	configure and print a summary of the configuration results after
	finishing.  The m4 quoting is as conservative as I could get it, and seems
	appropriate.  Change-Id: I1655691e5ea0d8eb9e3f67830b96992ffe33640a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1475 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* README, README.OSX, README.Windows, configure.ac,
	src/Makefile.am, src/helper/Makefile.am, src/helper/replacements.c,
	src/jtag/aice/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/mpsse.c,
	src/jtag/drivers/ti_icdi_usb.c: libusb: require pkg-config support An alternative approach to show how much cleaner the pure pkg-config
	way is.  This changes the discovery procedures for libusb-1.0 and libusb-0.1,
	making them depend on pkg-config being properly installed and
	configured, including the necessary build host configuration for the
	cross-builds (see

	http://www.flameeyes.eu/autotools-mythbuster/pkgconfig/cross-compiling.html)It should make it possible to compile OpenOCD without changes and
	extra effort on GNU/Linux, FreeBSD users would need to supply a .pc
	file for their libusb implementation or add LIBUSB1_LIBS and
	LIBUSB1_CFLAGS to the configure environment.  Change-Id: I826e378dd1e0d101a549a573b2c63212a7e00b64 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1467 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* Makefile.am, README, README.OSX, README.Win32, README.Windows: 
	README* refactoring This is an attempt to bring the README files in line with the
	current status of the OpenOCD development.  - remove some obsolete information and duplicated instructions - reword some statements - restructure in a way more appealing to a regular user - add a supported hardware list to allow a potential user to
	  determine if his/her usecase is covered by a freetext keyword search
	  through the document - Add OSX notes (courtesy GrizzlyAdams and inca) Since most ftdi-based adapters are now covered by the ftdi driver, I
	think it's ok to remove some of the libftdi/ftd2xx instructions, the
	few users who still need them should refer to upstream docs instead.  I'm not sure if README.Windows should come with the DOS line
	endings, but i'd expect many windows users to use their silly
	notepad to view it, and notepad ignores LF apparently. (Decided to
	use LF anyway.) I understand discussing and reviewing such a massive README change
	is a somewhat demanding task but I feel it's a necessity to move
	forward maintaining proper documentation.  Change-Id: Idfde3014c72dd5c32ad292ee1ab205322e51a138 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1503 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/nuc1x.c: flash: add Nuvoton NUC910 series support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: Ic3273e64fd99bffab16764b06227e09a05d07c8f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1510 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp>

2013-09-04  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32.c, src/target/nds32_v2.c, src/target/nds32_v3.c,
	src/target/nds32_v3_common.c, src/target/nds32_v3_common.h,
	src/target/nds32_v3m.c: nds32: remove .soft_reset_halt dependency .soft_reset_halt is not necessary for nds32 target.  Remove the
	dependency.  Change-Id: Ic3b126d6c7eb995583a661b762627e736222fcaa Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1612 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32_cmd.c: aice: add target name to nds command
	messages Change-Id: Ie6c786c6880fb554af54ed27f1c159326f60a701 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1583 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-02  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_interface.c, src/jtag/aice/aice_interface.h,
	src/jtag/aice/aice_pipe.c, src/jtag/aice/aice_port.h,
	src/jtag/aice/aice_transport.c, src/jtag/aice/aice_usb.c,
	src/jtag/aice/aice_usb.h, src/target/nds32.c, src/target/nds32.h,
	src/target/nds32_aice.c, src/target/nds32_aice.h,
	src/target/nds32_v3_common.c: nds32: support multi-target debugging Change-Id: If767f646b234dbcdb01946e5d13a3a6a29df2d78 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1581 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32_v3_common.c: nds32: Use DMA to access memory as
	no DCache As GDB uses file-I/O protocol to access memory, use DMA to access if
	no DCache.  This commit improves the performance of Andes Virtual
	Hosting.  Change-Id: I36bb2154b9f497fc4237625836cf8c7115330a60 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1580 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-31  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32_cmd.c: nds32: modify nds commands implementation Modify handle_nds32_memory_access_command: do not use DCache setting
	to block user's setting.  Change-Id: I2d33f893773e2a2e3e2f26edde5938ef5902609d Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1579 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-10  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/rtos/FreeRTOS.c, src/rtos/rtos_standard_stackings.c,
	src/rtos/rtos_standard_stackings.h: nds32: support FreeRTOS Change-Id: I117b5541fb19388c0f5c2344ee42d9151c9a222e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1577 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-18  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32_v3_common.c: nds32: report any one of hit read
	watchpoints If multiple read watchpoints are hit at the same time, report any
	one of these hit watchpoints.  Change-Id: I8d4439aa80e4b62bb7d48bbdc0450920e2008a2e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1576 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-10  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_usb.c, src/target/nds32.c: nds32: change
	default value Change-Id: I0505bdc0e75543a3b205981339c5b9fa78a080ca Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1575 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32.c, src/target/nds32_v2.c, src/target/nds32_v3.c,
	src/target/nds32_v3_common.c, src/target/nds32_v3m.c: nds32: always
	polling after gdb attached Do not turn on/off polling as leave/enter debug mode.  Enable
	polling after gdb attached, and disable polling after gdb detached.  Change-Id: Id64459b86f44937af7ea5ccfe2cd13e31732eecf Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1574 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_port.h, src/jtag/aice/aice_usb.c,
	src/target/nds32.c, src/target/nds32.h, src/target/nds32_v3.c: 
	nds32: support Andes profiling function Change-Id: Ibc45ec5777d6841956c02de6b4ae8e74c2a6de37 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1585 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-14  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c: target: enhance target profiling 1. gprof uses 2-bytes as minimum bucket size.  2. As user wants to use gprof --sum to summarize multiple    profiling data files, the range MUST be the same.     Add new arguments to specify profiling range.  Change-Id: Ie7e6afa6a4d82250e2d194a0eed2b428c1479ea1 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1572 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-26  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c, src/target/target_type.h: target: add
	profiling interface Profiling could be target-specific.  Add .profiling interface to
	target_type.  Change-Id: Ic0eea9db742971db1350a474fbbb5ed24565922b Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1571 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c: target: increase the maximum number of
	buckets I do not know what is the reasonable number of buckets.  If there
	are enough buckets, the result will be accurate.  I propose increase the maximum number of buckets to 128K.  If the
	size of program text section is less than 256KB, every two bytes
	will be occupied by one buckets.  (The minimum size of one buckets
	is 2 bytes in gprof implementation.) Change-Id: If9147743cefdc36f40f21e6dc73b9b28f28c9e1e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1608 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c: target: Correct profiling calculation 1. high_pc should be (maximum sample + 1) (Refer to gprof source
	code) 2. bucket index should be      sample offset     --------------- x (number of bucket) 	 sample range For example, if minimum sample is 0 and maximum sample is 5 and the
	number of bucket is 3.  a = sampled_address - 0 b = 3 c = 6 (a, b, c refer to source code variables) sampled_address = 0, => a = 0, => bucket_index = 0 sampled_address =
	1, => a = 1, => bucket_index = 0 sampled_address = 2, => a = 2, =>
	bucket_index = 1 sampled_address = 3, => a = 3, => bucket_index = 1
	sampled_address = 4, => a = 4, => bucket_index = 2 sampled_address =
	5, => a = 5, => bucket_index = 2 Change-Id: Ia9fa0e4d9c7183e3e9d7ceaf73e63729f07aa2ce Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1607 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c: target: Make profiling function more readable Change variable name 'length' to 'numBuckets'.  It is more readable.  Change-Id: I913cba0746f887adf6da401a46cd5e9ea88d2c6d Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1606 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/nds32.c, src/target/nds32_v2.c: nds32: refine nds32_v2
	implement Change-Id: I6e26ffbdcd426a15b34bff022964946f613f318c Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1569 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_port.h, src/jtag/aice/aice_usb.c,
	src/jtag/aice/aice_usb.h, src/target/nds32_aice.c,
	src/target/nds32_aice.h, src/target/nds32_cmd.c: aice: support batch
	commands Change-Id: I6846362d98374c93f45f339fb1279fc71721e696 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1584 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-13  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_usb.c: aice: Always setup SDP basic mode Change-Id: I1c0c11c2b9097b25324da0591edf036af207dbe9 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1567 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-31  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/jtag/aice/aice_usb.c: aice: use keep_alive() to avoid timeout
	warning messages As polling $dbger, call keep_alive() to avoid timeout messages.  Change-Id: Ia03d90535c2bd6049763209194c21f70fd8b7e8b Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1566 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Anton Kolesov <akolesov@synopsys.com>

	* src/server/gdb_server.c: gdb_server: Do not set gdb_con->sync to
	true for new connections In GDB connected to OpenOCD there is a command "monitor gdb_sync"
	which makes next stepi command to be ignored while GDB still will
	get an updated target state. This command sets gdb_connection->sync
	field to true to notify that stepi should be ignored. This field is
	set to true for all new connection and is set to false after first
	"continue" command. However if first resume command is stepi/nexti
	then it will be ignored and result will confuse GDB client, it will
	report that target received signal SIGINT. This patch sets this
	field to false for new connections, thus stepi/nexti will work
	properly when it is a first resume command.  Change-Id: I7c9ebd69c3dc35f3e316041aa99f4e9d3425c0b6 Signed-off-by:
	Anton Kolesov <akolesov@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/1587 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-10  Paul Fertser <fercerpav@gmail.com>

	* src/svf/svf.c: svf: off-by-one error; do not access after the
	allocated memory Keep the promise and ensure there're at least 3 bytes available
	after the current position.  This eliminates the errors reported by Valgrind.  Change-Id: I1d0640e904c750eed808b2b4caf419b4d7619845 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1615 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: Rewrite read/write buffer default
	implementations Rewrite the target_*_buffer_default to generate as large accesses as
	possible while maintaining natural alignment.  These versions are easy to extend to generate 8-byte accesses to
	support 64-bit targets, although it requires some conformity from
	all target implementations (i.e. they need to refuse unsupported
	access sizes with some defined error code, so we can try again with
	a smaller one).  Change-Id: I00ddcbb1d2fd33f9f8b99cb448cc93505a2421fc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1221 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm920t.h, src/target/arm926ejs.c,
	src/target/arm926ejs.h, src/target/arm946e.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/fa526.c, src/target/feroceon.c,
	src/target/target.c, src/target/target_type.h: [RFC] target: Move
	bulk_write_memory to arm7_9 The only remaining user is arm7_9 so remove it from the target API
	and add it to struct arm7_9_common to support all its variants with
	minimal changes. Many of the variants are likely not correct in the
	cache/mmu handling when the bulk write is triggered. This patch does
	nothing to change that, except for arm946e, where it was easier to
	do what might be the right thing.  Change-Id: Ie73ac07507ff0936fefdb90760046cc8810ed182 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1220 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-10  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/sysfsgpio.c: sysfsgpio: fix a typo in the
	informational output Change-Id: I0c9bc281e4e913f9eacba3b8b60585217a1caf2e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1616 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/fm3.c: fm3: add Fujitsu MB9Ax family support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I52048f6e8e66b38087fa249eb66ceab6801d07d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1506 Tested-by: jenkins

2013-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/command.c: build: remove clang warning about global var
	'match' remove clang warning - "Argument to free() is the address of a
	global variable, which is not memory allocated by malloc()".  Change-Id: I015273eafc9644207684b363434c6ae8149bfcde Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1613 Tested-by: jenkins

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/avrf.c: atmega: add new target support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I6d6af10fb07ea43cc1196a90d8738957f8266938 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1507 Tested-by: jenkins

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/lpc2000.c: flash: add NXP LPC800 support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I142fa6f29e66fd334baca14217aca97e1fc6c7d9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1509 Tested-by: jenkins

2013-08-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm.h, src/target/cortex_m.c, src/target/hla_target.c: 
	armv7m: use consistent arm.cpsr member We already set cpsr in armv7m_build_reg_cache, so lets use it for
	all other accesses to this field.  Change-Id: I19b3b21ecf1571bbea12e1be664845e6544f6fa1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1539 Tested-by: jenkins

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm11.c, src/target/avr32_ap7k.c, src/target/avrt.c,
	src/target/cortex_a.c, src/target/dsp563xx.c,
	src/target/dsp5680xx.c, src/target/mips_m4k.c, src/target/xscale.c: 
	target: remove unimplemented target_request_data implementations Change-Id: Ia9afa83752d17f0f56bdf3bd81f5c69d108aa5e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1537 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target_request.c: target: check target supports
	target_request_data Make sure the target support target requests before we enable any
	receivers.  Change-Id: I8ce42922eaff76fb5e7a114da716f2a6585a6ab5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1536 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm11.c, src/target/avr32_ap7k.c, src/target/avrt.c,
	src/target/cortex_a.c, src/target/dsp563xx.c,
	src/target/hla_target.c, src/target/mips_m4k.c, src/target/xscale.c: 
	target: remove unimplemented soft_reset_halt implementations Let the default handler issue an unsupported warning rather than
	using empty handler routines that may/may not issue a unsupported
	warning.  Change-Id: Iafe3e45146981a4cfae39771c3ab7370ac86da48 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1535 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com>

2013-08-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/linux.c: rtos: Do not dereference null pointers detected by clang.  Change-Id: Id395f9d33bc2903b29a158fc3540ae51857e6aa0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1555 Tested-by: jenkins

2013-08-09  Cosmin Gorgovan <cosmin@linux-geek.org>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/mini51.c: mini51: support for Nuvoton NuMicro Mini51
	series flash memory Adds a flash driver for Nuvoton MINI51, MINI52 and MINI54
	microcontrollers.  At the moment, it only supports the erase and write operations.  These microcontrollers have a 4 / 8 / 16 KB APROM for application
	code and a 2 KB LDROM for bootloaders. When the MCU has booted off
	the APROM, the LDROM isn't mapped in memory but can be programmed,
	and the other way around.  This means that the ARM core is typically
	rebooted for programming. After a successful write or erase
	operation, it is rebooted again, using the initial boot source.  This driver only supports programming the APROM.  This driver is a pure JTAG implementation, it doesn't use any SRAM.  I've tested it on a MINI54ZAN microcontroller using an ST-LINK/V2.
	With the microcontroller running at the default clock frequency of
	22.1184 MHz, speed seems to be around 1.1 KB/s.  Change-Id: I180889c55af9fb5614cd99a953b755baba14288a Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/1546 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/kinetis.c: kinetis: add kl flash support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 depends on
	http://openocd.zylin.com/1602 Change-Id: Ib846be48500a28d515c6dbd3ca2a5c1719cd74d4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1508 Tested-by: jenkins Reviewed-by: Chris
	Fryer <chrisf1874@gmail.com> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2013-09-06  Franck Jullien <franck.jullien@gmail.com>

	* configure.ac, doc/openocd.texi, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/jtag_vpi.c, src/jtag/interfaces.c,
	tcl/interface/jtag_vpi.cfg: jtag: drivers: Add JTAP VPI client
	driver This patch adds a driver for the jtag_vpi server [1]. This server is
	now part of the ORPSoC version 3 (OpenRISC Reference Platform SoC).
	The jtag_vpi server provides an interface between OpenOCD and a
	simulated core.  [1] http://github.com/fjullien/jtag_vpi Change-Id: I717b72cace4845f66c878581345074f99002e21a Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1609 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb server: do not free tdesc_filename
	early Issue caught by clang.  Change-Id: I4fb331574512140b36e56b3b7ab7e8bdad5e013d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1554 Tested-by: jenkins

2013-08-05  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add RTOS Support info Currently we have very little info about the RTOS support. This
	should improve that.  We also add info about what symbols are required for each supported
	RTOS.  This can be a trap, certainly when trying to use FreeRTOS
	support.  Change-Id: Ie57858571daca97515292ff5738a5a5ef55655b7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1538 Tested-by: jenkins

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/efm32_stlink.cfg: cfg: EFM32 supports SYSRESETREQ so
	use it Change-Id: If52fdea025a2f9620ad4ddacfb83cbb83a94944d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1541 Tested-by: jenkins

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: fix stm32f1x dual bank detection Not all devices with devce id 0x419 have dual flash banks, only
	those with > 1024kB.  Change-Id: I197d2b87df7599cd0837e25648af48439f2f1e50 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1544 Tested-by: jenkins

2013-08-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/efm32_stlink.cfg: efm32: set safe minimum working area The smallest available RAM size for this family is 2K, set this as
	the default. Issue reported by quitte on IRC.  Change-Id: I3318f7f268f7681ffe2cddab61820f4b94c4e5fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1559 Tested-by: jenkins

2013-08-28  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/target.c: target: Remove error messages as no
	.get_gdb_fileio_info If target does not support semi-hosting function, it has no need to
	provide .get_gdb_fileio_info callback. OpenOCD will use default
	function target_get_gdb_fileio_info_default.  The default function
	just return ERROR_FAIL and gdb_server will treat every halted
	condition as normal halted and return "Txx" to gdb.  Change-Id: I9ddb2be3a1145eae2ef5b712bdea89eb2e0fbc20 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1586 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-08-20  Andrey Smirnov <andrew.smirnov@gmail.com>

	* src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/stlink_usb.c: 
	stlink: Add workaround for intermittent FW info retrieval failure It appears that on some host USB configurations(2012 MacBook Air)
	multiple restarts of openocd tool cause the FW on STLINKv2 dongle to
	go into a weird state in which it will no longer respond to
	STLINK_GET_VERSION command. This patch adds code that, if said
	request fails for the first time, attempts to reset the device and
	retry to initialize it and obtain FW information one more time.  Change-Id: I7227fc972adb49d52ae700ad48ab9f66b2aaa72c Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1561 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-08-20  Andrey Yurovsky <yurovsky@gmail.com>

	* src/jtag/drivers/stlink_usb.c: stlink_usb: remove gcc-specific
	constant Replace 0b10 with 0x02, 0b is a GCC extension and isn't supported by
	clang, for instance, so compiling on OS X will fail.  No functional
	changes.  Change-Id: Ie882be1563df03e7ad3da0bc9aee65a907a29549 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1560 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-08-23  Pushpal Sidhu <psidhu@gateworks.com>

	* doc/openocd.texi, tcl/interface/ftdi/gw16042.cfg: Added new ftdi
	interface device Added new configuration file for gw16042 device.  Also added this to
	interface/ftdi examples in documentation.  Change-Id: I07bb10bfc79a5d13007288cd57f254d889075214 Signed-off-by:
	Pushpal Sidhu <psidhu@gateworks.com> Reviewed-on:
	http://openocd.zylin.com/1563 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-15  Franck Jullien <franck.jullien@gmail.com>

	* doc/openocd.texi: doc: Add gdb target description commands Change-Id: Ie74917082e894cfa8ee2258f7a8cdf7d58ee4a59 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1552 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-15  Pushpal Sidhu <psidhu@gateworks.com>

	* doc/openocd.texi: doc: update GW16042 hardware information Fixed a typo in device name as well updated device URL. Also fixed
	miscategorization and moved it to USB FT2232 Based section.  Change-Id: Ia3acaed4209eff26244efea8db68046143ecea37 Signed-off-by:
	Pushpal Sidhu <psidhu@gateworks.com> Reviewed-on:
	http://openocd.zylin.com/1553 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-13  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/tumpa.cfg: interface/ftdi/tumpa: remove
	ftdi_device_desc as it's incorrect The end users on IRC report that actual USB device has different
	information in its descriptor so it doesn't match. Remove it
	altogether.  Change-Id: Id7841667390a514581e630e67b9283675803135b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1548 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-09  Brad Riensche <brad.riensche@gmail.com>

	* tcl/board/altera_sockit.cfg, tcl/target/altera_fpgasoc.cfg: Add
	tcl configurations for Altera Soc devices This commit adds two tcl configuration files, one for the Altera
	Cyclone V SoC series, and one for the SoCkit development board.  The
	board configuration is able to halt and resume the cpu cores, and
	dump register contents etc.  It has not been fully tested, however.  Change-Id: Id3f18c3408975cf986a5f5aec410b5b13240c35e Signed-off-by:
	Brad Riensche <brad.riensche@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1494 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/stm32lx.c: stm32lx flash: fix flash size for Medium+
	devices Unfortunately the Medium+ density and 0x436 devices have their
	F_SIZE register at a different location: 0x1FF800CC instead of
	0x1FF8004C.  Fix this for the 0x427 Medium+ devices and also the
	0x436 devices.  Furthermore, for 0x436 devices the flash size is
	reported as a 0 or 1 code rather than the size in Kb.  Please see
	RM0038 r8 or newer for an explanation, as noted in the comments.  Change-Id: Ie03b1e119a61f2a854bc2ccc5f90ce3e8852e272 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1522 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-09  Sergey Alirzaev <zl29ah@gmail.com>

	* tcl/interface/ftdi/olimex-arm-usb-tiny-h.cfg: remove the untested
	warning in ftdi/olimex-arm-usb-tiny-h.cfg the dongle seems working, including srst signal Change-Id: I5da9046bd8a35d8d826f1b663c01bd2600a6cf14 Signed-off-by:
	Sergey Alirzaev <zl29ah@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1545 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: remove mixed case typo Change-Id: Iae40c59ed21e72931d440814d112b3cd752aad9c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1540 Tested-by: jenkins

2013-07-17  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: clear running_alg flag after reset After the target was reset we can be sure it's not running any
	algorithm.  This fixes the following failure scenario: On my STM32F103 board after I start the firmware and then stop and
	try to "load" in gdb (before doing mon reset halt), I get Error: timeout waiting for algorithm, a target reset is recommended However, target reset doesn't help as the flag is still there
	("Error: Target is already running an algorithm"), so I have no
	choice but to restart the OpenOCD process.  I'm not sure yet what exactly prevents load from working after my
	firmware is initialised, most probably some interrupt is firing and
	my handler produces a fault due to garbled RAM.  Change-Id: Idd977f2780a64d84800e3abd412cffc1ab6801b0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1512 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-29  Paul Fertser <fercerpav@gmail.com>

	* contrib/loaders/flash/mdr32fx.S, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/mdr.c,
	tcl/target/mdr32f9q2i.cfg: mdr32fx: support for Milandr's MDR32Fx
	internal flash memory This adds example config and flash driver for russian Cortex-M3
	microcontroller model.  Run-time tested on MDR32F9Q2I evaluation board; the flash driver
	should be compatible with MDR32F2x (Cortex-M0) too but I lack
	hardware to test.  There're no status bits at all, the datasheets specifies some delays
	for flash operations instead. All being in <100us range, they're
	hard to violate with JTAG, I hope. There're also no flash
	identification registers so the flash size and type has to be
	hardcoded into the config.  The flashing is considerably complicated because the flash is split
	into pages, and each page consists of 4 interleaved non-consecutive
	"sectors" (on MDR32F9 only, MDR32F2 is single-sectored), so the
	fastest way is to latch the page and sector address and then write
	only the part that should go into the current page and current
	sector.  Performance testing results with adapter_khz 1000 and the chip
	running on its default HSI 8MHz oscillator: When working area is specified, a target helper algorithm is used:
	wrote 131072 bytes from file testfile.bin in 3.698427s (34.609
	KiB/s) This can theoretically be sped up by ~1.4 times if the helper
	algorithm is fed some kind of "loader instructions stream" to allow
	sector-by-sector writing.  Pure JTAG implementation (when target memory area is not available)
	flashes all the 128k memory in 49.5s.  Flashing "info" memory region is also implemented, but due to the
	overlapping memory addresses (resulting in incorrect memory map
	calculations for GDB) it can't be used at the same time, so OpenOCD
	needs to be started this way: -c "set IMEMORY true" -f
	target/mdr32f9q2i.cfg It also can't be read/verified because it's not memory-mapped
	anywhere ever, and OpenOCD NOR framework doesn't really allow to
	provide a custom handler that would be used when verifying.  Change-Id: I80c0632da686d49856fdbf9e05d908846dd44316 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1532 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* doc/openocd.texi, src/jtag/drivers/stlink_usb.c,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/target/cortex_m.h: stlink: add SWO tracing support Enable reading the SWO trace output via STLinkv2 dongles that
	support it.  This adds an optional initialization parameter "trace" with which
	the user specifies a destination file where SWO trace output is
	appended as it comes in as well as the trace module's source clock
	rate.  STLink will be configured for a 2MHz SWO data rate (STLink's highest
	supported rate) if the source clock is > 2MHz, otherwise the source
	clock is used as the data rate directly.  For example: trace swo.log 168000000 If "trace" is specified with a usable file path, the stlink_usb
	driver will attempt to configure and read SWO trace data as follows: - on _run(), the target's TPI and TMI are configured and the
	  STLinkv2 is told to enable tracing.  Only generic ARM TPI and TMI
	  registers are configured, any MCU-specific settings (ex: pin
	  routing) are the responsibility of the target firmware.  The
	  configuration applied is based on the STLinkv2's capabilities (UART
	emulation).  - on _v2_get_status(), the trace data (if any) is fetched from the   STLink after the target status is checked and the target is found
	  to be running.  - on _halt(), the STLink is told to disable tracing.  When fetching trace data, the entire trace frame is written to the
	output file and that data is flushed.  An external tool may be used
	to parse the trace data into a more human-readable format.  Tested on ARM Cortex M4F and M3 MCUs (STM32F407 and STM32L152).  Change-Id: Ic3983d46c82ba77010c23b0e18ce7b275d917f12 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1524 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c: gdb_server: check target before executing
	event callback As debugging multi-targets, every target has its own gdb connection.
	If there are two connections, gdb_target_callback_event_handler will
	be registered twice.  Everytime event occurs, the registered
	callback will be executed twice.  If both targets are running, as
	user issues ctrl-c in one gdb client, both connections will send
	"stop reply" to GDB clients even TARGET_EVENT_GDB_HALT is caused by
	one of them.  The commit fix above problem as debugging multi-targets.  Change-Id: I1e12d4846927d7dcf1e3bb9aeb1affabc80df813 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1501 Tested-by: jenkins Reviewed-by: Sergey
	Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-03-06  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c, src/target/nds32.c, src/target/target.c,
	src/target/target.h: gdb_server: add target_debug_reason for program
	exit detection Currently, there is no way to notify gdb that program has exited.
	Add new target_debug_reason called DBG_REASON_EXIT to notify gdb the
	condition has occured. If the debug reason is DBG_REASON_EXIT,
	gdb_server will send 'W' packet to tell gdb the process has exited.  Change-Id: I7a371da292716a3e6ac4cc2c31b009a651fe047a Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1242 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-02  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c, src/target/nds32.c, src/target/nds32.h,
	src/target/nds32_v3.c, src/target/nds32_v3_common.c,
	src/target/nds32_v3m.c, src/target/target.c, src/target/target.h,
	src/target/target_type.h: gdb_server: support File-I/O Remote
	Protocol Extension The File I/O remote protocol extension allows the target to use the
	host's file system and console I/O to perform various system calls.  To use the function, targets need to prepare two callback functions: * get_gdb_finish_info: to get file I/O parameters from target * gdb_fileio_end: pass file I/O response to target As target is halted, gdb_server will try to get file-I/O information
	from target through target_get_gdb_fileio_info(). If the callback
	function returns ERROR_OK, gdb_server will initiate a file-I/O
	request to gdb.  After gdb finishes system call, gdb will pass
	response of the system call to target through
	target_gdb_fileio_end() and continue to run(continue or step).  To implement the function, I add a new data structure in struct
	target, called struct gdb_fileio_info, to record file I/O name and
	parameters.  Details refer to GDB manual "File-I/O Remote Protocol Extension" Change-Id: I7f4d45e7c9e967b6d898dc79ba01d86bc46315d3 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1102 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-26  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c, src/target/breakpoints.c,
	src/target/breakpoints.h, src/target/nds32_v2.c,
	src/target/nds32_v3.c, src/target/nds32_v3_common.c,
	src/target/nds32_v3m.c, src/target/target.c, src/target/target.h,
	src/target/target_type.h: gdb server: new feature, add stop reason
	in stop reply packet for gdb In GDB remote serial protocol, the stop reply packet could contain
	more detail stop reason. The currently defined stop reasons are
	listed below.  * watch * rwatch * awatch * library * replaylog This commit adds stop reason, watch/rwatch/awatch, in stop reply
	packet for just hit watchpoint. As manual indicates, at most one
	stop reason should be present.  The function needs target to implement new hook, hit_watchpoint. The
	hook will fill the hit watchpoint in second parameter. The
	information will assist gdb to locate the watchpoint. If no such
	information, gdb needs to scan all watchpoints by itself.  Refer to GDB Manual, D.3 Stop Reply Packets Change-Id: I1f70a1a9cc772e88e641b6171f1a009629a43bd1 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1092 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-07  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/rtos/linux.c, src/server/gdb_server.c, src/target/arm.h,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/armv7m.h,
	src/target/avr32_ap7k.c, src/target/dsp563xx.c,
	src/target/mips32.c, src/target/mips32.h, src/target/nds32.c,
	src/target/nds32.h, src/target/register.h, src/target/target.c,
	src/target/target.h, src/target/target_type.h: gdb_server: support
	gdb target description * Add a parameter in .get_gdb_reg_list() to return different   register lists as generating target description.  * Modify STRUCT REG to let gdb generate target description   according to register information.  The modified structure of register is struct reg {         const char *name;         uint32_t number;  /* for regnum="num" */         struct reg_feature *feature;  /* for register group feature
	        name */ bool caller_save;  /* for save-restore="yes|no" */         void *value;         bool dirty;         bool valid;         bool exist;         uint32_t size;         struct reg_data_type *reg_data_type;  /* for type="type" */         const char *group;  /* for group="general|float|vector" */         void *arch_info;         const struct reg_arch_type *type; }; Change-Id: I2096b67adf94518ba0b8b23d8c6a9f64ad7932b8 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1382 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-22  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/jtag/drivers/usb_blaster/README.CheapClone: jtag/drivers:
	usb_blaster cheap clone documentation Add documentation about the cheap clone based on the Cypress chip.
	The documentation has schematics data, and throughtput mesures.  Change-Id: I51bf19ff9229565e178dd4c1231682bd9b4b7a8b Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1520 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* src/flash/nor/spi.c: flash: add Winbond w25q80bv spi support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: Ibe87c617b3cdf70ee042112609ab46bea98a3e6d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1511 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-07-30  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/imx6.cfg: imx6: add new id for SJC as found on i.MX6D Austriancoder on IRC reports getting this ID on his board.  Change-Id: Ie859f0ee422e18fdb94bf817cdd2b41d15b968da Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1533 Reviewed-by: Christian Gmeiner
	<christian.gmeiner@gmail.com> Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/mpsse.c: mpsse: Add missing read buffer checks These two unused functions added reads without checking for
	available space.  Change-Id: I17dbbe9988b057e5a3a1768f405fc9d1027d1c01 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1500 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c, src/jtag/drivers/mpsse.c,
	src/jtag/drivers/mpsse.h: mpsse: Defer errors until flush Simplify the API by making all MPSSE command functions return void
	instead of an error code. If there is an error during an implicit
	flush in a command call, further commands are ignored until an
	explicit flush is performed. The flush function returns and clears
	any error code set.  The only command functions that still return an error code are those
	that can fail directly based on the type of the FTDI chip, i.e. when
	trying to enable RCLK or divide-by-5 on a non-high-speed chip.  Adapt the ftdi adapter driver to the new API.  Change-Id: I12979c723c81f7fd022c25821b029112f02b3f95 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1499 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-25  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add missing embKernel rtos arg to docs Change-Id: Ib304a2bf272d281f6cd124ffca95b32531d57899 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1529 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-07-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* configure.ac: configure.ac: Remove obsolete(?) oddity It causes build failure by adding the build system's includes to the
	compiler's search path when cross-compiling with --prefix=/usr.  Building seems to work fine without it. It was added in f7274784. No
	idea what it was trying to solve that couldn't be covered in a
	better way.  Change-Id: Ia32863f0b0cbd498eb34bd2fce73126db5b71a1f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1530 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-07-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* config_subdir.m4: Fix out-of-tree build The current AX_CONFIG_SUBDIR_OPTION macro assumes that $srcdir is a
	relative path. If it is not, jimtcl/configure.gnu is generated such
	that an out-of-tree build will fail at the configure step unless the
	build dir is a sibling to the source dir.  Change the generated jimtcl/configure.gnu wrapper to use the same
	`dirname $0` trick as jimtcl/configure (which itself is a wrapper
	around autosetup).  Change-Id: I0fb19ae114ba37169b422b28313262f9bd83eb6f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1528 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-07-20  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: automake: use subdir-objects option Automake 1.14 introduced several non-fatal warnings that should help
	projects prepare to the next major automake release (2.0).  Considering the way OpenOCD automake files are written, using
	subdir-objects doesn't have any adverse effects, so enable it for
	the future compatibility.  Change-Id: I3e7fd93d1b53c5a7ed00ec0f03d2d1510a07f516 Reported-by:
	Freddie Chopin <freddie_chopin@op.pl> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1517
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-23  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/lpcspifi.c: lpcspifi: assume flash is unprotected
	after probing Since the driver doesn't support any hardware flash protection, it
	doesn't make sense to report "protected" status after probing, as it
	requires extra commands to unprotect before flashing and might be
	confusing for the end-users.  Change-Id: I04d96790cc42412df5334951f39fb6723c972ced Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1525 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* src/flash/nor/stm32f2x.c: stm32f2x flash: add STM32F401 (F4 low
	power) Add support for the new STM32F401 parts.  These are similar to the
	STM32F405/407 however they are a new Low Power variant with ID code
	0x423 and have 256K of Flash.  Tested with a modified F4 discovery
	board.  Change-Id: Ida5fb14a0832934b4d6d1ec11e602df5076edbc8 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1521 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/rtos.c: rtos: issue warning on auto detect failure Currently if we fail to auto detect an rtos then no warning is
	given.  This can also be triggered if we only find some of the rtos
	symbols.  Change-Id: I215991bbce0909bc6af93560b0f55db13defd123 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1514 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/cortex_m.c: cortex_m: change cmd
	output to use cortex_m rather than cortex_m3 Change-Id: I33834910c44d22169bcf684e9697a8db49d0b396 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1513 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-16  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: fix halt and wait_halt timeout units Documentation says they should be given values in milliseconds,
	DEFAULT_HALT_TIMEOUT matches that too.  Change-Id: Ic1a30fa90f75b412c43fe50ba187d01c3d0a5fba Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1504 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-16  Paul Fertser <fercerpav@gmail.com>

	* src/target/etm.c: etm: prevent segfault when reading bogus
	information When I do not have the JTAG adapter connected to the target, I often
	end up always reading 1s from the chain. If the OpenOCD is
	configured to connect to an ETM-equipped target (i.MX25 ARM9 in my
	case), this results in writing garbage values in the etm reg_cache
	as the ETM bit fields for the comparators, counters and outputs are
	wider than the amount of entries in the corresponding arrays. This
	later results in a segfault in the first etm_reg_lookup() call.  Change-Id: Ied81fdbf3a53a3dd749e2e5e97adf86c012df575 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1505 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips32.c, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c: mips: add breakpoint
	support for EJTAG 2.0 EJTAG 1.5, 2.0 and 2.5 have different breakpoint register addresses.
	This patch add support of EJTAG 2.0, which is part some broadcom
	SoCs.  This work was testet on Broadcom BCM7401.  Change-Id: I4b0ee23871fa9205f9001b7c9165e7b6ebe9ccbf Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1464 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-26  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips32.c: mips32: add new functions
	mips32_configure_ibs and _dbs Split function mips32_configure_break_unit to mips32_configure_ibs
	and mips32_configure_dbs to make code more readable.  This will probably make work easyer with differnet EJTAG versions.  Change-Id: I666f949fd7bc3656bdf75e7bcaadb164f15855dd Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1463 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-20  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips32_pracc.c: mips32_pracc: jump to 0xff20.0200 if
	cpu reads wrong addr On some CPUs, like bcm7401 with EJTAG v2.0 we can have situation
	where CPU do not stops execution. For example, all CP0 commands will
	have this issue.  In this case we should some hove recover our
	session. Currently jump to 0xff20.0200 seems to be good option. If
	it brake some thing on newer EJTAG, then check for EJTAG v2.0 should
	be added.  Change-Id: Icd8841f38a1a85e0f7682b6dc358af8dfaae0744 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1353 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips32.h: mips32: add jump instruction This instruction we will need to make jump to 0xff20.0000 Change-Id: Ic723e683e8848492cd8e186e71fd668dbd1d97e6 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1338 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-18  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips32_dmaacc.c: do not wait forever on
	ejtag_dma_dstrt_poll Change-Id: I26adab09839795ecf363b7db912392bd5314cec5 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1344 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-18  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips32_dmaacc.c: mips32_dmaacc: add new funct
	ejtag_dma_dstrt_poll Change-Id: I8472a85032e397445408dce917f60c8e6ce852e2 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1343 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips_ejtag:
	remove memory protection bit before DM Change-Id: Id1564ae063cea4f056b350436d52df5381ca9608 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1341 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Oleksij Rempel <linux@rempel-privat.de>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips_ejtag:
	cache ejtag version to avoid recalculation Some parts of code are version specific. It will be easier if we
	extract ejtag version and store it some where.  Change-Id: I8f9addc42108cba5ae9d61b8ade8f9d7f02a0fb5 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1462 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/ulink_firmware.hex: OpenULINK firmware:
	update firmware hex image This image has been re-compiled with SDCC 3.3.0 and achieves
	slightly better performance (50-100 Byte/s for STM32F103 flash
	write) due to new/improved compiler optimizations.  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: I4329aa42f50461fa3719fd63d0054d8e86982727 Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1486 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* .gitignore, src/jtag/drivers/OpenULINK/Makefile: OpenULINK
	firmware: change .lnk file extension to .lk in "make clean" Recent versions of SDCC generate .lk files instead of .lnk - change
	the OpenULINK Makefile "clean" target and top level .gitignore file
	to reflect this.  Change-Id: I36f38638b712b962498c69c362f123378e1aa045 Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1485 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/src/usb.c: OpenULINK firmware: Use C99
	designated struct initializers Recent versions of SDCC added support for C99 designated struct
	initializers.  This provides better code readability (no functional
	changes).  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: Idfa35147d2c3043baaa21a811b926b3845c85f9b Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1484 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/include/reg_ezusb.h,
	src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/jtag.c, src/jtag/drivers/ulink.c: 
	ULINK driver and OpenULINK firmware: whitespace and comment fixes
	(trivial) In commit de0130a0aad83c1ef692ee4d68ab996a8668424d, some doxygen
	documentation blocks of the form "///< ..." (documentation after
	member) got changed to "/* /< ...", which is not recognized by
	doxygen. This commit changes them to the correct form "/**< ...".  Also, remove some leading whitespace characters and fix alignment of
	comment blocks where appropriate.  Change-Id: I73a5cf55753722fa0e1d6551f05c47ee88172f0f Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1483 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/src/USBJmpTb.a51: OpenULINK firmware:
	fix name of USB Jump Table symbol Fix a case mistake in the name of the USB Jump Table
	("USB_jump_table" vs. "USB_Jump_Table") which led to an assembler
	error when attempting to build the firmware with recent SDCC
	versions, because the assembler now treats symbol names as
	case-sensitive.  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: I979667b9130efcdccc3ac73269c38f06e0590048 Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1482 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-06-27  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* configure.ac, src/jtag/drivers/ulink.c: ULINK driver: port from
	libusb-0.1 to libusb-1.0 API The ULINK driver now uses libusb-1.0 calls (synchronous device I/O)
	directly (not the common layer provided by libusb1_common.c) Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: Ic037a3582db85e49a8cc1ec0dd36f629e4757929 Signed-off-by:
	Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1459 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: use consistent halt timeout On slow targets we sometimes get false messages about timeouts due
	to poll using 1sec rather than the default 5sec timeout.  Change-Id: Icc81c78e0ca86cebf9eeb2f5307cf7a82f1f4ee8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1466 Tested-by: jenkins

2013-07-06  Paul Fertser <fercerpav@gmail.com>

	* README, bootstrap, configure.ac, doc/manual/primer/autotools.txt: 
	configure: remove AM_MAINTAINER_MODE, effectively always enabling
	all the rules There're strong arguments against using this macro (mostly regarding
	build consistency), so remove it altogether.  Change-Id: I90c8e9a86a24571019366435bd868a6799a09c45 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1476 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-06-24  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/jtag/drivers/usb_blaster/usb_blaster.c: jtag/drivers: trivial
	variable renaming Rename ublast_sleep() time variable from ms to us as the unit is in
	micro-seconds.  Change-Id: I07ff9c36d302d5d59edb8a5faa73d78cdd6145a4 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1457 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/Makefile.am, src/jtag/drivers/ulink.c: ulink:
	Move firmware install from pkglibdir to pkgdatadir The precompiled OpenULINK firmware is just data to OpenOCD so I
	think it belongs in $(prefix)/share/openocd rather than in
	$(prefix)/lib.  Change-Id: Id84c32cd0ddfb96861e903e8f23c16a81e1a0ca1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1487 Tested-by: jenkins Reviewed-by: Martin
	Schmölzer <martin.schmoelzer@student.tuwien.ac.at> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/Makefile.am: automake: Don't install libopenocd Regular users (and probably no-one else either) have no use for this
	library that is installed by default.  Change-Id: Ie94e1550cec33f26ef9b68e7ce4f46494f18e644 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1479 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-01  Bernhard Kiesbauer <bernhard@kiesbauer.com>

	* src/target/dsp563xx.c, src/target/dsp563xx.h,
	src/target/dsp563xx_once.c, src/target/dsp563xx_once.h: dsp563xx:
	Adding breakpoint/watchpoint support.  Added missing breakpoint/watchpoint implementation to dsp563xx
	target.  Implementation is not yet complete, which means it does not
	leverage all available features of the once debug interface.  This
	does NOT use the openocd breakpoint/watchpoint command because of
	the "special" memory address spaces (X/Y/P/L) of the 56k DSP series.  Change-Id: I6840a3ff1e6fdebb38ab7758f164886aff773af6 Signed-off-by:
	Bernhard Kiesbauer <bernhard@kiesbauer.com> Reviewed-on:
	http://openocd.zylin.com/1468 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Marek Vasut <marek.vasut@gmail.com>

	* tcl/board/imx53-m53evk.cfg, tcl/interface/ftdi/m53evk.cfg: 
	ftdi/board: Add support for DENX M53EVK Add support for DENX M53EVK board and it's integrated on-board JTAG
	adapter using FT2232H.  Change-Id: I022dcafa7799bb84a7873ba67ed82f1e49094320 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1461 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-28  Marek Vasut <marek.vasut@gmail.com>

	* tcl/board/efikamx.cfg, tcl/board/icnova_imx53_sodimm.cfg,
	tcl/board/imx53loco.cfg, tcl/target/imx51.cfg, tcl/target/imx53.cfg: 
	target: Pull out the jtag_rtck from iMX5x files Pull the jtag_rtck setting from imx51.cfg and imx53.cfg . Since not
	all boards using these CPUs do support RTCK signal, move the
	configuration of RTCK into board files.  Change-Id: I632c5d38e00ada8779a451cd26428fd122452001 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1460 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c: ftdi: Fix error in calloc retval check Found by clang.  Change-Id: Iaa952b063779f4d392d8bdc62a3e7ce9daef2740 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1498 Tested-by: jenkins Reviewed-by: Laszlo
	Papp <lpapp@kde.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash/stm32*: Sync all device/rev IDs with
	reference manuals Uppercase device/family names and change them to be more specific
	and consistent across all STM32 families.  High-density STM32F10x has a Rev Y according to RM0008 Rev 14, so
	add it.  I have a STM32F30x Rev Y, sitting on my desk, but it isn't described
	in the reference manual. Add it as well.  Split the STM32L1xx Medium+ Density devices based on ID, to match
	the reference manual. If I read it correctly, the Medium+ devices
	have different revision mappings depending on their package/device
	ID. I have no real devices to examine, however.  Change-Id: I5b95e5fa3cdeba219aa96838ea06ec1bb62bd921 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1497 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash/stm32*: Rewrite info functions Factor out common bit masking and printing code and use intermediate
	strings to avoid buffer size handling.  Change-Id: I7d8c12df11ade6cdca8c917b5524372daa498bf4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1496 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash/stm32*: Remove the halted check in
	protect_check These chips are capable of reading the flash registers while they're
	running.  Change-Id: I76b90b2bae1aa79b5a063b2073faa5d3ed93cfd7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1495 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: add missing stm32l medium+ device
	id The device was correctly used in stm32lx_probe but missing from
	stm32lx_get_info.  Change-Id: If288b8df3210a945e727e4e27cfbdb948db32fc7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1491 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* src/target/oocd_trace.c: oocd_trace: fix warnings gcc (Gentoo Hardened 4.6.3 p1.13) produces a warning about the
	variable assigned but not used. write() can sometimes write less
	than the specified count so it's marked with warn_unused_result in
	the system headers and its return value can't be ignored. The most
	correct solution would be to have a loop writing the buffer until
	all bytes are written or an error is returned but here it's
	impractical.  Change-Id: I75f7482e2b26fe0e6d70d34947518d3a8f0afe5c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1490 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* src/target/target.c: target: remove double const specificator Double const is bogus and breaks the build on Clang 3.3.  Change-Id: I9f9394d17f66289ac74ae6dd48f3165483b72e9e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1489 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>
	Tested-by: jenkins

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/versaloon/usbtoxxx/usbtoswd.c: versaloon: remove
	bogus assignment This fixes the build with Clang 3.3.  Change-Id: I729b4791c16178cdd4a87f7e1c04019da2c84b26 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1488 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-06  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/aice/aice_usb.c: aice: fix FTBFS on ARM This fixes a bunch of errors like this: aice_usb.c: In function
	'aice_pack_htdc': aice_usb.c:63:4: error: cast increases required
	alignment of target type [-Werror=cast-align] Compile-tested only.  I think this can be seen as another justification for an ARM Jenkins
	build target.  Also, the aice code I've seen so far seems to be assuming it runs on
	a little-endian machine so probably there're some endianness issues
	hiding. Hsiangkai, please get an old PowerPC Mac (or at least some
	fast usb-equipped MIPS SOHO WiFi AP/router for which you can
	cross-compile OpenOCD with OpenWrt) and do some real-life testing
	for your code on Big-Endian. I propose it to be a requirement for
	any non-trivial code submitted by a commercial entity of reasonable
	size.  Change-Id: I45e05257687d0020d7172b26a8666ebc1950e00c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1477 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-03  Paul Fertser <fercerpav@gmail.com>

	* configure.ac: ft2232_libftdi: perform basic configure checking
	when cross-compiling When cross-compiling, current configure script fully ignores libftdi
	unavailability and proceeds with LIBS having -lftdi -lusb, that
	results in a non-obvious failure much later.  Try to verify libftdi is available by checking if ftdi_new function
	is linkable.  Change-Id: I4f593d8ada1f38f82e7f1baa1a4b37b09619e1b4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1473 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-09  Laszlo Papp <lpapp@kde.org>

	* tcl/interface/ftdi/xds100v2.cfg: ftdi/xds100v2.cfg: Remove the
	warning as it has been tested Change-Id: I3a8711867e247bc49caa79274ae882f07719d4ce Signed-off-by:
	Laszlo Papp <lpapp@kde.org> Reviewed-on:
	http://openocd.zylin.com/1492 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/interface/ftdi/flyswatter2.cfg: cfg: Update Flyswatter 2 URL It pointed to the Flyswatter 1 page.  Change-Id: Ib7e82669a31cad2bf8f6ba4a60b25ef9920b2584 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1478 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/usb_blaster/Makefile.am: usb_blaster:
	maintainer-clean Makefile.in Change-Id: I120fc13a353c63e12d89698869b30c8e751db074 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1480 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  John Szakmeister <john@szakmeister.net>

	* tcl/chip/atmel/at91/at91sam9_init.cfg: Fix a typo.  Change-Id: I3c8ab03932d8769c1cf0c0ccf84cd150c5eb82d8 Signed-off-by:
	John Szakmeister <john@szakmeister.net> Reviewed-on:
	http://openocd.zylin.com/1481 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-06-21  Spencer Oliver <spen@spen-soft.co.uk>

	* Doxyfile.in, doc/manual/primer/jtag.txt: doxygen: use inline jtag
	state maching image The currently used image is 404 so use an inline image instead.  Change-Id: I56a0d187fd06dc2c5c370e6532d89815ccec63d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1451 Tested-by: jenkins

2013-06-24  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/target/xscale.c: target: xscale make reset init work properly On XScale architecture, to write debug control register DCSR and
	activate JTAG debug (ie. to choose Halt Mode), the enabling can only
	be done while the board is held in reset state (ie. PXAxx #RST line
	held low).  The current implementation writes to the register before asserting
	the SRST line. Swap the order to activate the SRST line before
	writing to DCSR.  Change-Id: I914b9d53d39bdeb5fe4ee5e11068cafafe0da4d2 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1458 Tested-by: jenkins Reviewed-by: Marek
	Vasut <marek.vasut@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-23  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/target/xscale.c, src/target/xscale.h: target: xscale more
	human vector catching Replace hexadecimal masks for vector catching with words
	representing the caught exception, such as dabt for data abort, etc
	...  This way, the new xscale command is :  - xscale vector_catch    Reads back to the user the current vector catching status  - xscale vector_catch reset dabt pabt    Sets the caught vectors to data abort and prefetch abort    for example.  This is mostly taken from Cortex-M3 openocd code.  Change-Id: I66591d5796f0e07f0f31edc8d28722e1e48aa8c5 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1456 Tested-by: jenkins Reviewed-by: Marek
	Vasut <marek.vasut@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* src/flash/nor/at91sam3.c: at91sam3: Added support for at91sam3s8a,
	b and c Only the support for at91sam3s8b is tested on real hardware.  Change-Id: I4ce23bc2f6131d9cf3ff1b301ab9e470d20845ab Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1424 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* src/flash/nor/at91sam3.c: at91sam3: Added support for at91sam3sd8a
	and b This update is untested due to missing hardware.  Change-Id: Ibe286b741ebbb1c8ae0bd3dea4b8f3e12320ab34 Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1423 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* src/flash/nor/at91sam3.c: flash/nor/at91sam3: fixed lock region
	size According to the "AT91SAM ARM-based Flash MCU SAM3S Series
	datasheet" (http://www.atmel.com/Images/doc11090s.pdf) p. 30 the
	lock region size for the at91sam3sd9 family is 32 kbyte.  This fix is only based on the datasheet due to missing hardware.  Change-Id: Ic47b0642e4f11a60de477eaa0167038103b8ff15 Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1422 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-19  IS2T <devel@is2t.com>

	* contrib/loaders/flash/armv7m_cfi_span_16_dq7.s,
	src/flash/nor/cfi.c, src/flash/nor/cfi.h: Support for SST 39VF3201C
	NOR flash  * Add Thumb-2 code to write flash memories that don't support DQ5
	 polling * Make sure default values for unlock commands are set even if there
	 is no PRI information given by the flash * Add a fixup to disable DQ5 polling for the SST 39VF3201C Change-Id: Ib08cf20547d0f500d5f78241521e6b49050c3d40 Signed-off-by:
	IS2T development team <dev.is2t@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1449 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-16  Paul Fertser <fercerpav@gmail.com>

	* src/target/armv4_5.c: armv4_5: prevent segfault when gdb connects
	to an underinitialised target This prevents segmentation fault that can occur on cortex_a targets
	if gdb connection is established before it's halted and CPSR
	examined.  Change-Id: Id996200e0fd95440496509c1fecaabbdbf425e23 Tested-by:
	Henrik Nordstrom <hno@squid-cache.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1446
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-02  Zied Guermazi <guermazi.zied@gmail.com>

	* src/rtos/rtos.c: keep gdb aware of threads if RTOS is set but no
	threads are created if gdb server (openocd) answers qfThreadInfo with an empty string
	during boot, gdb will not request thread info anymore. to keep
	thread awareness in gdb, we have to answer with a non empty string,
	'l' indicates an end of list, and is a valid answer here.  Change-Id: I7870a5db1090c786f306db16a25871e69b8a9760 Signed-off-by:
	Zied Guermazi <guermazi.zied@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1432 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex_m: deprecate soft_reset_halt soft_reset_halt was only really intended for the older arm arch, eg.
	armv4/5.  Newer arch such as armv7m/mips do not need this as they
	have better alternatives.  Change-Id: Ifb360680b7e4bfa5365f3c79d82574bded952b45 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1442 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/core.c: Allow autoscan up to 64 bit IR lengths Change-Id: Ib15ff67b57606fe6c7997f3f9bd90e096acd5f3d Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/832 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-24  Evan Hunter <ehunter@broadcom.com>

	* src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/command.h, src/jtag/tcl.c: Add support for 64 bit
	parameter to irscan Change-Id: I89e0422456c59ee86c4b6d9bd3b3ad32051b31ac Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/831 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-06-16  Robert Jarzmik <robert.jarzmik@free.fr>

	* src/jtag/drivers/usb_blaster/usb_blaster.c: drivers/jtag:
	usb_blaster add pin controls Add pin controls (pin6 and pin8). These pins can be controled either
	 : - with a fixed value (0 or 1)  - by TRST or SRST reset signal (driven low when signal  activated).  Change-Id: Ie6a3e57fc6ba6a38fdb9a009c976e3febab8f578 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1448 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-06-21  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/spi.c: flash/nor/spi: uniform all hex data to
	lowercase Change-Id: I3daee7218283e521bf490993dba02a8658540951 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1453 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-21  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/spi.c: flash/nor/spi: add flash Micron n25q064 Change-Id: Ic39bb6d020767cece2eaa4e194071be8b002ece4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1452 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-08  R. Diez <rdiezmail-openocd@yahoo.de>

	* src/jtag/drivers/buspirate.c: Bus Pirate driver: Small assorted
	fixes.  Fixes are: - Discard any stale data from the previous connection.  - Disable CR/LF translation on the (virtual USB) serial port.  - Increase the average USB packet size. The 1 KiB buffer was
	underutilised.  - Option "buspirate_speed fast" now works out of the box.  - Some extra comments, error checking, etc.  Change-Id: I72c49d943a8ce9c5e5d1644ef90cb1482f93c618 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/1437 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f2x.c: stm32f2x: Correct calculation of number
	of 128k sectors.  Fixes regression introduced in 9785f51f that caused write outside
	allocated memory during probe of devices with <1024K flash.  Reported-by: Alexander Pakhomov <ker0sin@yandex.ru> Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Change-Id:
	Ifba8833e436064624efbf678162538fd351a5702 Reviewed-on:
	http://openocd.zylin.com/1450 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-14  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: add missing configure quotes Change-Id: I14abb24292d4c2ff088c7b95773f73ceac3287cd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1445 Tested-by: jenkins

2013-06-14  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: fix incorrect configure quotes Change-Id: I427035df1ab2bfb2ec6ac8fafc9683f7d3e3bf06 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1444 Tested-by: jenkins

2013-04-25  Brent Roman <brent@mbari.org>

	* src/target/hla_target.c: hla: Add Simulated DCC register for
	target communicaton Change-Id: I193be169059caba661e46de8081d7e92f92cafee Signed-off-by:
	Brent Roman <brent@mbari.org> Reviewed-on:
	http://openocd.zylin.com/1364 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/mips_m4k.c: [RFC] mips: Enable bulk write optimization
	for all writes mips_m4k_bulk_write_memory was only called from target_write_buffer
	as an optimization when the word count was large enough.  Remove mips_m4k_bulk_write_memory from the target type, causing the
	default implementation to call the regular mips_m4k_write_memory
	instead.  Perform the dispatch to bulk write in mips_m4k_write_memory,
	enabling the optimization for target_write_memory() writes with size
	4, in addition to target_write_buffer() writes.  It also enables making the choice of bulk write vs regular write
	specifically for the architecture and not relying on the generic
	target code to make a sensible decision.  Change-Id: I295f21a67ceaa195802403f2518ea2e0a025c1c7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1215 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-05-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/startup.tcl: cfg: add stm32 flash driver alias This will enable the user to use either name when calling flash
	driver cmds.  For example the stm32f3x family use the same flash driver as the
	stm32f1x, so the user has to use 'stm32f1x mass_erase 0' which can
	be confusing.  Now the user can also use 'stm32f3x mass_erase 0'
	with the same result.  Change-Id: I14280674c8dfa2ce1c01e327af7f38e36150462c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1428 Tested-by: jenkins

2013-06-09  Giuseppe Barba <giuseppe.barba@gmail.com>

	* tcl/target/stm32w108xx.cfg: stm32w: add STM32w108xx generic
	configuration Add generic TCL configuration for STM STM108Wxx chips.  Change-Id: I981cdccb78833f442c3be4188c8c023064067e4e Signed-off-by:
	Giuseppe Barba <giuseppe.barba@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1439 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-06  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stm32: add new stm32f0 device id updated from RM0091 rev4.  Change-Id: Ic5e46229b85ce3974ef3016724d29a94037ac577 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1435 Tested-by: jenkins

2013-06-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_a.c: cortex_a: remove memory leak on failure If mem_ap_sel_write_atomic_u32 fails then tmp_buff may not be
	released.  Detected by clang.  Change-Id: I3d5416bd47d0eea61f61ec02ac5e43c82f114108 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1433 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-07  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/str912.cfg: str9: ignore boundary scan version Ignore version of Boundary Scan TAP in newer revisions of the str9.  Change-Id: I6e205f8c731f07078c469e686025857c180f3a6d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1436 Tested-by: jenkins

2013-06-11  Jim Norris <u17263@att.net>

	* src/target/dsp563xx.c: Change variable scope.  Change scope of the variable gdb_reg_list_idx from global to module.  Change-Id: Ib8273c0769c11c1d5a338e4711efbddb8e8a0243 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/1441 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com>

2013-06-04  Paul Fertser <fercerpav@gmail.com>

	* README, configure.ac, src/jtag/drivers/Makefile.am: configure:
	remove --enable-libusb0 option, rework libusb selection This makes libusb handling more consistent: if any driver requires
	libusb, first check for libusb-1 availability, if not found and
	libusb0 is ok for this case, try libusb0.  A user-visible bug fixed by this is that when a user was selecting a
	driver that required libusb-1 but was lacking the necessary dev
	files or libraries, configure didn't complain (but the build was
	failing of course).  --enable-stlink doesn't really require libusb-1 but since it's using
	the same automake symbol HLAADAPTER, ti_icdi is getting built too
	which needs libusb1 unconditionally. Since using libusb-0.1 makes
	little sense anyway, leave that as is.  Signed-off-by: Paul Fertser <fercerpav@gmail.com> Change-Id:
	I630a4ad9e4583743d45b2233bf5d8f4e5c0aab82 Reviewed-on:
	http://openocd.zylin.com/1434 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-31  Paul Fertser <fercerpav@gmail.com>

	* configure.ac, src/helper/replacements.c,
	src/helper/replacements.h, src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/mpsse.c: libusb1_common, ftdi: clarify libusb_open
	error message Print a user-friendly message when libusb_open() fails, e.g.  Error:
	libusb_open() failed with LIBUSB_ERROR_ACCESS when there's a
	permissions problem.  Also output a configure warning if libusb older than 1.0.9 is
	detected.  Change-Id: I800f71f06672fe06c0a98a4e469f853b5021bcfe Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1430 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-08  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/tumpa.cfg: ftdi: config for TUMPA Add a config file for TIAO USB Multi-Protocol Adapter.  Based on schematics from http://www.mediafire.com/?zv158nnx1gv0cy2 Cc: Volkan K <volkan-k@users.sourceforge.net> Change-Id:
	I0dfd93b0b1e558e4ccd7c94c005c099947ec94df Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1438 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-06-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/bcm2835gpio.c: build: fix incorrect GPL address
	from last commit 962b3eb40cc5b69d9b3d6fcc4c5d56c4d204a307 included the old GPL
	address.  Change-Id: I7affbdc3fc1c9251ea90796ab9eeef4d56ba4308 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1440 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2012-07-22  Paul Fertser <fercerpav@gmail.com>

	* configure.ac, doc/openocd.texi, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/bcm2835gpio.c, src/jtag/interfaces.c,
	tcl/interface/raspberrypi-native.cfg: Add BCM2835 (as found in
	Raspberry Pi) interface driver This adds support for JTAG programming by bitbanging GPIOs exposed
	on the RaspberryPi's expansion header.  Tested by connecting directly to an STM32VLDiscovery board, without
	any additional circuity. I observed maximum about 4MHz on the TCK
	pin with an old analogue 'scope and about 100kHz when setting the
	speed to 100kHz.  Busyloop waiting is needed because even with a
	single 0ns nanosleep call (with FIFO priority) it lowers the TCK
	speed to ~30kHz which is way too low to be useful.  The speed testing with adapter_khz 2000 gave the following results:
	sudo chrt -f 1 nice -n -19 ./src/openocd \      -f interface/raspberrypi-native.cfg \      -c "set WORKAREASIZE 0x2000" \      -f target/stm32f1x.cfg -c "adapter_khz 2000" wrote 131072 bytes from file random.bin in 3.973677s (32.212 KiB/s)
	dumped 131072 bytes in 1.445699s (88.538 KiB/s) This is 3.7 times faster for writing and 14.3 times faster for
	reading compared to the generic sysfsgpio driver; probably the
	writing speed is limited by the target itself here and reading speed
	might be considerably higher too with appropriate connection and a
	capable target.  BCM2835 name is choosen over BCM2708 because the published
	peripherals datasheet uses the particular model name and not family
	name.  Change-Id: Ib78168be27f53c2a3c88c3dd8154d1190c318c78 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/758 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-06-02  Spencer Oliver <spen@spen-soft.co.uk>

	* COPYING, contrib/libdcc/dcc_stdio.c, contrib/libdcc/dcc_stdio.h,
	contrib/libdcc/example.c, contrib/loaders/checksum/armv4_5_crc.s,
	contrib/loaders/checksum/armv7m_crc.s,
	contrib/loaders/checksum/mips32.s,
	contrib/loaders/erase_check/armv4_5_erase_check.s,
	contrib/loaders/erase_check/armv7m_erase_check.s,
	contrib/loaders/flash/armv4_5_cfi_intel_16.s,
	contrib/loaders/flash/armv4_5_cfi_intel_32.s,
	contrib/loaders/flash/armv4_5_cfi_intel_8.s,
	contrib/loaders/flash/armv4_5_cfi_span_16.s,
	contrib/loaders/flash/armv4_5_cfi_span_16_dq7.s,
	contrib/loaders/flash/armv4_5_cfi_span_32.s,
	contrib/loaders/flash/armv4_5_cfi_span_8.s,
	contrib/loaders/flash/armv7m_cfi_span_16.s,
	contrib/loaders/flash/armv7m_io.s, contrib/loaders/flash/efm32.S,
	contrib/loaders/flash/lpcspifi_erase.S,
	contrib/loaders/flash/lpcspifi_init.S,
	contrib/loaders/flash/lpcspifi_write.S,
	contrib/loaders/flash/pic32mx.s, contrib/loaders/flash/stellaris.s,
	contrib/loaders/flash/stm32f1x.S, contrib/loaders/flash/stm32f2x.S,
	contrib/loaders/flash/stm32lx.S, contrib/loaders/flash/str7x.s,
	contrib/loaders/flash/str9x.s, src/flash/common.c,
	src/flash/common.h, src/flash/mflash.c, src/flash/mflash.h,
	src/flash/nand/arm_io.c, src/flash/nand/arm_io.h,
	src/flash/nand/at91sam9.c, src/flash/nand/core.c,
	src/flash/nand/core.h, src/flash/nand/davinci.c,
	src/flash/nand/driver.c, src/flash/nand/driver.h,
	src/flash/nand/ecc.c, src/flash/nand/fileio.c,
	src/flash/nand/fileio.h, src/flash/nand/imp.h,
	src/flash/nand/lpc3180.c, src/flash/nand/lpc3180.h,
	src/flash/nand/lpc32xx.c, src/flash/nand/lpc32xx.h,
	src/flash/nand/mx3.c, src/flash/nand/mx3.h, src/flash/nand/mxc.c,
	src/flash/nand/mxc.h, src/flash/nand/nonce.c,
	src/flash/nand/nuc910.c, src/flash/nand/nuc910.h,
	src/flash/nand/orion.c, src/flash/nand/s3c2410.c,
	src/flash/nand/s3c2412.c, src/flash/nand/s3c2440.c,
	src/flash/nand/s3c2443.c, src/flash/nand/s3c24xx.c,
	src/flash/nand/s3c24xx.h, src/flash/nand/s3c24xx_regs.h,
	src/flash/nand/s3c6400.c, src/flash/nand/tcl.c,
	src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam4.c, src/flash/nor/at91sam7.c,
	src/flash/nor/avrf.c, src/flash/nor/cfi.c, src/flash/nor/cfi.h,
	src/flash/nor/core.c, src/flash/nor/core.h, src/flash/nor/driver.h,
	src/flash/nor/drivers.c, src/flash/nor/dsp5680xx_flash.c,
	src/flash/nor/efm32.c, src/flash/nor/em357.c, src/flash/nor/faux.c,
	src/flash/nor/fm3.c, src/flash/nor/imp.h, src/flash/nor/kinetis.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc288x.c,
	src/flash/nor/lpc2900.c, src/flash/nor/lpcspifi.c,
	src/flash/nor/non_cfi.c, src/flash/nor/non_cfi.h,
	src/flash/nor/ocl.c, src/flash/nor/ocl.h, src/flash/nor/pic32mx.c,
	src/flash/nor/spi.c, src/flash/nor/spi.h,
	src/flash/nor/stellaris.c, src/flash/nor/stm32f1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c,
	src/flash/nor/stmsmi.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/flash/nor/str9xpec.c,
	src/flash/nor/tcl.c, src/flash/nor/tms470.c,
	src/flash/nor/virtual.c, src/flash/ocl/at91sam7x/dcc.c,
	src/flash/ocl/at91sam7x/dcc.h, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/ocl.h, src/flash/ocl/at91sam7x/platform.h,
	src/flash/ocl/at91sam7x/samflash.c,
	src/flash/ocl/at91sam7x/samflash.h, src/hello.c, src/hello.h,
	src/helper/bin2char.c, src/helper/binarybuffer.c,
	src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/command.h, src/helper/configuration.c,
	src/helper/configuration.h, src/helper/fileio.c,
	src/helper/fileio.h, src/helper/ioutil.c, src/helper/ioutil.h,
	src/helper/ioutil_stubs.c, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/helper/replacements.c,
	src/helper/replacements.h, src/helper/system.h,
	src/helper/time_support.c, src/helper/time_support.h,
	src/helper/time_support_common.c, src/helper/types.h,
	src/helper/util.c, src/helper/util.h, src/jtag/adapter.c,
	src/jtag/commands.c, src/jtag/commands.h, src/jtag/core.c,
	src/jtag/driver.h, src/jtag/drivers/Makefile.rlink,
	src/jtag/drivers/OpenULINK/Makefile,
	src/jtag/drivers/OpenULINK/include/common.h,
	src/jtag/drivers/OpenULINK/include/delay.h,
	src/jtag/drivers/OpenULINK/include/io.h,
	src/jtag/drivers/OpenULINK/include/jtag.h,
	src/jtag/drivers/OpenULINK/include/main.h,
	src/jtag/drivers/OpenULINK/include/msgtypes.h,
	src/jtag/drivers/OpenULINK/include/protocol.h,
	src/jtag/drivers/OpenULINK/include/reg_ezusb.h,
	src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/USBJmpTb.a51,
	src/jtag/drivers/OpenULINK/src/delay.c,
	src/jtag/drivers/OpenULINK/src/jtag.c,
	src/jtag/drivers/OpenULINK/src/main.c,
	src/jtag/drivers/OpenULINK/src/protocol.c,
	src/jtag/drivers/OpenULINK/src/usb.c,
	src/jtag/drivers/amt_jtagaccel.c, src/jtag/drivers/arm-jtag-ew.c,
	src/jtag/drivers/at91rm9200.c, src/jtag/drivers/bitbang.c,
	src/jtag/drivers/bitbang.h, src/jtag/drivers/bitq.c,
	src/jtag/drivers/bitq.h, src/jtag/drivers/buspirate.c,
	src/jtag/drivers/driver.c, src/jtag/drivers/dummy.c,
	src/jtag/drivers/ep93xx.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/ftd2xx_common.h, src/jtag/drivers/ftdi.c,
	src/jtag/drivers/gw16012.c, src/jtag/drivers/jlink.c,
	src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h,
	src/jtag/drivers/libusb_common.h,
	src/jtag/drivers/minidriver_imp.h, src/jtag/drivers/mpsse.c,
	src/jtag/drivers/mpsse.h, src/jtag/drivers/opendous.c,
	src/jtag/drivers/osbdm.c, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/remote_bitbang.c,
	src/jtag/drivers/rlink.c, src/jtag/drivers/rlink.h,
	src/jtag/drivers/rlink_call.m4, src/jtag/drivers/rlink_dtc_cmd.h,
	src/jtag/drivers/rlink_ep1_cmd.h, src/jtag/drivers/rlink_init.m4,
	src/jtag/drivers/rlink_st7.h, src/jtag/drivers/stlink_usb.c,
	src/jtag/drivers/sysfsgpio.c, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/drivers/ulink.c, src/jtag/drivers/usb_common.c,
	src/jtag/drivers/usb_common.h, src/jtag/drivers/usbprog.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtogpio.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtojtagraw.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtopwr.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoswd.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.h,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx_internal.h,
	src/jtag/drivers/versaloon/versaloon.c,
	src/jtag/drivers/versaloon/versaloon.h,
	src/jtag/drivers/versaloon/versaloon_include.h,
	src/jtag/drivers/versaloon/versaloon_internal.h,
	src/jtag/drivers/vsllink.c, src/jtag/hla/hla_interface.c,
	src/jtag/hla/hla_interface.h, src/jtag/hla/hla_layout.c,
	src/jtag/hla/hla_layout.h, src/jtag/hla/hla_tcl.c,
	src/jtag/hla/hla_tcl.h, src/jtag/hla/hla_transport.c,
	src/jtag/hla/hla_transport.h, src/jtag/interface.c,
	src/jtag/interface.h, src/jtag/interfaces.c, src/jtag/interfaces.h,
	src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidriver/minidriver_imp.h,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/swd.h, src/jtag/tcl.c,
	src/jtag/tcl.h, src/jtag/zy1000/jtag_minidriver.h,
	src/jtag/zy1000/zy1000.c, src/main.c, src/openocd.c, src/openocd.h,
	src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c, src/pld/virtex2.h,
	src/pld/xilinx_bit.c, src/pld/xilinx_bit.h, src/rtos/ChibiOS.c,
	src/rtos/FreeRTOS.c, src/rtos/Makefile.am, src/rtos/ThreadX.c,
	src/rtos/eCos.c, src/rtos/embKernel.c, src/rtos/linux.c,
	src/rtos/rtos.c, src/rtos/rtos.h,
	src/rtos/rtos_chibios_stackings.c,
	src/rtos/rtos_chibios_stackings.h, src/rtos/rtos_ecos_stackings.c,
	src/rtos/rtos_ecos_stackings.h,
	src/rtos/rtos_embkernel_stackings.c,
	src/rtos/rtos_embkernel_stackings.h,
	src/rtos/rtos_standard_stackings.c,
	src/rtos/rtos_standard_stackings.h, src/server/gdb_server.c,
	src/server/gdb_server.h, src/server/server.c, src/server/server.h,
	src/server/server_stubs.c, src/server/tcl_server.c,
	src/server/tcl_server.h, src/server/telnet_server.c,
	src/server/telnet_server.h, src/svf/svf.c, src/svf/svf.h,
	src/target/adi_v5_jtag.c, src/target/adi_v5_swd.c,
	src/target/algorithm.c, src/target/algorithm.h, src/target/arm.h,
	src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h, src/target/arm720t.c,
	src/target/arm720t.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm946e.c, src/target/arm946e.h, src/target/arm966e.c,
	src/target/arm966e.h, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/arm_opcodes.h,
	src/target/arm_semihosting.c, src/target/arm_semihosting.h,
	src/target/arm_simulator.c, src/target/arm_simulator.h,
	src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv4_5_cache.c, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/avr32_ap7k.c,
	src/target/avr32_ap7k.h, src/target/avr32_jtag.c,
	src/target/avr32_jtag.h, src/target/avr32_mem.c,
	src/target/avr32_mem.h, src/target/avr32_regs.c,
	src/target/avr32_regs.h, src/target/avrt.c, src/target/avrt.h,
	src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_a.c, src/target/cortex_a.h,
	src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/dsp563xx.c, src/target/dsp563xx.h,
	src/target/dsp563xx_once.c, src/target/dsp563xx_once.h,
	src/target/dsp5680xx.c, src/target/dsp5680xx.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h, src/target/etm_dummy.c, src/target/etm_dummy.h,
	src/target/fa526.c, src/target/feroceon.c, src/target/hla_target.c,
	src/target/image.c, src/target/image.h, src/target/mips32.c,
	src/target/mips32.h, src/target/mips32_dmaacc.c,
	src/target/mips32_dmaacc.h, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c,
	src/target/mips_m4k.h, src/target/oocd_trace.c,
	src/target/oocd_trace.h, src/target/register.c,
	src/target/register.h, src/target/smp.c, src/target/smp.h,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_request.h,
	src/target/target_type.h, src/target/testee.c, src/target/trace.c,
	src/target/trace.h, src/target/xscale.c, src/target/xscale.h,
	src/target/xscale/debug_handler.S, src/target/xscale/protocol.h,
	src/transport/transport.c, src/transport/transport.h,
	src/xsvf/xsvf.c, src/xsvf/xsvf.h,
	testing/examples/ledtest-imx27ads/test.c,
	testing/examples/ledtest-imx31pdk/test.c,
	tools/rlink_make_speed_table/rlink_make_speed_table.pl,
	tools/st7_dtc_as/st7_dtc_as.pl: update files to correct FSF address Change-Id: I429f7fd51f77b0e7c86d7a7f110ca31afd76c173 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1426 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-05-15  Ryan Corbin <corbin.ryan@gmail.com>

	* configure.ac, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/openjtag.c, src/jtag/interfaces.c,
	tcl/interface/openjtag.cfg: Added OpenJTAG Driver Updated OpenJTAG driver from www.openjtag.org to work with latest
	version of OpenOCD.  Change-Id: I2917f4e5835fb9ca5265e81dc38515fa97ae9503 Signed-off-by:
	Ryan Corbin <corbin.ryan@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1406 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-05  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/target/Makefile.am, src/target/nds32.c, src/target/nds32.h,
	src/target/nds32_aice.c, src/target/nds32_aice.h,
	src/target/nds32_cmd.c, src/target/nds32_cmd.h,
	src/target/nds32_disassembler.c, src/target/nds32_disassembler.h,
	src/target/nds32_edm.h, src/target/nds32_insn.h,
	src/target/nds32_reg.c, src/target/nds32_reg.h,
	src/target/nds32_tlb.c, src/target/nds32_tlb.h,
	src/target/nds32_v2.c, src/target/nds32_v2.h,
	src/target/nds32_v3.c, src/target/nds32_v3.h,
	src/target/nds32_v3_common.c, src/target/nds32_v3_common.h,
	src/target/nds32_v3m.c, src/target/nds32_v3m.h,
	src/target/target.c, tcl/board/nds32_xc5.cfg,
	tcl/target/nds32v2.cfg, tcl/target/nds32v3.cfg,
	tcl/target/nds32v3m.cfg: nds32: add new target type nds32_v2,
	nds32_v3, nds32_v3m Add target code for Andes targets.  Change-Id: Ibf0e1b61b06127ca7d9ed502d98d7e2aeebbbe82 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1259 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-05  Hsiangkai Wang <hsiangkai@gmail.com>

	* configure.ac, src/jtag/Makefile.am, src/jtag/aice/Makefile.am,
	src/jtag/aice/aice_interface.c, src/jtag/aice/aice_interface.h,
	src/jtag/aice/aice_pipe.c, src/jtag/aice/aice_pipe.h,
	src/jtag/aice/aice_port.c, src/jtag/aice/aice_port.h,
	src/jtag/aice/aice_transport.c, src/jtag/aice/aice_transport.h,
	src/jtag/aice/aice_usb.c, src/jtag/aice/aice_usb.h,
	src/jtag/interfaces.c, src/target/Makefile.am, src/target/nds32.h,
	src/target/nds32_edm.h, src/target/nds32_insn.h,
	src/target/nds32_reg.c, src/target/nds32_reg.h,
	tcl/interface/nds32-aice.cfg: aice: add Andes AICE support Andes AICE uses USB to transfer packets between OpenOCD and AICE.
	It uses high-level USB commands to control targets instead of using
	JTAG signals. I define an interface as aice_port_api_s. It contains
	all basic operations needed by target-dependent code.  Change-Id: I117bc4f938fab2732e44c509ea68b30172d6fdb9 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1256 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-14  Robert Jarzmik <robert.jarzmik@free.fr>

	* configure.ac, src/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/usb_blaster.c,
	src/jtag/drivers/usb_blaster/Makefile.am,
	src/jtag/drivers/usb_blaster/ublast_access.h,
	src/jtag/drivers/usb_blaster/ublast_access_ftd2xx.c,
	src/jtag/drivers/usb_blaster/ublast_access_ftdi.c,
	src/jtag/drivers/usb_blaster/usb_blaster.c: drivers/jtag: rewrite
	usb_blaster driver Rewrite the Altera USB Blaster dongle driver :  - make extensive use of byte-shift mode, to improve JTAG    speed.     This is the main reason of the rewrite. It improves the    memory dumps with a factor 3 at least, and upload 100    times, from 1 kBytes/sec to 100 kBytes/sec with a    USB-Blaster connected to an Altera Virtual JTAG TAP +    OpenRISC CPU.   - split the low level API part (between FTDI and FTD2xx)  from core driver, so that in the future, if both libftdi  and ftd2xx can coexist, the driver will be able to switch  dynamically from one access to the other.  Change-Id: I2ee9cedf4a5eb27501f337993ee0cdee52517e7c Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Signed-off-by: Marek Czerski
	<ma.czerski@gmail.com> Tested-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-on: http://openocd.zylin.com/467
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Alexandre Becoulet
	<alexandre.becoulet@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex_m: print 'Cortex-M' rather than
	'Cortex-M3' This file is used by all the Cortex-M family not just Cortex-M3.  Change-Id: Ie8680535b220c66bb8fcd862510407a46a73e8a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1429 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-05-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_a.c: cortex_a: fix FTBS on ARM due to alignment
	issues Native compilation on RaspberryPi with gcc (Debian 4.6.3-1) 4.6.3
	Target: arm-linux-gnueabi ends with error: cortex_a.c: In function 'cortex_a8_read_apb_ab_memory':
	cortex_a.c:2063:40: error: cast increases required alignment of
	target type [-Werror=cast-align] cc1: all warnings being treated as
	errors Also check for malloc failure.  This patch is compile-tested only.  Change-Id: I580c505424d03ac3a565de54182db22277c52ac1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1369 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-02  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/Makefile.rlink,
	tools/rlink_make_speed_table/rlink_make_speed_table.pl: rlink: fix
	speed table generation The speed table generation (by using explicit make -f
	Makefile.rlink) was broken since
	865efd828a267992db0f2a92a731c5ce23a34236 Dec 2 2009 which did a
	bunch of renaming and included hand-editing of a generated
	rlink_speed_table.c file.  This patch is compile-tested, i.e. the new generated
	rlink_speed_table.c links fine with the rlink driver.  Change-Id: I1789a2f2f5bf20183b772d55c55fe68a0bd05cf5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1431 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-22  William M.A. Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: user guide: Update the ZY1000 description.  As per request from Peter at Ultimate Solutions, updated the
	description of the ZY100 Stand-alone JTAG probe.  Signed-off-by: Bill Traynor <wmat@alphatroop.com> Change-Id: Ia5c0b9a7261becd524a02aba1b22a98a2e09a4c9 Signed-off-by:
	William M.A. Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/1357 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-09  Paul Fertser <fercerpav@gmail.com>

	* tools/remote_bitbang/remote_bitbang_sysfsgpio.c: tools: add sample
	remote_bitbang sysfsgpio server This adds a sample server that implements remote_bitbang protocol,
	based on sysfsgpio interface driver.  Change-Id: I17633e91f819ab7b806606e1a1c38d5366ab4598 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1403 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-11  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_m.c, src/target/hla_target.c: cortex_m,
	hla_target: do not try asserting SRST if it's not present This should cover all the cases when RESET_SRST_NO_GATING is set
	without RESET_HAS_SRST. This might happen when RESET_SRST_NO_GATING
	is automatically set by a target code (and not from tcl).  However, there're some other places (mips_m4k, arm7_9_common) where
	adding RESET_SRST_PULLS_TRST would lead to trying to use SRST even
	if it's not present. Currently it's impossible for the user to
	enable that flag without enabling SRST.  Change-Id: Ib1c6f68feed0b8057d55afd5f260bb22ab332ced Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1405 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-20  Paul Fertser <fercerpav@gmail.com>

	* tcl/interface/ftdi/dp_busblaster.cfg: interface/ftdi: remove
	"untested" warning from DP Busblaster This is reported as working by mitsakos on IRC.  Change-Id: I26b97779c3e8e237c5b3996aa81183031b12ec0c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1419 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-23  Paul Fertser <fercerpav@gmail.com>

	* src/target/cortex_a.c, tcl/target/imx6.cfg: targets: fix
	target_type name for Cortex-A targets Commit d9ba56c295f057e716519a798bf9cdb4898c24f4 did a bunch of
	renaming of cortex_a8 to cortex_a, including the names in config
	files. However that introduced a regression as the name in
	target_type struct remained unchanged.  This adds the last missing bit: actual renaming of the target name
	as understood by OpenOCD.  Also change the (hopefully) last instance of using it in the
	supplied config files, namely from imx6.cfg.  Change-Id: Ib9289fc6d946630133ec6e36c20015ccb50acf61 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1420 Tested-by: jenkins Reviewed-by: Chris
	Johns <chrisj@rtems.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/remote_bitbang.c: remote_bitbang: De-duplicate
	init code and clean up on error Change-Id: I8be413a9e1683f96f835232f9ff25d9bd42099de Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1380 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/remote_bitbang.c: remote_bitbang: Convert to use
	getaddrinfo() Since gethostbyname() is deprecated and inconvenient, rewrite to use
	getaddrinfo() using an implementation more or less copied from its
	man page. This automatically enables support for IPv6.  This also fixes a FTBFS on ARM due to alignment issues.  Change-Id: I990a49506cac4b26faf77587937e506138371f7c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1379 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-18  Brandon Warhurst <roboknight@gmail.com>

	* src/target/arm_semihosting.c: Added functionality to the
	SYS_SYSTEM semihosting call.  There seems to be a few missing semihosting calls.  I am not sure
	why this one is actually missing, since it seems simple enough to
	implement.  It was tested using an HTC HD7 connected to openocd
	through a "home brew" ftdi 4232H board.  Change-Id: Ie17dc96c6d48227a3dc9ff1e21201a85498a10b1 Signed-off-by:
	Brandon Warhurst <roboknight@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1345 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-17  Ravaz <embkernel@gmail.com>

	* src/rtos/Makefile.am, src/rtos/embKernel.c, src/rtos/rtos.c,
	src/rtos/rtos_embkernel_stackings.c,
	src/rtos/rtos_embkernel_stackings.h: Added: RTOS awareness for
	embKernel Change-Id: I98b60f50a5fc486bda83b83ad7ec73826ee11607 Signed-off-by:
	Ravaz <embkernel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1334 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-05  Paul Fertser <fercerpav@gmail.com>

	* tcl/target/stm32_stlink.cfg, tcl/target/stm32f1x.cfg,
	tcl/target/stm32f1x_stlink.cfg: stm32 configs: use 4kB working area
	size by default This is needed for configs that might be used with the cheapest
	STM32F100 parts that have only 4kB SRAM.  Restrictions for the other STM32 families are verified to be set
	appropriately.  Change-Id: I1ad2370435015604db9f27c1a76c153480311a28 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1378 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-03  Paul Fertser <fercerpav@gmail.com>

	* src/server/telnet_server.c: telnet_server: support C-p, C-n for
	moving through history This modifies telnet server to allow using common readline
	combinations to move up/down history, without the need to touch
	cursor keys.  Change-Id: Ib659075883e91794b44f391f7c29bbdfdd679d10 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1376 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-29  Paul Fertser <fercerpav@gmail.com>

	* src/flash/nor/efm32.c: efm32: fix FTBFS on ARM due to alignment
	issues The following warnings prevent OpenOCD from building: efm32.c: In
	function 'efm32x_read_lock_data': efm32.c:373:8: error: cast
	increases required alignment of target type [-Werror=cast-align]
	efm32.c:386:9: error: cast increases required alignment of target
	type [-Werror=cast-align] efm32.c:394:9: error: cast increases
	required alignment of target type [-Werror=cast-align]
	efm32.c:402:9: error: cast increases required alignment of target
	type [-Werror=cast-align] efm32.c: In function
	'efm32x_get_page_lock': efm32.c:430:17: error: cast increases
	required alignment of target type [-Werror=cast-align] efm32.c: In
	function 'efm32x_set_page_lock': efm32.c:441:19: error: cast
	increases required alignment of target type [-Werror=cast-align]
	cc1: all warnings being treated as errors This patch is compile-tested only.  Change-Id: Ia3a8f342e0f5e30c8ea4de9435c5c7a80bc100e3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1370 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-05-03  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/drivers/sysfsgpio.c: sysfsgpio: do not try to initialise
	absent signals When e.g. SRST is not specified, the current code results in
	assigning 0 to srst_fd and subsequently a stray '1' is output on
	screen on reset.  Avoid this by not doing bogus initialisation.  Change-Id: Iadb847a384a927ae746124cf6e4e3c6cc8b11406 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1375 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-04  Paul Fertser <fercerpav@gmail.com>

	* src/jtag/adapter.c: jtag/adapter: add connect_[de]assert_srst to
	reset_config usage Add the connect under reset options to the online help for
	reset_config.  Change-Id: I4b9a87b234de01531390b39b898a848841d1e834 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1377 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-01  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c: gdb_server: remove target_handle_event
	from gdb event callback In target_call_event_callbacks(), it will execute 1. target_handle_event (use Jim_EvalObj() to evaluate event    statements in config files) 2. call user registered callbacks Before calling user registered callbacks, target_handle_event has
	been executed.  So, there is no need to call target_handle_event()
	in gdb event callback.  It will execute event statements in config
	files twice.  Change-Id: I84629e324fa3eb909907badf2319b4138ba89f07 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1372 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-05-05  Freddie Chopin <freddie.chopin@gmail.com>

	* NEWS, NEWS-0.7.0, configure.ac: Restore normal development cycle 1. Archive NEWS for 0.7.0 release 2. Add new blank NEWS file 3. Bump version to 0.8.0 and restore "-dev" suffix Change-Id: I21febc042faeed294f3beeb5e683535dbf011e8f Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-05  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.7.0 release.  Change-Id: I08157f47ac056e6d2089119dd2d6cbab11b521e8 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/openocd.texi: doc: add info about FT232H and JTAG-lock-pick
	Tiny 2 adapter Change-Id: I3b1047580669da3f17ea87183536275a10671fec Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1367 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/openocd.texi: doc: Update list of interfaces, targets and
	boards Change-Id: If9481e061f09a37f9ee3c461a1a0ce4d382a9a0d Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1366 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/manual/release.txt: dev-doc: fix to release process docs Change-Id: I916e7ff1af211baef1c6d56fd44d292ee6983599 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1368 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/am335x.cfg, tcl/target/imx28.cfg: cfg: remove
	whitespace Change-Id: I20edbb50efc03711195102f4c6dc8bcfaf043d44 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1374 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-05-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/am335x.cfg, tcl/target/omapl138.cfg: cfg: ignore
	ICEPick jrc tap version Due to reports of newer targets using a updated version of the
	ICEPick tap rather than add another tapid we ignore the tap version.  Also see Trac 49 for details.  Change-Id: Ic78414c54af2545c817e1bb2c860970c1b587259 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1373 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: Restore -dev suffix Change-Id: I26f49e02d228b59533237607fa8307ecc627409e Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.7.0-rc2 release candidate.  Change-Id: I0a3576dd098d73437547b619c726cacd8f1dba64 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/target/cortex_a.c, src/target/startup.tcl,
	tcl/board/icnova_imx53_sodimm.cfg, tcl/board/imx53loco.cfg,
	tcl/target/am335x.cfg, tcl/target/amdm37x.cfg,
	tcl/target/imx51.cfg, tcl/target/imx53.cfg,
	tcl/target/omap3530.cfg, tcl/target/omap4430.cfg,
	tcl/target/omap4460.cfg, tcl/target/u8500.cfg: target: rename
	cortex_a8 to cortex_a Rename cortex_a8 target to use a more correct cortex_a name.  This
	also adds a deprecated_name var so that older scripts issue a
	warning to update the target name.  cfg files have also been updated to the new target name.  Change-Id: I0eb1429c9281321efeb444b27a662a941a2ab67f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1130 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c,
	src/rtos/ThreadX.c, src/rtos/eCos.c, src/target/cortex_m.c,
	src/target/startup.tcl, tcl/target/at91sam3XXX.cfg,
	tcl/target/at91sam3nXX.cfg, tcl/target/at91sam4XXX.cfg,
	tcl/target/fm3.cfg, tcl/target/k40.cfg, tcl/target/k60.cfg,
	tcl/target/lpc1788.cfg, tcl/target/lpc17xx.cfg,
	tcl/target/lpc1850.cfg, tcl/target/lpc4350.cfg,
	tcl/target/omap4430.cfg, tcl/target/omap4460.cfg,
	tcl/target/stellaris.cfg, tcl/target/stm32f1x.cfg,
	tcl/target/stm32f2x.cfg, tcl/target/stm32f3x.cfg,
	tcl/target/stm32f4x.cfg, tcl/target/stm32l.cfg: target: rename
	cortex_m3 to cortex_m Rename cortex_m3 target to use a more correct cortex_m name.  This
	also adds a deprecated_name var so that older scripts issue a
	warning to update the target name.  cfg files have also been updated to the new target name.  Change-Id: Ia8429f38e88da677249c5caa560c50f8ce56ea10 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1129 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/openocd.texi: Mention "lpc4300" (with "lpc1800" alias) flash
	drivers in manual Change-Id: I0bb28910b2c07b1ca5bd644e0d88b931d585d3e7 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1352 Tested-by: jenkins

2013-04-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex_m: remove old target
	breakpoints/watchpoints Sometimes the target may have breakpoint registers set from a
	previous debug session, we can either sync them or as we have chosen
	here clear them.  Change-Id: I439a623ebbf010246a70e5596d04aa7d546da731 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1363 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-22  Christopher Kilgour <techie@whiterocker.com>

	* src/flash/nor/kinetis.c: kinetis: fix "SF1" parts to limit FlexRAM
	usage Ensure FlexRAM usage is limited to half the FlexRAM size when
	programming.  Assume the FlexNVM sector size is equal to half the
	FlexRAM.  Fix sector erase checking which had an error introduced
	  when the kinetis_ftfx_command( ) signature was changed.  Change-Id: I88edd9c7d4a4ba474cad7b00052feaeedfa8ced8 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/1358 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: fix libftd2xx regression Fix build when targeting closed src ftd2xx drivers.  configure is
	unable to find the dynamic linking loader lib (dl) as it is included
	before ftd2xx library.  Change-Id: Ibe7308b66ed846288a31f7a27ff549b6f39baeec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1355 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/xscale.c: arm: fix arm reg regression Seems commit fc2abe63fd3cea7497da7be2955d333bd3f800b9 caused a
	regression in that the arm reg cmd no longer worked. The issue was
	caused because we changed the value of ARM_MODE_THREAD which was
	being checked in arm_init_arch_info.  Change-Id: Id571d4ab336d1b0e2b93363147af245d24b65ca5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1362 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* src/jtag/drivers/ft2232.c: build fix: ft2232 fix build with-ftd2xx-lib Change-Id: I4a9b5d204c29b7a0714a59494b2b5f959c73f99b Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1359 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-23  Hsiangkai Wang <hsiangkai@gmail.com>

	* src/server/gdb_server.c: gdb server: Fix bug. Parse 'M' packet
	error.  The format of 'M' packet is 'M addr,length:XX...'. The data follows
	':' immediately. No need to '+2' to SEPARATOR in unhexify(), because
	SEPARATOR points to data correctly.  Change-Id: I15b5758b540816cc727752e7bf68cd45e623f603 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1360 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* NEWS: Update NEWS Change-Id: Icfc1245552a400232988cf44f54e5c46af1db873 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1356 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-21  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: Restore -dev suffix Change-Id: I3662c5993766a76d6dd62b919c56cc059c4e50d4 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-21  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.7.0-rc1 release candidate.  Change-Id: I2992c31b56b88062cdd8a8208506a61f6367fcbf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* src/flash/nor/lpc2000.c: Add "lpc1800" alias for "lpc4300" flash
	driver Change-Id: I6d2bb9105cc778bd1d21580022529d684c3b21b0 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1351 Tested-by: jenkins

2013-02-05  Matt Dittrich <mdittrich.dev@gmail.com>

	* src/flash/nor/lpc2000.c: flash/nor: add lpc4300 variant to lpc2000
	driver This patch adds flash programming support for internal flash of the
	LPC43x2/3/5/7 part, tested on a LPC4337 (also tested on a LPC1768
	and LPC2468). It should also work with LPC1800's with onchip flash.
	The "base" parameter of the "flash bank" command is now significant
	for the lpc4300 variant and required to determine the bank number
	parameter needed by the IAP routines.  NOTE: I could only program flash successfully when the chip is
	powered with "P2_7" pulled low to put it in ISP mode.  When running
	from flash (and not the ISP ROM), the target fails to halt and the
	sector erase fails. This is similar to the behavior I remember when
	trying out the spifi driver on a LPC4350... lots of power cycles to
	make progress, one To burn, one to run.  So I am not confident my
	config is set up correctly.  Change-Id: I8a75ef1b95cedd5b5898b2dedff477f502fd19f3 Signed-off-by:
	Matt Dittrich <mdittrich.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1126 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* HACKING: Improve HACKING Reword info about creating SSH key - it's not required to add it to
	Github account. Mention adding created SSH key to Gerrit account -
	without this step it's not possible to access Gerrit in further
	steps.  Change-Id: Ibd81521fbe47d4b4beae0b77cdc9d939fd3ee20c Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1350 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-03-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/configuration.c, src/helper/configuration.h,
	src/server/telnet_server.c: telnet: add telnet history support adapted from Yoshinori Sato's patch:

	https://github.com/ysat0/openocd/commit/2f07f4600a0da8206612d78c159bbe1171aa41c2Change-Id: I084b86d316b0aa6e9593f007c024961dbda805e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1310 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-19  R. Steve McKown <rsmckown@gmail.com>

	* src/jtag/drivers/osbdm.c: Support newer OSBDM firmware OSBDM: add new VID:PID implemented in OSJTAG/OSBDM firmware
	somewhere between versions 30.13 and 31.21.  PFLASH programming
	works with this patch, tested on a Freescale Kinetis TWR-K20D72M
	using its onboard OSBDM JTAG adapter.  Note: flash program testing required hacking kinetis_write() to
	force longword programming, as the FTFL program section commands
	formulated by kinetis_write() currently fail on this board's
	PK20DX256VLL7 processor.  Change-Id: Ib7b92ff2fe9ebf6158fb1489f554a19e96cd9651 Signed-off-by:
	R. Steve McKown <rsmckown@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1348 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/target/stm32f3x.cfg: stm32f30x: Add boundary scan TAP ID to
	match silicon Change-Id: I74ef3cfc437540aedd99da46ac3e0c6cd9c5cd8d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1354 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips_ejtag.c: mips: m4k
	alternate pracc code. Patch 4 Now all the functions with only fetch accesses are modified.  The
	same delay between scans has been added to
	mips32_pracc_fastdata_xfer(), it should work at the same scan rates
	as the other pracc functions, but it needs higher scan_delays to
	work.  Change-Id: Ifb31d8ea6de9d22674385782913d221a2494dbbf Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1196 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_m4k.c: mips: m4k alternate
	pracc code. Patch 3 Functions mips32_pracc_read_mem(), mips32_cp0_read() and
	mips32_pracc_read_regs() are now modified.  mips32_cp0_read() is
	very similar to mips32_read_u32() with one store access.
	mips32_pracc_read_regs() is the only function that can not be
	executed from only one queue.  Now this function is modified to use
	reg8, it saves all the registers but does not restore reg8.  To
	remedy this, mips_ejtag_config_step() is called after
	mips32_save_context() in mips_m4k_debug_entry(). Function
	mips_ejtag_config_step() is modified to use reg8 and restore it from
	ejtag info instead of using DeSave for save/restore.  Change-Id: Icc224f6d7e41abdec94199483401cb512cc0b450 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1195 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: m4k alternate pracc code. Patch 2 Each pracc function defines a variable ctx of type struct
	pracc_queue_info.  To simplify the code tree auxiliary functions are
	defined: pracc_queue_init(), pracc_add() and pracc_queue_free().
	The second parameter in pracc_add() is the store address if the
	instruction is a store at dmseg, otherwise it should be 0.  The code
	is executed by mips32_pracc_queue_exec(). If ejtag_info->mode is 0
	mips32_pracc_exec() is called and it should work like with current
	code.  To generate the delay between scans the number of clock ticks
	are calculated with the help of jtag_get_speed_khz(). Due to delays
	in the execution of each single ftdi instruction the number of ticks
	are higher as it should be, specially at higher scan rates.
	mips32_pracc_read_u32() should now work with the new code.  Change-Id: I471590a4fc89b56af10bd46c48767b4c64de154f Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1194 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: mips: m4k alternate pracc code. Patch 1 This patch and the following patches define another way of doing
	processor access without the need to read back the pracc address as
	needed in current pracc code.  Current pracc code is executed
	linearly and unconditionally. The processor starts execution at
	0xff200200 and the fetch address is ever incremented by 4, including
	the last instruction in the delay slot of the branch to start.  Most
	of the processor accesses are fetch and some are store accesses.
	After a previous patch regarding the way of restoring registers
	(reg8 and reg9), there are no load processor accesses.  The pracc
	address for a store depends only on the store instruction given
	before.  m4k core has a 5 stage pipeline and the memory access is
	done in the 3rth stage. This means that the store access will not
	arrive immediately after a store instruction, it appears after
	another instruction enters the pipeline.  For reference: MD00249
	mips32 m4k manual.  A new struct pracc_queue_info is defined to help
	each function in generating the code. The field pracc_list holds in
	the lower half the list of instructions and in the upper half the
	store addressess, if any. In this way the list can be used by
	current code or by the new one to generate the sequence of pracc
	accesses.  For every pracc access only one scan to register "all" is
	used by calling the new function mips_ejtag_add_scan_96().  This
	function does not call jtag_execute_queue(), all the scans needed
	can be queued before calling for execution.  The pracc bit is not
	checked before execution, is checked after the queue has been
	executed.  Without calling the wait function the code works much
	faster, but the scan frequency must be limited. For pic32mx with
	core clock at 4Mhz works  up to 600Khz and with 8Mhz up to 1200. To
	increase the scan frequency a delay between scans is added by
	calling jtag_add_cloks().  A time delay in nano seconds is stored in
	scan_delay, a new field in ejtag_info, and a handler is provided for
	it.  A mode field is added to ejtag_info to hold the working mode.
	If a time delay of 2ms (2000000 ns) or higher is set, current code
	is executed, if lower, new code is executed.  Initial default values
	are set in function mips32_init_arch_info. A reset does not change
	this settings.  Change-Id: I266bdb386b24744435b6e29d8489a68c0c15ff65 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1193 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* README: Improve clone command in README Without the explicit dir at the end the repository will be cloned to
	"code".  Change-Id: Icd8b55b4ba74f23b214c3844e2fb785377768119 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1349 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins

2013-04-19  Ben Nahill <bnahill@gmail.com>

	* tcl/target/stm32w108_stlink.cfg: stm32w: Added sample target
	configuration for STM32W108 with STLink-V2 As requested, here is the target configuration that I'm using for an
	STLink-V2-attached STM32W108C8. For some reason, it only seems to
	work with "reset_config trst_only".  Change-Id: Icbff4f83343e1f505d8afdfc53ff6f8b7496cac9 Signed-off-by:
	Ben Nahill <bnahill@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1347 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-17  Ben Nahill <bnahill@gmail.com>

	* src/flash/nor/em357.c: topic: STM32W support added to em357 driver The em357 driver only supported one page configuration (192k in 96
	2048k) pages. This is fine for em357 chips since that's the size
	they have, but ST's STM32W chips (pretty much the same) have
	different flash configurations available (64, 128, 192, 256k). I
	can't find anywhere that would indicate the size of the chip
	anywhere in memory so the selection must be manual, using the 'size'
	parameter. For backwards compatibility, any size not known to be in
	use defaults to the 192k configuration. I don't have any em357
	devices to test, but I also found that I had to re-assert the FPEC
	clock enable before performing an erase. This is a single line and
	shouldn't break any configurations.  My testing so far has only been with a 64k device with 8k of RAM.  Change-Id: Ic0ac400a9696efaa09d1407dd4a4d456bc2c318b Signed-off-by:
	Ben Nahill <bnahill@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1336 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/startup.tcl: program: do not poll target after reset run Disable polling the target before we issue a 'reset run'. This stops
	errors or warnings if the target disables the SWD or JTAG interface
	as part of the application code.  Change-Id: I5019dffdad41a8e210003ece1caf89069ee0f223 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1331 Tested-by: jenkins

2013-04-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/hla/hla_interface.c,
	src/jtag/hla/hla_interface.h: stlink: fix connect under reset issues We need to make sure that srst is asserted before we attempt to
	switch into jtag or swd mode otherwise we receive a error (-9) -
	invalid device id.  Change-Id: I625166c751cfba8e8a5290f40122bb9afc9dbb39 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1315 Tested-by: jenkins

2013-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/parport.c: parport: fix parport_toggling_time
	regression If parport_toggling_time is called before the adapter speed has been
	configured then the call fails. Probably not the best fix, but does
	at least enable parport_toggling_time to be used again.  This regression was added in commit
	740b9e25b410c164e661d0334a9ea4168406726b Change-Id: I90300916d6bda5ef053c557e5ac136c4f002bdd1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1309 Tested-by: jenkins

2013-03-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ft2232.c: ft2232: remove ft2232_large_scan memory
	leak This is a very long outstanding issue see:

	http://lists.berlios.de/pipermail/openocd-development/2011-June/019404.htmlAs this driver is deprecated the fix is added to purely to reduce
	the warnings reported by clang.  Change-Id: I3a16a704e0e8db27efda50fdcfdd35abf5ebed0f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1278 Tested-by: jenkins

2013-04-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/libusb1_common.c: libusb: disable debug messages
	by default Change-Id: I15dec0f521502139b57adaff576516af7883a74b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1314 Tested-by: jenkins

2013-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* jimtcl: jimtcl: update embedded jimtcl Update to latest jimtcl commit
	2c1eba991e21a6f0b531fb0f83e21f9e6ee7c515.  This fixes issues when
	building on certain versions of Mac OSX.  Change-Id: I551477752d7913c84e6deb60b889d0c14bd200a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1311 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-04-15  Peter Dietzsch <peter.dietzsch@ib-dt.de>

	* tcl/target/at91sam4sd32x.cfg: cfg: Added cfg script for
	at91sam4sd32x targets Change-Id: I3b8a54d89a180bfded3dae3f1fe3d940540e6e7d Signed-off-by:
	Peter Dietzsch <peter.dietzsch@ib-dt.de> Reviewed-on:
	http://openocd.zylin.com/1333 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-15  Peter Dietzsch <peter.dietzsch@ib-dt.de>

	* src/flash/nor/at91sam4.c: flash: Added support for at91sam4sd32c Change-Id: I7223980602d7595a3dd7a3ceaac3f58d4f73f88d Signed-off-by:
	Peter Dietzsch <peter.dietzsch@ib-dt.de> Reviewed-on:
	http://openocd.zylin.com/1332 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-12-11  Yann Vernier <yann.vernier@orsoc.se>

	* src/jtag/drivers/ft2232.c: ft2232: fix input scan ending in
	drshift/irshift The final bit was incorrectly added as output data, even if no data
	was to be written. Changed it to match handling of other bits.  Change-Id: I91e5ba0c932876bfb579c22e6c7ef0300baa1534 Signed-off-by:
	Yann Vernier <yann.vernier@orsoc.se> Reviewed-on:
	http://openocd.zylin.com/1049 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-18  Michel JAOUEN <michel.jaouen@stericsson.com>

	* doc/openocd.texi, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: arm_adi_v5: fix for csw nonsecure access.  Add command to fix CSW_SPROT in register AP_CSW.  This solves dap
	apmem access in non secure access.  Change-Id: I7cfcb6434d75f5cfd4a2630a059901cdeea010ce Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/1276 Tested-by: jenkins Reviewed-by: mike
	brown Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-03-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32.c, src/target/mips_m4k.c: mips: code cleanup in
	cp0 command handlers After calling mips32_cp0_read() nothing has been queued, the call to
	jtag_exec_queue() is unnecessary.  Change-Id: Ie25438045a8e9b6b1b170df7b52609d45f284b5a Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1190 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: mips: change in restoring debug working
	register In current devel code there are 3 functions (related to m4k code)
	that need to restore register 8 from pracc stack:
	mips32_pracc_read_u32() mips32_cp0_read()
	mips32_pracc_write_mem_generic() And mips32_pracc_read_mem() needs to restore regs 8 and 9 from pracc
	stack.  Values in this registers should be the same as read by
	mips32_pracc_read_regs() when entering debug mode and can be
	modified by mips32_pracc_write_regs() when leaving debug mode.
	There is no need to read their values from the processor registers
	every time.  The fields reg8 and reg9 are added to struct mips_ejtag to store
	these register values and the call to mips32_save_context() is
	shifted in mips_m4k_debug_entry() in order to store them before any
	other function needs to restore these registers.  For the same
	reason in function mips_m4k_step() the call to
	mips_m4k_set_breakpoint(), if needed, should be made after calling
	mips_m4k_debug_entry().  For single word write the number of pracc
	accesses are now 9 or 8, from 13 or 12 in current code, single word
	read takes now 10 instead of 12.  This patch is really the first in a set of patches for an alternate
	m4k pracc code much faster that current code. At least for me with
	pic32mx works fine.  Change-Id: Ibd9df5e8b9f78ce05a180949ba6a561c761b61d6 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1146 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: mips32_pracc_fastdata_xfer()
	little modification In this function after loading the handler code and the jump code
	there is a call to wait_for_pracc_rw() to verify that a pracc access
	is pending.  Next the address is read to verify that the handler is
	running, the address should be at fastdata area.  Next, another call
	is made to wait_for_pracc_rw(). This call is not needed, we now
	already that a pracc access is pending.  Better we call this
	function before loading the end address to be sure it is loaded
	correctly.  Signed-off-by: Salvador Arroyo <sarroyofdez@yahoo.es> Change-Id:
	If311450ea634786fc28cf1a8e18ed24ce5257d20 Reviewed-on:
	http://openocd.zylin.com/1142 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* tcl/target/pic32mx.cfg: pic32mx: 0 wait state option By default pic32mx starts after any reset with 1 wait state for RAM
	access/exec.  It can be changed to 0 wait states by clearing the
	BMXWSDRM bit (bit 6) in BMXCON register.  With 0 wait states near
	doubles the execution speed. CRC check sum can be done much faster
	increasing verify_image speed. Fast data transfer also works with a
	bit higher scan rate, up to 1500 Khz.  This option can be set at any
	time with mww 0xbf882004 0x40 or cleared with mww 0xbf882008 0x40.
	Some numbers for FTDI/HS with current devel code and a elf file: Core clock / wait states	             verify_image speed
	------------------------------------|------------------------------         4 Mhz    /    1                            21 KiB/s         4 Mhz    /    0                            36 KiB/s         8 Mhz    /    1                            37 KiB/s         8 Mhz    /    0                            57 KiB/s Change-Id: I4092ad0f3753f72f77108718d0ed3a3ab84e3b23 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1141 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-02-17  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips_ejtag.c: pic32mx: false pending at low core clock To show up the fail try to step with the core clock set to 31.25Khz
	and with a ftdi/hs adapter or with a wiggler, -not with ft2232-.
	The scan frequency should be set to 300Khz or higher, at lower
	frequency probably will not fail.  The code exits with error because the pracc address is at 0x0.  It also fails when using the "all" register, but in this case the
	code works without any message because the pracc address is at
	0xff202004 when it fails.  I never saw this fail with the core clock set to 500Khz or higher,
	but ...  The workaround simply puts a 1 ms delay after the execution of the
	DERET instruction.  Change-Id: I38e8c01a9c39aedd3282140543b83a0844d8ad29 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1139 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-27  Henrik Nilsson <henrik.nilsson@bytequest.se>

	* contrib/loaders/flash/armv7m_io.s, src/flash/nand/arm_io.c: Added
	support for ARMv7-M in arm io.  Added support for ARMv7-M targets in arm_nandwrite and arm_nandread.  Change-Id: Iab1d78d401f735e191c6a8519f3619035a300fae Signed-off-by:
	Henrik Nilsson <henrik.nilsson@bytequest.se> Reviewed-on:
	http://openocd.zylin.com/1188 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-01-17  Evan Hunter <ehunter@broadcom.com>

	* src/target/adi_v5_jtag.c: Add abort when JTAG-DP transaction times
	out.  Fixes system hang for devices that don't ignore transactions to bad
	addresses.  Change-Id: Ia98344d7efc12951ef79dbc82b8f792b70a22cee Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/1115 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-18  mike brown <theshed@mikebrown.org.uk>

	* src/target/adi_v5_jtag.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: arm_adi_v5: fix mem_ap_read_buf_u32() JTAG
	nastiness..  Moved JTAG code out of transport-neutral file (arm_adi_v5.c) into
	transport specific file (adi_v5_jtag.c).  Added ap_block_read to
	dap_ops interface (arm_adi_v5.h) to support the move.  Change-Id: I796d3984f138aad052b97c77ac9c12ffd1158f74 Signed-off-by:
	mike brown <mike@theshedworks.org.uk> Reviewed-on:
	http://openocd.zylin.com/1277 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-02  Evan Hunter <ehunter@broadcom.com>

	* src/server/gdb_server.c: gdb server: Fix buffer overrun - sprintf
	appends a terminating null to the data which was overrunning the
	supplied buffer.  Fixes regression introduced in commit
	07dcd5648d146d38f9ffa619f0737587e592d0b6 Signed-off-by: Evan Hunter <ehunter@broadcom.com> Change-Id:
	Iec64233c0da5a044fb984c4b1803309cb636efe9 Reviewed-on:
	http://openocd.zylin.com/1312 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ti_icdi_usb.c: ti_icdi: add icdi_usb_query result
	check Change-Id: I0b40586677a77ee6ae46fe120a677616bde22d1e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1279 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-03-16  Spencer Oliver <spen@spen-soft.co.uk>

	* README, doc/openocd.1, doc/openocd.texi: docs: update incorrect
	urls These were missed when git was moved to the new SF platform during
	Nov 2012.  Change-Id: I7b4ae9dea010d95f9bf4c26841b5b724f41768be Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1248 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-03-14  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: remove unnecessary whitespace Change-Id: I11bad3de145d941b61e9bd4920bc3281ece91ab3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1245 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-14  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: fix html anchor xref links makeinfo has a long outstanding bug that means @anchors are not
	correctly formatted for split html, see:
	http://lists.gnu.org/archive/html/bug-texinfo/2012-06/msg00000.html The issue relates to using spaces or hyphens in the @anchor name.
	Issue also reported via Trac #44 Change-Id: Id72e23375dd167674b2ae5b314e8242b90a72a5f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1244 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-23  Thomas Schmid <thomas.schmid@gmail.com>

	* src/flash/nor/at91sam3.c: at91sam3: Wrong PLLA frequency
	calculations The command 'at91sam3 info' ignores PLLA DIV values >1. This patch
	fixes it.  Tested on a SAM3S4C chip.  Change-Id: I051f41bb3dcefe1ac785fbcb48477a807daa16a2 Signed-off-by:
	Thomas Schmid <thomas.schmid@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1307 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-24  Christian Gudrian <christian.gudrian@gmx.de>

	* src/rtos/rtos.c: rtos: fixed handling of qThreadExtraInfo packets The commit "gdbserver: use common hexify/unhexify routines"
	[3d62c3d] mis-replaced a call to "str_to_hex" with a call to
	"unhexify". "hexify" should have been used instead.  Change-Id: I5f5904b1b422f819a6308e2c0740ea43d22c7d0b Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1308 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_a.c: target: fix broken Cortex-R4 support This regression was caused due to the recent addition of R4 support
	and the removal of the bulk_write_memory handler.  Change-Id: Ide692737f235c0e9906becb6f3502ba52c5907aa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1246 Tested-by: jenkins

2013-03-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nand/arm_io.c, src/target/target.c, src/target/target.h: 
	target: Retire target_bulk_write_memory() The only caller was arm_nandwrite(). Replace that call with
	target_write_buffer() instead, which in turn may end up calling the
	same bulk_write_memory target API function.  Change-Id: If34c7474df5cf14af3b732fb4774816818f28e79 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1214 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-03-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm11.c, src/target/avr32_ap7k.c,
	src/target/cortex_a.c, src/target/cortex_m.c,
	src/target/dsp563xx.c, src/target/dsp5680xx.c,
	src/target/hla_target.c, src/target/target.c, src/target/xscale.c: 
	target: Add default implementation of bulk_write_memory Remove dummy implementations from all targets except arm7_9 and
	mips, which are the only ones with real implementations. Replace
	with a single default implementation simply calling
	target_write_memory().  Change-Id: I9228104240bc0b50661be20bc7909713ccda2164 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1213 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* src/target/armv7a.c, src/target/armv7a.h, src/target/cortex_a.c,
	src/target/target.c: arch: Added ARMv7R and Cortex-R4 support Rewrite to merge Cortex-A and Cortex-R code Change-Id: I4541557980d43d1bba6e8d1bfeb04f536ed25a00 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/358 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv7a.h, src/target/cortex_a.c: adi_v5: search for Debug
	and Memory AP support Adds dap_find_ap() function.  Change-Id: I6643025624009b12d4936de67a605da52c07be49 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/909 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-23  Evan Hunter <ehunter@broadcom.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_dpm.h, src/target/arm_opcodes.h,
	src/target/cortex_a.c, src/target/cortex_m.c: cortex_a : optimize
	apb read/write access.  Rewrite: Adheres more closely to 'fast read/write' examples in TRM.
	up to 50x faster Change-Id: Ieb4da57d8367628f3e7306827a5b1f0ab550e641 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/903 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-06-05  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/opendous.c: 
	jtag: add support for some probes that are mostly compatible with
	opendous This patch adds support for usbprog-jtag and usbvlab that are mostly
	compatible to opendous except for IN and OUT endpoints and usb
	transfer mode.  Change-Id: I44557c2449fe7473295038efa6ae4fc8d80ec7bf Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/687 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-12  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/jtag/drivers/usb_blaster.c: jtag: usb_blaster: fix allocation
	of usb_blaster_device_desc usb_blaster_device_desc was allocated, but never freed.  Change-Id: I764bd092c71b8c260b98aab0e7a1710fd7bfa9fd Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1224 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-03-12  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/jtag/drivers/parport.c: jtag: parport: avoid freeing read-only
	memory section If command parport_cable is not executed, parport_cable points to
	const char array in read-only memory as default. On exit free() will
	try to free this read-only memory. This patch uses strdup to
	allocate memory when defining default setting.  Change-Id: I290e707ac6a37e9dc1b45c85ca51d8bd6aac6761 Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1223 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-09  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/jtag/drivers/opendous.c: jtag: opendous: fix tap buffer
	overflow Appending bits to TAP buffer doesn't check if there's enough space
	left.  This patch adds this check to fix TAP overflow error.  Change-Id: If80d5ab4a24983ad24f3cab31f9676d1590ebf5d Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1216 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/rtos/linux.c, src/target/cortex_a.c, src/target/target.c,
	src/target/target.h, src/target/target_type.h: target: Remove
	read_memory_imp Change-Id: Idc6ef3b075ccbb5945df8fea746011cb17175d8f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1219 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_a.c, src/target/target.c,
	src/target/target_type.h: target: Remove write_memory_imp Change-Id: I5d933bc19443bba8a0193c90471fdd0614324a92 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1218 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c, src/target/target_type.h: target: Remove
	soft_reset_halt_imp Change-Id: I12c907584ef73de570eba2dcfeb8477cabc6098f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1217 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* doc/openocd.texi: doc: opendous interface based on ft2232H It was listed in the ft2232 based cables supported. Moreover, the
	ft2232_channel option, which was added to support this cable, was
	explained.  Change-Id: I82ebc7bc10d6472f96ab150e78d623a617edccd2 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1098 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* tcl/interface/opendous_ftdi.cfg: interface: opendous_ftdi config
	file added This config file add support to the opendous cable based on the chip
	ft2232H, using the ft2232 interface driver.  Change-Id: I8171a0c475af8d61e081844ee86466a392138fb0 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1096 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* src/jtag/drivers/ft2232.c: ft2232: ft2232_channel option added With this option a different channel of the ft2232 chip can be
	selected using a previously existing layout. It was made for a
	partner called Salvador Tropea.  Change-Id: Ia0dedb2f50e232d089e73788735edc8f47ee23e6 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1095 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-10-08  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* doc/manual/main.txt, doc/manual/target.txt,
	doc/manual/target/mips.txt: doc: Added MIPS target document This document explains MIPS EJTAG operations implementations within
	OpenOCD.  Change-Id: Ieaf01f8bc5a97d7b0f2c847bac5fbb2ccf8ba088 Signed-off-by:
	Drasko DRASKOVIC <drasko.draskovic@gmail.com> Reviewed-on:
	http://openocd.zylin.com/904 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-03  Alex Austin <alex.austin@spectrumdsi.com>

	* src/flash/nor/kinetis.c: Kinetis: Flash command function matches
	datasheet The kinetis datasheets specify the flash registers as bytes rather
	than as words, as the previous implementation did.  This also makes
	a few code sections slightly less endian-magical.  Change-Id: If8f4adfc7f4341085ae5b6eacbf7d74bbd74cf08 Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/1192 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-02  Alex Austin <alex.austin@spectrumdsi.com>

	* src/flash/nor/kinetis.c: Kinetis: Symbolic names for Addresses and
	Commands Change-Id: I2165b66c37bd1608139b5dd00f48124161e13ef0 Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/1191 Tested-by: jenkins Reviewed-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING: docs: add gerrit http password url Add url to show where the http password is configured.  Also add
	note that password can also be saved to url git config.  Change-Id: I3c1a022580e5f73372b0c50e8d1d2f0b1498966f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1207 Tested-by: jenkins

2013-03-06  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/flash/startup.tcl: tcl: add flash
	programming helper This adds a program proc that simplifies using OpenOCD as a
	standalone programmer.  Change-Id: I6ece492cd878c170b734e8bb2e09fe8c4557d5a6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1199 Tested-by: jenkins Reviewed-by: Jörg
	Fischer <turboj@gmx.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2013-03-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/rtos/linux.c: rtos: fixes warning Change-Id: I45db15b16b52c71009d8830985f42ac88eabe160 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/1209 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb: use stdio functions to convert
	parameters This reduces the number of gdb conversion routines we have to
	maintain.  Change-Id: Ia43d6cac86cbe4f76fe0875b9d9c16ac340296db Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1128 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* tcl/interface/ftdi/opendous_ftdi.cfg: interface: opendous_ftdi
	config file added This config file add support to the opendous cable based on the chip
	ft2232H, using the ftdi interface driver.  Change-Id: I4491f99d7b14f7078a04583ef0c4acd8692c4349 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1097 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING: docs: use doxygen keywords for formatting Rather than use bold fonts etc, use the correct keywords so doxygen
	formats better.  Change-Id: Id9d63f0fc3465665376d7a536c4d6da71998f40e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1210 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com>

2013-02-28  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/netgear-dg834v3.cfg, tcl/target/ti-ar7.cfg: cfg: add
	Netgear DG834v3 configuration Change-Id: I3f4880d8b07b9623544b94d316b37e6d0ae97020 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1189 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-02-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash: fix stm32 failed probe using
	incorrect flash size This fixes an issue if the device is manually probed after the
	initial probe fails due to being unable to read flash size register.
	In this situation the driver assumes the user has overridden the
	flash size when infact this may not be the case.  It also seems on the older stm32f1 devices the flash register is not
	readable when locked, this does not seem to apply to the newer parts
	- f0, f3, f4.  Change-Id: I125f872fcb2d962ca6705f97b62d957e2b31303b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1187 Tested-by: jenkins Reviewed-by: Johan
	Almquist <johan.almquist@assaabloy.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-02-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stm32: update stm32f1x driver for f0x
	and f3x option bytes The stm32f0 and stm32f3 share the same option byte location, but the
	format differs.  Adding an option_offset fixes the broken options_read cmd and
	incorrectly setting Hardware Watchdog when unlocking a f3x device.  Change-Id: I82d66b6198294ea9eedb44ca8b2fb368c0cb15e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1184 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ti_icdi_usb.c: ti-icdi: catch failed
	icdi_send_cmd warnings detected by clang.  Change-Id: I1532bcc12a8ab7446646dfb2a7afa8894ff03679 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1180 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-02-08  Vladimir Zapolskiy <vz@mleia.com>

	* tcl/target/imx6.cfg: cfg: add basic support of Freescale i.MX6
	series targets This change adds a simple target configuration for Freescale
	single/dual/quad core i.MX6 SoCs, only one core is configured by
	default.  Change-Id: I853dd27f4c6765b7f731be2ddea82e85d496c6a4 Signed-off-by:
	Vladimir Zapolskiy <vz@mleia.com> Reviewed-on:
	http://openocd.zylin.com/1135 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7a.c, src/target/target.c: target: use common
	target_name to access target::cmd_name member Change-Id: I203b89ef25a072c3b00b504483d5f2a83477fad6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1182 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-10-28  Peter Henn <Peter.Henn@web.de>

	* src/jtag/drivers/mpsse.c: speed up ftdi by reorder to out-in When the ftdi driver calls finally the mpsse_flush function, it
	first initiate the USB in and finally the corresponding USB out
	transaction.  Because data in is requested too early the USB device
	will always answer the first USB in by a NAK. That can prevented by
	a simple reordering of the out and then the in transfer and can
	improve the Jtag performance for high JTAG clock rates.  Change-Id: I17abf1487c914c92e2e447ee6d30562ef629f327 Signed-off-by:
	Peter Henn <Peter.Henn@web.de> Reviewed-on:
	http://openocd.zylin.com/942 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-02-27  Mathias K <kesmtp@freenet.de>

	* tcl/target/lpc4350.cfg: Change reset configuration.  This patch change the default reset config from SYSRESETREQ to the
	working VECTRESET.  Change-Id: I21a9a74b9c0c68cfa3a6e6dac9b123acc98a93cb Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1186 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-25  Mathias K <kesmtp@freenet.de>

	* src/target/target.c, src/target/target.h: Move back off timer to
	target struct Move the global target back off timer to the target struct. This
	will fix the wrong error handling with multi target devices like smp
	systems.  Change-Id: Ia327182ed5d13ca87323700017a8c40ecc6b25a3 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1179 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-02-25  Mathias K <kesmtp@freenet.de>

	* src/target/target.c: Add the target name to debug output for
	better understanding and error identification.  Change-Id: I1054debea6cd3a6548aadeae2d84000a0039814e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1178 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-07-17  Freddie Chopin <freddie.chopin@gmail.com>

	* HACKING: Update HACKING info Inform about possibility of discarding negative review in Gerrit
	when specific conditions are met.  Change-Id: I432b6c93cefc368fa22ce1096bea4cd174e03816 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/747 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2013-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/linux.c, src/rtos/rtos.c, src/rtos/rtos.h,
	src/server/gdb_server.c, src/target/smp.c: gdbserver: use common
	hexify/unhexify routines Change-Id: I9989b625666e9c60ec9867cf6f4d94f41c998c3f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1105 Tested-by: jenkins Reviewed-by:
	Mathias Küster <kesmtp@freenet.de> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2013-02-10  Joerg Fischer <turboj@gmx.de>

	* src/jtag/drivers/vsllink.c: Fix buffer overflow in versaloon
	interface The USB buffer will need space for both TMS and TDI buffers.  Each
	holds tap_buffer_size bytes maximum, so tap_buffer_size must be
	smaller than half of usb buf_size.  Change-Id: Id8f39936a894cbd98deb89eec5a859aef1e2b783 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1136 Tested-by: jenkins Reviewed-by: simon
	qian <simonqian.openocd@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-02-07  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/hla_target.c: target: hla correctly use target events Because we were always running using target state TARGET_RUNNING
	target algorithm's were a bit verbose compared to other targets.  This brings the hla target inline with the other targets.  Change-Id: I3a257fdc878b87660fac8b5eca22b421eee5b349 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1134 Tested-by: jenkins

2013-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c: armv7m: update to use correct register
	core_cache The was missed when the armv7m was moved over to using the std arm
	core_cache, probably because it is disabled by default.  Change-Id: I2f5a18ef6dd783b36e8c29f4c52379104bda4583 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1138 Tested-by: jenkins

2013-02-19  Johan Almquist <johan.almquist@assaabloy.com>

	* src/flash/nor/stm32lx.c: stm32: add support for stm32l1x 256k high
	density single bank devices Added support for new ST devices in the stm32lx portfolio, with
	device id 0x427. These have 256k flash, but in a single bank
	compared to device id 0x436 which is a dual bank flash.  Change-Id: Iafdfe990f24bd04b0d6e00385ee70690f3bf8d5f Signed-off-by:
	Johan Almquist <johan.almquist@assaabloy.com> Reviewed-on:
	http://openocd.zylin.com/1140 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-24  Johan Almquist <johan.almquist@assaabloy.com>

	* src/flash/nor/stm32lx.c, tcl/target/stm32lx_dual_bank.cfg,
	tcl/target/stm32lx_stlink.cfg: stm32: add support for the STM32Lx
	384kb dual bank flash This update adds support for the STM32Lx 384kb dual bank flash.
	Previously there was a problem when writing an image that was larger
	than 192Kb. That lead to openocd printing out two error messages
	like "Error: access denied / write protected" and "Error: invalid
	program address". The reason was that the stm32lx driver tried to
	write half pages which overlapped into the next flash bank.  A new
	configuration file stm32lx_dual_bank.cfg can be used for stm32lx
	chips with dual bank flash (256kb or 384kb devices).  A sanity check
	was added for probed flash size values to fix the issue seen on some
	ST samples that answered incorrectly.  Change-Id: I69e25131983d88613be8606b438f98870c5f1e52 Signed-off-by:
	Johan Almquist <johan.almquist@assaabloy.com> Reviewed-on:
	http://openocd.zylin.com/1125 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/flash/nor/stm32f1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c: stm32: enable
	flash bank size override It has been seen on some stm32 targets that the flash size register
	that is probed by the driver may contain an invalid size.  This change enables the user to override the probed value.  Change-Id: I09359e59a96f9133d3d939670957d32a830a944e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1132 Tested-by: jenkins Reviewed-by: Johan
	Almquist <johan.almquist@assaabloy.com>

2013-02-03  Franck Jullien <franck.jullien@gmail.com>

	* src/jtag/core.c, src/jtag/drivers/at91rm9200.c,
	src/jtag/drivers/buspirate.c, src/jtag/drivers/ep93xx.c,
	src/jtag/drivers/gw16012.c, src/jtag/drivers/opendous.c,
	src/jtag/drivers/osbdm.c, src/jtag/drivers/remote_bitbang.c,
	src/jtag/drivers/sysfsgpio.c, src/jtag/drivers/usb_blaster.c,
	src/jtag/drivers/usbprog.c, src/jtag/hla/hla_interface.c,
	tcl/interface/altera-usb-blaster.cfg, tcl/interface/osbdm.cfg,
	tcl/interface/stlink-v1.cfg, tcl/interface/stlink-v2.cfg,
	tcl/interface/sysfsgpio-raspberrypi.cfg, tcl/interface/ti-icdi.cfg,
	tcl/interface/usb-jtag.cfg: jtag_interface: .speed can be NULL  when
	not needed adapter_init (core.c) won't check speed configuration of the
	selected interface if it's not needed (.speed = NULL).  When it's not needed, we can now omit adapter_khz in init scripts
	and we don't have to implement dummy handlers for speed_div and khz
	functions.  It also removes calls to adapter_khz in interface configuration
	files when not used anymore.  Change-Id: I6eb1894385503fede542a368f297cec6565eed44 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1131 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/cfi.c, src/flash/nor/efm32.c,
	src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpcspifi.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32f1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c,
	src/target/armv7m.c: armv7m: use ARM_MODE_THREAD core mode for
	algoorithm's This makes sure we are using privileged mode when executing any
	loaders.  Change-Id: I18bf32ec92e1c76a66ab25e3712652bc3650b332 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1108 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-01-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c: armv7m: restore core mode after executing
	algorithm Make sure we restore the core mode after executing any algorithm.  We also now check that we actually need to swap the core mode, we
	may already be in the correct mode.  Change-Id: Ia48af2c108e0f9868aae241bf25f60323503f092 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1107 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c,
	src/target/hla_target.c: armv7m: use generic arm read/write_core_reg Change-Id: I0c15acc1278d2972269d294078495e6b069c830b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/969 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c,
	src/target/hla_target.c: armv7m: use generic register core_cache This removes the armv7m::core_cache and uses the generic
	arm::core_cache.  Change-Id: If854281b31486cea8be005008f6a71a691b4c208 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/968 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c,
	src/target/hla_target.c: armv7m: remove unused armv7m_regtype This simplifies the armv7m_core_reg structure ready for the move to
	using the generic struct arm_reg.  Change-Id: I8edb9d77cc54965d49cd2e754568ebcea4cf6964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/967 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/cfi.c, src/flash/nor/efm32.c,
	src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpcspifi.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32f1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c,
	src/target/arm.h, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m.c, src/target/hla_target.c: 
	armv7m: use generic arm::core_mode To simplify things change over to using the generic core_mode struct
	rather than maintaining a armv7m specific one.  Change-Id: Ibf32b785d896fef4f33307fabe0d8eb266f7086f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/966 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/binarybuffer.c: helper: hexify correctly handle signed
	chars The current implementation of hexify was not correctly handling
	signed chars.  This function is currently used by the ti-icdi driver and as such
	was causing random write issues.  As a note perhaps a better long term fix would be to change to using
	uint8_t buffers rather than char. This will require changes to the
	ti-icdi driver aswell.  Change-Id: I572e69ff2b99227a7d412de056458c0393794b03 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1124 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com>

2013-01-27  Freddie Chopin <freddie.chopin@gmail.com>

	* src/rtos/rtos.c: rtos: fix error message Probably a copy&paste error or remainings of some older version.  Change-Id: Ifb81a9a1fe8242f3b114cd0686dd264fbaad4920 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1123 Tested-by: jenkins Reviewed-by:
	Øyvind Harboe <oyvindharboe@gmail.com>

2013-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/FreeRTOS.c, src/rtos/ThreadX.c, src/rtos/eCos.c,
	src/rtos/rtos.c: rtos: do not use LOG_OUTPUT LOG_OUTPUT is not intended for general output so use the correct
	LOG_* functions instead.  Change-Id: I48d0fe765637024dbafc68f2ea08219d3ff42754 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1104 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-01-03  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/rtos.c: rtos: Fix regression preventing use of first RTOS
	& clean up rtos_qsymbol() ThreadX support was not working due to it being first in the list of
	RTOS - regression.  Auto-detect off, an RTOS was always be marked as
	successfully detected, even if symbols are not found.  Lines 223-227
	were unnecessary as they are done in rtos_try_next() Added lots of
	comments Improved readability by separating: GDB not finding a
	symbol vs no more symbols being available Regression caused by patch which was allowed only 52 minutes for
	review : http://openocd.zylin.com/895 Change-Id: Ib4decb01db595ddb3796837c6d8338ce6b9a91ca Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/986 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2013-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/amt_jtagaccel.c, src/jtag/drivers/arm-jtag-ew.c,
	src/jtag/drivers/buspirate.c: jtag: only change state if necessary All the other drivers will only change the state if required.  This
	brings all the other drivers inline with this behaviour.  The original issue relates to problems on xscale commit
	7989000e0969c1ccf69acbc3ce649a020bc1ee66 Change-Id: Ifc90ec2eef68a70a14f37c00931a07982bfa200c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1114 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-12-26  Hsiangkai Wang <Hsiangkai@gmail.com>

	* src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb1_common.c: libusb: idProduct of USB device
	may be zero There is no constraint about idProduct in USB spec.  So, pids[i] may
	be 0 for USB devices.  Change-Id: I19d8974f4e7082e8b7e1f2d33c019ac4e61bc1e2 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1091 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/hla_target.c: hla: enable DWT component and fix
	watchpoints The makes sure the DWT component is always enabled so that
	watchpoints work as expected.  This does need merging into the existing cortex_m logic, however at
	the moment this is non trivial.  Change-Id: Ic6cccd1badb51f70a2ca8ea9ab6923788a94c1bf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1122 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: add stm32lx loader Hard Fault
	workaround An issue has been seen with the stm32lx flash driver that if a power
	cycle/reset is applied after a erase, any ram loader will Hard Fault
	on execution.  A similar issue is mentioned in the errata for the device.  Two
	solution's seem to workaround this issue: 1, Handle the exception,
	   this means adding exception vectors to the loader and changing the
	exception address using nvic vtor register.  2. falling back to using slower direct page writes - approx 50%
	slower.  Using solution 1 would mean restrictions are placed on the loader
	location.  Solution 2 was chosen mainly as it was simpler too
	implement.  Change-Id: I429f06b5a3e3b1d8de90071a88a7df11fc9b46a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1010 Tested-by: jenkins

2012-12-07  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: reduce stm32lx loader timeout Waiting 20secs is a bit much excessive, we could probably reduce to
	5.  Change-Id: Iffb97adb99c2541a075fe78dbc88a53ddf340214 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1009 Tested-by: jenkins

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: cleanup stm32lx driver Handle any leading bytes upto the next 128 byte page, enabling us to
	safely use the faster page write.  Rather than use a separate word/byte write to program any trailing
	bytes we use a combined write function.  Use memcpy for byte writes and change loader to using bytes.  Change-Id: Ie0164a30388f018dd00e752cf5ff87d4f96ced97 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1008 Tested-by: jenkins

2012-12-30  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: update stm32f1x/stm32f2x driver info As we use the two ST flash drivers for multiple stm32 variants
	update the docs as to which targets use which driver.  Change-Id: I84943ff45482a22b3d3dd8491bb4242d79415939 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/990 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: stm32f2x support write protection Change-Id: I42662681104bb06e28148229464ae144c4a54538 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/989 Tested-by: jenkins

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: add stm32f2x flash lock/unlock
	cmds Change-Id: I35344cc47fa4f0a49c034455c5abf479faa0344a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/988 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-18  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: replace deprecated AM_CONFIG_HEADER with
	AC_CONFIG_HEADERS automake-1.13 has now deprecated AM_CONFIG_HEADER, use the correct
	AC_CONFIG_HEADERS instead.  Change-Id: I8adaec64cbad7f7318ff69091176c30b707cbb0b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1117 Tested-by: jenkins Reviewed-by: Mikko
	Viitamäki <mikko.viitamaki@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-01-18  Roman D <me@iamroman.org>

	* src/flash/nor/efm32.c: flash: EFM32 GG/LG page size detection fix Fixed flash page size detection according to EFM32 GG/LG errata.
	MEM_INFO_PAGE_SIZE register containts invalid value in devices with
	revision number lower than 18 and should not be used.  Change-Id: Idb2832246efcbbec2fd98a5c458f72a36df386fb Signed-off-by:
	Roman D <me@iamroman.org> Reviewed-on: http://openocd.zylin.com/1116
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-01-15  Roman Reichel <romanreichel@aol.de>

	* src/jtag/drivers/opendous.c: opendous: Inhibit unnecessary state
	transitions When current tap state and end state are the same, transitions are
	added which is not what should happen.  The usbprog driver was
	already patched like this long time ago.  Change-Id: I339e87156bdc7b5c83c10c14025b749605d3871a Signed-off-by:
	Roman Reichel <romanreichel@aol.de> Reviewed-on:
	http://openocd.zylin.com/1113 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-10  Roman D <me@iamroman.org>

	* contrib/loaders/flash/efm32.S, doc/openocd.texi,
	src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/efm32.c, tcl/target/efm32_stlink.cfg: flash: EFM32
	flash implementation Limited (no page unprotect, no block writes) implementation of EFM32
	flash support. Verified with EFM32 development kit and STLink V2
	adapter using SWD.  Change-Id: I3db2054d9aa628a1fe4814430425db3c9959c71c Signed-off-by:
	Roman D <me@iamroman.org> Reviewed-on: http://openocd.zylin.com/1106
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-12-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* doc/openocd.texi: doc: Add documentation for the ftdi driver Change-Id: I1ade2eb187b404141051d9f59ba06e8e6e5d51aa Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1099 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/hla_target.c: hla: support setting DCB_DEMCR on resume This is only minimal support to enable use to catch a Hard Fault in
	the stm32l flash bootloader.  Change-Id: I21d6a11893e2f1d173ebff1a651d6f52bf6eec32 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1103 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: allow stm32f1x options_write args
	in any order Currently we have to supply the arg's to this cmd in a set order,
	this change fixes that issue.  Change-Id: I14a15732e1917a91009e1ac14fba39ca1523c739 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/992 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: use correct stm32f1x option read
	mask Make sure we do not mask out the BFB2 boot bank bit, as this is used
	on the larger XL devices.  Change-Id: Iacfdf874140e409e0c4ca9b9aee8f5c2f90dc9be Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/991 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stm32f1x: fix stm32f0/f3 broken unlock The STM32F0 and F3 devices use a different default RDP to configure
	a unlocked device, make sure we use that.  Change-Id: I170779461412c4c202c2cfc8d90baedb7e388150 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/984 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stm32f1x: preserve user option byte data The user is able to use 2bytes of the options byte data for whatever
	purpose they wish. Make sure we preserve this during an option
	erase/write.  Change-Id: Ibf951b11c59a148e671b1eb47fdc9b4f49ccae15 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/983 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-16  Szymon Modzelewski <szmodzelewski@gmail.com>

	* src/flash/nor/stm32f1x.c: flash: stm32f1x: write option bytes
	using the loader Some debuggers (stlink) can't issue 16 bit writes and have to use a
	loader to write flash memory.  Currently the loader is not used for option bytes, causing
	stm32x_write_options to fail silently on such hardware.  Fix this by using stm32x_write_block to write option bytes as well.  Change-Id: I49c29d53ab5e162463cb349d4c89bef96467e587 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/480 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* HACKING: doc: Clarify the topic field in the commit comment
	template Change-Id: Iea1f3b665b011ca3748800048039d3f6b33d7756 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1101 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Tomasz CEDRO <cederom@tlen.pl>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk> Tested-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-07  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: stm32lx fallback to slow memory
	writes when no working area The current stm32lx driver will fail if no working area is provided
	- fallback to using slow writes if this is the case.  Change-Id: I92b1535fec4aebc855c63ce2c54b10f168f3c07e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1007 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32ldiscovery.cfg: cfg: increase stm32l-discovery
	working area This part has 16k ram so make it all available.  Change-Id: Ifeb7bc850bfe4f68d0affb8f6a0931b4327e7257 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1006 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32l.cfg, tcl/target/stm32lx_stlink.cfg: cfg: stm32l
	use minimum family ram size for working area The smallest pert in the family has 10k RAM, so use that as a
	default for the working area.  Change-Id: I78be0d14a254c109ac15a7163552c6132f810416 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1005 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-04  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32lx_stlink.cfg: cfg: enable stlink stm32l HSI Switch to using the internal HSI when a reset init is called, this
	also matches the std stm32l cfg.  Read (verify) speed is increased from 17 to 120 KiB/s.  Change-Id: Ic94ba85949ffdefa17b7be45eef14e30f941d107 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1004 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: add new stm32l HD variant Updated as per latest RM0038 Rev 6.  Change-Id: Ia11309a1cdc3b8986f808b33a5c565bdc0ba58b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1003 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: format stm32f2x driver defines Change-Id: Ie903996368a8d4313df87839d5ba3f2a102796a3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/987 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: print target voltage if
	supported The stlink/v2 has the ability to check the target voltage if the
	firmware is recent enough (>= J13).  As a debugging aid we check the voltage at startup and issue an
	error if this is too low to debug reliably.  Change-Id: I98e251f3880e31049c4307051c30bedd3451cf87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/980 Tested-by: jenkins

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: add generic open error
	routine Change-Id: I1cd18896ab2a37255471a2d160befed8dd8fb544 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/979 Tested-by: jenkins

2012-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/replacements.c: helper: improve windows gdb pipe
	performance Reducing the select and MsgWaitForMultipleObjects timeouts to 1ms
	makes a 2-300+% increase in the step time of gdb when using pipes
	under windows OS.  Change-Id: Id7e52cfb2b206347a9caea61672885a3e2b186de Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1050 Tested-by: jenkins

2012-11-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/server.c: gdb: fix correct shutdown when using pipes 50d5441e2a615fb2c44b41a777e4373901f7a2e6 commit added a regression
	when using pipes with GDB, OpenOCD would appear to hang when exiting
	GDB.  This fixes that behaviour so we shutdown correctly.  Change-Id: I9b337c2bdd41b1966de1c7631118257afcbfa6bd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/993 Tested-by: jenkins

2012-12-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: add stm32f2x rev X Updated as per ST RM0033 rev 5 Change-Id: I627fdab69b440b75b8e4f7c474216538fa5273a4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1001 Tested-by: jenkins

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: doc: replace luminary with TI urls's Change-Id: Ic8a768f5a498e78b96421c6137238593c159fd72 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/970 Tested-by: jenkins

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: update docs to include info on TI ICDI Change-Id: I3009920f512f76901d187318ee50284db34ab6f7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/924 Tested-by: jenkins

2012-11-12  Spencer Oliver <spen@spen-soft.co.uk>

	* README, configure.ac, contrib/openocd.udev,
	src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/jtag/drivers/Makefile.am, src/jtag/drivers/ti_icdi_usb.c,
	src/jtag/hla/hla_layout.c, src/jtag/hla/hla_layout.h,
	tcl/board/ek-lm4f120xl.cfg, tcl/board/ek-lm4f232.cfg,
	tcl/interface/ti-icdi.cfg, tcl/target/stellaris_icdi.cfg: icdi: add
	TI icdi interface This is the new proprietary interface replacing the older FTDI based
	adapters.  It is currently fitted to the ek-lm4f232 and Stellaris
	LaunchPad.  Change-Id: I794ad79e31ff61ec8e9f49530aca9308025c0b60 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/922 Tested-by: jenkins

2012-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/hla/hla_interface.c,
	src/jtag/hla/hla_interface.h, src/jtag/hla/hla_layout.c,
	src/target/hla_target.c: hla: add ability to configure read/write
	buffer size Other adapters (TI ICDI) that use this driver can use a larger
	read/write buffer size than the original stlink could.  Change-Id: I9beb7748049097cbe29a2340799c450bd74e199d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/948 Tested-by: jenkins

2012-10-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/hla_target.c: hla: fix watchpoints not being set Watchpoints were not being enabled when the hl adapter target was
	resumed.  This effects both stlink and icdi interfaces.  Change-Id: Ia9f8a9415be97a467cd099b63b6bc9f7f37d0c0d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/931 Tested-by: jenkins

2012-10-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c: rtos: rename stm32_stlink
	target to hla_target Update rtos detection to use the new target name.  Change-Id: I4e55311bcfbc8af55708b43daf0c73b1c8145934 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/923 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/hla/hla_interface.c, src/jtag/hla/hla_transport.c,
	src/jtag/startup.tcl, src/target/hla_target.c, src/target/target.c,
	tcl/interface/stlink-v1.cfg, tcl/interface/stlink-v2.cfg,
	tcl/target/stm32_stlink.cfg: stlink: rename stlink cmd names As part of the switch to using the hla for the stlink interface we
	rename the cmds to a more generic name.  Update scripts to match new names.  Also add handlers for deprecated names.  Change-Id: I6f00743da746e3aa13ce06acfdc93c8049545e07 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/921 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac, src/jtag/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/stlink_usb.c, src/jtag/hla/Makefile.am,
	src/jtag/hla/hla_interface.c, src/jtag/hla/hla_interface.h,
	src/jtag/hla/hla_layout.c, src/jtag/hla/hla_layout.h,
	src/jtag/hla/hla_tcl.c, src/jtag/hla/hla_tcl.h,
	src/jtag/hla/hla_transport.c, src/jtag/hla/hla_transport.h,
	src/jtag/interfaces.c, src/jtag/stlink/Makefile.am,
	src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h,
	src/jtag/stlink/stlink_layout.c, src/jtag/stlink/stlink_layout.h,
	src/jtag/stlink/stlink_tcl.c, src/jtag/stlink/stlink_tcl.h,
	src/jtag/stlink/stlink_transport.c,
	src/jtag/stlink/stlink_transport.h, src/target/Makefile.am,
	src/target/hla_target.c, src/target/stm32_stlink.c,
	src/target/target.c, src/target/target_type.h: target: add
	deprecated target name support This enables us to change the target name without breaking any
	target scripts.  Change-Id: I635f961e573264d3dab2560f3a803ef1986ccfde Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/919 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: print version info Print stlink info always rather than just when debug log enabled.  Change-Id: I2a29ef046925200e1c94624280c0b252fab5219a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/925 Tested-by: jenkins

2012-10-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/stlink/stlink_layout.c, src/jtag/stlink/stlink_layout.h,
	tcl/interface/stlink-v1.cfg, tcl/interface/stlink-v2.cfg: stlink:
	use common layout Even though the stlinkv1 and stlinkv2 use different usb classes they
	share the same layout scheme.  Merge the two into a common layout, thus enabling us to support
	other adapter layouts.  Change-Id: I7d02c44a7f94ebc7f2cb5428b02ee40294fb430d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/918 Tested-by: jenkins

2012-11-15  Muranaka Masaki <monaka@users.sf.net>

	* src/flash/nor/fm3.c: flash: fm3 mb9bfxx7 mb9bfxx8 support Patch submitted by Trac #55 Change-Id: I08b0d79d24fe9108ca0bbfbc9b45c60359b6d180 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/981 Tested-by: jenkins

2012-11-21  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/ThreadX.c, src/rtos/rtos_standard_stackings.c,
	src/rtos/rtos_standard_stackings.h: rtos: Add Cortex-R4 support for
	ThreadX Change-Id: I0b55af690ed917ca783d90d11dcf012f49792ed7 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/994 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-12-10  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/mips_m4k.c: mips_m4k: Fixed mips_m4k_resume code for
	smp targets Fix for bug introduced in in mips smp support code in the  resume
	logic that is checking for wrong return value.  Change-Id: Ice3e0069f936b556fecc338ccc12ddba38deeaf6 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1048 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-07  is2t <devel@is2t.com>

	* tcl/target/lpc1788.cfg: LPC1788 target configuration file.  Change-Id: I68bd6b7c19d9d1bee13d0921c32b4490e68ab8f2 Signed-off-by:
	is2t <devel@is2t.com> Reviewed-on: http://openocd.zylin.com/1002
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/adapter.c: jtag: fix reset_config copy/paste error As the other arg checks do not OR, it is assumed this is a
	copy/paste error from the original code author.  Change-Id: I7dfc7396254a6f558887def951c57dfd4a0e6c2c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/997 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h,
	src/jtag/stlink/stlink_transport.c: stlink: enable connect under
	reset Currently if the target supports srst_nogate we wait until target
	assert_reset until we get a chance to assert the srst.  However
	sometimes we will not get this far if the target has already failed
	the initial scan.  This has been tested on stm32.  Change-Id: I2c4486942a011534d3e2044788563669bf457b60 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/972 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/core.c: jtag: enable connect under reset Currently if the target supports srst_nogate we wait until target
	assert_reset until we get a chance to assert the srst.  However
	sometimes we will not get this far if the target has already failed
	the jtag_examine_chain.  This has been tested on targets that support this behaviour (STM32
	and STR9).  Change-Id: Ibcf7584b137b472f31ba6ddd5cd99d848c5508d1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/971 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-26  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/jtag/adapter.c, src/jtag/jtag.h: jtag: add
	connect_type reset_config mode flag This adds the ability to request to the adapter how we want to
	connect to the target, eg. while srst is asserted or not.  This ability can very handy for connecting to unresponsive targets.
	A prerequisite is that the target supports srst_nogate.  Change-Id: I0f7c9475160048e8a963e16077754f5403ac8325 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/976 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-02  Evan Hunter <ehunter@broadcom.com>

	* src/target/cortex_a.c: cortex_a: Fix target entry state route.  If target is disabled at init, then is examined using 'arp_examine',
	it can get to cortex_a8_poll with the target state being unknown.  Change-Id: Ifffb345bf971d275d2eb1912648b29f0a75f6ccc Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/954 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-17  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/mips_m4k.c: mips_m4k: Added SMP debug support for mips
	architectures This change adds smp debug support for mips platforms. The change
	leverages the exiting gdb smp support as mentioned in the OpenOCD
	documentation for using gdb in smp environemnt. Added commands
	smp_on, smp_off, smp_gdb to control the smp mode. The implementation
	also provides a way to send Jc packet and toggle the gdb display
	core context as well.  Change-Id: I0835a5aed1844b6ebf8291582912f20695346003 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/937 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-17  Kamal Dasu <kdasu.kdev@gmail.com>

	* src/target/mips_ejtag.c: mips_ejtag: Adding EJTAG 4.x and 5.x as
	valid versions This is a minor change to log EJTAG version 4.x and 5.x as valid
	versions when debug log is enabled.  Change-Id: Ie20458d033c6d22842cb4a31b56765d4ba2ff123 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/936 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/replacements.c: helper: fix code formatting Change-Id: Ide2d704c9ef4f5563649d5db53bbdd3641868b70 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/995 Tested-by: jenkins

2012-11-30  Aymeric Vincent <vincent.aymeric@gmail.com>

	* src/helper/command.c: Make NetBSD a recognized system Change-Id: I7fcb540553da7833a8b6a82335a7296539a8f491 Signed-off-by:
	Aymeric Vincent <vincent.aymeric@gmail.com> Reviewed-on:
	http://openocd.zylin.com/998 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-11-19  Jason Moehlman <jmoehlma@linux-software.com>

	* src/target/arm_adi_v5.c: arm: Mis-aligned data issue fix.  Fixes issue with big endian hosts and mis-aligned data on some
	hosts.  Fixes unaligned access exception on hosts that do not
	support unaligned access when debugging some arm targets.  Signed-off-by: Jason Moehlman <jmoehlma@linux-software.com>
	Change-Id: I6bc6fb1b3c3565b256674b9ef43ed2afd14f5178 Reviewed-on:
	http://openocd.zylin.com/996 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: format src defines Change-Id: I7c3fd6e84681e007f1983ad9b8c85369cf9f3ba1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/978 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: add stm32f42x/stm32f43x support Other than a larger memory layout these new devices also have an
	extra MER1 bit to perform the mass erase.  Change-Id: I7110a05bac95c1707160d1f5622181664291eb4a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/985 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-11-11  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: patch mips32_pracc_exec_write() No function writes to MIPS32_PRACC_PARAM_IN addresses and probably
	has no much sense.  Any attempt to write to those addresses should
	be an error.  Change-Id: Iebea5fa9954e2cd56ad34976dd7d25009c6e6388 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/975 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: optimize mips32_pracc_read_regs()
	code Current code needs 101 pracc accesses for this function, this code
	needs 12 less.  There is a singularity in this code, is the only
	function that restore a register from param out instead from  pracc
	stack. Obviously the register was previously stored at param out.
	This save 2 pracc accesses.  Change-Id: Ie95b6f983a3198dafc0eab2dd5acc11f871a8d83 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/958 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: optimize
	mips32_pracc_write_regs() code.  All the the loads are done with lui and ori instructions, there is
	no need to save any register, they will be overwritten.  Like in the
	previous patch, for speed optimization in write code, same
	instructions can be saved if the lower half word or the upper half
	word is 0.  If the lower half word is 0, it can be loaded with only
	a lui instruction.  If the higher half word is 0 it can be done with
	an ori instruction with register 0.  This code saves 10 pracc
	accesses at a minimum, and 40 at a maximum, obviously if register 2
	to 31 are 0 or a half word is 0 Current code needs 91 pracc
	accesses.  Change-Id: I892c5b440191d0c7a474c96845d41c373b7fc637 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/957 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-11-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: optimize write code for speed All the writes are done by the new function
	mips32_pracc_write_mem_generic().  The code is similar to the read
	generic code.  The reuse of register 15 as memory base address saves
	3 pracc accesses.  The first write takes 13(12) pracc accesses and
	for additional writes 3(2).  Loading miniprograms should take 25%
	less time and loading fastdata transfer handler code should be over
	2x faster.  Change-Id: Ia3b24ba084af33be99da19f00a7fd4d1b291f350 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/956 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: optimize read code for speed Really nothing new that not explained in previous patches.  The code
	is expanded as needed, there are no loops in pracc code.  For the
	first value pracc accesses are reduced from 39 to 16 and for
	aditional values from 10 to 3.  dump_image should work around 3x
	faster.  Change-Id: I37c9b13395c09eb52a91f10cdb6cbaedef8ab98b Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/955 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: mips: optimize mips32_pracc_read_u32()
	function This function is highly optimized, there is not much to improve.
	Loading the base address for pracc access with the new defined
	MIPS32_PRACC_BASE_ADDR saves one instruction.  The memory address is
	loaded in too steps. First the upper address is loaded. The lower
	address is passed as an offset in the memory load instruction.  The
	offset is signed, if the lower address is in the range of 0x8000 to
	0xffff the offset is a negative value, and the upper address must be
	incremented by 1.  Pracc accesses are now 12 instead of 14.  Change-Id: I286945b240ed5c5d5cc540780a41a8a5fa075da3 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/952 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h: mips:
	optimize CP0 read/write code MIPS32_PRACC_BASE_ADDR is defined as 0xFF200000. Now is possible to
	load the base address with a lui instruction and only one pracc
	access.  Offsets to the pracc code addresses are defined to simplify
	the code and probably make it a bit more readable or self-explained.  Change-Id: I853dd2d7fad52745931cc6e6be68c0ae156d897e Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/951 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: mips: code clean up in mips_m4k_debug_entry()
	function The function mips_ejtag_read_debug() is defined in mips_ejtag.c and
	is called only by mips_m4k_debug_entry() for reading the CP0 debug
	register. The comment in this function is obviously wrong.  There is
	a generic function to read CP0 registers with similar code.  A call
	to mips32_cp0_read() should work in the same way.  The purpose of
	reading the debug register is to test if the DSS bit is set and
	clear the SSt bit.  It is faster and easier if the SSt bit is
	cleared without any check.  Remark: DSS bit set only means that a
	debug single-step exception ocurred, but it is not possible to step
	over a sdbbp instruction, in this case DSS will not be set and the
	SSt bit not cleared by code.  Resume command at another address will
	step, so really the behavior is not the same.  Change-Id: Ibd35f80e0f7669976d96f4ed813830cecf587971 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/950 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-30  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32.h, src/target/mips_ejtag.c: mips: optimize
	mips_ejtag_step_disable() code The code is a bit large compared to mips_ejtag_step_enable().  With
	the mips32 xori instruction the code can be reused.  The number of
	pracc accesses are reduced from 18 to 7.  Change-Id: If3974ebd64da4461c22b089796646990e68e1b72 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/944 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* tcl/target/pic32mx.cfg: Pic32mx.cfg: Change system clock to 8Mhz
	after reset-init.  As for openocd 0.6.0-rc2 the function mips32_pracc_fastdata_xfer()
	should now work at a scan frequency up to 1200Khz.  Mainly usefull
	to increase programming speed.  Also verify_image should be slightly faster.  Change-Id: I1e9b2be73690a4597e2f6ba069c1205026850f07 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/805 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING: doc: update to new sourceforge git url The new sourceforge platform also supports http access, so use that
	rather then repo.or.cz.  Change-Id: Ica89d9475847a2095c179b240053145795549802 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/982 Tested-by: jenkins

2012-11-09  Freddie Chopin <freddie.chopin@gmail.com>

	* src/jtag/drivers/mpsse.c: Revert "mpsse: Always perform a general
	reset of the MPSSE in mpsse_open()" This reverts commit 452248af1d06cb1140b85f53ef4fdee1c746d807. This
	change breaks all non-high speed adapters. The patch was not tested
	and did not get any review.  Change-Id: Ib38fd242a202fd7c5a8711d9f857cd8f586df44e Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/973 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-10  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/ChibiOS.c: rtos: Fix error in reading the current thread
	in ChibiOS/RT Commit c4ab127b4069e20e introduces a copy&paste error which affects
	the detection of the current thread.  As a result, the stack of the current thread won't be detected
	correctly in most cases.  Change-Id: Ib46b8f64be8053d7e9103f427c66796963214419 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/974 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: add async algorithm timeout An issue was observed when using an async algorithm with a target
	that had not been previously reset beforehand. The target would
	enter a infinite loop within target_run_flash_async_algorithm.  Add a timeout that will at least prevent this issue from happening.
	and also suggest the user resets the target.  Change-Id: I5277e0d64e252d3d353e8d5bc9889a37fdc63060 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/949 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-10-22  Karl Kurbjun <kkurbjun@gmail.com>

	* src/target/armv4_5.c: ARM v4/v5 target files: mrc and mcr help
	information is incorrect.  The order of the mrc/mcr command matches the ARM Architecture
	Reference Manual.  This patch corrects the help information for
	mrc/mcr.  Change-Id: I1f0e6a628a3644124591a6aa291b8a58cfd93b44 Signed-off-by:
	Karl Kurbjun <kkurbjun@gmail.com> Reviewed-on:
	http://openocd.zylin.com/914 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-06  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex: autostep correctly handle user
	breakpoint If we halt due to a breakpoint make sure that we do not remove it
	during a step, only remove breakpoints we have created.  Change-Id: I060168e54e53637d4fbf3cbcf62072efdb353807 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/947 Tested-by: jenkins

2012-10-08  Peter Horn <peter.horn@bluewin.ch>

	* src/target/cortex_m.c: cortex_m: Fix single stepping will not
	return to debug mode sometimes This occurs when stepping past a breakpoint on a even address with
	maskisr option set to auto With -d3 the following log message appears in this case: "Debug : Interrupt handlers didn't complete within time,  leaving target running" Cause : Given a breakpoint is set on the lower half word and the PC
	is on the upper half word. When another breakpoint is now set on the
	current PC then resuming the core will not result in a break on the
	newly set breakpoint. This has been observed on a STM32F1x, STM32F2x
	(CM3) but not on a STM32F0x (CM0). It's not clear if this is a
	STM32F1/F2 only or a general CM3 problem.  Change-Id: I384813f3bfdf935373b5e23cdb2d7f243c70cc00 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/864 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-25  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* tcl/target/lpc1850.cfg: Added support for NXP LPC1850
	Microcontroller Added a new configuration file for LPC18xx based boards, such as
	HitexLPC1850RevA Evaluation Board, and all other based on the same
	microcontroller by NXP.  Change-Id: I68c3827be535b6d09a5c70b6d57191937d00354d Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/930 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-25  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* tcl/board/lpc1850_spifi_generic.cfg: Generic LPC1850 board w/
	SPIFI flash.  This config file is intended as an example of how to use the
	lpcspifi flash driver, but it should be functional for most LPC1850
	boards utilizing SPIFI flash.  Change-Id: I855854282336701fd210134497ce014017f3aaec Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/929 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-06  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* src/flash/nor/spi.c: Added support for SPI Flash Winbond W25Q64CV Added in spi device table SPI Flash Winbond W25Q64CV 64Mbit Its
	Device ID 0x001740ef is the same as Spansion S25FL064K (may be a
	clone?) Change-Id: I3cdbd182a0ccde75c78684cb9d54c76059bf34e0 Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/928 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.h: cortex_m: fix define formatting Change-Id: Ibdec882b2afc7e16f2361f86715463e030a54964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/963 Tested-by: jenkins

2012-11-05  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/ChibiOS.c: rtos: Make ChibiOS code aware of endiness The ChibiOS code was derived from other RTOS support code which does
	not honor the target vs. host endiness.  The other RTOS code still needs to be fixed.  Change-Id: Idf42cfaa30945289bf1756ad6491fff84913eda9 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/962 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/ChibiOS.c, src/target/cortex_m.h: rtos: Add FPU detection
	to ChibiOS/RT The stacking of ChibiOS/RT depends on the usage of an FPU. If the
	FPU is enabled the FPU registers are also saved on context switch.  This patch adds automatic detection of FPU for armv7m targets.  Note: With this patch, openocd will only output an error message       warning that the FPU is enabled.        For further FPU support, the correct stacking information       also needs to be added.  Change-Id: I0984cbd9180f247ba2fa610e74a6413cc54239ea Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/961 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-04  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/ChibiOS.c: rtos: Fix wrong ReadyList lookup in ChibiOS We already have the address of the ReadyList provided by gdb.  It is
	wrong to resolve that address a second time and it only works by
	accident.  Change-Id: I82fa2360931c416290cd7f83e1883f86f90dedc2 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/959 Reviewed-by: Joel Bodenmann
	<joel@unormal.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-09-19  Sergey Borshch <sb-sf@users.sourceforge.net>

	* src/server/server.c: fix memory leaks if add_connection() fails, memory allocated in
	copy_command_context() is lost.  Signed-off-by: Sergey Borshch <sb-sf@users.sourceforge.net>
	Change-Id: I91a2757f29612038031eb8953100faa3b850d3a6 Reviewed-on:
	http://openocd.zylin.com/836 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* src/target/cortex_m.c: Ensure Cortex-M reset wakes device from
	sleep (wfi/wfe) Change-Id: Idb52ca3123bb3e2f7863ba1b82ac9b176d7cb094 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/833 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-28  Peter Stuge <peter@stuge.se>

	* src/jtag/drivers/mpsse.c: mpsse: Always perform a general reset of
	the MPSSE in mpsse_open() Per AN_135 FTDI MPSSE Basics Version 1.1, section 4.2 step 7.

	http://www.ftdichip.com/Support/Documents/AppNotes/AN_135_MPSSE_Basics.pdfThis allows to stop and restart OpenOCD reliably, without needing to
	power cycle the interface.  Change-Id: Ibeafe5ecfe7b2f6f82712cbc85116904407ddb36 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/939 Tested-by: jenkins

2012-10-28  Peter Stuge <peter@stuge.se>

	* tcl/interface/ftdi/flyswatter2.cfg: ftdi/flyswatter2.cfg: Define
	the LED signal Change-Id: Ic5d85c0d855bcffba54de7df6cff4d726656af97 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/940 Tested-by: jenkins

2012-10-28  Peter Stuge <peter@stuge.se>

	* tcl/interface/ftdi/flyswatter2.cfg: ftdi/flyswatter2.cfg: Fix the
	signal layout Change-Id: If6612af25fa3562f49e9c8ccff01b6ef0af5ceb0 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/938 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: update stm32 flash driver
	versions Seems ST have changed the ref manual (RM0313 rev1) and reverted to
	using letters rather than numbers for the stm32f3x family.  Change-Id: I3a87ec9b0b2447d57dfef98603d30e28fe9ac927 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/926 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/rtos.c: gdb: fix broken qCRC packet handling The rtos layer was incorrectly handling a qCRC packet as a qC
	packet.  Make sure we check for the qCRC packet and return unhandled
	so the gdb server gets a chance to handle it.  This packet is used in the gdb compare-sections cmd.  Change-Id: I21f8e5fa7225fccd13d65cf9e40186895065a7e3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/933 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/linux.c, src/rtos/rtos.c, src/server/gdb_server.c,
	src/target/smp.c: gdb: use strncmp rather than strstr All the packets received will be at start of the packet buffer, so
	use more efficient strncmp.  Change-Id: Ib9c45d8f53425367006b1f880c1bde27f03a6cf9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/932 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-18  Edgar Grimberg <edgar.grimberg@gmail.com>

	* src/helper/ioutil.c: ioutil: make the file compile on MacOS The meminfo command cannot exist if the malloc.h header is not
	present.  Cannot get the mac address without sys/ioctl.h and
	SIOCGIFHWADDR defined Change-Id: Ifc0fb98c3a60c53ad2e19473e08b34c460529d0b Signed-off-by:
	Edgar Grimberg <edgar.grimberg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/912 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/adi_v5_jtag.c: adi_v5_jtag.c: Avoid infinite recursion
	in jtagdp_transaction_endcheck() Change-Id: I81163d9c2ff97ed768f8a3ac1505a8d2b5016b91 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/908 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-10-23  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/rtos.c: rtos: fix gdb qC command answer rtos->current_thread is of type int64_t. All other commands already
	respect this.  Change-Id: I9951946ff2a09c53cd78c6ab882c80cdd2ab7ac6 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/917 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-27  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/ChibiOS.c, src/rtos/FreeRTOS.c, src/rtos/ThreadX.c,
	src/rtos/eCos.c: rtos: Use ARRAY_SIZE instead of coding it by hand Use ARRAY_SIZE in helper/types.h to determine the size of the symbol
	list.  Change-Id: Icc9838323510f8602efa5d0162a4daed33f863b9 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/935 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-27  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/linux.c: rtos: Fix wrong allocation in
	linux_get_symbol_list_to_lookup linux_get_symbol_list_to_lookup allocates to few memory. On 64 bit
	systems the error did not show due to char* being twice its size,
	leaving accidentally enough space.  This patch makes linux_get_symbol_list_to_lookup behave identical to
	all other RTOS.  Change-Id: I290ea241fb20b65585c8be14609a92fdbd2a307d Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/934 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: Revert "gdb_server : 'R' command replied
	by OK" This reverts commit 1e7e59445287c3389b52903a7cacdb5635248f32.  For some reason the above commit added a reply to the restart
	command - this is not required as per the gdb docs.  Newer versions of gdb (7.0 and above) will complain about this
	reply.  Change-Id: Ieeae3dcf44d798a91dfc6f7348da982c2ce1be31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/910 Tested-by: jenkins Reviewed-by: Joel
	Bodenmann <joel@unormal.org>

2012-10-18  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: mention extended-remote support Change-Id: Idd7cc0364856082cbbfee5015e49cd7d237d68ef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/913 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: fix vector catch not being
	cleared Seems after a reset the stlink is not clearing the vector catch
	(VC_CORERESET) in the Debug Control Register.  This has the side effect if the user presses an external reset the
	core will halt, this patch fixes that.  Change-Id: Ic3b2c3991b79cacbbd901c02b79613c2e204e71f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/905 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb: fix extended-remote restart Seems versions of gdb > 6.8 require an W stop reply after receiving
	a kill packet.  Without this we receive the following error from gdb:
	gdb/thread.c:72: internal-error: inferior_thread: Assertion `tp'
	failed.  Change-Id: I86765a321f0429c9b517fe13ded0ee2dbd4b2f87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/911 Tested-by: jenkins Reviewed-by: Joel
	Bodenmann <joel@unormal.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/at91sam3.c, src/flash/nor/at91sam4.c: flash: fix
	at91sam3/4 driver typos Change-Id: I06efdfcc48279b06035e9e173945304310054864 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/896 Tested-by: jenkins Reviewed-by: Olivier
	Schonken <olivier.schonken@gmail.com>

2012-10-06  Freddie Chopin <freddie.chopin@gmail.com>

	* src/flash/nor/lpc2000.c: Fix serious bug in LPC2xxx/LPC17xx flash
	algorithm.  Flash algorithm for LPC17xx/LPC2xxx was trying to "reuse" previously
	allocated working area on next flashing which is not possible -
	working areas are freed automatically on reset. This caused all but
	first flashing attempts to fail. As there is no point in storing
	pointer to working area, it was converted to local variable.  Change-Id: I939946325ff9eecc4861c0f51ab0f73871a3d7b9 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/860 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-05  Freddie Chopin <freddie.chopin@gmail.com>

	* src/flash/nor/lpc2000.c: Cleanup lpc2000.c Do some cleanup in lpc2000.c - concatenate short lines into single
	longer lines, move variable declarations to "just before" they are
	used, etc.  Change-Id: Ia7b9f0307dd4857ee8e15c8a6d4d7b5c4392fd80 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/861 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-05  Matthias Blaicher <matthias@blaicher.com>

	* doc/openocd.texi, src/rtos/ChibiOS.c, src/rtos/Makefile.am,
	src/rtos/rtos.c, src/rtos/rtos_chibios_stackings.c,
	src/rtos/rtos_chibios_stackings.h: rtos: Add ChibiOS/RT support This patch adds ChibiOS/RT support. This patch requires at least
	ChibiOS/RT development version starting from SVN revision 4734.  Note, that the Thread structures depend not only on the target but
	also on the ChibiOS configuration at build time.  To correct this
	ChibiOS includes a new "memory signature" which specifies the
	offsets.  Special thanks go to Peter Stuge and Spencer Oliver for their
	continous input and feedback to this patch.  Change-Id: I842bf7ba6c2309a4efe93d29ea6cd0784a8b22a3 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/901 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/cfi.c: cfi: remove typos and code cleanup No change to code, just fix some formatting issues.  Change-Id: I177430a99bfecbf90a1ddf623321c29d4db516b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/906 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: update stellaris flash data to
	latest dev package 9453 Change-Id: I16107a093d4ed7342583f5c32ad16aa98f81d122 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/856 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-09  Matthias Blaicher <matthias@blaicher.com>

	* src/rtos/rtos.c: rtos: Don't crash on qSymbol GDB packet when no
	RTOS is configured Commit 43902905bbc8fdc9d764f3843d697161d9b5fd92 fixed a bug but also
	introduced a regression. The RTOS GDB packet handler is always
	called, not only when an RTOS is actually configured, so it is
	important to check if an RTOS has been configured or not before
	actually processing the qSymbol packet.  Change-Id: I1aed54f6c2817e1ebf99ddcda051df4554ea5a3a Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/907 Tested-by: jenkins

2012-05-17  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/FreeRTOS.c: rtos: support FreeRTOS over stlink Since stlink is a special case it presents the same CPU core under a
	different name, so copy the configuration to account for that.  Change-Id: I9febf79b388301bde6211d185b5b8161cdadb9ff Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/652 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-08  Peter Horn <peter.horn@bluewin.ch>

	* src/jtag/drivers/rlink.c: rlink: Fix DTC command timeout With the current timeout setting i = 10 in drtc_run_timeout() I get
	"Error: too many retries waiting for DTC status" when loading a
	program into the FLASH of an STM32F1.  By experimentation a value of i = 22 was found to be the minimum on
	my system. Therefore the value has been increased to i = 50.  Change-Id: Ib67fc648ccaad305871b81c2c39e49de53c330a0 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/863 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c: dsp5680xx_flash: Remove unused
	flash bank structure Change-Id: I947b6730b3741a71303e440daefa4fcf583cb9cf Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/867 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: Increase options erase timeout The erase time for the option byte page is not directly specified
	but is assumed to be the same as the other pages (or mass erase)
	which is 20 to 40 ms. The current timeout value is 10 which means 10
	ms plus the time to poll the status flag that many times.  With faster interfaces or drivers (such as when using the ftdi
	driver instead of the ft2232 driver) the adapter delay is not enough
	in some cases, unless the jtag freq is reduced as a workaround. The
	result is a "timed out waiting for flash" error when trying to write
	the options.  Increase the timeout to a minimum of 100 ms, which is in line with
	the other erase timeouts. Also make defines of both the erase and
	the program timeouts.  Change-Id: Ia86e71505033c52b60ef30092000689fbb547a18 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/902 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stellaris.c: flash/nor/stellaris: Remove unnecessary
	write_algorithm check The pointer must be non-null here since we returned if allocation
	failed.  Change-Id: I9b75099ed3b3870c815d1df5760ed1f3fe1d20d6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/866 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/aduc702x.c, src/flash/nor/cfi.c,
	src/flash/nor/cfi.h, src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stm32f1x.c,
	src/flash/nor/stm32f2x.c, src/flash/nor/stm32lx.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c: flash/nor: make all
	working area pointers local Working area pointers shouldn't be re-used, so there's no point in
	storing them in the flash bank struct. Make all such pointers local.  Change-Id: Iab65b4e8b475fed7fc72fb8928f54590fa69d260 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/865 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* README: readme: update missing configure args Change-Id: I495a4557f161290f8f99788de27958f7dc08d6f6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/900 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c, src/target/target.h: Revert "target: remove
	unused working area 'user' field" This reverts commit 63a23e6fc862b94f00e0833ab474bd02901a019f Change-Id: I62778fb3b1dabc6470d582bea9ca64d593999233 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Change-Id:
	Iaf5a2cf5bdc4a62ba68ad9403e1c1229112970de Reviewed-on:
	http://openocd.zylin.com/899 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-04  Peter Stuge <peter@stuge.se>

	* src/rtos/linux.c, src/rtos/rtos.c: rtos: Rewrite rtos_qsymbol()
	and fix auto-detect false positive Matthias Blaicher submitted a patch at
	http://openocd.zylin.com/#/c/891/ to fix the false positive; when no
	RTOS was detected OpenOCD used the last RTOS in the list.  While reviewing the code affected by Matthias' patch a rewrite
	seemed appropriate, to make the code readable.  Matthias has abandoned his change and this change also fixes the
	false positive.  Change-Id: Ic3327ccd036da52ba0a7e21ef93018205e74149c Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/895 Reviewed-by: Matthias Blaicher
	<matthias@blaicher.com> Tested-by: jenkins

2012-10-04  Peter Stuge <peter@stuge.se>

	* src/rtos/rtos.c: rtos: Rewrite rtos_try_next() for readability The new code is almost functionally equivalent to the old.  The function now returns 0 instead of -1 if target->rtos has not yet
	been allocated. All call sites only test for success, and in
	practise that is also the only thing that matters; if the function
	successfully iterated to the next RTOS or not.  Other than that the only difference is that the code is now
	readable.  Many thanks to Matthias Blaicher for the fix to the iteration error! Change-Id: I3342826f653b5e46c99ad1f58eec26ff10795c33 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/894 Reviewed-by: Matthias Blaicher
	<matthias@blaicher.com> Tested-by: jenkins

2012-10-04  Peter Stuge <peter@stuge.se>

	* src/rtos/rtos.c: rtos: Rewrite rtos_create() for readability The new code is almost functionally equivalent to the old; besides
	error handling the only difference is that the code is now readable.  Many thanks to Matthias Blaicher for pointing out an iteration error
	in the rtos_try_next() change, which also affected this change.  Change-Id: If38b87439e9de2303b220b3a7e3200ceaa8391da Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/893 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com>

2012-09-12  Olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam4.c: Modified Sector Erase for AT91SAM4S In FLASHD_ErasePages AT91C_EFC_FCMD_EPA is used to erase sectors.
	According to the datasheet FARG[15:2] defines the page from which
	the erase will start.This page must be modulo 4, 8, 16 or 32
	according to the number of pages to erase. FARG[1:0] defines the
	number of pages to be erased. Previously (firstpage << 2) was used
	to conform to this, seems it should not be shifted... Changed it to
	(firstPage) | erasePages.  Change-Id: I791cc7fc4faf056623ad5a6c7e860315306098a1 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/830 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac, src/jtag/drivers/ftd2xx_common.h: build: fix broken
	ftd2xx bus blaster If configure is executed without --enable-ft2232_ftd2xx then the bus
	blaster or presto will fail to build with unresolved external
	ftd2xx_status_string.  Make sure we run the ftd2xx build test if
	--enable-usb_blaster_ftd2xx is enabled.  Change-Id: I09d270d6fcd083d77f6785b8969d9acb3dfef11d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/892 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/hitex_lpc1768stick.cfg: lpc1768-stick: avoid
	driving srst high at startup this avoid driving nSRST high after startup, by making sure the nOE
	is initialized inactive/high.  This also matches the config used for the STM32-PerformanceStick.  Change-Id: I9376de575b7dc834310d57dbd58575d51f60183e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/878 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/cortino.cfg: cfg: cortino tested and working Change-Id: I13534742c76ebbb05b47bf98768c997068da747a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/851 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/cortino.cfg: cfg: fix incorrect cortino reset
	config The cortino uses a direct srst connection rather than via any
	buffer.  As a result this fixes issues with the newer ftdi driver.  Change-Id: I28f6781bccae24de79aa6a03161f298a14fe2581 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/850 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/luminary.cfg: cfg: ftdi icdi enable srst open
	drain config Change-Id: I21a115121f167dc88cd9bf2d1ca1ac9f3e1110d7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/848 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s3748.cfg,
	tcl/board/ek-lm3s6965.cfg, tcl/board/ek-lm3s811-revb.cfg,
	tcl/board/ek-lm3s811.cfg, tcl/board/ek-lm3s9b9x.cfg: cfg: update
	ti/stellaris url's Change-Id: I96f17c5ea2be506a6b88434616ca52c3e392868a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/879 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/luminary-lm3s811.cfg: cfg: lm3s811ek config
	tested and working Change-Id: I5402b5521d6e1ef0a569f5cad02c003681f5444b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/847 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/stm32-stick.cfg: cfg: fix incorrect
	stm32-performance stick config This hardware uses a output enable buffer that was not correctly
	defined.  Fixes issues when using the new ftdi driver.  Change-Id: Iba6235a71a6d3c7d16ab729f858b336a4574dfea Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/844 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/stm32-stick.cfg: cfg: stm32-performance stick
	config tested and working Change-Id: I9852d11e369e501af240a2b8e9f74306aee4e4a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/845 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdbserver: code cleanup Change-Id: Iab2966be8dd145f33f41902e2d55afe03d0f5856 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/857 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* Doxyfile.in: docs: enable local structs in doxygen output Change-Id: I9c811d49690524f1ce5372326de67ec4ac7b09f4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/858 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/command.h: build: remove unnecessary jim.h include as well as not being required, as it is already included by
	jim-nvp.h.  It also makes the doxygen output a bit clearer to read.  Change-Id: Ia2bed7142b4a56b48b1ecf0734e63f860dcd1014 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/859 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm3s9d92.cfg: cfg: add ti ek-lm3s9d92 config Change-Id: Ib09ca3e57de363a24d704b184ba8546bad08f56f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/853 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm3s8962.cfg: cfg: add ti ek-lm3s8962 config Change-Id: I753cec80a904130088b00b3f81b6dd61808662d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/852 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/sysfsgpio.c: sysfsgpio: remove ignoring return
	value build warning fixes following gcc warning: error: ignoring return value of write,
	declared with attribute warn_unused_result Change-Id: I96ea6649078449208a77690caea2cb237c388e6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/854 Tested-by: jenkins Reviewed-by: Marc
	Reilly <marc@cpdesign.com.au> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/hitex_str9-comstick.cfg: cfg: str9-comstick
	tested and working Change-Id: Ia6c45477381e78cb9508b4731438161e18be1f38 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/843 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32f3discovery.cfg: cfg: add STM32F3-DISCOVERY board
	support Change-Id: I4a02e0504fc04ffc1238d9bb77ec05c1f781e7e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/810 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: add stm32f3 rev 2 flash support Change-Id: Ibab5112f5f70a609136d01ebc50530a334640d03 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/809 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/ftdi/hitex_str9-comstick.cfg: cfg: fix incorrect
	str9-comstick reset config The str9-comstick uses a direct srst connection rather than via any
	buffer.  As a result this fixes issues with the newer ftdi driver.  Change-Id: I0968e8459997a6a2b7bf0c46e89662cd57b4f496 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/842 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ftdi.c: ftdi: incorrectly using output register
	for direction fix a simple copy/paste bug.  Change-Id: I5caaa4d16d30f26a453bd6a00c95261fd6e716c5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/849 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-09-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ftdi.c: ftdi: correct ftdi_initialize error text Change-Id: If230c0b5b3a18fd273106b743404079d0cbc9ddc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/840 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ftdi.c: ftdi: fix adapter_init rclk fallback adapter_init expects jtag_get_speed (via ftdi_khz) to return a valid
	fallback speed if the adapter does not support rclk. The call was
	failing and so was the rest of the adapter init.  The makes the new ftdi driver emulate the old ftdi driver.  Change-Id: Ic7fac7d201241eb181e98f1ba7111f159731f6e0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/839 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32f3x_stlink.cfg: cfg: fix incorrect stm32f3 TAPID Change-Id: Id66d4e03a77c47a49086ee753bed01b3944064e1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/855 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-29  Peter Horn <peter.horn@bluewin.ch>

	* src/jtag/drivers/rlink.c: Fix: Error while reading from USB
	endpoint This patch fixes the bug reported here: http://sourceforge.net/mailarchive/message.php?msg_id=28350157 When using Rlink under Linux, openocd exits with: "Error: Read of endpoint 2 returned -75, expected 17" The return value of -75 translates into EOVERFLOW. The cause is a
	wrong output buffer size argument passed to dtc_run_download().  Change-Id: I5d056705181ab6a6d4355524df06a0ea9c605961 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/862 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-08-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ft2232.c: jtag: remove libftdi enum-compare
	warning See Trac #52 for details.  Change-Id: Idb509ead2b51bfcceeb00d0224a4d1c395b28a04 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/801 Tested-by: jenkins Reviewed-by: Olivier
	Schonken <olivier.schonken@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-09-25  Evan Hunter <ehunter@broadcom.com>

	* src/target/arm_adi_v5.c: Add extra Coresight component ROM
	identifiers for the Cortex-M4 Signed-off-by: Evan Hunter <ehunter@broadcom.com> Change-Id:
	Iaf2d69cf10c341d3a516986677f69a4389b29b1a Reviewed-on:
	http://openocd.zylin.com/841 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-08-16  George Harris <george@luminairecoffee.com>

	* contrib/loaders/flash/lpcspifi_erase.S,
	contrib/loaders/flash/lpcspifi_init.S,
	contrib/loaders/flash/lpcspifi_write.S, doc/openocd.texi,
	src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/lpcspifi.c, tcl/board/lpc4350_spifi_generic.cfg: Added
	SPIFI flash driver, algorithms, and docs Added a flash driver designed to allow program/erase of
	memory-mapped SPI flash chips for LPC43xx/LPC18xx family micros.
	This driver includes three algorithms - erase, write, and SPIFI
	peripheral initialization (to allow memory-mapped access after a
	reset). The driver has been added to the flash driver table
	(drivers.c), and the OpenOCD documentation has been updated to
	include the flash driver configuration command.  Change-Id: I79f4ff8f1f07de4e5f2fe4f8c23aeb903f868514 Signed-off-by:
	George Harris <george@luminairecoffee.com> Reviewed-on:
	http://openocd.zylin.com/783 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-16  George Harris <george@luminairecoffee.com>

	* src/flash/nor/Makefile.am, src/flash/nor/spi.c,
	src/flash/nor/spi.h, src/flash/nor/stmsmi.c: SPI nor drivers
	refactor Moved common SPI flash driver code (device table, common commands)
	into flash/nor/spi.c and spi.h.  Updated flash/nor/stmsmi.c to
	reflect this refactor.  Change-Id: I141644b0af71d3835f29f06dd15b505a00e5b6ec Signed-off-by:
	George Harris <george@luminairecoffee.com> Reviewed-on:
	http://openocd.zylin.com/782 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-20  Marc Reilly <marc@cpdesign.com.au>

	* configure.ac, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/sysfsgpio.c, src/jtag/interfaces.c,
	tcl/interface/sysfsgpio-raspberrypi.cfg: drivers: new jtag bitbang
	driver using sysfs gpio This driver implements a bitbang jtag interface using gpio lines
	exported via sysfs.  The aim of this driver implementation is to use system GPIOs but to
	avoid the need for an additional kernel driver.  A config suitable for RaspberryPi is included.  Change-Id: Ib2acf720247a219768d1cbfeebd88057ed2d7b8b Signed-off-by:
	Marc Reilly <marc@cpdesign.com.au> Reviewed-on:
	http://openocd.zylin.com/762 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-07  Freddie Chopin <freddie.chopin@gmail.com>

	* NEWS, NEWS-0.6.0, configure.ac: Restore -dev suffix, archive NEWS
	file, add new blank NEWS file - start new cycle for version 0.7.0.  Change-Id: I549bd815b62292ea4da6ed5c445c7c8a55521d9d Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-09-07  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.6.0 release.  Change-Id: I72eeabfc704d2a979ac0b4492771690631d2300f Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-09-06  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: stlink: issue error for stm32 option
	writing The stlink interface currently does not support 16bit read/writes.
	Until a fix is included we issue a error that this is unsupported.  Change-Id: I4552cf2bd3b29e90ecc905325b743c08e2b92d67 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/808 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-02  Chuen Chou <zhouquan27@gmail.com>

	* src/flash/nor/at91sam3.c: flash: fix sam3 page read/write address
	computation error In at91sam3.c for Atmel SAM3 flash support, there are arithmetic
	errors in the functions sam3_page_read() and sam3_page_write().
	Address locations are computed incorrectly due to an extra addition
	operation. This leads to memory locations being skipped during flash
	writes and reads.  Smaller programs are written successfully into flash, with memory
	gaps, while larger programs of legitimate size fail because the
	skipped memory is not utilized and therefore unavailable.  The changes address this condition, and have been tested with an
	Atmel SAM3X-EK evaluation board.  Change-Id: I9ea3b9ed0130b71cbc32b2294e31a6a2bc71b47a Signed-off-by:
	Chuen Chou <zhouquan27@gmail.com> Reviewed-on:
	http://openocd.zylin.com/806 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-30  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: configure: use consistent help text Change-Id: I5e1d7c88e9310e6415f3663d7a657f516bd24660 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/803 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add user mailing list and irc info Change-Id: I7000b5ab2967f8dc4cea8983978fce824ea1f98e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/807 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex_m: suggest using hardware srst if
	VECTRESET used If the target does not support SYSRESETREQ we fall back to using
	VECTRESET.  This however does not reset the peripherals and we issue
	a warning to the user to suggest using a reset-init script.  Also suggest that using hardware srst will give them the same
	functionality as using SYSRESETREQ.  Change-Id: Ie1781c4b849fed66c52222e6539735537c879fb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/802 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-29  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: Restore -dev tag.  Signed-off-by: Freddie Chopin <freddie.chopin@gmail.com>

2012-08-29  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.6.0-rc2 release candidate.  Signed-off-by: Freddie Chopin <freddie.chopin@gmail.com>

2012-08-25  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/flash/nor/pic32mx.c: Pic32mx: make row programming work with
	any offset In function pic32mx_write_block() if the parameter offset is not a
	multiple of row size the row offset (offset % row_size) will be
	ignored by the flash controller, shifting the code to the beginning
	of the row.  Word programming gets it right.  Change-Id: I134913e3d533688f791bbcb0c6e8983524197f3c Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/796 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-21  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/server.c: server: warn if user changes server port
	after init So the user can view the current port number these cmds were changed
	to COMMAND_ANY.  However this means that the user can also attempt
	to change the port number after init, even though this is not
	supported. Issue a warning that this is not supported.  Change-Id: I3d20dcd81277e7d994240a8e314f27672ff760c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/788 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: fix typo Change-Id: I5fe7b695b00faef966e7621614bbd60b6e694a4f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/800 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: improve swd hardware reset Treat SWD wait result as success, otherwise hardware reset will
	sometimes fail.  Change-Id: I0dbdbe9e75924fe0dde547a72883c60c3db7b15e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/799 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/ftdi.c: ftdi: fix overflow if last field of a
	scan is empty The last bit of a scan is clocked during TAP movement so it's
	necessary for the last field to have at least one bit. Strip
	trailing empty fields and make sure the TAP is not affected if
	there's nothing to scan. Clients probably shouldn't add empty fields
	so add a debug message to be able to track and fix them.  Change-Id: I27552568bc11146570b9b99ed8a1ae81b5fb2c50 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/794 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/mpsse.c: mpsse: check available buffer space even
	for discarded data scans When there's no data to scan in or out, we still use the clock data
	out command and fill the buffer with zeroes, so make sure the buffer
	is checked for available space.  Change-Id: Ia6005c40c81f7fdb89379f1b5023fe383184d210 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/793 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/adapter.c: adapter: remove superfluous line breaks Change-Id: I8e68b9d6f571ef7715a2f4cad0aa78fe4e3b48e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/798 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/adapter.c: adapter: add 'adapter speed:' prefix to output Currently only the adapter speed is printed, which can be rather
	misleading when DEBUG_INFO is disabled, all the user sees is 6000
	kHz instead lets print adapter speed: 6000 kHz Change-Id: I8f02a63f47344457e3c3d0a6774157fa18206440 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/797 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-17  Freddie Chopin <freddie.chopin@gmail.com>

	* NEWS: Update NEWS Added some missing items to NEWS file prior to final 0.6.0 release.  Change-Id: I69255c85fa8f4b6f06eae7c56f78072e3ec2d6f8 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/784 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-08-20  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/interface/ftdi/jtag-lock-pick_tiny_2.cfg,
	tcl/interface/jtag-lock-pick_tiny_2.cfg: Add JTAG-lock-pick Tiny 2
	config files DISTORTEC's JTAG-lock-pick Tiny 2 is a new interface using FT232HL
	chip and layout similar to KT-LINK.  Change-Id: I2831b169cd448ca70397f2dd86c5b749dda3dabf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/787 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-08-17  Freddie Chopin <freddie.chopin@gmail.com>

	* src/helper/options.c: Add another scripts search path for Windows
	builds Add single "scripts" folder to search path for Windows OpenOCD
	builds that don't use cygwin bin/openocd.exe
	scripts/interface/dummy.cfg scripts/target/at91eb40a.cfg Do some refactoring of current code (thx to Andreas).  Change-Id: Idbb08d1368b06f25da44f4f9ab1511db992b1724 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/785 Tested-by: jenkins

2012-07-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/kinetis.c: kinetis: bugfix in kinetis_write()
	fallback path Offset calculation into buffer was wrong and code would read outside
	buffer if count was not a multiple of four.  Change-Id: Ied625b10221423d5a5f25d27ce1edd8c2c3eca8a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/749 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-07-07  Christopher Kilgour <techie@whiterocker.com>

	* src/flash/nor/kinetis.c: kinetis: ensure flash writes are not
	truncated The number if longwords or "sections" (Freescale term) written for a
	Kinetis flash write (4, 8, or 16 bytes depending on the part
	density/granularity) are now rounded up to ensure there are no
	truncations when the desired write is not a multiple of the minimum
	write size.  Change-Id: I8db40a8769d8ac5393a46cbf4e5ff0df82faf916 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/738 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/ulink.c: jtag: fix clang ulink memory leaks Memory leaks discovered by clang 3.1 Change-Id: I8a784ba9726deac508424eddb27e9c8409e2773f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/795 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-22  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/flash/nor/pic32mx.c: Patch: Make pic32mx unlock work at higher
	scan frequencies For example in a pic32mx220, pic32mx unlock don't work if
	adapter_khz is set to 5000 or more.  A short delay after asserting reset fix the problem.  Change-Id: I62e493edfcea585c36c8de77a969cebac7227b96 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/790 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/at91sam3XXX.cfg, tcl/target/at91sam3nXX.cfg,
	tcl/target/at91sam4XXX.cfg, tcl/target/k40.cfg, tcl/target/k60.cfg,
	tcl/target/lpc17xx.cfg, tcl/target/lpc4350.cfg: cfg: update for
	target's that support cortex_m AIRCR SYSRESETREQ If the target supports SYSRESETREQ make sure we use that as the
	default if srst is not fitted/configured.  Change-Id: I24c907493134506320e69c1218702930629c1cdc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/792 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/stlink/stlink_interface.c: stlink:
	stlink_interface_init_target use hex prefix Change-Id: I782da74687bcf111c1f04c53b2c1120d6a034441 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/791 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c: arm7_9: Fix broken halfword/byte memory reads Always scan out all bits, but make sure only the allowed number of
	bytes end up in the caller-provided buffer. Discard the rest by
	adding another scan field when size < 4.  Rewrite the endianness callback to avoid reading outside allocated
	memory.  Make it directly usable as a callback without the need for
	a wrapper. Move the shared callback to a more suitable home in
	arm7_9_common.  This fixes the regressions introduced in commits
	991ed5a2b657e660f744eefddb084724e52938ea
	cb90d32e386a7489d31136997209c61e9559ff5e and
	c3074f377c1da33ca8ba8493826e1b52351eebc6 Change-Id: Ia8bde8c5a9844e89a1d6c0bc8534cd26f02f8d11 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/789 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-05  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: Severe bug in Pracc code The function  wait_for_pracc_rw() fails if Pracc bit is 0.  The
	variable ejtag_ctrl is loaded with the content of the control
	register in the first scan.  In the second scan Pracc bit is scanned
	out as 0, letting the proccesor go. The result is unpredictable.  All the strange data corruption when scanning at certain
	frequencies, or the strange delays needed when entering or leaving
	fasdata area are retated to this bug.  Now the code works at any scan frequency, tested up to 15000Khz and
	indepently of processor speed, tested at 31.25Khz and 4/8Mhz.  Change-Id: Iedfd81d06d6af4bc738a521f720e42323025b268 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/769 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c, src/target/target.h: target: remove unused
	working area 'user' field working_area::user has never been used so lets remove it.  Change-Id: I1200311b34248549c1fe30c9f675e6129b7bebee Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/781 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/cfi.c: cfi: fix type-punning warnings in
	cfi_spansion_write_block Retest the condition when needed, instead of abusing the
	common_magic field as a flag. There are only two options here.
	Either it's an armv7m or it's another arm. is_arm(...) will return
	true even for armv7m, so it's imperative to check in the right
	order.  Change-Id: Ic227f19f7babf1b0b0fe075f9a3abc4eabc7d5f1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/779 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-01  Martin Nowak <dawg@dawgfoto.de>

	* src/flash/mflash.c, src/target/arm_disassembler.c,
	src/target/arm_simulator.c, src/target/armv7a.c: build: fix clang
	warnings Change-Id: I3c6a63a18034535f0a8c2c62ba8a708f09d7839b Signed-off-by:
	Martin Nowak <dawg@dawgfoto.de> Reviewed-on:
	http://openocd.zylin.com/765 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_adi_v5.c: target: catch dap_lookup read error Issue found by clang-3.1 Change-Id: I2e922ec83117e75db5bec1e82edaa75a9e6e7464 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/778 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/lpc2000.c: flash: remove lpc2000 clang warnings By Initialising the param_table we remove the clang warning's.  We
	are also make sure we are not passing any rogue values to
	lpc2000_iap_call.  Change-Id: Idb3b0077d1dae5f03dedab1d46d01140fe9ffb10 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/777 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/tcl.c: tcl: fix potential memory leaks Reorder to allocate all memory after COMMAND_PARSE_NUMBER call.
	This removes a clang warning about un-released memory Change-Id: I8dbeb664a6467077157015bd879bc0aefc5e8614 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/776 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/mflash.c, src/flash/nand/lpc3180.c,
	src/flash/nor/at91sam7.c, src/rtos/FreeRTOS.c, src/rtos/linux.c,
	src/rtos/rtos.c, src/server/gdb_server.c: build: fix memory leaks Fix the memory leaks found by clang-3.1 Change-Id: Iaae68627ef599c324c9c9ee5737c22e92512862d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/775 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/kinetis.c: flash: fix FC_FLEX_RAM class code path If the flash class was defined as FC_FLEX_RAM then this would always
	drop through to the default handler.  This bug was found by clang, so untested.  Change-Id: I2d9fe6415dd216728a145519400f7b9ef1bd3c3a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/773 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2012-08-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/command.c: helper: command.c cleanup Change-Id: I66643960e38625e843b5f54d1c072e4eee78284d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/772 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-07  Aurelien Jacobs <aurel@gnuage.org>

	* tcl/interface/ftdi/olimex-jtag-tiny.cfg: ftdi: Olimex ARM-USB-TINY
	validated Flashing a CFI flash and debugging with gdb work fine.  Change-Id: Ib2578ee6f41c1003968198439033d00d805122f7 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/770 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* configure.ac: configure.ac: Fix misspelled variable Nothing checks it against 0, so it hasn't caused any problems.  Change-Id: I5e349299c37fb72bab811d78992f6de3731a986a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/774 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-14  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/arm-usb-ocd.cfg: cfg: remove duplicate Olimex
	ARM-USB-OCD config This file is already included as olimex-arm-usb-ocd.cfg.  Change-Id: I0e66977c58e74ac93a0dc3a0c88a5e5af4992f8b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/780 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-08-10  Andrew Karpow <notandyk@gmail.com>

	* tcl/interface/ftdi/openocd-usb-hs.cfg,
	tcl/interface/openocd-usb-hs.cfg: cfg: added new openocd-usb
	highspeed adapter The embedded projects shop released a new highspeed version of the
	openocd-usb adapter. These configuration files adds support for it.  Change-Id: I9b23d7889f998712b9041af101e3f0b9aba85b28 Signed-off-by:
	Andrew Karpow <notandyk@gmail.com> Reviewed-on:
	http://openocd.zylin.com/771 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: Restore "-dev" tag.  Change-Id: Ibb7669ea73872d75a5c2f32f2264e57b1d0f20c7 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac: The openocd-0.6.0-rc1 release candidate.  Change-Id: Idd85159050a39c2136ee8a31f939a2b3e35cff1b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: add valid smp target check Check that the target is valid before calling any target functions.  Change-Id: I538fccc79d5ec89976e14beab02cb20490b299bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/766 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* HACKING: Update link and instructions about ssh keys in HACKING Gitweb changed their instructions, info about ssh keys is now on
	separate page for all platforms (selector at top of the page).  Change-Id: I3eab5dfae06cfb73f4a76718f92518454021e557 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/768 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* Makefile.am, src/jtag/drivers/Makefile.am: Add missing files
	(header and .txt) for release.  make distcheck is used to make packages with OpenOCD release, this
	command uses information from Makefile.am files to know which files
	should be included in the package and which can be left only in
	repository. This patch makes a few headers from recent JTAG drivers
	and one txt file with info about target tcl config files included in
	released packages.  Change-Id: I91202290633a30f53624a8c7d9a0ebf72c40772b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/767 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* src/target/arm946e.c: arm946e: add icache/dcache manipulation
	commands.  Provide cache operations coherent with internal target state.
	Functions similar to xscale target.  Change-Id: Ic6b9a894154f6e4f5672b5d7f5035c9774ee9499 Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/695 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* src/target/arm946e.c: arm946e: cp15 command returns value to the
	script Not just print it.  This enables scripts to analyze valuable config options of arm946e-s
	cores, do internal BIST memory tests and more.  Be careful to flush caches before disabling it.  Do not forget that
	BIST test overwrites  memory.   - cp15 rewritten from COMMAND_HANDLER to jim_handler.  Change-Id: I734da0be6db0a3127c2daa94ed75efef94da8ceb Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/694 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* src/target/arm946e.c, src/target/arm946e.h: arm946e: cleanup C0.C
	cache type reg access Cache type register C0.C is read-only, and display hard core
	configuration information.  This information is unlikely be changed
	in runtime.   - removed C0.C access when result is not used in    arm946e_invalidate_dcache()  - access C0.C only once per target, store result    in cp15_cache_info field of target structure  - fix cache index count calculation Change-Id: I12bc4c967fdf07f54d755f2f2f42406c0ababc1a Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/693 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-31  Alexander Osipenko <sipych@gmail.com>

	* src/target/arm946e.c: arm946e: don't use global variables for
	context Global variables 'dc' 'ic' had been used in the code to keep
	target's state of D-cache and I-cache on debug entry.  This may lead to incorrect operation in configurations with multiple
	cores and unequal cache states.  Fix: move cache state to the appropriate bits of the
	'cp15_control_reg' field (already present but unused).  Vaule of
	cp15 control register stored here on arm946e_post_debug_entry(), and
	analyzed later in arm946e_write_memory().  Change-Id: I71ef82be00c21d6fffb3726cec4974d1ece70dfe Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/692 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* tcl/target/lpc1751.cfg, tcl/target/lpc1752.cfg,
	tcl/target/lpc1754.cfg, tcl/target/lpc1756.cfg,
	tcl/target/lpc1758.cfg, tcl/target/lpc1759.cfg,
	tcl/target/lpc1763.cfg, tcl/target/lpc1764.cfg,
	tcl/target/lpc1765.cfg, tcl/target/lpc1766.cfg,
	tcl/target/lpc1767.cfg, tcl/target/lpc1769.cfg: added target configs
	for the lpc17xx devices lpc1751, lpc1752, lpc1754, lpc1756, lpc1758, lpc1759 lpc1763,
	lpc1764, lpc1765, lpc1766, lpc1767, lpc1768, lpc1769 Change-Id: I740b66930cd379c9390f3c1031cdbada747a6ce4 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/676 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-07-25  Joerg Fischer <turboj@gmx.de>

	* tcl/board/hitex_lpc1768stick.cfg,
	tcl/interface/ftdi/hitex_lpc1768stick.cfg: cfg: Add Hitex
	LPC1768-Stick using ftdi driver Add cfg files for Hitex LPC1768 Stick Website:
	http://www.hitex.com/?id=1602 This board has a FTDI2232D as JTAG interface, using the same layout
	as the Hitex STM32-PerformanceStick but with different USB PID.  Main MCU is a LPC1768 from NXP.  The interface config uses the ftdi driver instead of ft2232.  The
	corresponding ft2232 layout would be "stm32stick".  Change-Id: I1fd15588c5af35f7d51777d1ad958cc1dc72c6f7 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/763 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: flash: stm32f1x: Pad odd byte writes
	early to avoid 16-bit writes For odd byte counts, stm32x_write() pads the last byte and writes it
	using a discrete 16-bit access. The stlink debugger can't issue
	16-bit writes so it fails for odd byte writes.  This patch changes stm32x_write() to pad odd byte writes into a new
	buffer and use the normal code path with a single block write. The
	fallback path, when working area cannot be allocated, has to use
	16-bit writes though which means that sufficient working area is
	required for stlink and odd byte writes.  Change-Id: I4c5dc456300b6e1056f76b0095be8aceee3e954f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/756 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-07-19  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/interface/ftdi/axm0432.cfg, tcl/interface/ftdi/cortino.cfg,
	tcl/interface/ftdi/flossjtag-noeeprom.cfg,
	tcl/interface/ftdi/flossjtag.cfg,
	tcl/interface/ftdi/flyswatter2.cfg,
	tcl/interface/ftdi/hilscher_nxhx10_etm.cfg,
	tcl/interface/ftdi/hilscher_nxhx500_etm.cfg,
	tcl/interface/ftdi/hilscher_nxhx500_re.cfg,
	tcl/interface/ftdi/hilscher_nxhx50_etm.cfg,
	tcl/interface/ftdi/hilscher_nxhx50_re.cfg,
	tcl/interface/ftdi/hitex_str9-comstick.cfg,
	tcl/interface/ftdi/icebear.cfg,
	tcl/interface/ftdi/luminary-lm3s811.cfg,
	tcl/interface/ftdi/minimodule.cfg, tcl/interface/ftdi/openrd.cfg,
	tcl/interface/ftdi/redbee-econotag.cfg,
	tcl/interface/ftdi/redbee-usb.cfg,
	tcl/interface/ftdi/sheevaplug.cfg,
	tcl/interface/ftdi/signalyzer-lite.cfg,
	tcl/interface/ftdi/signalyzer.cfg,
	tcl/interface/ftdi/stm32-stick.cfg: cfg: Add config file variants
	using the ftdi driver instead of ft2232 part 4 - files that are currently untested Change-Id: Ic4a08fdefc99e7a9d50885c888c3fca60ffa39bd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/750 Tested-by: jenkins

2012-07-20  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/interface/ftdi/dlp-usb1232h.cfg,
	tcl/interface/ftdi/flyswatter.cfg, tcl/interface/ftdi/lisa-l.cfg,
	tcl/interface/ftdi/neodb.cfg,
	tcl/interface/ftdi/turtelizer2-revB.cfg,
	tcl/interface/ftdi/turtelizer2-revC.cfg,
	tcl/interface/ftdi/xds100v2.cfg: cfg: Add config file variants using
	the ftdi driver instead of ft2232 part 3 - files that are currently untested but verified with
	schematics Change-Id: Ia00c3b6437bffcfa0d178e779926ad9309e289fe Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/755 Tested-by: jenkins

2012-07-20  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/interface/ftdi/calao-usb-a9260-c01.cfg,
	tcl/interface/ftdi/calao-usb-a9260-c02.cfg,
	tcl/interface/ftdi/dp_busblaster.cfg,
	tcl/interface/ftdi/ngxtech.cfg,
	tcl/interface/ftdi/olimex-arm-usb-tiny-h.cfg,
	tcl/interface/ftdi/olimex-jtag-tiny.cfg,
	tcl/interface/ftdi/oocdlink.cfg, tcl/interface/ftdi/vpaclink.cfg: 
	cfg: Add config file variants using the ftdi driver instead of
	ft2232 part 2 - files that are currently untested but assumed to work, as
	other configs using the same layout work fine Change-Id: Ifaa1904227ebdc394362ccaf3ad3c5384a716657 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/754 Tested-by: jenkins

2012-07-19  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/interface/ftdi/jtagkey.cfg, tcl/interface/ftdi/jtagkey2.cfg,
	tcl/interface/ftdi/jtagkey2p.cfg, tcl/interface/ftdi/kt-link.cfg,
	tcl/interface/ftdi/luminary-icdi.cfg,
	tcl/interface/ftdi/luminary.cfg,
	tcl/interface/ftdi/olimex-arm-usb-ocd-h.cfg,
	tcl/interface/ftdi/olimex-arm-usb-ocd.cfg,
	tcl/interface/ftdi/openocd-usb.cfg: cfg: Add config file variants
	using the ftdi driver instead of ft2232 part 1 - files that were tested an verified as working fine Change-Id: If5986853a1cf118a9eb3b4c13b036d0f71c39624 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/534 Tested-by: jenkins

2012-07-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/telnet_server.c: telnet: cleanup comments seems comments were mangled during the last cleanup.  Change-Id: If759f62032705c7baffd3973e9717eb7e8a5d17c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/752 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-23  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: doc: add missing ulink v1 to supported
	interfaces Change-Id: Ic497a3f9076ec1799ca715a99bc2e634bd1af40d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/761 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-06-07  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: Bugfixes in mips32_pracc.c When testing a pic32mx220f032b with different values for adapter_khz
	and cpu clocks i was getting a lot of corrupted data from the chip.
	From time to time openocd fails with segmentation faults or is
	aborted due to memory corruption.  Change-Id: I134743f75c477b3d55dc74ae4474598e153b4a4a Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/690 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-09  Salvador <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: Speed up mips_m4k_write_memory() Do not call mips32_cp0_read() if not needed.  This will speed up
	execution of mips_m4k_write_memory() by near 2x, with parameter
	count = 1.  Change-Id: I7829a7802b6475bc6d4ac3f0632d8d239d1072da Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/624 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash: reduce code duplication in stm32
	flash probe Remove a lot of the repetitive code in stm32f1x flash probe by
	converting the large if-selector to a switch, moving the common
	checks outside it and concentrating the failure handling to a single
	point.  Do the same with stm32f2x and stm32lx for consistency.  Change-Id: Ic0ecfb1533c49f5d2108cda5fd20c8372d7c71ef Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/746 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash: fix stm32 flash driver typo's Change-Id: I37f3fee063d7f8729e057dcfe8904651790439e6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/745 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash: handle zero when reading stm32 flash
	size reg Some variants read 0 for the flash size register, rather than
	failing lets assume we have max flash fitted.  Change-Id: Ie1fb4e73606f49268a6fd5921c3aef75bc4790d3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/744 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: stm32l handle flash size read
	failure Rather than failing if the flash size reg cannot be read lets assume
	we have the max flash size fitted.  It is quite common on early ST silicon to not correct support this
	register.  Change-Id: Ife058d60ae0027faad2c929ebd5b7fe2ef27234d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/743 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: add stm32l Revision X support Revision X is not mentioned in the latest RM0038 rev5, however it
	has been confirmed correct by ST using ST-LINK Utilty.  Change-Id: I65210e512ea25818a1d0d3b223502ebd7535b29d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/742 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* tcl/target/lpc1768.cfg, tcl/target/lpc17xx.cfg: lpc1768.cfg
	abstracted and moved to lpc17xx.cfg - Moved variant-independent code to lpc17xx.cfg, which will be
	included from lpc17??.cfg files automatically.  - lpc1768.cfg filled with variant-dependent code.  Change-Id: I7dabe6ed7da7be640ed38c13aaaa096b8796d9a0 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/675 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-07-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tcl/target/stm32.cfg, tcl/target/stm32f2xxx.cfg: cfg: remove
	deprecated stm32 target configs These were deprecated in commit 69ac20a.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Change-Id: I047872f8cd61b42aaca6588ab75566219e4a3f5d Reviewed-on:
	http://openocd.zylin.com/741 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-07-05  Freddie Chopin <freddie.chopin@gmail.com>

	* configure.ac, src/jtag/drivers/ft2232.c: Add support for FT232H
	chips FT232H chips are new highspeed devices from FTDI. Basically these
	are a half of FT2232H (or a quarter of FT4232H), so only one channel
	which can be used as OpenOCD interface. The chips are supported by
	libftdi 0.20 or later and by ftd2xx 2.08.12 or later.  Change-Id: Ic9a2c279167c3419a24f0d6befacbb83c4ffeb25 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/736 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Salvador Arroyo
	<sarroyofdez@yahoo.es>

2012-07-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* contrib/loaders/flash/stm32f1x.S, src/flash/nor/stm32f1x.c: flash:
	don't write to FLASH_CR in stm32x_write_block It's unnecessary and prevents reusing this function to fix option
	byte writes.  Also try to disable flash writing after an error.  Change-Id: Ib5a7b768a1523e6b8da1555126fef4c1e60ab083 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/479 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-07-25  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/helper/log.c: Test the incoming debug_level, rather than the
	current.  The existing code tests the current debug_level for validity,
	allowing the user to set it too high and never change it after that.
	The new behaviour is to test the debug_level that the user has
	requested.  Change-Id: I85726a2e606c8d137e9b1cfe76fee865084844b1 Signed-off-by:
	Alan Bowman <alan.michael.bowman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/764 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-07-20  Alex Austin <alex.austin@spectrumdsi.com>

	* src/helper/command.c, src/helper/log.h, src/openocd.c: Revert
	"When calling openocd from a shell like this:" This reverts commit e8641695c634109ebf5f1149923971770da1d28a Original premise was wrong. Proper command is "shutdown", not
	"exit".  Change-Id: I07f5fe0dda9c24abe53628da986bfda0e406bb4a Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/757 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-07-19  Tom Rini <trini@ti.com>

	* tcl/board/ti_am335xevm.cfg: board: Add TI AM335x Evaluation Module This patch adds the TI AM335x Evaluation Module (ti_am335xevm) board
	configuration file.  Change-Id: Id3529e54972f8acd8c790ad55c8d0f4058a1a1f6 Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/753
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>

2012-07-17  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/cpld/lattice-lc4032ze.cfg: Add config file for Lattice
	LC4032ZE CPLD (ispMACH 4000ZE family) Change-Id: Iefec12b30ff737317c454b472200fd7e7edde619 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/748 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-27  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/jtag/drivers/mpsse.c, src/jtag/drivers/mpsse.h: MPSSE: Add
	FT232H to supported chips Change-Id: I1ce1db7eb87a7cdeafc1f8b8b34594f6fa3bf1f8 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/677 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-01-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* configure.ac, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/ftdi.c, src/jtag/interfaces.c: Add FTDI JTAG driver
	using MPSSE layer Based on ft2232.c but uses the MPSSE layer for low-level access,
	greatly simplifying the JTAG logic. Remove all libftdi/FTD2XX code
	and all layout specific code. Layout specifications are instead
	handled in Tcl.  Use a signal abstraction to enable Tcl configuration files to define
	outputs for one or several FTDI GPIO. These outputs can then be
	controlled using the ftdi_set_signal command. Special signal names
	are reserved for nTRST, nSRST and LED (for blink) so that they, if
	defined, will be used for their customary purpose.  Depending on the type of buffer attached to the FTDI GPIO, the
	outputs have to be controlled differently. In order to support
	tristateable signals such as nSRST, both a data GPIO and an
	output-enable GPIO can be specified for each signal. The following
	output buffer configurations are supported: * Push-pull with one FTDI output as (non-)inverted data line * Open drain with one FTDI output as (non-)inverted output-enable * Tristate with one FTDI output as (non-)inverted data line and
	  another FTDI output as (non-)inverted output-enable * Unbuffered, using the FTDI GPIO as a tristate output directly by   switching data and direction as necessary The data and output-enables are specified as 16-bit bitmasks,
	corresponding to the concatenation of the high and low FTDI GPIO
	registers. To specify an unbuffered output, use the same bitmask for
	both data and output-enable.  The adapter configuration file must also specify default values for
	the FTDI data and direction GPIO registers, and the channel being
	used (if different from 0).  Change-Id: I287a41d4c696cf5fc74eb10d5e63578b0dc7f826 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/452 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-01-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/mpsse.c, src/jtag/drivers/mpsse.h: Add MPSSE
	communications layer for FTDI chips This is a higher-level libftdi replacement for use when implementing
	protocol drivers for FT2232, FT2232H or FT4232H. It takes care of
	device open/close and, unlike libftdi, also MPSSE command
	abstraction, command queueing, buffer handling and return data
	parsing.  The FTDI device is accessed through libusb-1.0 in asynchronous mode.  Change-Id: I051adb574dcc39f8ca9cd7f6dbe6ae4aeea5f4c8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/451 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-06-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: target: Cortex-M use consistent arm dap
	access Purely cosmetic but use the same style as Cortex-A target, this
	makes searching refs easier.  Change-Id: I732ad9701f561e2312c5d191f5aaffd3a2f2393d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/731 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-07-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: fix arm semihosting support Add missing arm cmd handlers that enable semi hosting support to
	work as expected.  Change-Id: I063d82c48b82b4f6aed4efc4b08ea752d78e9047 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/734 Tested-by: jenkins Reviewed-by: Alan
	Bowman <alan.michael.bowman@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-07-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, tcl/target/stm32f3x.cfg,
	tcl/target/stm32f3x_stlink.cfg: flash: add stm32f3x support add support for the new stm32f3x family from stmicro:
	http://www.st.com/stm32f3 Change-Id: Icd1db95bb2767d9c0ecef24deefa92b4fdaa4f14 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/735 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-06-28  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/jtag/drivers/opendous.c: jtag: fix opendous reset command This cast to uint16_t is not (host) endianess save.  Depending on
	compiler usb_out_buffer[1] may be undefined.  Change-Id: If686e5d5da39541329c340bbdef472ee7ab0281c Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/732 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-06-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: target: detect correct Cortex-M tar auto
	increment size The ADIv5 spec guarentees that tar_autoincr_block will be 10bits.
	Make this the default for Cortex-M family until we detect a
	Cortex-M3/M4, we then change autoincrement to 12bits.  Change-Id: Ie8c89134aa036879bdd8a3c312cee9715dbc6913 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/730 Tested-by: jenkins Reviewed-by: simon
	qian <simonqian.openocd@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-06-26  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/core.c: jtag: remove redundant id check commit 5b0a1315948252ddde03fc74763ef8300c5f329c removed the need to
	check for 0xffffffff.  Change-Id: Ib4d99bf1797ccd868ec15631dbc16079571a8dd6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/728 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-02-18  Stian Skjelsad <stian@nixia.no>

	* src/helper/command.c, src/helper/log.h, src/openocd.c: When
	calling openocd from a shell like this: openocd -f board/sheevaplug.cfg -c init -c exit the calling shell will believe that openocd exited with an error due
	to exitval will be non-zero This is not tested against incomming telnet Change-Id: I63d15715a7b46f39a7de261a45039f8c3cad7a98 Signed-off-by:
	Stian Skjelstad <stian@nixia.no> Reviewed-on:
	http://openocd.zylin.com/470 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Bill Traynor
	<wmat@alphatroop.com> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-25  Vandra Akos <axos88@gmail.com>

	* src/target/target.c: target.c, jim_target_md using
	command_print_sameline jim_target_md is supposed to print out results with command_print in
	hexdump format. It was using command_print which appends a newline
	character aftre every invocation. Using command_print_sameline
	instead Change-Id: Iaff03021acc38d54b5a082cb58b82aa4449c0715 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/669 Tested-by: jenkins Reviewed-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-24  Vandra Akos <axos88@gmail.com>

	* src/target/target.c: target/target.c, jim_target_md refractored  - Added a few lines of comment before the function explaining the
	 usage and the output generated by the command  - Added a few lines of comment in the body explaining what is
	 happening to improve code readability  - Renamed a few variables to improve readability:     * a -> addr     * b -> dwidth     * c -> count  - Added a new variable, named byte to contain the number of bytes
	 to read, instead of overwriting the count parameter, to avoid
	confusion between the two values.  Change-Id: I5828ec0f5aadaa39becec7b84f198756bb2c3d41 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/665 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-02-12  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/Makefile.am, src/helper/binarybuffer.c,
	src/helper/binarybuffer.h, src/helper/list.h: Add a bit-level
	transfer queue Interface drivers regularly need to keep track of where each part of
	a long read buffer should be copied, once that data arrives. Both
	source and destination are often at an arbitrary bit offset.  This queued bit-level copy can help with that, by allowing the
	driver to perform postponed reads from the receive buffer already
	when building the transmit buffer, and have those reads executed at
	a later time when data is available.  For simplicity, it uses the linked list implementation list.h
	imported from the Linux kernel.  Change-Id: I06862a0a6f057cbbcacfb021f17a795195faded2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/450 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2012-05-29  Mike Crowe <mpcrowe@gmail.com>

	* src/flash/nor/at91sam3.c: topic: flash: description/id added for
	ATSAM3SD8C New flash description for ATSAM3SD8C used on SAM3S-EK2 development
	boards.  Name used is "at91sam3sd8c" and chipid is 0x29ab0a60.
	Mirrors description of other similar parts.  Change-Id: I7fc4b82e7969451645ab067223663f08b76d866b Signed-off-by:
	Mike Crowe <mpcrowe@gmail.com> Reviewed-on:
	http://openocd.zylin.com/684 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-25  Alexander Osipenko <sipych@gmail.com>

	* src/jtag/drivers/jlink.c: J-Link: Initialize .transports to
	suppress warning.  jtag_interface.transports field was left uninitialized, which
	triggers warning message on program startup.  Although hardware natively supports SWD interface, no software
	support currently present, so the value choosen to be <jtag_only>.  Change-Id: I2da41790b1850950af416cec4362d5b7bf927b2b Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/670 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-06-04  Olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam4.c: Changed SAM4S Erase for effective Sector
	erase In the previous iteration, the page counter for erases would not be
	updated with the erase size.  This patch keeps the page counter
	synced with the sector counter.  Signed-off-by: Olivier Schonken <olivier.schonken@gmail.com>
	Change-Id: I95e56a3257b2ad8301c9f28167b842fa6466334f Reviewed-on:
	http://openocd.zylin.com/686 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-09  Mathias K <kesmtp@freenet.de>

	* src/jtag/core.c: Fix idcode end of chain flag.  For multi core cpus with cores without an idcode this doesn't work
	because the extra bit for every core and a n-bit shift in the data
	stream.  Change-Id: Iba0ad9422ea55c01492b27b936d028719be31180 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/618 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-23  Christopher Kilgour <techie@whiterocker.com>

	* src/flash/nor/kinetis.c, tcl/board/twr-k60f120m.cfg,
	tcl/board/twr-k60n512.cfg: kinetis: update support for all program
	flash granularities Updates the Kinetis NOR flash support to handle all known block and
	sector sizes.  Previously only 2kiB sectors were hard-coded, now all
	four known combinations non-volatile sector sizes are supported.  The premise of separating Kinetis Program Flash (PFLASH) from
	FlexNVM is also introduced.  This means each "block" of flash (in
	Freescale terms) is treated as a bank in OpenOCD.  Correspondingly,
	the existing board configuration for the TWR-K60M512 eval system is
	updated to recognize two banks instead of one.  A board config for the TWR-K60F120M is also added.  Bank and sector erase and programming has been checked with both of
	the mentioned eval boards.  Change-Id: Iae2d10ebf8f548d0a3698df5430bbbe1ccadc58a Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/663 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Jan Dakinevich
	<jan.dakinevich@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-28  Alexander Osipenko <sipych@gmail.com>

	* src/jtag/drivers/jlink.c: J-Link: Forcibly select JTAG transport Some versions of Segger's software do not select JTAG interface by
	default.  Do it in the intial setup.  Firmware version check code still present, with updated set of
	unsupported.  Note from Segger: Alright, we were not aware of that OpenOCD does
	not select the interface before it starts communicating with the
	target.  A debugger should always select the appropriate target
	interface before it starts communicating with the target, since
	otherwise it could also happen that a previous session with another
	debugger had selected SWD and the interface was not switched again
	by OpenOCD.  Change-Id: I5b4eab7e0e3625ec32be75a36d89e16d17e899bf Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/667 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-28  Alexander Osipenko <sipych@gmail.com>

	* src/jtag/drivers/jlink.c: JLink: added jlink_usb_io() function jlink_usb_io() function added for basic communication, since
	jlink_usb_message() is more specific to JTAG transactions.  To verify the patch issue "jlink config" command.  Change-Id: Id7d10bd5e8985d4c77f2e0ca47fb6033db2877bf Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/679 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-25  Alexander Osipenko <sipych@gmail.com>

	* src/jtag/drivers/jlink.c: J-Link Unsupported firmware version
	check OpenOCD does not work with the latest firmware versions of Segger
	J-Link.  Latest working version: V4.42c Unsupported versions: 4.44 to 4.46f,
	4.20 to 4.30 Older versions of firmware can be found here:   http://www.segger.com/j-link-older-versions.html The firmware versions does not correspond directly with "Software
	and documentation pack for Windows", it may be distinguished by the
	"compile" date in the information string.  Print an warning message if unsupported firmware version detected.  Change-Id: Id7d1f965b8ce2fdbcd0026a85ddd093e2fa48720 Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/666 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-29  Liviu Ionescu <ilg@livius.net>

	* doc/openocd.texi: docs: J-Link commands added to the manual The J-Link related commands and configuration commands were added to
	the "8.2 Interface Drivers" section of the manual.  (previously they
	were enumerated as comments).  The 'jlink pid' was marked as Config
	all other as Command.  A draft of a compatibility note was added,
	but probably a table would be more appropriate.  Change-Id: Ifbe230706815196aaad4e3729ed5089d5088b769 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/680 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* tcl/target/lpc1768.cfg: lpc1768.cfg pulled out constants from
	flash init as variables Seems like an esthetic change, but it will allow easy support for
	other lpc17xx devices.  Change-Id: I2cb953ce1afdd82f6ca65b38d5557a28416f895e Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/674 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-22  Mirela Tauciuc <mirela.tauciuc@gmail.com>

	* src/flash/nor/at91sam7.c: AT91SAM7 Flash: fixed redundant
	assignation warning Change-Id: Iffacdce9ce90c4ea7e0c8647860a0056b952f387 Signed-off-by:
	Mirela Tauciuc <mirela.tauciuc@gmail.com> Reviewed-on:
	http://openocd.zylin.com/691 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-05-29  Liviu Ionescu <ilg@livius.net>

	* tools/initial.sh: tools: initial.sh fixed to accept spaces in
	current path When changing the path to the hooks folder, the path needs to be
	surrounded by quotation marks, to avoid failures when the current
	path contains spaces (not only legal, but a common case on Mac OS
	X).  Change-Id: I8f180ab5f26fab00a7d78ebfe5713d4146c27452 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/683 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-29  Spencer Oliver <spen@spen-soft.co.uk>

	* README: docs: update interface support in README Change-Id: Id4b982ee426dedc85b643a71c1cdba67d0dd0ffd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/682 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-25  Spencer Oliver <spen@spen-soft.co.uk>

	* Doxyfile.in: docs: include static members in doxygen output Change-Id: I1867e8d7a3bed1a399c0790f63fee68fb6b299c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/672 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_opcodes.h, src/target/cortex_a.c: build: remove src
	file execute permission Change-Id: I42a250cdfcd03424a63cd1a255f9cf4a3c6e3ccd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/671 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-23  Vandra Akos <axos88@gmail.com>

	* src/server/tcl_server.c: Jim_GetResult was called twice Removed the superflous call to Jim_GetResult, as we are reading in
	the result to a variable anyways in the next instruction.  Change-Id: Idc96400737dc15e28304e97bcea79fa6c7a88ae1 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/661 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: target: fix segfault
	in arm7_9 8/16bit read Seems I5347352e7595686634bd0de13fcf6de6e55027b0 introduced an issue
	when reading 8/16 bit data - the in buffer was always set to 32bits.  Change-Id: Ife2bb6a20fcb3ec0e486655512164f25ae9196b4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/660 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/core.c: jtag: fix incorrect LOG_DEBUG abs_chain_position Call jtag_tap_add before LOG_DEBUG otherwise abs_chain_position does
	not get correctly set.  Change-Id: I47bd00cc83259c8bfd5551e08c3bb2ebeb5993f5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/658 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-09  Mathias K <kesmtp@freenet.de>

	* tcl/board/phone_se_j100i.cfg: board: Add Sony Ericsson J100I Phone This patch add the Sony Ericsson J100I Phone to the board
	configurations.  Change-Id: I083ddf067c8ecdfdda0404fe9e9df980dbb86fe8 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/631 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-25  Mathias K <kesmtp@freenet.de>

	* tcl/target/ti_calypso.cfg: config: Add TI Calypso CPU
	configuration This patch add the TI Calypso CPU to the configuration files.  Change-Id: Ieb462960391c4a2c630d7a83699c3b6e8162ace9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/630 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-22  Bill Traynor <wmat@alphatroop.com>

	* src/jtag/drivers/osbdm.c: jtag: fix osbdm.c typo Fixing up tiny spelling error of "receive" vs. "recieve".  Change-Id: Ib143d7fdb24ac1f2b7bd4ae90cadaf2e12760ff7 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/659 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/opendous.c: jtag: fix opendous typo Change-Id: Ia88c32f2394bde2048bdd73625e7664c93a9a87d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/656 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/opendous.c: jtag: remove opendous clang warnings Change-Id: I0285c99507931e7d13aad36f4fc559c29a52faca Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/655 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: check read_reg result Change-Id: I284824aa6f5eae8f6e910a482e9f7435e649fc0d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/657 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-05-21  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.h: target: target.h typo and comment cleanup Change-Id: Ib751803754672bf556f4f65bd3f5621f6bbb7f0c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/654 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/target/startup.tcl, src/target/target.c: 
	target: enable TARGET_EVENT_EXAMINE_* events Change-Id: I33efc0994b7bfe0faa2f4e8457fcc3c8e43d3571 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/635 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/target.c: target: enable TARGET_EVENT_RESUME_* events Change-Id: I7d8378f9f34c6674db8c8b29d1a961389578e921 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/640 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/server/gdb_server.c, src/target/target.c,
	src/target/target.h, tcl/target/aduc702x.cfg: target: remove legacy
	target events These events have been deprecated for a number of years, update any
	remaining scripts to the new events.  Change-Id: Ic31ff388545ac8b3a500045699ca92c541b13f12 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/634 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/target/target.c: target: remove duplicate
	target events Change-Id: Iba9ae441f3e6d48a7dfafe59ed093fef56a34723 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/633 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm.h, src/target/cortex_m.c: target: disable armv6m
	unaligned memory access Change-Id: I42704cf80939ab9c9d4f402d2cd51c196e2fadb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/645 Tested-by: jenkins

2012-05-15  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Updated list of supported interfaces,
	boards, and targets.  User Guide: Chapter 6 'Config File Guidelines'.  The directory
	listings of interfaces, boards, and targets has been brought up to
	date.  Change-Id: I53f218a94cb81c5e90298b367259e833192af5f3 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/646 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac, src/helper/binarybuffer.h, src/helper/command.h,
	src/helper/fileio.h, src/helper/replacements.h,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/rlink.h,
	src/jtag/drivers/ulink.c, src/jtag/drivers/usb_common.h,
	src/pld/xilinx_bit.h, src/rtos/rtos.h,
	src/target/arm_disassembler.h, src/target/arm_simulator.h,
	src/target/armv4_5_cache.h, src/target/avr32_ap7k.h,
	src/target/avr32_jtag.c, src/target/breakpoints.h,
	src/target/mips_m4k.h, src/target/register.c, src/target/smp.c,
	src/target/target.h, src/target/target_type.h, src/target/trace.h: 
	build: add helper/types.h to config.h this header is used in numerous files and adding to config.h
	simplifies its use globally.  Change-Id: Id724a9950b90504721233022c7fb5768e9bc5548 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/649 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* NEWS: NEWS: add headline items Change-Id: Ie78b0a171af76cf647deef501245caf54209d9f8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/639 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-19  Christopher Kilgour <techie@whiterocker.com>

	* src/flash/nor/driver.h: flash/nor/driver.h: typo fix Change-Id: Ie260f3c38b648e66958c014658bb6860171a7cc9 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/653 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: add myself to copyright
	header Change-Id: I39e23b38ee630b80bccb5ff6b5819efa0fcb120a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/651 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/Makefile.am, src/jtag/drivers/stlink_usb.h: 
	stlink: remove superfluous stlink_usb.h Change-Id: I34bc59b35fafd3fa659549e350b91310c5b33dd4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/650 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-15  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/libdcc/dcc_stdio.c: contrib: enable cortex-m0 and
	cortex-m4 libdcc support Change-Id: Ib8ff645d1e5b8baca02de8ea95b629d88b203969 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/644 Tested-by: jenkins

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/replacements.h, src/jtag/drivers/remote_bitbang.c: 
	remote_bitbang: fix native windows build Change-Id: Ied29ade0346c4595ffc1dafa788e2d5a595e0de3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/648 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-17  Alexander Osipenko <sipych@gmail.com>

	* src/jtag/drivers/remote_bitbang.c: remote_bitbang: missed closing
	brace in macro REMOTE_BITBANG_RAISE_ERROR Change-Id: I591308bd98810ef6361106c207c55b83c3a83890 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/647 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-14  Peter Stuge <peter@stuge.se>

	* doc/openocd.texi: docs: Fix incorrect -rtos option values Commit 9ca1592cb9fe4e61ee5bc327345fdfc254c9fe13 started on
	documentation for the -rtos option, but some of the documented
	values were incorrect so we'll clean up the mess here.  Many thanks to Freddie Chopin for spotting this! Change-Id: Iaa633bd40ff5f75dd6a69e74e79dafc1643ee21a Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/642 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add initial target rtos support info Change-Id: Idd39ce17922602aedd4626496ed8f5422bb76e07 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/641 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac, contrib/openocd.udev, doc/openocd.texi,
	src/jtag/drivers/Makefile.am, src/jtag/drivers/opendous.c,
	src/jtag/interfaces.c, tcl/interface/estick.cfg,
	tcl/interface/opendous.cfg: jtag: add opendous and estick support Change-Id: I49c25d226f05fdcaca6cbfc35c2ab47e8464abec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/611 Tested-by: jenkins

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm_adi_v5.c, src/target/armv7m.h,
	src/target/cortex_m.c, src/target/stm32_stlink.c: stlink: add armv7m
	stlink handling This enables us to better handle some of the low level functions
	that the stlink does not support. It also enables us to share a few
	more of the standard cortex_m3 functions if necessary.  Change-Id: I7a2c57450122012ec189245d8879d8967913e00e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/637 Tested-by: jenkins

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/avrf.c, src/flash/nor/core.c, src/flash/nor/core.h,
	src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c: flash: blank
	check use default_flash_blank_check Use default_flash_blank_check, this will use the much faster
	blank_check_memory handler if supported - 15x quicker on stm32f4.  Otherwise it will fall back to using the slower
	default_flash_mem_blank_check.  Change-Id: Ia231b3e95468c9e92594dbdbe1fa2d69e1506fc3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/632 Tested-by: jenkins

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/pic32mx.c: flash: fix protect check for pic32mx1x/2x
	family Change-Id: Ib2692d8b79e52cd40f429008047494aa7f552984 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/612 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* jimtcl: jimtcl: update jim to fix make clean bug jimtcl 0.73 has a issue when make clean is called.  we have only
	included that fix as this is close to a release to update to jimtcl
	master.  Change-Id: I5791ff32a98bd76e52feb9475605cbecf58420e5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/638 Tested-by: jenkins

2012-05-08  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: fix stlink api2 single step This makes the newer v2 api behave as per the v1 api, eg. single
	stepping masks all interrupts.  A better long term solution is to use same behaviour as a cortex-m3
	target, see CORTEX_M3_ISRMASK_AUTO.  Change-Id: Iaf9f9adf225cf274faaac938050bb996582aa98f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/621 Tested-by: jenkins

2012-05-04  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/jtag/drivers/stlink_usb.c,
	src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h: stlink: add stlink_api cmd This enables the manual selection of the stlink api version.  Change-Id: I0ec8c5b0a101b6456f426d2fec65971da56db4e7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/617 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: stlink/v1 use v2 api if
	supported The api v2 is supported on the stlink/v1 if it has a least v11
	firmware.  Change-Id: Idfdb5a7f5a5881326017451ae9b6004eeaa46a96 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/616 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/mips_m4k.c: mips: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on pic32 family.  Change-Id: I0d20c40af6d031d1306043893e95e61f484c0a87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/608 Tested-by: jenkins

2012-05-01  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/board/stm320518_eval_stlink.cfg,
	tcl/board/stm3220g_eval_stlink.cfg,
	tcl/board/stm3241g_eval_stlink.cfg, tcl/board/stm32f0discovery.cfg,
	tcl/board/stm32f4discovery.cfg, tcl/board/stm32ldiscovery.cfg: Use
	hardware reset and connect under reset on boards with ST-LINK/V2, as
	now it is supported.  Change-Id: Id3b2ca9a2270974a5f453323f9057ecece400c94 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/609 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm320518_eval_stlink.cfg: cfg: add stm320518-eval
	onboard stlink config Change-Id: Ie92a87ce077c538fdd04af37c798e0a8054b423a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/610 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on stm32 family.  Change-Id: I1197dd721a1e1cbf95ee77dfd8e1082b165b22a9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/607 Tested-by: jenkins

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/cortex_m.c: cortex-m3: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on stm32 family.  Change-Id: I9df43623025e37832155aeee7aa099b844b85f16 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/606 Tested-by: jenkins

2012-05-08  Aurelien Jacobs <aurel@gnuage.org>

	* src/flash/nor/cfi.c: cfi: fix write_bank segfault with spansion
	flash on armv7m cfi_spansion_write_block() passes an arm_algorithm struct to
	target_run_algorithm() which in turn calls armv7m_start_algorithm()
	which expect an armv7m_algorithm struct.  As armv7m_algorithm is
	bigger than arm_algorithm, when armv7m_start_algorithm() writes in
	the struct, it overrun the buffer, writting junk on the stack, which
	latter on generates a segfault.  This patch ensure we use a properly sized armv7m_algorithm struct
	when the target is an armv7m.  Change-Id: I4ab67c15ae4bb72454414a81b92a4231dcdb2239 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/623 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/cfi.c: cfi: fix cfi arch check regression seems 9933fa334de551096674d4044ed7ac2152213e8b introduce a
	regression if the target was anything other than armv4_5 or armv7m.  Just check that we have an arm target.  Change-Id: I67c05138e5be2952ee92e9bfa15e1d050844462a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/615 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/cfi.c: cfi: check supported arch check that the cfi driver supports the current target arch.  Change-Id: I8a95908684de67bf1657d1956f2573662a641cc1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/614 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/aduc702x.c, src/flash/nor/cfi.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc2900.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/target/arm7_9_common.c, src/target/armv4_5.c: build: use generic
	name for arm_algorithm vars This makes the code a bit easier to read as arm_algorithm can refer
	to other arch's, not just armv4_5.  Change-Id: I78c99d40f34cda04e06f2daee75b48ff40a1d23d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/613 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/erase_check/armv4_5_erase_check.s,
	contrib/loaders/erase_check/armv7m_erase_check.s,
	src/target/armv4_5.c: build: add missing erase_check loader src Change-Id: I1534c1ea1606fda9eb6ffa6a11a708f8c8a3d46a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/605 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/checksum/armv7m_crc.s, src/target/armv7m.c: 
	armv7m: update crc/erase_check loaders for cortex-m0 Use loaders that have been built for cortex-m0, making them usable
	for both cortex-m0 and cortex-m3 families.  Change-Id: Ifd82be87eaec2cb96464290c80800cec3630d619 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/604 Tested-by: jenkins

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/openocd.udev: contrib: fix Neo1973 udev permission typo Change-Id: I6d5ad0cc28e0cb52104ead9e974b8b1ed92d9cdc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/636 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: use correct stm32f0 flash size
	register The stm32f0 parts use a different address then the rest of the
	family.  Add a function that returns the correct FLASH_SIZE reg
	depending on variant.  Change-Id: Idb41580f7162f395b347cec034d6b745847326b7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/601 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32f0discovery.cfg: cfg: increase stm32f0discovery
	board working area Change-Id: Iea166ee27fc60bbfdeb851fdcf71509f3984f72f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/602 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32f0x_stlink.cfg: cfg: increase stm32f0 default
	working area The smallest stm32f0 has 4k sram, so use this as the default.  Change-Id: I9097be9608da92b1b9da504e5bacc1280c86907a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/603 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-08  Bill Traynor <wmat@alphatroop.com>

	* tcl/interface/busblaster.cfg, tcl/interface/dp_busblaster.cfg: 
	cfg: Deleted duplicate busblaster.cfg and renamed original.  The busblaster.cfg was contributed on April 23, 2012 and is a
	duplicate of dp_busblaster.cfg that was contributed on Oct. 23,
	2011.  Therefore, deleting the second version.  Also, renaming the
	original dp_busblaster.cfg to simply busblaster.cfg, as this name is
	more concise.  Change-Id: Iccb1f10f53dbbb248b1ff4c6295eaf67c32247c1 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/622 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-07  Bill Traynor <wmat@alphatroop.com>

	* tcl/interface/flyswatter2.cfg: cfg: Fixed product link to
	Flyswatter2 Fixed the product link to the Flyswatter2 debugger:
	http://www.tincantools.com/product.php?productid=16153 Change-Id: I7d65e8c94d4521e61b9ae72a5ce14b140b775697 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/620 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-05-07  Bill Traynor <wmat@alphatroop.com>

	* tcl/board/ti_beaglebone.cfg: cfg: add default pid/vid pair to
	beaglebone board cfg.  The newer versions of BeagleBone boards use the default vid/pid pair
	for FT2232 debugging.  Please see the following README:
	http://beagleboard.org/static/beaglebone/latest/README.htm On
	 revision A3/A4 boards, the VID/PID were chosen to match the TI
	 XDS100v2 (0x0403/0xA6D0). On A5 and newer revisions when we've given
	the authors of CCS the chance to update their software, the generic
	FTDI VID/PID (0x0403/0x6010) will be used to simplify installation
	of drivers for systems already having those drivers.  Change-Id: I44228eb2029162f23d084eb05bcfef39e615668d Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/619 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/at91sam4.c, src/flash/nor/fm3.c, src/rtos/linux.c,
	src/target/target.c: build: remove clang unused variable assignment
	warnings Change-Id: Ibe5254704d6cd879a318a82c4f50d9da3c14276c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/600 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/at91sam3.c, src/flash/nor/at91sam4.c,
	src/rtos/linux.c: build: remove clang unused variable increments
	warnings Change-Id: Ib755474aa46f7233495fae1947bc27cd0b2d6b4f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/599 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32vldiscovery.cfg: cfg: fix incorrect
	stm32vldiscovery working area The working area used in the config was incorrect, we only have 8K
	on this board not 16K as the original cfg was declaring.  Change-Id: Ie0309fb86d839bd3bc1ac9383905b581fac5c388 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/598 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32f0x_stlink.cfg, tcl/target/stm32f1x_stlink.cfg,
	tcl/target/stm32f2x_stlink.cfg, tcl/target/stm32f4x_stlink.cfg,
	tcl/target/stm32lx_stlink.cfg: cfg: allow stm32discovery parameter
	override This enable the user or board config to override the parameters
	passed to stm32_stlink.cfg.  Required to fix a incorrect working area bug with the
	stm32vldiscovery.  Change-Id: I40a4f7913ff37d577d44b1f23befccf0317080a1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/597 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/stlink-v1.cfg, tcl/interface/stlink-v2.cfg: cfg:
	remove unused stlink options reset_config is now supported by stlink, remove from the config as
	this is a per board option.  Change-Id: I85208d2154502b8d3a098afe1d9a28d75820a7c0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/582 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: support srst reset This adds the ability to support srst reset for the stlink/v2.
	stlink/v1 will fallback to using SYSRESETREQ which is a full reset -
	including peripherals.  To enable the use of the srst add the following to your cfg:
	reset_config srst_only Change-Id: I570de607c5f370fd6a4abf47360686c9be07bcdd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/581 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_layout.h: 
	stlink: export write_debug_reg Change-Id: I3944911d4a71dba4af48470ceb3e4850784a0e7d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/580 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_layout.h: 
	stlink: add hardware srst functions to stlink/v2 Change-Id: Ib82b6a1116b9f396f1933cc5526733334254fd62 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/579 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c: flash: update stm32f0x version info Change-Id: Iab0962021e6243d1df3e7c647654a51b4bf50d72 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/578 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: default to latest api
	available Change-Id: Ic04128f4020055587bb87250f41e5c804d9c2b01 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/577 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: add improved
	STLINK_JTAG_API_V2 support The STLINK/V2 supports two api's.  This completes the support so
	STLINK_JTAG_API_V2 is usable.  Support for hardware srst still needs adding.  Change-Id: Ic4d0499be2a225d18abf96fd6f5ce5e295fb1f37 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/561 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c: stlink: support stlink api result The stlink api does support results for some functions - add
	support.  Change-Id: I39cb495408c46af8bc343b198a1e0bd4c7aee6d8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/560 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam3.c: SAM3X - Added support for
	at91sam3x8h-ES, fixed CIDR for ES2 and production The first available devkits for the at91sam3x8h had the ES device
	populated.  The ES device had an error in the CIDR, specifically in
	the last byte of which the upper 3 bits identifies the chip family -
	cortex-m3, arm7tdmi etc.  The problem was fixed on the ES2 devices - Thanks to Pat Hickey for
	giving me the heads-up.  Change-Id: I13dd7fbe0cffaf76f948188c9459dc3cf4435570 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/575 Tested-by: jenkins Reviewed-by: Jim
	Norris <u17263@att.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-18  Olivier Schonken <olivier.schonken@gmail.com>

	* doc/openocd.texi, src/flash/nor/Makefile.am,
	src/flash/nor/at91sam4.c, src/flash/nor/drivers.c,
	tcl/board/atmel_sam4s_ek.cfg, tcl/target/at91sam4XXX.cfg,
	tcl/target/at91sam4sXX.cfg: topic: Added support for the SAM4S
	variants Atmel introduced 6 new Cortex-M4 processors on 2011-10-26 SAM4S16C -
	1024KB flash LQFP100/BGA100 SAM4S16B - 1024KB flash LQFP64/QFN64
	SAM4S16A - 1024KB flash LQFP48/QFN48 SAM4S8C - 512KB flash
	LQFP100/BGA100 SAM4S8B - 512KB flash LQFP64/QFN64 SAM4S8A - 512KB
	flash LQFP48/QFN48 The SAM4S processors still suffer from the "6 waitstates needed to
	program device" errata.  Other relevant changes are: 1. Address of flash memory starts at 0x400000.  2. EWP (Erase page and write page) only works for the first two 8KB
	"sectors" 3. Because of the EWP not working for all the sectors, normal page
	writes have to be used.  The default_flash_blank_check is used to
	check if lockregions should be erased.  4. The EA (Erase All) command takes 7.3s to complete. (Previous
	timeout was 500 ms) 5. There are 128 lockable regions of 8KB each.  Implemented default blank checking, and page erase for load_image
	scenarios.  This is to compensate for the EWP flash commands only
	working on the first 2 8KB sectors.  Change-Id: I7c5a52b177f7849a107611fd0f635fc416cfb724 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/528 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-24  Linus Tolke <linus@tigris.org>

	* src/flash/nor/stellaris.c: topic: Fixed a clang Dead assignment
	warning.  The value returned from target_write_buffer is still ignored.  Change-Id: Icb49d4d1313a5e4f7df68d3f122a5f81cfa0604a Signed-off-by:
	Linus Tolke <linus@tigris.org> Reviewed-on:
	http://openocd.zylin.com/596 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-24  Linus Tolke <linus@tigris.org>

	* .gitignore: topic: Ignored TAGS files.  Allow use of TAGS.  Change-Id: I5e71e8986671642b49cc9a62d37cc8c0dfa37181 Signed-off-by:
	Linus Tolke <linus@tigris.org> Reviewed-on:
	http://openocd.zylin.com/595 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-04-20  Allen Martin <amartin@nvidia.com>

	* tcl/interface/busblaster.cfg: cfg: Add interface config for
	Dangerous Prototypes Bus Blaster This is a FT2232 based USB JTAG dongle Change-Id: Ibed773a23b6446df62fe4eac16c27fb2d741f4c3 Signed-off-by:
	Allen Martin <amartin@nvidia.com> Reviewed-on:
	http://openocd.zylin.com/589 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixing link to USBprog tool.  In section '2.8 USB Other' updated the link to the USBprog tool:
	http://shop.embedded-projects.net/ Change-Id: I7fa453934ac6a7889e01b22b7e0cb07f42ee168d Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/591 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Updated link to Versaloon-Link tool.  In section '2.8 USB Other' updated the URL to the Versaloon-Link to:
	http://www.versaloon.com Change-Id: Idd92333cb3d87d1b89dfb282134332387df5a0fc Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/592 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixed link to Wiggler2 project.  In section '2.9 IBM PC Parallel Printer Port based' fixed link to
	the Wiggler2 project and removed the alternate URL text to retain
	style consistency with the other URLs in the document:
	http://www.ccac.rwth-aachen.de/~michaels/index.php/hardware/armjtag Change-Id: I879db1c6eaf683ca6475a0f466f987087c9d60d0 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/593 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixed link to ST flashlink.  In section '2.9 IBM PC Parallel Printer Port Based' fixed link to
	ST's flashlink PDF and removed alternate URL text:

	http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATA_BRIEF/DM00039500.pdf Change-Id: I99702dd00d4145784baee1f63b5998bf79e06678 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/594 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixing two typos.  In Section 2.7 USB ST-LINK based made these two changes: "they only
	works with" to "they only work with" "following method's" to
	"following methods" Change-Id: Idfe6c11c3fa6f2157d01697cd7f480a9d495c8e2 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/590 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-16  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING, tools/initial.sh: docs: update gerrit publish refs since gerrit 2.3 pushing changes to refs/for/ is deprecated in
	favour of using refs/publish/.  Change-Id: I6244b9645da2144921583bd9778a95c563fac89f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/567 Tested-by: jenkins

2012-04-15  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/olimex_stm32_h107.cfg, tcl/board/olimex_stm32_p107.cfg: 
	Split olimex_stm32_h107.cfg.  Use one board file per eval board, so that the filename matches the
	exact board the user has / wants to use. Merging different boards
	into one file is confusing.  Change-Id: I7c50233924a87a913723d7215c4851039c2971bc Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/566 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixed link to Raisonance RLINK.  In section 2.6 USB JLINK based, fixed link to RLINK:

	http://www.mcu-raisonance.com/~rlink-debugger-programmer__microcontrollers__tool~tool__T018:4cn9ziz4bnx6.html Change-Id: I15f7a1b68b851054e07eefc07a50b4590ebce677 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/588 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Update Section 2.3 USB FT2232 Based Updated the link for the usbjtag project to the correct URL:

	http://elk.informatik.fh-augsburg.de/hhweb/doc/openocd/usbjtag/usbjtag.htmlAdded a NOTE to indicate the axm0432_jtag as no longer being
	available from the axman.com page.  Change-Id: I70727303dad58d9dc0c5f9b7cce219288b762042 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/583 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Add ref. to Flyswatter2 Added the Flyswatter2 to section 2.3 USB FT2232 Based hardware list.  Change-Id: I6a382644b5a0313d30afb5a97d0a9ea00f01efa9 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/584 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixed link to USB-JTAG project.  Updated the URL to Kolja Waschk's USB-Blaster compatible adapter:
	http://ixo-jtag.sourceforge.net/ Change-Id: If9d2875b5ba5d3bfaaf524cd253a5fab53e05371 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/585 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi: UserGuide: Fixed link to IAR J-Link.  In Section 2.5 USB JLINK based, fixed the URL for IAR J-Link:
	http://www.iar.com/en/products/hardware-debug-probes/iar-j-link/ Change-Id: If613d2e915a0a704569d74094e612e34bcc849d3 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/586 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-18  Bill Traynor <wmat@alphatroop.com>

	* HACKING: HACKING: Fix instruction for git pull --rebase When following the Patch Guidelines step by step, an error occurs at
	step 6.  "git pull --rebase origin/master" results in the error: fatal: 'origin/master' does not appear to be a git repository Removing the / seems to fix this.  Change-Id: I4e2fa23c60654abeaebd3b25a8c8375aa07b0abd Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Signed-off-by: Peter Stuge
	<peter@stuge.se> Reviewed-on: http://openocd.zylin.com/574
	Reviewed-by: David Anders <danders.dev@gmail.com> Tested-by: jenkins

2012-04-18  Bill Traynor <wmat@alphatroop.com>

	* doc/openocd.texi, src/jtag/zy1000/zy1000.c: zy1000: fixed link to
	Zylin ZY1000 JTAG Probe This patch fixes the link to the Zylin ZY1000 JTAG Probe webpage.
	The ZY1000 product line was acquired by Ultimate Solutions, Inc. in
	May 2011.  Change-Id: If68cd45a0c47aa20b2e4bb62939b2c505c8c8c2e Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Signed-off-by: Øyvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/571
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2012-04-18  David Anders <danders.dev@gmail.com>

	* tcl/board/ti_pandaboard_es.cfg: pandaboard: add initial TCL
	support for pandaboard-es add initial TCL support for the pandaboard-es which is based on the
	omap4460 from Texas Instruments.  Change-Id: Ic63588721487feb95e7cb3d41cfaab0d2f181766 Signed-off-by:
	David Anders <danders.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/573 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-18  David Anders <danders.dev@gmail.com>

	* tcl/target/omap4460.cfg: omap4460: add initial TCL support for the
	omap4460 es1.0 this patch adds the initial support for the omap4460 es1.0 version
	which is similar to the omap4430 and used on the pandaboard-es.  Change-Id: If885f7d9f8809929bd799786b539e4f499fa3478 Signed-off-by:
	David Anders <danders.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/572 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-18  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32f0discovery.cfg: cfg: add stm32f0discovery board
	config Change-Id: I4fccdbd4e0a3bc70cd425c910ad1007519098e20 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/570 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-04-11  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/glyn_tonga2.cfg: Glyn Tonga2: Faster JTAG speed after
	CPU/RAM init.  Change-Id: Ib08dae0035355138c468483a7ee2d73aadedf430 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/564 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/target/stm32_stlink.c: stlink:
	correctly format printed hex addresses Change-Id: I4a139989927249bb5e9dcc4804965c85c37cc09b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/559 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-04-04  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/stm32lx.c: STM32L: Write partial-page flash data
	after full-page data The target address for the partial data needs to be bumped past the
	full page data. Otherwise, the partial data overwrites the start of
	the flash block.  Change-Id: I1246b2fa8acbdb8193edcf7029309f11d1c6069c Signed-off-by:
	Keith Packard <keithp@keithp.com> Signed-off-by: Mathias K
	<kesmtp@freenet.de> Reviewed-on: http://openocd.zylin.com/555
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-04-04  Stephane Bonnet <bonnetst@hds.utc.fr>

	* doc/openocd.texi, src/jtag/drivers/ft2232.c,
	tcl/interface/digilent-hs1.cfg: ft2232: Support for Digilent HS1 USB
	adapter * Added support to the FT2232 driver for the FT2232H-based   Digilent HS1 adapter.  Change-Id: Iab6cc15f299badaf115615b5d4d785ecb2273c27 Signed-off-by:
	Stephane Bonnet <bonnetst@hds.utc.fr> Reviewed-on:
	http://openocd.zylin.com/558 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-27  Wjatscheslaw Stoljarski (Slawa) <wjatscheslaw.stoljarski@kiwigrid.com>

	* tcl/board/icnova_imx53_sodimm.cfg: cfg: add icnova_imx53_sodimm
	board config Add board config for In-Circuit ICnova iMX53 SODIMM Change-Id: I3802ab1695baa75c1f170cf1af0e38ada284c0b8 Signed-off-by:
	Wjatscheslaw Stoljarski (Slawa)
	<wjatscheslaw.stoljarski@kiwigrid.com> Reviewed-on:
	http://openocd.zylin.com/543 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-27  Wjatscheslaw Stoljarski (Slawa) <wjatscheslaw.stoljarski@kiwigrid.com>

	* tcl/board/imx53loco.cfg: cfg: add imx53loco board config Add board config for iMX53QSB (loco) Change-Id: I8659dcd71a56d5fe855eaf62be0a415198b558c5 Signed-off-by:
	Wjatscheslaw Stoljarski (Slawa)
	<wjatscheslaw.stoljarski@kiwigrid.com> Reviewed-on:
	http://openocd.zylin.com/542 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-03  Antonio Borneo <borneo.antonio@gmail.com>

	* contrib/openocd.udev: contrib/openocd.udev: fix warning Fix following warning message logged by udev at start udevd[421]: SYSFS{}= will be removed in a future udev version,
	please use ATTR{}= to match the event device, or ATTRS{}= to match a
	parent device, in /etc/udev/rules.d/95-openocd.rules:81 Change-Id: I6de935c13a3327e3d718c110f97d19b9847ceca5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/552 Tested-by: jenkins Reviewed-by: Luca
	Bruno Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2012-04-04  Simon Widmer <simonxwidmer@gmail.com>

	* tcl/board/tx25_stk5.cfg: Support for KaRo TX25 CPU Module on a
	StarterkitV base board This patch adds support for the KaRo TX25 module on a StarterkitV
	base board.  For board details, check
	http://www.karo-electronics.com/tx25.html Change-Id: I2c80c5467bc476955b55196728aa3c37c8185e6c Author: Simon
	Widmer <simonxwidmer@gmail.com> Signed-off-by: Mark Vels
	<mark.vels@team-embedded.nl> Reviewed-on:
	http://openocd.zylin.com/557 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-17  Simon Qian <simonqian.openocd@gmail.com>

	* src/flash/nor/stellaris.c, src/jtag/core.c, src/jtag/interface.h,
	src/jtag/swd.h, src/jtag/tcl.c, src/target/arm_adi_v5.c,
	src/target/cortex_m.c: topic: add reset functions for SWD Add swd_init_reset and swd_add_reset.  Add adapter_assert_reset and
	adapter_deassert_reset, and call them instead of JTAG reset
	functions.  Change-Id: Ib2551c6fbb45513e0ae0dc331cfe3ee3f922298a Signed-off-by:
	Simon Qian <simonqian.openocd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/526 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-04-04  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING, src/jtag/drivers/OpenULINK/include/msgtypes.h,
	src/jtag/drivers/OpenULINK/include/reg_ezusb.h,
	src/jtag/drivers/OpenULINK/src/protocol.c,
	src/jtag/drivers/OpenULINK/src/usb.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: doxygen: remove warnings Change-Id: I020845a8df7b67f3b6c1a233b3ee07a5d14fa685 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/556 Tested-by: jenkins

2012-04-02  Salvador <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: Finish off functions
	mips32_pracc_read_mem16() and mips32_pracc_read_mem8() This functions are unfinished and work only with  parameter count up
	to 1024.  Commands mdh and mdb from pic32mx context show values not related to
	memory content if parameter count is bigger than 1024. Firt 1024 are
	ok.  Change-Id: Ie3f4d4a0f9d1d1a69bd3a18de2f72dd9249514cb Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/550 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-04-02  Salvador <sarroyofdez@yahoo.es>

	* src/target/mips32.c: Minor bug fixes in Mips32 code Now the the "Fast" version for memory blank check in pic32mx.c can
	be called: default_flash_blank_check()  instead of the "fallback"
	default_flash_mem_blank_check().  The command "verify_image", without working area, now don't show:  checksum mismatch - attempting binary compare when there are no
	real errors in flash.  Change-Id: I256e8ae949289634e1de5c1c2861e4c4c4b7fdce Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/549 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-03  Spencer Oliver <spen@spen-soft.co.uk>

	* HACKING: docs: add gerrit server url Change-Id: If39b522594a4ee3758fb85309af01f7a98c9f939 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/553 Tested-by: jenkins

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/manual/main.txt: docs: remove unused primer ref we already have a link to the patch primer in the main index.  Change-Id: Ib90ade76a17f5d99da8fe481d8f87c68eca38f1c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/546 Tested-by: jenkins

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* HACKING, tools/initial.sh: tools/initial.sh Small script to setup Gerrit with the local repository Usage: tools/initial.sh <username> Change-Id: I26527c35cfe040c7752efec06064d5dc9e3ec6a2 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Signed-off-by: Attila Kinali
	<attila@kinali.ch> Reviewed-on: http://openocd.zylin.com/290
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-04-02  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/voltcraft_dso-3062c.cfg: Initial config for the
	Voltcraft DSO-3062C.  This is a digital oscilloscope which uses a Samsung S3C2440
	internally.  http://randomprojects.org/wiki/Voltcraft_DSO-3062C Signed-off-by: Uwe Hermann <uwe@hermann-uwe.de> Change-Id:
	I5e28c3a8f30665a162e34c831294e4e658a16ebb Reviewed-on:
	http://openocd.zylin.com/548 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-03-24  Wim Lewis <wiml@hhhh.org>

	* src/helper/command.c: Add value "openbsd" for ocd_HOSTOS.  Change-Id: I9b0dd87d85c0792730f507176001d39c44da7117 Signed-off-by:
	Wim Lewis <wiml@hhhh.org> Reviewed-on: http://openocd.zylin.com/547
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* jimtcl: jimtcl: update to version 0.73 Change-Id: I9c943abb3ec5148b9cb24d0823f7787066948201 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/536 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.h: armv7m: fix broken stlink build The stlink partially supports the cortex-m4 fp regs and requires
	these defines to build.  Change-Id: Id3aa802ecc7006cb6d9f84b79ab3c21af24c1001 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/545 Tested-by: jenkins

2012-03-15  Mathias K <kesmtp@freenet.de>

	* src/target/stm32_stlink.c: stm32: Update register read/write to
	the register definition.  This patch fix the register index on read/write register.  Change-Id: I7b52a927a48259d6f497ac0f474aff7ff1529e9a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/525 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-15  Mathias K <kesmtp@freenet.de>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c: 
	armv7m: detect floating point feature This patch add fp feature detection on cortex-m4.  Change-Id: I99e9d1bf5534630a22b8ad9c878165683db2d0ba Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/524 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: correctly quote m4 parameters Change-Id: I8fbef892caa78dba5324a8bc28d2a4a4854b1f48 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/544 Tested-by: jenkins

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm3220g_eval_stlink.cfg: cfg: add support for
	STM3220G-EVAL onboard STLINK Change-Id: Icd7a1baf6f2623e5b57d29c4602a2762af730936 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/541 Tested-by: jenkins

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm3241g_eval.cfg, tcl/board/stm3241g_eval_stlink.cfg,
	tcl/target/stm32f4x.cfg: cfg: add STM32F4x and STM3241G-EVAL config
	files This adds support for the STM32F4 target and the STM3241G Eval
	Board, in both standalone and using the onboard STLINK.  Change-Id: I62f8908b5880568b2b36c78a78f94c40861ff335 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/540 Tested-by: jenkins

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/hilscher_nxdb500sys.cfg,
	tcl/board/hilscher_nxeb500hmi.cfg, tcl/board/hilscher_nxhx10.cfg,
	tcl/board/hilscher_nxhx50.cfg, tcl/board/hilscher_nxhx500.cfg,
	tcl/board/hilscher_nxsb100.cfg, tcl/target/avr32.cfg,
	tcl/target/fm3.cfg, tcl/target/lpc3131.cfg, tcl/target/stm32f2x.cfg: 
	scripts: use adapter_nsrst_delay not deprecated jtag_nsrst_delay Change-Id: Idf98526d64dcba4d8a5b6910bd3c539756753e8e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/539 Tested-by: jenkins

2012-03-06  Olivier Schonken <olivier.schonken@gmail.com>

	* tcl/board/atmel_sam3x_ek.cfg, tcl/target/at91sam3XXX.cfg,
	tcl/target/at91sam3ax_4x.cfg, tcl/target/at91sam3ax_8x.cfg,
	tcl/target/at91sam3ax_xx.cfg: Added tcl config scripts for SAM3A/X
	targets and devboard The SAM3A/X processors that were released thus far is either a
	SAM3A/X(4) - 256K, or a SAM3A/X(8) - 512K device.  Thus the config
	files are per variant, and not per device.  Signed-off-by: Olivier Schonken <olivier.schonken@gmail.com> Change-Id: I84d26d044e810eb428b1d6287907ea3bf8364c73 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/522 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/manual/release.txt: docs: update release docs to use
	configure.ac Change-Id: I7b52ad1c3744a82832c5b55898bf47607e24d03e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/538 Tested-by: jenkins

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/release.sh, tools/release/helpers.sh,
	tools/release/version.sh: tools: update release scripts to use
	configure.ac we have already updated autoconf to use configure.ac instead of
	configure.in, so update release.sh to use the new name.  Change-Id: I2dc2beaf2f85058c4627183bc093052677ccba1b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/537 Tested-by: jenkins

2012-02-29  Salvador Arroyo <sarroyofdez@yahoo.es>

	* src/flash/nor/pic32mx.c: topic: Flash support for Pic32mx1xx/2xx Change-Id: I496cb745fb1eb5c9159471838013b8d19418f5c0 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/500 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-08  Chris Morgan <chmorgan@gmail.com>

	* tcl/board/embedded-artists_lpc2478-32.cfg: Create a init_board
	procedure for the ea dev board.  Signed-off-by: Chris Morgan <chmorgan@gmail.com> Change-Id:
	I082b0d3092c7f3b2ee6b68af64d48c78b31f1dbf Reviewed-on:
	http://openocd.zylin.com/510 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/transport/transport.c: transport: remove interface multiple
	transport warning Currently if we have multiple transport's defined we receive an
	warning similar to: must select a transport.  allow transport 'jtag'
	allow transport 'swd This removes that warning and only prints this info if
	transport_init fails.  Change-Id: I87126390f234bc2f705e1f150a0dcc110dcab151 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/532 Tested-by: jenkins

2012-03-17  Salvador <sarroyofdez@yahoo.es>

	* src/target/mips32_pracc.c: Bug in src/target/mips32_pracc.c The bug shows up with the command "mdw addres count" and only if
	count>1024 (count>0x400).  The first 1024 values shows as expected,
	but the rest of the values  are wrong.  Name of variable  bytesread"
	is changed to "wordsread" to reflect what really does.  Change-Id: Iad79393e72da2637551c5ae6e829e3873605c520 Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/527 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-19  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/core.c: Add warn message if no flash bank found for
	the current image address.  Add a warn message to inform the user that something is wrong with
	the flash settings or command parameters.  Change-Id: Ia55868b2abf2a17845e51620b0f29b2809d841c2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/280 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-15  Mathias K <kesmtp@freenet.de>

	* src/server/gdb_server.c: gdb_server: Simple close the connection
	and not exit openocd.  This patch let openocd running and only close the gdb connection on
	error.  Change-Id: Ifb88e16834b51207cc4c82210eab904ed8d30b71 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/523 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* src/server/gdb_server.c: gdb_server: Fix wrong index/length
	compare.  This patch fix the compare for the list size and the register index.  Change-Id: I36d5e078f57d2a9f7823cfdf0d537762e00f6929 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/516 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-14  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/FreeRTOS.c: rtos: add sanity checking for FreeRTOS's
	quantity of priorities On operating systems with opportunistic malloc() (e.g. default
	setting in GNU/Linux) malloc can sometimes allocate a huge memory
	region but later the process will get killed on the first attempt to
	use this memory, so checking for malloc's return value is not enough
	to prevent a crash.  This patch is compile-tested only.  Change-Id: I5e21663115c8e9a0ca9f3d71f7ba4bd09e5c3bb1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/521 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-14  Paul Fertser <fercerpav@gmail.com>

	* src/rtos/FreeRTOS.c: rtos: fix segfault in FreeRTOS handling When gdb loads an elf file of a newer or older version of the
	firmware being debugged, or when the firmware is not running yet,
	there's a high probability of FreeRTOS variables to be read
	incorrectly, thus leading to an attempt to allocate an enourmous
	amount of memory. Without this check OpenOCD simply crashes and
	that's mad confusing.  Change-Id: I404a072e886d2d47d9d942cfaea8417eb8bd4a5d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/520 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-24  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_layout.h,
	src/target/stm32_stlink.c: stlink: fix alignment build warning The {read,write}_mem32 interface functions was asking a 32 bits
	buffer but they don't need 32 bits alignment.  This will change the
	interface to a 8 bits buffer to remove the alignment mismatch
	warning. This was causing build errors on platforms with strict
	aliasing rules.  Change-Id: I338be8df5686f07a64ddb4f17c1bb494af583999 Signed-off-by:
	Alexandre Pereira da Silva <aletes.xgr@gmail.com> Reviewed-on:
	http://openocd.zylin.com/483 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* src/server/gdb_server.c: gdb_server: sanity check the gdb register
	size This patch checks the received register length with the local
	configured register length and disconnect on a length missmatch.  Change-Id: I6b112c6b55a9ffb4526f582a384ffa91dc8b792f Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/517 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* src/target/armv7m.h: armv7m: Add a dummy register at the end of
	the register list.  Signed-off-by: Mathias K <kesmtp@freenet.de> Change-Id:
	I0bfad091bd8adabd949fc0a74ef3a08a514eb307 Reviewed-on:
	http://openocd.zylin.com/519 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-03-10  Mathias K <kesmtp@freenet.de>

	* src/target/stm32_stlink.c: stm32: Add floating point register
	read/write.  This patch add floating point register read/write functionality
	through the SCS debug interface.  Change-Id: Id20e109dd7cccba00671d55ca8aabeb4936cceb9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/512 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-12  Mathias K <kesmtp@freenet.de>

	* src/target/arm_adi_v5.c, src/target/cortex_m.c,
	src/target/cortex_m.h, src/target/stm32_stlink.c: stm32: determine
	all cpu types and use common examine This patch determine all cpu types and not only the cortex M3 and
	the stm32 target use the common target examine function from the
	cortex_m sources.  Change-Id: If689dd994b3855284b927fc4b206f420cf32b6c7 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/511 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-09  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/kinetis.c: flash: Fix flash write algorithm on
	pflash only devices.  This patch fix the slow flash write issue on pflash only devices.
	The Family Reference Manual says: For devices with FlexNVM: FlexRAM For devices with program flash
	only: Programming acceleration RAM So the acceleration RAM is available for the flash section command
	on this device.  Change-Id: If6541a23a4457c5ed8858848a145f35cac63138b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/509 Tested-by: jenkins Reviewed-by: Tomas
	Frydrych <tf+openocd@r-finger.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-08  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c: Automatically prepend v1 mass
	storage protocol.  This patch prepend the v1 mass storage protocol to the command
	buffer and simplify the usb read/write handling.  Change-Id: I709602600e93cd1eb5848fa9f4d15659ba85eb35 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/506 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-12  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips_m4k.c: mips: Forced to running state to enable
	(subsequent) target halt.  Change-Id: I9aff8fb3ac703b50194088dd4e68cec8f9bb2ada Signed-off-by:
	Drasko DRASKOVIC <drasko.draskovic@gmail.com> Reviewed-on:
	http://openocd.zylin.com/513 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-12  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/pic32mx.cfg: cfg: correct pic32mx config typo's Change-Id: Ibe5b6b0efefc7cfc75d789eb7e9c7ee239526ae2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/508 Tested-by: jenkins

2012-03-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* README, configure.ac, src/Makefile.am, src/ecosboard.c,
	src/helper/Makefile.am, src/helper/command.c, src/helper/command.h,
	src/helper/ioutil.c, src/helper/replacements.h,
	src/helper/system.h, src/helper/time_support_ecos.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/server/Makefile.am, src/server/server.h: ecosboard: delete
	bit-rotted eCos code Change-Id: Iff7943eb9da3f41dcc45492acd0f36cf63b3497f Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/503 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins

2012-02-28  Jan Dakinevich <jan.dakinevich@gmail.com>

	* configure.ac, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/osbdm.c, src/jtag/interfaces.c,
	tcl/board/twr-k60n512.cfg, tcl/interface/osbdm.cfg: jtag: basic
	support for P&E Micro OSBDM (aka OSJTAG) adapter This driver provides support for the P&E Micro OSBDM adapter
	(sometimes named as OSJTAG), mounted on the Freescale TWRK60N512
	bord. Thus, it provides a quick start when working with this board.
	The driver doesn't use BDM commands, but work with OSBDM adapter
	using only JTAG commands.  Change-Id: Ibc3779538e666e07651d3136431e5d44344f3b07 Signed-off-by:
	Jan Dakinevich <jan.dakinevich@gmail.com> Reviewed-on:
	http://openocd.zylin.com/492 Tested-by: jenkins Reviewed-by: Tomas
	Frydrych <tf+openocd@r-finger.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-06  Olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam3.c: topic: Added support for the SAM3X/A
	variants Atmel introduced 7 new Cortex-M3 processors on 2012-02-28 SAM3X4C -
	256KB flash SAM3X4E - 256KB flash SAM3X8C - 512KB flash SAM3X8E -
	512KB flash SAM3X8H (Only on dev-kit - not in production...) - 512KB
	flash SAM3A4C - 256KB flash SAM3A8C - 256KB flash The SAM3X/A processors still suffer from the "6 waitstates needed to
	program device" errata.  The CIDR address for the SAM3X/A processors are different from the
	other SAM3 processors.  Unfortunately, the chip identification
	register is not at a constant address across all of the SAM3
	series'. As a consequence, a simple heuristic is used to find where
	it's at... If the contents at the first address is zero, then we
	know that the second address is where the chip id register is.  We
	can deduce this because for those SAM's that have the chip id @
	0x400e0940, the first address, 0x400e0740, is located in the memory
	map of the Power Management Controller (PMC). Furthermore, the
	address is not used by the PMC.  So when read, the memory controller
	returns zero.  Another interesting change is the flash bank address for flash bank
	1.  It is not fixed at 0x00100000 like the Sam3U.  Bank 1 of the
	at91sam3a/x series starts at 0x00080000 + half the total flash size.
	Thus for the 256KB devices Bank 1 is located at 0x000A0000, and for
	the 512KB devices Bank 1 is located at 0x000C0000.  The configuration files for the SAM3X/A processors will follow Change-Id: I6c3a707c00e05d993a2ad1d5a423f23b37ffd553 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/505 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-08  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add stm32 dual bank example Change-Id: I1dfe134e2c7694fc978d14b4b21bdf9c82ca4b16 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/507 Tested-by: jenkins

2012-03-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/arm7_9_common.h, src/target/cortex_m.c,
	src/target/mips_m4k.c: target: remove unused declaration arm7_9_prepare_reset_halt is long since gone and the functionality
	is implemented in the target's assert_reset handler.  Change-Id: Ib03c730cb39d68e5e3bb42f92af13daf8074e4e2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/515 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-03-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO, doc/openocd.texi, ecosflash/Makefile, ecosflash/flash.S,
	ecosflash/flash.c, ecosflash/flash.map, ecosflash/notes.txt,
	src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/ecos.c, src/helper/options.c, src/target/Makefile.am,
	tcl/board/at91eb40a.cfg, testing/testcases.html: flash: retire
	unused eCos flash driver even the AT91EB40a's flash is covered by CFI and nobody ever
	submitted any other drivers based on eCos code. It's just possible
	that this idea was missing documentation and "marketing", but it's
	in git if somebody wants to resurrect it.  Change-Id: I66449aa6e0997301f9d67f28098789bfc891d6e9 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/502 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-02-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target_request.c: target_request: fix warning, do not
	set local variable to value it already has Change-Id: If29b0efdc326ee1ce4c07ec9d8777744d674f367 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/490 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-02-25  Szymon Modzelewski <szmodzelewski@gmail.com>

	* src/flash/nor/stm32f1x.c: flash: stm32f1x: add a couple missing
	stm32x_get_flash_reg Change-Id: I163de2c1bd962e7ea9ca6c741c1c62224c210677 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/486 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-29  Fredrik Hederstierna <fredrik.hederstierna@securitas-direct.com>

	* src/flash/nor/str9xpec.c: flash: Additional check for NULL in
	str9xpec enable_turbo Change-Id: Ifde8783b27c64e4a4bbea180cfa2c86f6a9fe49a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/496 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-02-29  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: fix incorrect pc console output target_call_event_callbacks needs to be called after debug entry
	otherwise we will get a console pc mismatch.  Change-Id: I278137736d5e85ca9662c306f6ac81336d8eb6cf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/499 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-03-01  Jim Norris <u17263@att.net>

	* tcl/board/diolan_lpc4350-db1.cfg, tcl/target/lpc4350.cfg: Add new
	configuration files for the Diolan LPC-4350-DB1 development board with the NXP LPC4350 processor.  Change-Id: I0843e96af9ca05d3e598e2e16eb19fc0581ab46d Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/501 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: SAM3: Remove unused reference to SUPC
	registers The SUPC (Supply Controller) registers are on different base
	addresses on different SAM3 chips: SAM3U: 0x400e1210 SAM3N:
	0x400e1410 SAM3S: 0x400e1410 This creates a problem with the sam3_reg_list array which is const,
	but would need to be changed at runtime to account for this
	variability. As this register is not used anywhere, it's simplest to
	just remove it.  Change-Id: I987eb371648d826aa6d5e9de18d38c7bb66d6fca Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/495 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: SAM3: Add missing architecture names for
	SAM3S and SAM3N Change-Id: Ie2177487d4315219eb364db360cb7f88d2720783 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/494 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: SAM3S: correct flash sector sizes.  Lock region count and sector sizes did not match datasheet.  (see
	6500C-ATARM-8FE11 "SAM3S Series Datasheet", Table 7-1) Change-Id: Ic511802f96ed03856467a24a6736349205a0576a Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/493 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-06  Jaap de Jong <jaap.dejong@nedap.com>

	* tcl/chip/atmel/at91/at91sam9263_matrix.cfg: config: fix typo in
	at91 config Change-Id: I596cbac3439456fcb02111caee6e8c290c12a6d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/504 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-02-21  Szymon Modzelewski <szmodzelewski@gmail.com>

	* src/jtag/drivers/stlink_usb.c: stlink-v1: fix memory writes implement stlink_usb_send and use it to fix stlink_usb_write_mem using two calls to stlink_usb_recv is inappropriate since each call
	issues a SG command on stlink-v1, resulting in errors Change-Id: I24ef9f2dda284e041dc4a532b59968a77eebe702 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/498 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-29  Spencer Oliver <spen@spen-soft.co.uk>

	* : Revert "stlink-v1: fix memory writes" I committed in the wrong
	order This reverts commit 79230a8e3c5b85601fca730dfc09ecc52e693afa Change-Id: Iace872ac4844891f4f38fca87448a2ebd9f17593 Reviewed-on:
	http://openocd.zylin.com/497 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-24  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: Fix assert to check flash programming
	offset The assert introduced in 00c864835149a96b431fc8f31dd89542d88fd383
	checks whether the programming offset equals to page_size of the
	flash, while it wants to check whether the offset is a multiple of
	the page_size.  Change-Id: I794d021951a28c1cc520b5eea5d500f097721b06 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/482 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com>

2012-02-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: add stm32lx High Density Devices Change-Id: Ieed9de4b078e1ebf659054a758b4f69acdf5b83e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/466 Tested-by: jenkins

2012-02-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32lx.c: flash: change stm32lx driver probe
	behaviour Currently stm32lx flash driver will remove the readout protection if
	set during a probe.  This may not be what the user wants, so let them decide.  Change-Id: I8575e3b339b10a4f7bac57cca9586dcab513d347 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/465 Tested-by: jenkins

2012-02-21  Szymon Modzelewski <szmodzelewski@gmail.com>

	* src/jtag/drivers/stlink_usb.c: stlink-v1: fix memory writes implement stlink_usb_send and use it to fix stlink_usb_write_mem using two calls to stlink_usb_recv is inappropriate since each call
	issues a SG command on stlink-v1, resulting in errors Change-Id: I52ff9ee8f5d9ae0d47356477468eb98952205c99 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/478 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/pic32mx.c: flash: add new devices to pic32mx flash
	driver update as per DS61145 rev J Change-Id: I2b5da84248ff2f44c7ca9d2ed1c52db453714c05 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/461 Tested-by: jenkins

2012-02-24  Neil Jensen <neil30al@gmail.com>

	* tcl/board/ti_beaglebone.cfg, tcl/target/am335x.cfg: cfg:
	Beaglebone/AM335x refactor Split out functions specific to the AM335x SOC into the target
	directory and simplified the board config file.  This should allow
	one to quickly create new configs for boards based on the TI
	processor family.  Change-Id: I0c3db97950dfa832f1f1918fc10c180f068bba74 Signed-off-by:
	Neil Jensen <neil30al@gmail.com> Reviewed-on:
	http://openocd.zylin.com/489 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-24  Neil Jensen <neil30al@gmail.com>

	* tcl/board/ti_beaglebone.cfg: cfg: beaglebone cleanup Simplified the configuration and removed things that were not
	necessary for debugging.  Also added reset configuration.  Signed-off-by: Neil Jensen <neil30al@gmail.com> Change-Id:
	I96f991c3051aa68278212cd6509484cbce40ccb7 Reviewed-on:
	http://openocd.zylin.com/488 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi, src/jtag/core.c: jtag: use correct tap
	-ignore-version mask when -ignore-version is used we should mask of the upper 4bits not
	8bits.  Change-Id: I9ffe24c2aeeb414677357a647609fdf018890194 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/473 Tested-by: jenkins

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/tcl.c: jtag: fix cmd scan_chain expected_ids bug This fixes scan_chain to correctly print all the expected_ids.  Change-Id: I93738980d85e0fe369d40c58b19339424d37ec34 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/474 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-16  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/flash/stm32f2x.S, src/flash/nor/stm32f2x.c: flash:
	add stm32f2x async flash loader This enable the stm32f2x flash driver to use the asynchronous
	algorithm support.  Speed increase is as follows: before - wrote 1048576 bytes from file
	stm32f4x.bin in 30.453804s (33.625 KiB/s) after - wrote 1048576
	bytes from file stm32f4x.bin in 23.679497s (43.244 KiB/s) This also fixes a bug that was in the old flash loader.  The old
	loader waited while bit16 of the status reg was 0, the new loader
	waits until this bit is 0 as stated in the flash spec.  Bizarrely
	this bug did not effect programming on any tested parts.  Change-Id: I3efc94d42cbe81283673a8f4203700638080af6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/460 Tested-by: jenkins

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/flash/stellaris.s, src/flash/nor/stellaris.c: 
	flash: add stellaris async flash loader This enable the Stellaris flash driver to use the asynchronous
	algorithm support.  Speed increase is as follows: before - wrote 65536 bytes from file
	test.bin in 5.486040s (11.666 KiB/s) after - wrote 65536 bytes from
	file test.bin in 2.274001s (28.144 KiB/s) Change-Id: I9004c9aadffa1ae3b0cbf908e6549b5b1f794508 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/403 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/target/target.c,
	src/target/target.h: target: add target async algorithm support Currently the stm32f1x flash driver uses an asynchronous algorithm
	as part of the block flash programming. This greatly speeds up flash
	programming as the target is always running.  Moving the async code to the target enable other targets to use this
	added functionality.  Change-Id: I8e53f094c2ef7848a7f86ddb9a35b6edbfc8454a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/402 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-23  Neil Jensen <neil30al@gmail.com>

	* tcl/board/ti_beaglebone.cfg, tcl/ti-beaglebone.cfg: cfg:
	beaglebone Moved ti_beaglebone.cfg to the board configuration directory.  This
	was originally placed in the wrong location.  Signed-off-by: Neil Jensen <neil30al@gmail.com> Change-Id:
	I05d10b62b1a21618635ee1773c30d77dc756ec82 Reviewed-on:
	http://openocd.zylin.com/481 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-18  Neil Jensen <neil30al@gmail.com>

	* tcl/ti-beaglebone.cfg: cfg: Beaglebone Support Added support for the Beaglebone board based on the am335x processor
	family.  After much trial and error, I was able to configure the
	Icepick-D and connect to the processor, halt execution, and run a
	sample program.  This is a unified config file (it doesn't use any
	include statements) and further work needs to be done to split out
	the icepick-d configuration to be more generic.  Change-Id: Ia1b8e9f01f56bd4f8c575ba3d0160c248583a15e Signed-off-by:
	Neil Jensen <neil30al@gmail.com> Reviewed-on:
	http://openocd.zylin.com/471 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c, src/target/target.h: target: add function to
	get number of bytes available in working area This is a much cleaner solution to the problem of allocating as much
	working area as possible than what is currently being done in
	most/all flash drivers (which is: try an arbitrary sized chunk, if
	it fails, pick a smaller number, rinse and repeat).  Use this function to find out how much working area is available,
	limit or restrict that amount at will and then simply allocate it.  Change-Id: Ib7d5d0b7485aed3e0a4fad60c1bedb7dfd16146f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/446 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: rewrite working area allocator The existing allocator couldn't reuse a freed allocation if the
	sizes didn't match exactly. That led to problems when for example a
	flash write routine had allocated all of the working area to speed
	up operation. A subsequent verify pass couldn't allocate space for
	the checksum algorithm even though all previous allocations had been
	freed.  This allocator is marginally more complex, but solves the above
	problem by splitting larger free areas to fulfill smaller requests
	and by merging released areas into adjacent free areas.  An initial free area, covering the entire specified address range,
	is set up on first allocation, and all allocations are split off
	from (and ultimately merged into) that one. It can also easily be
	adapted to support several disjoint working areas for the same
	target, by setting up several initial free areas and slightly
	modifying the merge code.  Change-Id: I6faaf9801312bb19a4fa4474694a0cd1c6e0ab54 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/445 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32f2x.cfg: cfg: enable stm32f2x SYSRESETREQ support The stm32 family supports using SYSRESETREQ as a software reset,
	lets use it.  Change-Id: I171ffa8d888a2d0c28b266051030311521e9bca9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/472 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/stlink/stlink_interface.c: stlink: support expected-id 0 This brings the stlink driver inline with the rest of OpenOCD.  If the user configures the tap as -expected-id 0 then the IDCODE
	will be treated as a wildcard and ignored.  Change-Id: I99160c69b2b40f5b1f608bb59ab6630894502fd8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/476 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: fix more texinfo warnings A period or comma must follow the closing brace of an @xref.  Change-Id: Ida5dc3600eca328d95b0a8f6b5c9fe0a0f3ba820 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/475 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-02-18  Stian Skjelsad <stian@nixia.no>

	* src/flash/nand/tcl.c: Sometime in the past, nand_fileio_finish
	started to return ERROR_OK (with the value of zero) on success.  Change-Id: Ifb743c1617e2a6071a87c901fae8165969efcdbf Signed-off-by:
	Stian Skjelstad <stian@nixia.no> Reviewed-on:
	http://openocd.zylin.com/468 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-17  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c: stlink: add error status check This patch add the status check.  Change-Id: I0fdb9bf66dad5ae416c7aa4c6e19116f846571f9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/463 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-17  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* tcl/target/stm32f0x_stlink.cfg: Fix Typo in cfg file Change-Id: Id91ef70988212185f9ec653cbf5dc4e1defb1b9e Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/464 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-16  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb1_common.c: Fix typo that result in
	recursion.  Change-Id: Ie1102b4960bcb5acb254eae69b94fe87ab33dd0b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/462 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: add arm semi-hosting support Change-Id: Ib275d451a9201580f08ced090e50cf45eb3ab3e2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/459 Tested-by: jenkins

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s811-revb.cfg,
	tcl/board/ek-lm3s811.cfg, tcl/target/stellaris.cfg: cfg: change
	default stellaris working area This sets the default stellaris working area to 2k rather than the
	current 8k. 2K is the smallest RAM size in the stellaris family.  Change-Id: I1407f758eb0926cc094b824a6d25199b313c45de Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/458 Tested-by: jenkins

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: fix texinfo warnings A period or comma must follow the closing brace of an @xref.  Change-Id: I272f1e7fac8f1fee4844f485b0b8e2e4e9cf352d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/456 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/Makefile.am, src/jtag/stlink/Makefile.am,
	src/target/Makefile.am: build: fix automake 1.11.2 issues automake 1.11.2 throws `pkglibdir' is not a legitimate directory for
	`DATA' if nobase_dist_pkglib_DATA is used.  We work around this issue by defining our own location.  Change-Id: I3c29e2df0b67e745283c50d358e31699bd60dc74 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/457 Tested-by: jenkins

2012-02-07  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* tcl/target/stm32f0x_stlink.cfg: Add stm32f0x target Change-Id: I4abfef4459b7e2780d17bdd7623fd1ef797cc8ea Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/437 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-07  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* src/flash/nor/stm32f1x.c: Add stm32f0x probe and info working I used the CPUID instead of adding a new argument to the flash bank
	command Fixed Type in comments Add the failsafe return value in device_id Change-Id:
	Ieb5a46fc002b5390a0c81bc8b49f6c687036ae1d Signed-off-by: Jonathan
	Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/438 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-16  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c: Add bootloader mode.  This patch add the bootloader define.  Change-Id: I280a8a35c3514910dd381de3ab8ad59c9bd74ca1 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/455 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: fix incorrect stm32f2x/stm32f4x
	flash size register The ref manuals for the stm32f2x (RM0033 Rev4) and stm32f4x (RM0090
	rev1) are unclear to the address of the flash size register (F_ID).  According to contacts @ ST this is the correct address, the manuals
	will be updated in due coarse.  Change-Id: If9fb83b3100458d17038cf27c2b23355e1dc5a9e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/448 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-02-13  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: correct small typo Change-Id: I5e8bea591274b4032d3e04c4be7e9110138d5bc2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/447 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-26  Lars Poeschel <lars@kiwigrid.com>

	* tcl/board/icnova_sam9g45_sodimm.cfg: add icnova_sam9g45_sodimm
	support This adds support for in-circuit icnova sam9g45 sodimm:

	http://www.ic-board.de/product_info.php?info=p214_ICnova-SAM9G45-SODIMM.html|ICnovaThe NAND flash is not yet working.  Change-Id: I94ca5203f8d8a55dec1e4e87cd0631bd2b8393f9 Signed-off-by:
	lars@kiwigrid.com Reviewed-on: http://openocd.zylin.com/418
	Tested-by: jenkins Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-04  James Robinson <jmr13031@gmail.com>

	* tcl/board/imx28evk.cfg, tcl/target/imx28.cfg: topic: Add support
	for i.MX28EVK Added the file imx28.cfg to the target directory Added the file
	imx28evk.cfg to the board directory Change-Id: I02a74a03f3773892f830d13660ffdded34f3261d Signed-off-by:
	James Robinson <jmr13031@gmail.com> Reviewed-on:
	http://openocd.zylin.com/428 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-09  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/openocd.texi: Add init_board documentation This patch adds init_board concept information to OpenOCD manual.
	Additionally a link from init_targets chapter to new chapter about
	init_board is added.  Change-Id: I09b9aaa1cf68b94f35701224f641cae9811a5bcf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/440 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm3s811-revb.cfg: cfg: add revb ek-lm3s811 board
	config Add board config for older (revb) ek-lm3s811 Change-Id: I75aca1714de3e88b60d00fa0f99f2c4b076b569c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/444 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32lx_stlink.cfg: cfg: fix incorrect STM32L SW-DP id STM32L ref manual (RM00038 Rev5) states the SW-DP id should be
	0x4ba00477.  The correct value from silicon is 0x2ba01477 - the typo
	has been confirmed by ST.  Change-Id: Ie35a1f13dc5dedc1b148fb219c6974bfa48b537c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/441 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32ldiscovery.cfg: cfg: add stm32ldiscovery board
	config Change-Id: I392fdc4c588783fda1c7d4d6413b86ae9aa3f6b9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/442 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32_stlink.cfg: cfg: add ST-LINK TRANSPORT config
	override This enables the user to override the transport used for st-link.
	If JTAG is selected it will also change the default id used to the
	JTAG id rather than the SW-DP id.  Change-Id: I4fe352e4932e2f4ec278168e99ba2d2d50fd850a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/443 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-03  Freddie Chopin <freddie.chopin@gmail.com>

	* src/target/startup.tcl, src/target/target.c: Add init_board
	procedure executed after init_targets This adds init_board procedure that behaves exactly the same as
	init_targets - it can be overriden by "next level" scripts. This
	procedure is executed after init_targets, allowing common stuff
	(jtag chain, memory, flash, ...) to be configured in target script
	(via init_target) and leaving rest (like additional memory, reset
	configuration, reset-init handlers, ...) to be done in init_board.  This makes init_targets scheme more complete and easier to use -
	current board scripts will not need new init_targets, because
	everything can be "packed" in init_boards. Moreover it solves the
	problem of variables being set in init_targets (executed after
	init), which were not accessible by "linear" scripts (parsed before
	init). All that has to be done is to enclose all code in board
	config file in init_board procedure.  Change-Id: I0736b1ff9873a687966407d62b58ccf29a8e597b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/427 Reviewed-by: Chris Morgan
	<chmorgan@gmail.com> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-02-09  Freddie Chopin <freddie.chopin@gmail.com>

	* doc/openocd.texi: Add missing init_targets documentation Add init_targets procedure documentation to OpenOCD manual
	explaining the concept.  Change-Id: I82933ed90397cbcdc5c72801182573ca69b1d265 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/439 Reviewed-by: Chris Morgan
	<chmorgan@gmail.com> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32vldiscovery.cfg: cfg: add stm32vldiscovery board
	config Change-Id: I6343d1e61153ba71c71f8a473171972abb8e400d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/432 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add original stlink (STLINK-V1) usage note Add a note to the docs about the original stlink being broken under
	linux.  Change-Id: Ib440d78e5c7d31eeace99f611a76fcf701bfb8bc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/433 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-02-01  Freddie Chopin <freddie.chopin@gmail.com>

	* tcl/target/lpc2xxx.cfg: Export _TARGETNAME from generic LPC2xxx
	script Make _TARGETNAME variable global so it could be used by scripts
	sourcing it.  Change-Id: Iaf1c3b53875734658b1b8f136c9bb958988b56bf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/421 Tested-by: jenkins Reviewed-by: Chris
	Morgan <chmorgan@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/mflash.c, src/flash/nand/core.h,
	src/flash/nand/driver.h, src/flash/nor/lpc2900.c,
	src/helper/binarybuffer.c, src/helper/command.c,
	src/helper/command.h, src/helper/time_support.h, src/jtag/core.c: 
	doxygen: use correct comment syntax This issue was caused by uncrustify not correctly converting the
	doxygen comments.  Signed-off-by: Spencer Oliver <spen@spen-soft.co.uk> Change-Id:
	Ie6dc3b057a08603b670cb27312e5f0d989426e6c Reviewed-on:
	http://openocd.zylin.com/431 Tested-by: jenkins

2012-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/adi_v5_jtag.c, src/target/adi_v5_swd.c,
	src/target/algorithm.c, src/target/algorithm.h, src/target/arm.h,
	src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h, src/target/arm720t.c,
	src/target/arm720t.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm946e.c, src/target/arm946e.h, src/target/arm966e.c,
	src/target/arm966e.h, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/arm_opcodes.h,
	src/target/arm_semihosting.c, src/target/arm_simulator.c,
	src/target/arm_simulator.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv4_5_cache.c,
	src/target/armv4_5_cache.h, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/armv7m.c, src/target/armv7m.h, src/target/avr32_ap7k.c,
	src/target/avr32_ap7k.h, src/target/avr32_jtag.c,
	src/target/avr32_jtag.h, src/target/avr32_mem.c,
	src/target/avr32_mem.h, src/target/avr32_regs.c,
	src/target/avr32_regs.h, src/target/avrt.c, src/target/avrt.h,
	src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_a.c, src/target/cortex_a.h,
	src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/dsp563xx.c, src/target/dsp563xx.h,
	src/target/dsp563xx_once.c, src/target/dsp563xx_once.h,
	src/target/dsp5680xx.c, src/target/dsp5680xx.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h, src/target/etm_dummy.c, src/target/etm_dummy.h,
	src/target/fa526.c, src/target/feroceon.c, src/target/image.c,
	src/target/image.h, src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h,
	src/target/oocd_trace.c, src/target/oocd_trace.h,
	src/target/register.c, src/target/register.h, src/target/smp.c,
	src/target/smp.h, src/target/stm32_stlink.c, src/target/target.c,
	src/target/target.h, src/target/target_request.c,
	src/target/target_request.h, src/target/target_type.h,
	src/target/trace.c, src/target/trace.h, src/target/xscale.c,
	src/target/xscale.h: build: cleanup src/target directory Change-Id: Ia055b6d2b5f6449a38afd0539a8c66e7d7e0c059 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/430 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/OpenULINK/include/delay.h,
	src/jtag/drivers/OpenULINK/include/io.h,
	src/jtag/drivers/OpenULINK/include/jtag.h,
	src/jtag/drivers/OpenULINK/include/reg_ezusb.h,
	src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/delay.c,
	src/jtag/drivers/OpenULINK/src/jtag.c,
	src/jtag/drivers/OpenULINK/src/main.c,
	src/jtag/drivers/OpenULINK/src/protocol.c,
	src/jtag/drivers/OpenULINK/src/usb.c,
	src/jtag/drivers/amt_jtagaccel.c, src/jtag/drivers/arm-jtag-ew.c,
	src/jtag/drivers/at91rm9200.c, src/jtag/drivers/bitbang.c,
	src/jtag/drivers/bitbang.h, src/jtag/drivers/bitq.c,
	src/jtag/drivers/bitq.h, src/jtag/drivers/buspirate.c,
	src/jtag/drivers/driver.c, src/jtag/drivers/dummy.c,
	src/jtag/drivers/ep93xx.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/ftd2xx_common.h, src/jtag/drivers/gw16012.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h,
	src/jtag/drivers/minidriver_imp.h, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/remote_bitbang.c,
	src/jtag/drivers/rlink.c, src/jtag/drivers/rlink_dtc_cmd.h,
	src/jtag/drivers/rlink_speed_table.c,
	src/jtag/drivers/stlink_usb.h, src/jtag/drivers/ulink.c,
	src/jtag/drivers/usb_blaster.c, src/jtag/drivers/usb_common.c,
	src/jtag/drivers/usb_common.h, src/jtag/drivers/usbprog.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtogpio.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtojtagraw.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtopwr.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoswd.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.h,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx_internal.h,
	src/jtag/drivers/versaloon/versaloon.c,
	src/jtag/drivers/versaloon/versaloon.h,
	src/jtag/drivers/versaloon/versaloon_include.h,
	src/jtag/drivers/versaloon/versaloon_internal.h,
	src/jtag/drivers/vsllink.c, src/jtag/minidriver/minidriver_imp.h,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h,
	src/jtag/stlink/stlink_layout.h, src/jtag/stlink/stlink_tcl.h,
	src/jtag/stlink/stlink_transport.h,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: build:
	cleanup src/jtag/drivers directory Change-Id: I99c08ec0132d5a15250050e718310f1ddd9fe546 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/425 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: remove __packed and
	__aligned checks These checks are specific to linux kernel.  Change-Id: Ia9b837b5609922a897822f1d55f96f04c0f1f838 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/424 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/adapter.c, src/jtag/commands.c, src/jtag/commands.h,
	src/jtag/core.c, src/jtag/driver.h, src/jtag/interface.c,
	src/jtag/interface.h, src/jtag/interfaces.c, src/jtag/interfaces.h,
	src/jtag/jtag.h, src/jtag/minidriver.h, src/jtag/swd.h,
	src/jtag/tcl.c, src/jtag/tcl.h: build: cleanup src/jtag directory Change-Id: I7caf57ca3d9dfbe152504472a6bb26c2a28b92e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/423 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: increase line length to
	120 Change-Id: I963385d0a4880f2b1e55208c8dfe65c1870ac6e1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/422 Tested-by: jenkins

2012-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam7.c, src/flash/nor/avrf.c,
	src/flash/nor/cfi.c, src/flash/nor/cfi.h, src/flash/nor/core.c,
	src/flash/nor/core.h, src/flash/nor/driver.h,
	src/flash/nor/drivers.c, src/flash/nor/dsp5680xx_flash.c,
	src/flash/nor/ecos.c, src/flash/nor/em357.c, src/flash/nor/faux.c,
	src/flash/nor/fm3.c, src/flash/nor/imp.h, src/flash/nor/kinetis.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc288x.c,
	src/flash/nor/lpc2900.c, src/flash/nor/non_cfi.c,
	src/flash/nor/non_cfi.h, src/flash/nor/ocl.c, src/flash/nor/ocl.h,
	src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c, src/flash/nor/stmsmi.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tcl.c,
	src/flash/nor/tms470.c, src/flash/nor/virtual.c: build: cleanup
	src/flash/nor directory Change-Id: Ic299de969ce566282c055ba4dd8b94892c4c4311 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/420 Tested-by: jenkins

2012-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nand/arm_io.c, src/flash/nand/arm_io.h,
	src/flash/nand/at91sam9.c, src/flash/nand/core.c,
	src/flash/nand/core.h, src/flash/nand/davinci.c,
	src/flash/nand/driver.c, src/flash/nand/driver.h,
	src/flash/nand/ecc.c, src/flash/nand/ecc_kw.c,
	src/flash/nand/fileio.c, src/flash/nand/fileio.h,
	src/flash/nand/imp.h, src/flash/nand/lpc3180.c,
	src/flash/nand/lpc3180.h, src/flash/nand/lpc32xx.c,
	src/flash/nand/lpc32xx.h, src/flash/nand/mx3.c,
	src/flash/nand/mx3.h, src/flash/nand/mxc.c, src/flash/nand/nonce.c,
	src/flash/nand/nuc910.c, src/flash/nand/orion.c,
	src/flash/nand/s3c2410.c, src/flash/nand/s3c2412.c,
	src/flash/nand/s3c2440.c, src/flash/nand/s3c2443.c,
	src/flash/nand/s3c24xx.c, src/flash/nand/s3c24xx.h,
	src/flash/nand/s3c24xx_regs.h, src/flash/nand/s3c6400.c,
	src/flash/nand/tcl.c: build: cleanup src/flash/nand directory Change-Id: I21bb466a35168cf04743f5baafac9fef50d01707 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/419 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/common.c, src/flash/common.h, src/flash/mflash.c,
	src/flash/mflash.h: build: cleanup src/flash directory Change-Id: I33c32a884095cff139546f760bc8fa6586e8c5b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/417 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/FreeRTOS.c, src/rtos/ThreadX.c, src/rtos/eCos.c,
	src/rtos/linux.c, src/rtos/rtos.c, src/rtos/rtos.h,
	src/rtos/rtos_ecos_stackings.c, src/rtos/rtos_ecos_stackings.h,
	src/rtos/rtos_standard_stackings.c,
	src/rtos/rtos_standard_stackings.h: build: cleanup src/rtos
	directory Change-Id: I24bc62d12409dbfc20a0a986acf6b3f2c913e36d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/416 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/command.c, src/helper/command.h,
	src/helper/configuration.c, src/helper/configuration.h,
	src/helper/fileio.c, src/helper/fileio.h, src/helper/ioutil.c,
	src/helper/ioutil.h, src/helper/jim-nvp.c, src/helper/jim-nvp.h,
	src/helper/log.c, src/helper/log.h, src/helper/options.c,
	src/helper/replacements.c, src/helper/replacements.h,
	src/helper/system.h, src/helper/time_support.c,
	src/helper/time_support.h, src/helper/time_support_common.c,
	src/helper/time_support_ecos.c, src/helper/types.h,
	src/helper/util.c, src/helper/util.h: build: cleanup src/helper
	directory Change-Id: I71a312df783995e9083c345c25e73902d5aef59e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/415 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: remove volatile check We may enable this again - but at the moment is causing extra issues
	with reformatting the codebase.  Change-Id: I5a2aaaa32ad784e011dff3079ff45501452c1819 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/414

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: remove typedef check We may enable this again - but at the moment is causing extra issues
	with reformatting the codebase.  Change-Id: Ic64310a20605a0ef3206caa15c8e6c8ee655bfda Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/413 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/server.c, src/server/server.h,
	src/server/server_stubs.c, src/server/tcl_server.c,
	src/server/tcl_server.h, src/server/telnet_server.c,
	src/server/telnet_server.h: build: cleanup src/server directory Change-Id: I6410df28c5999f5cbee2d3bcaa02469a29ea4c15 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/412 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/transport/transport.c: build: cleanup src/transport directory Change-Id: If73da1a7272602314f042c3e3c0e61050530998d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/411 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/xsvf/xsvf.c, src/xsvf/xsvf.h: build: cleanup src/xsvf
	directory Change-Id: I5325980b240fba841d8cce81985f4da369ad9052 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/410 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/svf/svf.c, src/svf/svf.h: build: cleanup src/svf directory Change-Id: If9186964e2597f8ca1f01885fc28418df7d92964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/409 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c,
	src/pld/virtex2.h, src/pld/xilinx_bit.c, src/pld/xilinx_bit.h: 
	build: cleanup src/pld directory Change-Id: I9edb027c76e5d7fe21d557a11e6a9691fa581e86 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/408 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* src/hello.c, src/hello.h, src/main.c, src/openocd.c,
	src/openocd.h: build: cleanup src/ directory Change-Id: Ia6ed99ce75625ad6ef5e0d3c3bbdc1c1bec21df3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/407 Tested-by: jenkins

2012-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* uncrustify.cfg: build: update uncrustify config This config has been updated for 0.59 Change-Id: If0dc87dd5de052c1228743a196a3198dbd4bc279 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/406 Tested-by: jenkins

2012-01-29  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c: STLINK: add check for the supported
	jtag API version This patch add a validation for the supported jtag api version.  Change-Id: I0b51350e58e351d6662f4039c0a9e9d0d79ba4ec Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/405 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* contrib/loaders/flash/stm32f1x.S, src/flash/nor/stm32f1x.c: 
	stm32f1x: fix bug in flash loader and restrict instruction set to
	armv6-m Correct the offset to the read pointer when clearing it on error.  Also restrict the instruction set to armv6-m so the flash driver can
	be used on Cortex-M0 parts with the same flash controller.  Change-Id: I380f9dabcc41fb6e4d43a7e02f355e2381913f39 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/399 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Jonathan Dumaresq
	<jdumaresq@cimeq.qc.ca> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c: target: increase chunk size in dump_image Replace the big stack-allocated buffer with a much bigger
	heap-allocated.  There was no explanation for the apparently
	arbitrary chunk size, and performance was improved by increasing it,
	leveling out at about 4k.  Change-Id: I3b06d4469092ec8d89d0ce05bff0b7cf213c5062 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/404 Tested-by: jenkins Reviewed-by: Marti
	Bolivar <mbolivar@leaflabs.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-23  Mathias K <kesmtp@freenet.de>

	* tcl/board/stm32f4discovery.cfg, tcl/interface/stlink-usb.cfg,
	tcl/interface/stlink-v1.cfg, tcl/interface/stlink-v2.cfg: STLINK:
	add stlink v1 configuration Change-Id: I6b9de16879ff928d60e3c4a64731449275291cc2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/397 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_layout.c: 
	STLINK: Test device version (v1/v2) on usb transfers and add sg
	support This patch test the device version and differentiate between v1 and
	v2 devices.  Change-Id: Ie79bf2c5534211493b004329fb6d5b9d4ea5453b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/396 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c,
	src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h,
	src/jtag/stlink/stlink_layout.c, src/jtag/stlink/stlink_layout.h,
	src/jtag/stlink/stlink_transport.c,
	src/jtag/stlink/stlink_transport.h, src/target/stm32_stlink.c,
	tcl/target/stm32_stlink.cfg: STLINK: swd transport renamed and
	jtag+swim transport added This patch add jtag support to the stlink driver add two new
	transport types, JTAG and SWIM.  Change-Id: I7089d74250330be5c6a01c24066307641df7d11e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/393 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/interface/luminary-lm3s811.cfg: cfg: correct Stellaris LM3S811
	config typo This only effects the older Stellaris LM3S811 kits (rev B and
	below).  Change-Id: Ie068cce7748fede9e7113ea63a69c96222c809fa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/401 Tested-by: jenkins

2012-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: fix stellaris class regression for some reason the following commit was incorrect
	769064de4bd8fc59804c37a418b83fcdba6fd36f Only the Sandstorm and Fury class should write this register.  Change-Id: Ie18f1da6e9b59fb99cca47aa93c7f2fee447ccea Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/400 Tested-by: jenkins

2012-01-24  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: add missing memory check
	handlers Change-Id: I502575ab77c0c87ffebb56ec3d78905f7fcf7cc5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/398 Tested-by: jenkins

2011-12-02  Fujitsu FM3 Application Team <openocd.fseu@de.fujitsu.com>

	* src/flash/nor/fm3.c: flash: cleanup/reformat fm3 flash driver Signed-off-by: Fujitsu FM3 Application Team
	<openocd.fseu@de.fujitsu.com> Change-Id:
	Iaf0bacfa5438a0213a65a3d60e7d461965a5a1ac Reviewed-on:
	http://openocd.zylin.com/249 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* src/flash/nand/tcl.c: NAND: Misleading report of erased blocks For example, when blocks 2 and 3 were erased, openocd reported
	"erased blocks 2 to 4". That should be "2 to 3", I think.  Change-Id: Icece63dedd3dd931b70fa73616819a19572e39de Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/385 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* src/flash/nand/mxc.c: i.MX25: Set OOB size (MXC NFC) SPAS register (OOB size) is left wrong after reset with respect to
	2KiB page NAND chip. That will lead to ECC errors after 'reset
	halt'.  Change-Id: If5a4685cb8d6be35879453951611ef1059da219c Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/384 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* src/flash/nand/mxc.c, src/flash/nand/mxc.h: i.MX25: Add support
	for i.MX25 NAND Flash Controller This patch is based on Erik Ahlén's work on i.MX35 NFC support.
	Basically it redefines the CCM.RCSR register which is in a different
	address in i.MX25.  Change-Id: Ia6faf9cb5efae5e564b72ef9a9b7c7f8bfde3ce0 Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/383 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-20  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stellaris.cfg: cfg: add missing Stellaris Blizzard info Change-Id: I1d6fb9a2ec8d87267a266f68c01ce032450e45d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/392 Tested-by: jenkins

2012-01-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: update
	stellaris_set_flash_timing for target class stellaris_set_flash_timing should only be used for Sandstorm and
	Fury device classes.  Change-Id: Ib5eff9d954c039f2c5726a8ecc3ee45d1694cfd3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/389 Tested-by: jenkins

2012-01-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: cleanup stellaris device class
	detection read the target class during probe and save for later use.  Change-Id: Ib3ad20edc7d206b7f434bdcc6b947e6a5f06dd1f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/388 Tested-by: jenkins

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: better handle target
	reset/events This makes the stlink target use the std armv7m_arch_state giving
	consistent OpenOCD output.  Added debug entry handler so we get debug entry reason.  Change-Id: Ia3c1380fd5033a8e541b0d45a7c3559f1b05957d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/379 Tested-by: jenkins

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: enable cortex special reg
	writes Change-Id: I5aa02e8de6dd5ac5a6ca628ba4068decb200c689 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/378 Tested-by: jenkins

2012-01-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nand/arm_io.c, src/flash/nor/str9xpec.c,
	src/target/arm.h, src/target/arm720t.c, src/target/arm720t.h,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm946e.h, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv7a.c, src/target/armv7a.h, src/target/cortex_a.c,
	src/target/cortex_a.h, src/target/feroceon.c, src/target/xscale.c,
	src/target/xscale.h: cleanup: rename armv4_5 to arm for readability Nothing more than a name change, just to make reading the code a bit
	simpler.  Change-Id: I73a16b7302b48ce07d9688162955aae71d11eb45 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/390 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-19  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nand/tcl.c, src/flash/nor/tcl.c: flash: print bank usage
	on failure This makes use of the newly introduced usage field in the flash bank
	structure.  Also remove the assertion if usage field is null and lets print a
	DEBUG_LOG message instead.  Change-Id: I384bf0e2c444fcc99deef73aec9ef01149a91c76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/391 Tested-by: jenkins

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: add missing stellaris device
	classes This adds missing classes to the stellaris flash driver.  Change-Id: I90f2218479e5eb60950046fef04429b9529f7ddf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/382 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* BUGS, Doxyfile.in, HACKING, Makefile.am, PATCHES.txt,
	doc/manual/primer/patches.txt, doc/openocd.texi: doc: Update patch
	procedure Change-Id: I3e50357b4ddaf483712bbac68b6427b31529f666 Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/387 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m.c: 
	target: move regmaps to armv7m.c This move will enable use to share with regmaps with the stlink
	target.  Change-Id: If8f41c7c53323d5074cb22ec3440530c1e402004 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/377 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/mflash.c, src/flash/nand/at91sam9.c,
	src/flash/nand/lpc3180.c, src/flash/nand/lpc32xx.c,
	src/flash/nand/tcl.c, src/jtag/tcl.c, src/pld/pld.c,
	src/pld/virtex2.c, src/server/gdb_server.c, src/server/server.c,
	src/server/telnet_server.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm946e.c,
	src/target/arm966e.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/cortex_a.c, src/target/cortex_m.c, src/target/etm.c,
	src/target/mips32.c, src/target/mips_m4k.c,
	src/target/oocd_trace.c, src/target/xscale.c: cmd: add missing usage
	vars we should have caught them all - hopefully.  Change-Id: I35435317fccaf5ad0216244d69f76db6857bb582 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/381 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* src/rtos/Makefile.am: build: fix broken make distcheck 0a4b27ec4bcb303547af68490f007d65a00bff02 commit forgot to update
	required distcheck files.  Change-Id: I3a5b94d4548c02cb9c1fc371a6fdcc2a3854e9c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/380 Tested-by: jenkins

2012-01-06  Michel JAOUEN <michel.jaouen@stericsson.com>

	* tcl/target/u8500.cfg: u8500: linux rtos config Change-Id: I21a9dcc5fb260095aed2217e467b74ebecb39afb Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/349 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-11  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/Makefile.am, src/rtos/linux.c, src/rtos/linux_header.h,
	src/rtos/rtos.c: rtos : linux awareness Change-Id: I41294ccaa4a3cd253919c8b1b558205903bcb695 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/348 Tested-by: jenkins Reviewed-by: Heythem
	Bouhaja <heythem.bouhaja-nonst@stericsson.com> Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.c, src/rtos/rtos.h: rtos : create qsymbol interface
	and add str_to_hex interface Change-Id: I1b26f7efd3ad4a060f772dd12408e77a03d93cea Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/347 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/server/gdb_server.c: rtos : receive reset info Change-Id: I03c64f50eed9bec43303bf47ac1f226a0e8dbd53 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/346 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.h, src/target/target.c: rtos : ps command Change-Id: I1b00b6d72f425826c33b0df7dd63114ce642ce93 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/345 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.c, src/rtos/rtos.h, src/server/gdb_server.c,
	src/target/target.c: rtos : smp support Change-Id: I583cddf5e62ed77f108786a085569ab8699ad50d Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/344 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.c, src/rtos/rtos.h: rtos : current_threadid move to
	rtos context Change-Id: I49d9d6d64c418be601d8723cb3eea9c3716ecb6b Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/343 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.c, src/rtos/rtos.h: rtos :introduce possible
	overload by rtos of gdb_thread_packet Change-Id: I17381b581556fa75098a84699dbbf69423fe20eb Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/342 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/rtos/rtos.c, src/rtos/rtos.h, src/server/gdb_server.c: rtos :
	remove unused parameter Change-Id: I98c9f28a0085bd4713b694181ab544777091eac6 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/341 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-13  John <john@clip-4-win.co.uk>

	* tcl/target/str730.cfg: cfg: fix typo in str730.cfg Change-Id: Ie0222b68b3d8dd21726ac4f0cd4106da0e0456dd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/376 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-01-12  Mathias K <kesmtp@freenet.de>

	* src/jtag/stlink/stlink_layout.c: stlink: handle wrong
	initialization file if no layout was specified This patch remove the hardcoded default layout and return an error
	if no layout was specified in the configuration file.  Change-Id: I0e7833faa2dc194e727122840bcbdacd321cc4fd Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/369 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Mathias K <kesmtp@freenet.de>

	* src/target/stm32_stlink.c: stlink: add none 32bit memory
	read/write functions This patch add none 32bit memory read/write  functions.  Change-Id: Ie3a761cf006249b30d0691d1ea167d69a012c36a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/367 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_layout.h: 
	stlink: add read/write 8bit memory This patch add layout api funtions and implementation to read/write
	8bit memory.  Change-Id: I8d145eb07e5afa9ce1830578e57d80a80d21e7dc Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/366 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: build: fix broken commit fixes commit 04fe2ca5547f76686c7dc555f90510eed6fcc551 Change-Id: Id7fcb82fa1a445f1df21b8d98e945f7c0e08ec93 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/375 Tested-by: jenkins

2012-01-12  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/stlink_usb.c, src/jtag/stlink/stlink_transport.c: 
	stlink: correctly signal stlink_interface_open failure give the user a error msg on open failure.  Change-Id: If4a57bac7f3e1746c2a05c7a96747a38da188041 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/368 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: stm32f2x incorrectly using 512 as
	max family size Change-Id: I2bac348c6d0baabd3d88335c5aa0a318ef66653a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/353 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: detect stm32f4x device id errata This allows us to detect a device arrata where the device id
	returned is incorrect.  This issue only effects stm32f4x Rev A silicon.  Change-Id: Ic9f4985f9abf562f97322dcf484199f0a4eb01bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/354 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/at91sam3.c, src/flash/nor/at91sam7.c,
	src/flash/nor/avrf.c, src/flash/nor/em357.c, src/flash/nor/fm3.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc2900.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/flash/nor/str9xpec.c,
	src/flash/nor/tms470.c, src/jtag/stlink/stlink_transport.c,
	src/target/target.c, src/target/target_request.c: cmd: add missing
	usage var Change-Id: I0f05d643b0801b19cc3beb88f0d12d7e4c83ef9c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/356 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/stlink/stlink_interface.c: stlink: add dummy speed
	handlers Change-Id: I0445be7867637728145941b06225dc0acc5380e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/355 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c: flash: use correct device_id mask The stm32 drivers have been using 0x7ff as the DEV_ID mask, this
	should have been 0xfff.  Change-Id: I232469620969d6dd1b9a2a2aa15ec18b947dbb05 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/352 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-01-10  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/stellaris.c, src/flash/nor/stm32lx.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c: optimize: replace while loop by memcpy There is no need to use a while loop here. This patch simple copy
	the last bytes with the system function.  Change-Id: Ibda72dca449746efeba5a1af2e45c5990f9cf347 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/364 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/at91sam3.c, src/flash/nor/str7x.c,
	src/target/stm32_stlink.c: build: remove unused variables detected by clang.  Change-Id: Id9effcc5437870f37fecd33803f7753c6eca53d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/361 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de>

2012-01-10  Bruno FLEURETTE <bruno.fleurette@gmail.com>

	* src/flash/nor/stm32f2x.c: flash: pre-check flash unlock for
	stm32f2x add checking of the current flash lock status before performing the
	unlock sequence (which would fail in an unlocked state) Change-Id: I693294c9cd2f59e69cb5bf3338120052fd680b1e Signed-off-by:
	Bruno FLEURETTE <bruno.fleurette@gmail.com> Signed-off-by: Øyvind
	Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/363 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/xsvf/xsvf.c: xsvf: fix clang warning clang reports 'Function call argument is an uninitialized value'.  Change-Id: I50f4a7932b59930a5f1e3ece70b12c59e85ea3c6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/360 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/armv4_5.c: target: fix missing semihosting return path bug nicely caught by clang.  Change-Id: I7abf0fdd76666fb3eb1c83e3edfd01e0da485ffe Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/359 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: support stm32f4x flash This uses the same controller as the stm32f2x family.  Change-Id: I931a9ceb0cd1219514d14b8b59475179e543dd0f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/338 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: use stm32f2x flash size register Use the flash size register to calculate flash info.  Change-Id: Ia230db8a08d440710c030a9e5001f20561c9f420 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/337 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-05  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: add initial st-link info Change-Id: I213bf26dec582fd8e273e604d43a6e849599dd50 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/340 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/openocd.udev: contrib: add stlink udev rules Change-Id: I3f11de8abfaf8821311a7aa0fd237006de3c2792 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/333 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/stm32f4discovery.cfg, tcl/target/stm32_stlink.cfg,
	tcl/target/stm32f1x_stlink.cfg, tcl/target/stm32f2x_stlink.cfg,
	tcl/target/stm32f4x_stlink.cfg, tcl/target/stm32lx_stlink.cfg: cfg:
	add stlink pseudo stm32 targets Change-Id: I71253c2090162b1214bbbb37396735bb9128f920 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/334 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg: cfg: use
	consistent chipname Change-Id: I41e0788f830d5ece13e6231a99d5b4013c9c678f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/331 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-01-06  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/manual/style.txt: docs: fix doxygen build This fixes issues with newer versions of doxygen Change-Id: Id5d3287857cb154e26064b4ce37f6b72117d5254 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/350 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: rtos: fix bug in error handling checking for != ERROR_FAIL is broken.  Change-Id: Id7085afac653bb9c38d08928227a9ea402d8e6e9 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/351 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-05  Spencer Oliver <spen@spen-soft.co.uk>

	* doc/openocd.texi: docs: whitespace fixes Change-Id: I9c6c7017ce3077bb131a05ea9b53a115506c94d9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/339 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-16  Mathias K <kesmtp@freenet.de>

	* src/flash/nand/davinci.c, src/flash/nand/lpc3180.c,
	src/flash/nand/lpc32xx.c, src/flash/nand/mx3.c,
	src/flash/nand/orion.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam7.c, src/flash/nor/avrf.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/em357.c,
	src/flash/nor/faux.c, src/flash/nor/fm3.c, src/flash/nor/kinetis.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc288x.c,
	src/flash/nor/lpc2900.c, src/flash/nor/ocl.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32lx.c, src/flash/nor/stmsmi.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tms470.c,
	src/flash/nor/virtual.c, src/hello.c, src/helper/ioutil.c,
	src/jtag/drivers/at91rm9200.c, src/jtag/drivers/buspirate.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/ulink.c,
	src/jtag/drivers/vsllink.c, src/pld/pld.c, src/pld/virtex2.c,
	src/target/arm920t.c, src/target/armv4_5.c, src/target/etm.c,
	src/target/mips32.c, src/target/mips_m4k.c,
	src/target/oocd_trace.c, src/target/target.c,
	src/target/target_request.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	Change return value on error.  On wrong parameters a error is signalized to the calling function.  Change-Id: I484443fdb39938e20382edc9246d5ec546a5c960 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Signed-off-by: Øyvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/282
	Tested-by: jenkins Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/stm32_stlink.c: stlink: update to use
	ERROR_COMMAND_SYNTAX_ERROR Change-Id: I21b669b09df65b56659d2f057cf389ba7b1cecfa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/335 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/driver.h, src/flash/nand/tcl.c,
	src/flash/nor/driver.h: flash: introduce .usage field for nand and
	nor flash driver structure Change-Id: I47e7ec8fa8c70d2addc3aa52d7c97e9e1e7bb662 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/301 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.c, src/flash/nand/core.c, src/flash/nand/tcl.c,
	src/flash/nor/stellaris.c, src/flash/nor/tcl.c,
	src/flash/nor/tms470.c, src/helper/command.c, src/helper/fileio.c,
	src/helper/ioutil.c, src/helper/log.c, src/helper/log.h,
	src/jtag/adapter.c, src/jtag/core.c, src/jtag/drivers/presto.c,
	src/jtag/zy1000/zy1000.c, src/pld/xilinx_bit.c,
	src/server/server.c, src/target/arm7_9_common.c,
	src/target/arm_adi_v5.c, src/target/arm_disassembler.c,
	src/target/arm_dpm.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/avr32_ap7k.c,
	src/target/cortex_a.c, src/target/cortex_m.c,
	src/target/dsp563xx.c, src/target/embeddedice.c, src/target/etm.c,
	src/target/image.c, src/target/mips32.c, src/target/mips_m4k.c,
	src/target/target.c, src/target/target_request.c,
	src/target/xscale.c: retire ERROR_INVALID_ARGUMENTS and replace with
	ERROR_COMMAND_SYNTAX_ERROR Change-Id: I6dee51e1fab1944085391f274a343cdb9014c7a4 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/300 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-24  Mathias K <kesmtp@freenet.de>

	* src/helper/command.c, src/openocd.c, src/target/target.c,
	src/target/trace.c, src/transport/transport.c: command: print BUG
	warning when usage is missing These error messages will prompt patches to be submitted for missing
	.usage or empty fields. All of the below must be resolved before
	next release.  The Jim defined commands are excluded from this checklist because
	the help text can be set later than during command registration.  strlen(.usage) == 0 means that the command expects no arguments.  Updates to this patch in Gerrit to fix problems below are most
	welcome. Anyone can push updated versions of a patch to Gerrit. If
	there are no further updates to this patch within a week, it will be
	pushed to the master branch to prompt more fixes.  These were caught by launching OpenOCD.  Error: BUG: command 'command' does not have the '.usage' field
	filled out Error: BUG: command 'script' does not have the '.usage'
	field filled out Error: BUG: command 'power_restore' does not have
	the '.usage' field filled out Error: BUG: command 'srst_deasserted'
	does not have the '.usage' field filled out Error: BUG: command
	'measure_clk' does not have the '.usage' field filled out Error:
	BUG: command 'exit' does not have the '.usage' field filled out
	Error: BUG: command 'shutdown' does not have the '.usage' field
	filled out Error: BUG: command 'gdb_sync' does not have the '.usage'
	field filled out Error: BUG: command 'interface_list' does not have
	the '.usage' field filled out Error: BUG: command 'target' does not
	have the '.usage' field filled out Error: BUG: command 'target init'
	does not have the '.usage' field filled out Error: BUG: command
	'flash' does not have the '.usage' field filled out Error: BUG:
	command 'flash init' does not have the '.usage' field filled out
	Error: BUG: command 'flash banks' does not have the '.usage' field
	filled out Error: BUG: command 'nand' does not have the '.usage'
	field filled out Error: BUG: command 'nand drivers' does not have
	the '.usage' field filled out Error: BUG: command 'nand init' does
	not have the '.usage' field filled out Error: BUG: command 'pld'
	does not have the '.usage' field filled out Error: BUG: command 'pld
	init' does not have the '.usage' field filled out Error: BUG:
	command 'mflash' does not have the '.usage' field filled out Error:
	BUG: command 'mflash init' does not have the '.usage' field filled
	out Error: BUG: command 'dummy' does not have the '.usage' field
	filled out Error: BUG: command 'dummy foo' does not have the
	'.usage' field filled out Error: BUG: command 'scan_chain' does not
	have the '.usage' field filled out Error: BUG: command 'jtag' does
	not have the '.usage' field filled out Error: BUG: command 'jtag
	init' does not have the '.usage' field filled out Error: BUG:
	command 'arm' does not have the '.usage' field filled out Error:
	BUG: command 'arm reg' does not have the '.usage' field filled out
	Error: BUG: command 'etm' does not have the '.usage' field filled
	out Error: BUG: command 'arm7_9' does not have the '.usage' field
	filled out Error: BUG: command 'at91eb40a.cpu' does not have the
	'.usage' field filled out Error: BUG: command 'at91eb40a.cpu arm'
	does not have the '.usage' field filled out Error: BUG: command 'arm
	reg' does not have the '.usage' field filled out Error: BUG: command
	'at91eb40a.cpu etm' does not have the '.usage' field filled out
	Error: BUG: command 'at91eb40a.cpu arm7_9' does not have the
	'.usage' field filled out Error: BUG: command 'target_request' does
	not have the '.usage' field filled out ^C oyvind@fierce:~/openocd$
	openocd -c "interface dummy" -f board/at91eb40a.cfg 2>&1 | grep -w
	BUG Error: BUG: command 'command' does not have the '.usage' field
	filled out Error: BUG: command 'script' does not have the '.usage'
	field filled out Error: BUG: command 'power_restore' does not have
	the '.usage' field filled out Error: BUG: command 'srst_deasserted'
	does not have the '.usage' field filled out Error: BUG: command
	'measure_clk' does not have the '.usage' field filled out Error:
	BUG: command 'exit' does not have the '.usage' field filled out
	Error: BUG: command 'shutdown' does not have the '.usage' field
	filled out Error: BUG: command 'gdb_sync' does not have the '.usage'
	field filled out Error: BUG: command 'interface_list' does not have
	the '.usage' field filled out Error: BUG: command 'target' does not
	have the '.usage' field filled out Error: BUG: command 'target init'
	does not have the '.usage' field filled out Error: BUG: command
	'flash' does not have the '.usage' field filled out Error: BUG:
	command 'flash init' does not have the '.usage' field filled out
	Error: BUG: command 'flash banks' does not have the '.usage' field
	filled out Error: BUG: command 'nand' does not have the '.usage'
	field filled out Error: BUG: command 'nand drivers' does not have
	the '.usage' field filled out Error: BUG: command 'nand init' does
	not have the '.usage' field filled out Error: BUG: command 'pld'
	does not have the '.usage' field filled out Error: BUG: command 'pld
	init' does not have the '.usage' field filled out Error: BUG:
	command 'mflash' does not have the '.usage' field filled out Error:
	BUG: command 'mflash init' does not have the '.usage' field filled
	out Error: BUG: command 'dummy' does not have the '.usage' field
	filled out Error: BUG: command 'dummy foo' does not have the
	'.usage' field filled out Error: BUG: command 'scan_chain' does not
	have the '.usage' field filled out Error: BUG: command 'jtag' does
	not have the '.usage' field filled out Error: BUG: command 'jtag
	init' does not have the '.usage' field filled out Error: BUG:
	command 'arm' does not have the '.usage' field filled out Error:
	BUG: command 'arm reg' does not have the '.usage' field filled out
	Error: BUG: command 'etm' does not have the '.usage' field filled
	out Error: BUG: command 'arm7_9' does not have the '.usage' field
	filled out Error: BUG: command 'at91eb40a.cpu' does not have the
	'.usage' field filled out Error: BUG: command 'at91eb40a.cpu arm'
	does not have the '.usage' field filled out Error: BUG: command 'arm
	reg' does not have the '.usage' field filled out Error: BUG: command
	'at91eb40a.cpu etm' does not have the '.usage' field filled out
	Error: BUG: command 'at91eb40a.cpu arm7_9' does not have the
	'.usage' field filled out Error: BUG: command 'target_request' does
	not have the '.usage' field filled out Change-Id: I2c3e529530a15d2295a1950ffc59e8f2fc661012 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Signed-off-by: Mathias K
	<kesmtp@freenet.de> Reviewed-on: http://openocd.zylin.com/299
	Tested-by: jenkins Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/Makefile.am, src/jtag/stlink/Makefile.am: build: fix make
	dist add missing files to distribution after previous commit.  Change-Id: I0e4b278c090c71d15dd059b6755c9821427cc8ab Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/332 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* tcl/target/stm32f2x_stlink.cfg: Add STM32F2X/STLINK target config
	file.  Change-Id: I02161fa05da993b5b966c31a706667d1bd91935d Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/287 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* tcl/interface/stlink-usb.cfg: Add STLINK/V2 interface config file.  Change-Id: I6df27ce619a5938ef854ff89bf76c6de4e122204 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/286 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* src/target/Makefile.am, src/target/stm32_stlink.c,
	src/target/target.c: STM32 ST-LINK target initial release STM32 ST-LINK target  added.  Change-Id: Ibe2b7a3c0d5a8cf73d8680d6019adbdb62d68fa2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/279 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-21  Mathias K <kesmtp@freenet.de>

	* configure.ac, src/jtag/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/stlink_usb.c, src/jtag/drivers/stlink_usb.h,
	src/jtag/interfaces.c, src/jtag/stlink/Makefile.am,
	src/jtag/stlink/stlink_interface.c,
	src/jtag/stlink/stlink_interface.h,
	src/jtag/stlink/stlink_layout.c, src/jtag/stlink/stlink_layout.h,
	src/jtag/stlink/stlink_tcl.c, src/jtag/stlink/stlink_tcl.h,
	src/jtag/stlink/stlink_transport.c,
	src/jtag/stlink/stlink_transport.h: ST-LINK USB initial release ST-Link USB support added.  Change-Id: I2812646f2895b1529ff3f911edbdce7fa0051c8f Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/261 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* src/jtag/tcl.c, src/jtag/tcl.h: Make jim functions public
	accessible.  Change this 2 functions to make it accessible for other tcl
	interfaces.  Change-Id: Idee07fcc779941b037a05a40c021e3fb0b1a4a7a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/277 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* src/target/cortex_m.c, src/target/cortex_m.h: Make cortex_m3
	functions public accessible.  Change this functions to make it accessible for other target
	implementations.  Change-Id: Ib41fc793cfb4de5439af026c2e8b52e7a9507c85 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/278 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-01  Mathias K <kesmtp@freenet.de>

	* src/jtag/jtag.h: add private data pointer to the tap interface This will give us the ability to add special data structures and new
	interfaces without rewriting the complete jtag engine.  Change-Id: I21a6e1daa96c5f4d111bbb734c7c1fbc2eaee227 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/244 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-20  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/command.c: helper: fix arm11 help text This fixes a long standing bug: see Trac #4 Increased help text
	recursion limit and added LOG_DEBUG so we can catch future errors
	like this.  Change-Id: I5fac95c4486eaddaf1e88a27ecb1835168f87711 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: Øyvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/291
	Tested-by: jenkins Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/replacements.h: build: fix mingw build issues 8901fca0270fec41b12c30c7dbd806d460548c5b broke the build under
	mingw, this fixes that.  Change-Id: I22b91e220dac3b68cc576b65a9f1b8711e64263a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/298 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-14  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/Makefile.am, src/flash/nand/mx2.c,
	src/flash/nand/mx2.h, src/flash/nand/mxc.c, src/flash/nand/mxc.h: 
	Renamed mx2.{c,h} to mxc.{c,h} and added copyright notice Change-Id: I07a280acdce58b8af4a145cd6beafccbb59f20d7 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/272 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-14  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* doc/openocd.texi: Documentation for mxc NAND flash controller Change-Id: I9e552491e8b4737c01e4f8ae2b9a582b6ff2bc5d Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/273 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-14  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/mx2.c, src/flash/nand/mx2.h: Added support for
	i.MX35 NAND Flash Controller (v2) Change-Id: I7237ec29792b6a7ee690751fa7e6cba0846d5aa8 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/271 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/mx2.c: Added command to enable/disable/query
	BI-swap for MXC NAND Change-Id: Ifa3eb739afe0760a974b57c5a17cc3bf7704ba79 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/270 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/mx2.c, src/flash/nand/mx2.h,
	tcl/board/tx27_stk5.cfg: Made BI-swap optional in mxc.  Change-Id: Ibdf3b1e415adcf1fdb38de25fe05da726ef58ca4 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/269 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/mx2.c, src/flash/nand/mx2.h,
	tcl/board/tx27_stk5.cfg: Added board type as a parameter to mx2 NFC
	as they have different base addresses.  Change-Id: I7bc326e9a8d9f6817f046a7faeebede567c53dd2 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/268 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* tcl/target/at91sam3XXX.cfg: at91sam3XXX.cfg: Configure JTAG clock
	to 500 kHz.  This affects all configurations including target/at91sam3XXX.cfg Change-Id: I2c1e1edf0986d30e63f109604a38bf402ded369e Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/292 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* contrib/openocd.udev: Olimex-ARM-USB-OCD-H: Add udev rule Change-Id: Ifc9a1f7fa9445e05560c335b5bba3a33caeccc51 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/288 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: jtag: only if an in_value storage is provided
	will the captured IR value be checked added comments and removed bogus assert.  Change-Id: Ic7aa56570a84834b1265df03d25a47fd11c4d626 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/297 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-21  Ulf Samuelsson <ulf@emagii.com>

	* .gitignore: git should ignore patches from format-patch Change-Id: Iafce872fa7559180834532ba80941dec3db7d079 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/295 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/xscale.c: jtag: stop using sharp corner of JTAG API this particular edge case of the JTAG API will no longer be
	supported.  the in_value buffer must be provided by the caller when the callback
	needs the buffer.  Change-Id: I552c72a64af6875f4aa4fa9b923194dcf3b57b64 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/265 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/minidriver/minidriver_imp.h: jtag: make caller always
	allocate buffer simplifies the API and there is only one remaining user at this
	point.  Is the implementation busted where the check does not actually
	happen now? Change-Id: I776a43766f5576a08df320f6fe41a2750d101bde Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/264 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/drivers/minidriver_imp.h,
	src/jtag/jtag.h: jtag: retire jtag_alloc_in_value32 no longer used after arm7/9tdmi.c stopped using it.  Change-Id: I65bfe67641970e63e8276cbd378aa68f5701a8d9 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/263 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: jtag: retire
	jtag_alloc_in_value32 API not needed, reduce area of interface and sharp edges to API.  Change-Id: I5347352e7595686634bd0de13fcf6de6e55027b0 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/262 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-16  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/stm32f2x.c: STM32F2x: check flash unlock, add mass
	erase Add verification of the flash unlock sequence and return an error if
	the flash is still locked.  Add mass erase subcommand.  Change-Id: Id586b1eaf983a3f25b933847dd6608c15bf0b07e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/281 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: libusb use AC_CHECK_HEADER use AC_CHECK_HEADER rather than AC_CHECK_HEADERS so that we do not
	generate a unrequired HAVE_LIBUSB_1_0_LIBUSB_H define.  Change-Id: I23a93d3813716dce797ca1514fdcb84533454c31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/259 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: update to using new AC_OUTPUT macro Change-Id: I4937fac73345a85fcad62a2aeb0a106bd4a62467 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/258 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* configure.ac: build: correctly quote m4 parameters Change-Id: If7ccb52c107cb4ad7629ffcf237f9003f60e63d0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/257 Tested-by: jenkins

2011-12-13  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/driver.c, src/flash/nand/mx2.c,
	src/flash/nand/mx2.h, tcl/board/tx27_stk5.cfg: Renamed mx2/imx27 to
	mxc.  Renamed all functions, enums, structs and defines from mx2/imx27 to
	mxc. This is in preparation of adding support for mx35 NFC(v2).  Change-Id: I92ad23f0cfab605215bbf0d5846c5c288423facf Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/267 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-13  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* src/flash/nand/mx2.c, src/flash/nand/mx2.h: Indentation and white
	space fixes.  Change-Id: Iffbaefea4f3d5e9b56b3c36496b44969d7c07e82 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/266 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/libusb1_common.c: Initialize return value.  Because no future error checking we will initialize the pointer to a
	know value.  Change-Id: I2466eeb413245a398927ec9f3742c2a9a3d51baf Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/283 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-16  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: fix false indent trigger we have changed the indent to 4 to match OpenOCD coding style.  Change-Id: I4870a3410eb20fc2f6df6a3e5891d4d4e598131a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/285 Tested-by: jenkins

2011-12-16  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: disable extern and switch
	indent checks We allow extern's in c files so disable checkpatch checks.  Change-Id: Ia649585cd70ec45289c4edaf26c1fd773a140db4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/284 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-15  Erik Ahlén <erik.ahlen@avalonenterprise.com>

	* tools/scripts/checkpatch.pl: Change checkpatch.pl tab expanding to
	4 characters.  The C coding style guide says that tab width is 4 characters but
	checkpatch.pl expands tabs to 8 characters which produces false
	negatives.  Change-Id: Ibdabbb55269b7cf6bcd38042cccb8bd235e42ce2 Signed-off-by:
	Erik Ahlén <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/275 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-15  Dean Glazeski <dnglaze@gmail.com>

	* COPYING: Updating FSF Address.  Change-Id: Ic6895b89e8798a3636333dd50a8540eae643719a Signed-off-by:
	Dean Glazeski <dnglaze@gmail.com> Reviewed-on:
	http://openocd.zylin.com/274 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix crash in JTAG over TCP/IP disable asynchronous callbacks and reads as minidriver requires
	reads and callbacks to be synchronous.  Could possibly be fixed by some design work.  Change-Id: I7ca79a551085b2e8ba6928e1762d1baed6e95d4b Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/260 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-11-21  Mauro Gamba <maurillo71@gmail.com>

	* configure.ac, src/jtag/drivers/jlink.c: jlink libusb-1.0 driver.  jlink modified to use the new usb abstaction layer.  During the
	configuration process we can select if use libusb0 or libusb-1.0
	library for this driver.  Change-Id: I70bc9ee2f89b7597e0f64ea80cad7f1b9070f01b Signed-off-by:
	Mauro Gamba <maurillo71@gmail.com> Reviewed-on:
	http://openocd.zylin.com/236 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* HACKING: HACKING: add explanation why we want cool-off times as
	long as a week or two Change-Id: I281e9145f43bc7ac173e02c4e209834f0deaae2b Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/254 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-05  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: dsp5680xx - indent fix no logic changes, only coding style (spaces to tabs, etc) Change-Id: I5933447c633990e103bc62d088ca2e12f11f031d Signed-off-by:
	rodrigo_l_rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/253 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-02  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear320cpu.cfg: TCL/SPEAr: default one DDR chip Handle default case of single DDR chip Propagate global variable for
	multi DDR chip Change-Id: I315380f91ee7fcc2976437aa5836d88a7964fc9d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/251 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-01  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* tools/checkpatch.sh: make checkpatch.sh take an optional 'since'
	refspec Change-Id: I793778037db08bd5462f61b9bcafd484708cc1b6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/250 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-03  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* HACKING: HACKING - checkpatch before pushing makes life quicker Change-Id: I4c3cde2aae7bdea138413e373ac986be3efd54de Signed-off-by:
	rodrigo_l_rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/252 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-28  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.h: libusb: Fix build issues under
	cygwin/mingw This fixes issues with the folliwing patch under cygwin/mingw
	builds.  http://openocd.zylin.com/236 Change-Id: I7dd0b2d09cc64568bc99b16aa32e791a8273c5db Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/240 Tested-by: jenkins Reviewed-by: Mathias
	Küster <kesmtp@freenet.de> Reviewed-by: Mauro Gamba
	<maurillo71@gmail.com>

2011-12-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/server/gdb_server.c: gdb_server: use strndup to allocate debug
	messages Lets be consistent and use strndup to allocate the debug buffer.  Change-Id: I535ad270ebfeae6e09d28372ab3749c822971223 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/245 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2011-11-30  Spencer Oliver <spen@spen-soft.co.uk>

	* src/openocd.c: openocd.c: whitespace cleanup Change-Id: Ieb8c1e4eb72f66a6343b169a12a058555d67069e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/242 Tested-by: jenkins

2011-12-02  Peter Stuge <peter@stuge.se>

	* tcl/target/at91sam3u4e.cfg: Fix remaining incorrect reference to
	target/at91sam3uXX.cfg Commit 1794e5ee5452c83b5bef6d0a5a8a3f23d647e9c6 renamed the file to
	have all lowercase characters according to most references to the
	file, but the commit didn't change the existing reference to the old
	filename.  Change-Id: I380e52e947a8091d48cf010e3919bf2caed7fdff Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/248 Tested-by: jenkins

2011-12-01  Harald Welte <laforge@gnumonks.org>

	* tcl/target/at91sam3uXX.cfg, tcl/target/at91sam3uxx.cfg: make sure
	file name case of at91sam3uxx matches what other files include Before this patch, at91sam3u4c.cfg includes "at91sam3uxx.cfg" which
	doesn't exist - the filename was at91sam3uXX.  However, many operating systems have case sensitive file names! Change-Id: I8b2f987f1f4214269b80ef5cba8177ce05ad90b6 Signed-off-by:
	Harald Welte <laforge@gnumonks.org> Reviewed-on:
	http://openocd.zylin.com/247 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-01  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/binarybuffer.c: binarybuffer: use strndup to allocate
	string Change-Id: I65d8f37b18d5b5a798406b956f50ab7bb550e172 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/246 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-30  James Zhao <jamzhao@gmail.com>

	* src/server/gdb_server.c: Fix compile error when _DEBUG_GDB_IO_ is
	set Compile error is encountered when _DEBUG_GDB_IO_ is set, due to
	duplicate variables.  Fixed by renaming the variable.  Change-Id: I729c06e317fdb899142c9ceaf543b7f580088807 Signed-off-by:
	James Zhao <jamzhao@gmail.com> Reviewed-on:
	http://openocd.zylin.com/243 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-29  Mathias K <kesmtp@freenet.de>

	* src/target/target.c: target init sanity check Add a test if the pointer to the target_init function in the target
	struct is set before the function pointer is used.  Change-Id: Ie4ea542f64f35efce8c5bce2ced9b881bf283ec1 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/241 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-22  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/rtos.c, src/rtos/rtos.h, src/rtos/rtos_ecos_stackings.c,
	src/rtos/rtos_standard_stackings.c: Add stack alignment support to
	RTOS awareness - needed for ARM ABI processors Change-Id: I69a2f3d0606a97d48b7738561a85da87f458b82b Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/238 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Küster
	<kesmtp@freenet.de> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-11-22  Evan Hunter <ehunter@broadcom.com>

	* src/jtag/drivers/amt_jtagaccel.c: Fix unused variables error in
	amt_jtagaccel Change-Id: Ic64cf4e3b5cf8c1ea75a13577728b0cb0d70068e Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/237 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-21  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c: dsp5680xx - match page erase with
	mass erase when last==first==0 then mass erase is executed, it's faster.  the
	page marking was wrong in this case.  Change-Id: I5c579d59b5c4778cf057cb5986e086abdd4209b2 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/232 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-19  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.h: dsp5680xx - flash module clk to freescale
	cfg value the flash module clock was set according to a spreadsheet from
	freescale, now it's set according to the configuration file used by
	the Freescale Flash Programmer.  both work, but i think it's better
	to use the one used by a software that's made by Freescale (should
	be correct...) Change-Id: I382197a3eb43dd47ff4b9b83d5e05008d5613fc6 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/223 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-19  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c: dsp5680xx
	- mark erase after unlocking flash the unlocking procedure erases the flash mem (even if it wasn't
	locked), so it should be marked as erased after unlocking.  Change-Id: I5cc6a1e1d6cf4e1f243de532eff54111ffd66187 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/222 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-04  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: dsp5680xx - fix jtag debug request failure
	handling if JTAG debug request fails then halting with a reset should be
	attempted.  the failure was ignored previously.  Change-Id: Ibec08e2e97f962d164a110c21aaa80bfc17b7f1a Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/221 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c, src/target/dsp5680xx.h: dsp5680xx -
	separate debug from halt i had assumed two possible halt/debug states:   - halted + debug mode   - running + not debug mode turns out this one also exists   - halted + NOT in debug mode added code to handle this in an
	appropiate way.  Change-Id: Ia0ddcd55d1890c90d100a9e6f5e84ed8dda812a3 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/220 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-15  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: dsp5680xx - fix - flashing algorithm check now the flash algorithm running on the 568013 checks the
	buffer_empty bit (instead of the command_finished bit) before trying
	to write a new word to the flash mem.  this should speed up the
	flashing procedure. since it is open loop, this change may reduce
	the risk of failure. flashing will fail if JTAG speed is such that
	the flash module cannot keep up.  also, the USTAT register is only read once, as suggested in the flow
	chart provided by freescale (per. ref. manual @ 6-11) the last step of the flow chart, exiting after commands are
	complete, is not implemented.  the algorithm will stay waiting for
	more data. it is up to the PC side to *not* send more data.  Change-Id: I47fe4b50de7da85f80868f5986a89a7e2152616c Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/219 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.h: dsp5680xx - added more error codes Change-Id: I36962a0ab0cc9d1eb6a29d7e577c24c38cab946b Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/218 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.h: dsp5680xx - fix jtag status mask Change-Id: I17a0f22cbeb20e4f6ea4065236243f93d826ccf0 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/217 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c, src/target/dsp5680xx.h: dsp5680xx -
	relocating code moved reset_jtag to the top, since it will be needed in future
	changes.  also send a define to the .h Change-Id: I53ef9c02ffa70e7d0416364525a6fbfef855e222 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/216 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c, src/target/dsp5680xx.h: dsp5680xx - error
	codes added logging of target error codes to enable automatic error
	handling from tcl.  the plan is to use a computer to execute a
	series of tcl commands, the changes allow simple parsing of return
	messages to detect errors.  Change-Id: Ia98d3bd036e1b6065b475ffff6c1d30baeaf7417 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/215 Tested-by: jenkins Tested-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-11-23  Spencer Oliver <spen@spen-soft.co.uk>

	* src/openocd.c, src/target/target.c: target: fix init_targets
	script handling This fixes an issue when init is called before init_targets has been
	executed.  Make sure init_targets is called before init.  Change-Id: Icd5bd4c2a8eea2e399d9de4e331a77560e9672ac Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/235 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-11-23  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear320cpu_mod.cfg: TCL/SPEAr: fix name of included
	file Fix error introduced in recent commit.  Correct the name of the
	board file.  Change-Id: I46bca8329812fb24bc4f8d316be9e7cba9b56496 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/234 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear320cpu.cfg, tcl/board/spear320cpu_mod.cfg,
	tcl/chip/st/spear/spear3xx.tcl: TCL: Add board file for
	EVAL_SPEAr320CPU Initial support for SPEAr320 chip and for evaluation board named
	EVAL_SPEAr320CPU.  Change-Id: I85524655769bcc610294a26db47a7a399256fbb7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/231 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear300evb.cfg, tcl/board/spear300evb_mod.cfg,
	tcl/chip/st/spear/spear3xx.tcl: TCL: Add board file for EVALSPEAr300 Initial support for SPEAr300 chip and for evaluation board named
	EVALSPEAr300.  Currently supports only those parts in common with
	SPEAr310.  Change-Id: I8075aa721cf3dfaac561ee51e5df4ce9a2992e3e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/230 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/chip/st/spear/spear3xx_ddr.tcl: TCL/SPEAr: remove code to
	autodetect DDR The code to autodetect DDR was wrong and not complete.  Replaced
	with a parameter passed to TCL proc.  Split DDR configuration in the
	two cases of single and dual DDR chip, using single chip as default.  Change-Id: If39aa518670398e8e4f207d7db6e812a49743e15 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/229 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/chip/st/spear/spear3xx_ddr.tcl: TCL/SPEAr: move DDR activation
	in common code DDR controller activation should not be in DDR chip specific code,
	but in generic DDR controller part.  Change-Id: If1b178228352b48b0097d7b9b300005fb5bb4fb6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/228 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear310evb20.cfg, tcl/chip/st/spear/spear310.tcl,
	tcl/chip/st/spear/spear3xx.tcl: TCL/SPEAr: Join two initialization
	files.  The support for SPEAr3xx family members does not require dedicated
	files for each member.  Join the initialization scripts in a single
	file.  Change-Id: I45e9dc64809a6f52c4592e3e0eef5529394887c6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/227 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/chip/st/spear/spear310.tcl, tcl/chip/st/spear/spear3xx.tcl: 
	TCL/SPEAr: move device generic code The initialization of RAS enable and clock is required by all
	SPEAr3xx devices Change-Id: Iea4cd0902e4da219475d7f35b4c25fc87ec6b902 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/226 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/chip/st/spear/spear310.tcl, tcl/chip/st/spear/spear3xx.tcl: 
	TCL/SPEAr: move device specific code The initialization of memory port 1 is required by SPEAr310 only Change-Id: I9d655da1026795f02ff2f82aed36441068cf266d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/225 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2010-11-27  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear310evb20.cfg, tcl/board/spear310evb20_mod.cfg: 
	TCL/SPEAr: Add reference to ST Application Note ST-AN was mentioned but there was no reference Change-Id: Ie065f8faba94d63cf391a994ec895692d499394e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/224 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/at91cap7a-stk-sdram.cfg, tcl/board/mcb1700.cfg,
	tcl/interface/hilscher_nxhx10_etm.cfg,
	tcl/interface/hilscher_nxhx500_etm.cfg,
	tcl/interface/hilscher_nxhx500_re.cfg,
	tcl/interface/hilscher_nxhx50_etm.cfg,
	tcl/interface/hilscher_nxhx50_re.cfg, tcl/target/lpc1768.cfg,
	tcl/target/stm32f2x.cfg: scripts: use adapter_khz not deprecated
	jtag_khz Change-Id: Ibaeebf564a95360dcf21a0921ec99f5263f11915 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/202 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/usbprog.c: usbprog: fix shadowed declaration
	warning see Trac #38 Change-Id: If86fda797391f10d745384794b68e60380ef0b21 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/204 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/startup.tcl: scripts: notify user of deprecated jtag_*
	functions Change-Id: Ia97dda6918e20fb29d6e76d43856eede8fcc60dd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/203 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-16  Mauro Gamba <maurillo71@gmail.com>

	* configure.ac, src/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/libusb0_common.c,
	src/jtag/drivers/libusb0_common.h,
	src/jtag/drivers/libusb1_common.c,
	src/jtag/drivers/libusb1_common.h, src/jtag/drivers/libusb_common.h: 
	libusb-1.0 support The configuration script check for libusb-1.0 availability first and
	only if not found check for libusb-0. So if both libraries are
	installed on the system the build script will use libusb-1.0 It's
	possible to force compiling with libusb-0 with the --enable-libusb0
	switch.  If the driver support only libusb0 the script check anly
	for it.  Change-Id: I7eb045d4e2bd553abefad53f3f4023ff46b0f5f6 Signed-off-by:
	Mauro Gamba <maurillo71@gmail.com> Reviewed-on:
	http://openocd.zylin.com/33 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: cleanup stm32f2x loader Change-Id: I89efdc45bcd61ded437d67d4cbee4c53345d4d76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/197 Tested-by: jenkins

2011-11-18  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/amt_jtagaccel.c: Revert "build: fix gcc 4.6.2
	warnings" This reverts commit 0ef5a90d93c5a026bcf70132e60e957ae339d1e1 Causes older versions of gcc to break - need to look into a better
	fix.  This passed through the jenkins build as we originally did not build
	this module - we do now.  Change-Id: Iafeac8442b2249269ff45a52ccd3e2870920f635 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/214 Tested-by: jenkins

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/jtag/drivers/amt_jtagaccel.c: build: fix gcc 4.6.2 warnings see trac #47 Change-Id: I48a3e963354dfc82209477672c2508c96fb737d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/198 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Robert Pasz <kiurcher@users.sf.net>

	* src/jtag/drivers/bitq.c: presto: fix tms_sequence short issue fix issue when using tms_sequence short see Trac #31 Change-Id: I22a9cd2af59eae4d8a276dae60b6a99d05af53bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/201 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Philip Nye <philipnye@users.sf.net>

	* src/server/gdb_server.c: gdb: Potential rounding error in
	reg_packet_size gdb_get_registers_packet The calculation for reg_packet_size in gdb_get_registers_packet()
	could generate a wrong result in the case of multiple registers
	whose size is not a multiple of 8.  The current calculation sums the sizes for all registers then rounds
	the result up to the next multiple of 8.  Instead it should round each register size up individually and sum
	the results for all registers.  Change-Id: Idfb5e5eeee0e69a6889dbe9769c0bf17feacb63b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/200 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Philip Nye <philipnye@users.sf.net>

	* src/server/gdb_server.c: gdb: fix multi core gdb issue gdb_memory_map() correctly calculates the target specific number of
	flash banks, but then uses the total number (all targets) instead of
	the target specific number to construct its GDB response, causing a
	crash.  Change-Id: I3f8639b3e90303a59753ebe140ce4fff96fd5db0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/199 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/loaders/flash/stm32f2x.S,
	contrib/loaders/flash/stm32f2xxx.S: contrib: stm32f2x use std naming
	rules Change-Id: I109297aa480b3474f1251571cb8e1a0baa1442fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/195 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stm32f2x.c: flash: match stm32f2x loader src name Change-Id: I60523f809f2d9ec9c9283e0456746ce9a63576a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/196 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-13  Tomas Frydrych <tomas@sleepfive.com>

	* tcl/board/twr-k60n512.cfg, tcl/target/k60.cfg: configuration for
	Freescale TWRK60N512 board Based on the K40/Kwikstik config files Change-Id: Icb3adc7126bacea65209b712ebaa0eb3b894372e Signed-off-by:
	Tomas Frydrych <tomas@sleepfive.com> Reviewed-on:
	http://openocd.zylin.com/210 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-17  Felix Ruess <felix.ruess@gmail.com>

	* tcl/board/lisa-l.cfg: config: do not use deprecated stm32.cfg Change-Id: Id72d2d7f874043331ecb5586a3797d017606129e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: Felix Ruess
	<felix.ruess@gmail.com> Reviewed-on: http://openocd.zylin.com/212
	Tested-by: jenkins

2011-11-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: improve variable naming and
	avoid potential divide-by-zero Don't call a variable num_pages if it holds the flash size. Also
	rearrange flash size to num_pages calculation to avoid
	divide-by-zero if there will be a device with < 1024 byte pages
	someday.  Change-Id: I2febea39694a2f9750de141f52ec88ae1599c086 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/211 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/bitq.c: bitq: make private functions static Change-Id: I3fabbdbda4ba8ba6557d79b97444fe06f1710b58 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/209 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/bitq.c: bitq: reduce scope of variables Change-Id: Ie1049b9d8ed5e44aee038e9181e423c35b4263c4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/208 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/bitq.c: bitq: remove the remaining static
	variables in_mask and in_idx are just another encoding of the same state
	information that is already kept in bitq_in_state.bit_pos so derive
	them from that instead of maintaining them separately.  Change-Id: I4ac6bbe923698a8c1090a785b8babcbb90f82931 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/207 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: add more asserts this at least checks the post conditions after convoluted code.  Change-Id: Idfa8cbedce5288d8bae5743687949f141dfb07b2 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/187 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/bitq.c: bitq: remove a static variable in_buff is only ever set to field->in_value and that pointer is
	still available when the parsing is restarted so it could just as
	well be used directly, removing the need for the static variable.  Change-Id: I3dd7a8315ed5c5bdc3bfb74044f89492bca9816c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/206 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/bitq.c: bitq: remove dead code field->in_value is already checked so it must be non-null here,
	which means the else clause can never execute so the entire buffer
	allocation and handling code is completely dead.  Change-Id: Id465012a7e607349401d554fc7a8e5db7e967998 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/205 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-13  Tomas Frydrych <tomas@sleepfive.com>

	* src/flash/nor/kinetis.c: kinetis flash: use longword write when
	writing into pflash Check whether the destination is in the program flash or NVM
	regions, in the former case, use the normal longword mechanism, not
	the fast NVM write.  Change-Id: I7366b7c8919928ee690252df83b99701776aee82 Signed-off-by:
	Tomas Frydrych <tomas@sleepfive.com> Reviewed-on:
	http://openocd.zylin.com/194 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-11  Marek Vasut <marek.vasut@gmail.com>

	* src/jtag/drivers/ft2232.c, tcl/interface/flyswatter2.cfg: Add
	Tincantools Flyswatter2 support This is a successor to the Flyswatter cable and is very close to the
	original.  The new revision is based on FT2232H.  Change-Id: Icc6efcf0e4f9d8a10b65df8679b4973f6b375a9f Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Cc: David Anders
	<danders@tincantools.com> Reviewed-on: http://openocd.zylin.com/193
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-17  Aurelien Jacobs <aurel@gnuage.org>

	* src/flash/nor/at91sam7.c: at91sam7: ensure probed flash bank has a
	name (fix a segfault) Before this commit, openocd used to segfault when probing flash of
	an at91sam7x512 (which contains 2 banks of flash). This was due to
	the way it systematically insert a new flash bank without setting
	its name.  Then, when get_flash_bank_by_name_noprobe() is called, it
	is doing a strcmp() on the non-initialized bank->name.  This commit prevents allocation of second probed bank if it is
	already allocated (for example, if it is set in a target config
	file). If a new bank really needs to be allocated, it ensures that a
	default name is set.  Change-Id: I38d15bef1fda2ec746efad37171975136cf7b371 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/171 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm.h: target: make it absolutely clear that no null
	pointers are accepted there are no comments about what the rules w.r.t. null pointers are
	and it is inconsistent.  It's simply a bug in the app if we ask about the properties of a
	null pointer w.r.t. what kind of target it is. It's equally wrong to
	say that it is an arm target as that it isn't an arm target.  Change-Id: I0925a6a5c8b38e594ffa7c3ca4390487b5e9b718 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/168 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/image.c: image: remove assignments to local variables
	that is never read Change-Id: I1a5e968f165e060fd4aa7c023ad870a9e21bb5dd Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/191 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/ft2232.c: ft2232: fix warning about assignment to
	local variable variable is not read afterwards.  Change-Id: I905bbb10c596190f75494e6c6ad400a3e51843f6 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/192 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/svf/svf.c: svf: fix warnings Change-Id: Ib7f67612db3a865f9acc5ae349455da7ddcd3348 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/177 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-22  Kyle Manna <kyle.manna@fuel7.com>

	* src/jtag/drivers/ft2232.c: ft2232: Set PWR_RST and LOOPBACK for
	xds100v2 The CPLD on the xds100v2 expects to see a rising edge on PWR_RST to
	enable the outputs.  This patch creates that transition correctly by
	fixing the direction register for PWR_RST.  THe CPLD will also loop back the data if the LOOPBACK signal is
	asserted.  Set this signal to an output and keep it clear.  This was tested with a TI DM3730 Beagleboard xM.  Change-Id: I4ea216bef6ae5c40e935741af5c69dc844d5d494 Signed-off-by:
	Kyle Manna <kyle.manna@fuel7.com> Reviewed-on:
	http://openocd.zylin.com/189 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-09  Spencer Oliver <spen@spen-soft.co.uk>

	* BUGS, doc/manual/release.txt: docs: remove berlios related info Change-Id: I9593eb165fce51411f20fa068e324b3fd882cdb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/190 Tested-by: jenkins

2011-10-27  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: Work around silicon bug in the SAM3
	family flash waitstates * Add flash waitstate support for Atmel SAM3 chips.  * Set default waitstates to 6, to workaround a silicon bug in the
	SAM3 family This code has been tested on SAM3U4, SAM3N4 and SAM3N1 based on Change-Id: I477446f9bfb3e910ea3e2414a6e9a75beb14a214 by Jim
	Norris <u17263@att.net> Change-Id: I8d360080f6968979ca5e197ad638282cadd18fb7 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Signed-off-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-on: http://openocd.zylin.com/128
	Tested-by: jenkins

2011-10-22  Kyle Manna <kyle.manna@fuel7.com>

	* contrib/openocd.udev: contrib: Add udev rules for TI xds100v2
	debugger This corrects permissions on the FTDI chip on the xds100v2 debugger
	enabling normal users to access it.  Change-Id: I0f6618692ebdee6284eee28f9e612e68782c4d78 Signed-off-by:
	Kyle Manna <kyle.manna@fuel7.com> Reviewed-on:
	http://openocd.zylin.com/188 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/at91sam7.c: at91sam7: fix warnings by removing dead
	assignments Change-Id: I836038b3518e617291ac7d5d255a388d9486f67f Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/180 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/buspirate.c: buspirate: add missing error
	propagation found by clang.  Change-Id: I80ea8e6afc8dcc1aa7edb6f63af0d94f6781b81c Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/182 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stellaris.c: warning fix: remove unused variable
	assignment Change-Id: I8c73b0f9a6a10734e539eedcedd79e1a34122f60 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/185 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/em357.c: em357: fix warning by removing unused local
	variables Change-Id: I9def63d36ed4fa8bf9cdeeedc18b1b25d0e487d6 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/184 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/usbprog.c: usbprog: fix unecessary and confusing
	assignment clang found silly code that was trivially fixed.  Change-Id: Ied6c1b254c1823cd111140cbe0c8a03d2ede65fb Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/186 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* contrib/gen-stellaris-part-header.pl, src/flash/nor/stellaris.c: 
	flash: update luminary device table add support for checking target against the device CLASS rather then
	just the PARTNO.  This change also adds the new LM4F family (Blizzard).  Change-Id: Ia9d1e33f1f1c2817c0039a2232ecf932fae072f9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/161 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c: arm7_9: remove warnings by reducing
	scope of variables Change-Id: Idc384b733056a72108680b073da7c327a8eeedc3 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/179 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-17  Aurelien Jacobs <aurel@gnuage.org>

	* tcl/target/at91sam7x512.cfg: at91sam7: add a new target config
	file for at91sam7x512 The main difference with at91sam7x256 is the declaration of the
	second bank of flash.  Change-Id: I87a20dcbb639b797799139ccf46cc73934fa3b9e Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/173 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_disassembler.c: disassembly: fix access to
	undefined memory pointer upon unknown instruction return error message instead. Found by clang.  Change-Id: Ica109d077206236a12d007e77cc78061ffd05834 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/169 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/xsvf/xsvf.c: xsvf: add missing error propagation Change-Id: Ibc70deb980d6d18ceb376b72d9104e6180b16acf Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/176 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp5680xx.c: dsp5680xx: fix warnings - propagate error - remove dead assignment Change-Id: I0d7078f531d96e421e95f08bfd908e818500d74c Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/170 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9x.c: str9x: explain compiler that a local
	variable will always be initialized Change-Id: I9ddb2793b4cdbf6acea6f69973531491e4ebcc5b Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/145 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/at91sam3.c: at91sam3: fix warnings - reduce scope of variables - assert on post condition to fix clang warning Change-Id: Id91038f73a632f9688ba52c9c34eae923626e770 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/160 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str7x.c: str7x: fix error propagation stick to convention of "retval" being used as error value to be
	propagated and use "flash_flags" local variable for flash flags read
	from how.  Change-Id: I63f1f2248b4f4538d6cd7634ae277f7c0aadc346 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/178 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-29  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/at91cap7a-stk-sdram.cfg, tcl/board/at91eb40a.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/mini2440.cfg,
	tcl/board/str910-eval.cfg, tcl/board/zy1000.cfg,
	tcl/chip/atmel/at91/at91sam9_init.cfg, tcl/target/aduc702x.cfg,
	tcl/target/amdm37x.cfg, tcl/target/at91r40008.cfg,
	tcl/target/at91rm9200.cfg, tcl/target/at91sam3XXX.cfg,
	tcl/target/at91sam3nXX.cfg, tcl/target/at91sam7se512.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/at91sam7x256.cfg,
	tcl/target/at91sam9.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/at91sam9rl.cfg, tcl/target/atmega128.cfg,
	tcl/target/avr32.cfg, tcl/target/c100.cfg, tcl/target/cs351x.cfg,
	tcl/target/davinci.cfg, tcl/target/dragonite.cfg,
	tcl/target/dsp56321.cfg, tcl/target/dsp568013.cfg,
	tcl/target/dsp568037.cfg, tcl/target/epc9301.cfg,
	tcl/target/faux.cfg, tcl/target/feroceon.cfg, tcl/target/fm3.cfg,
	tcl/target/hilscher_netx10.cfg, tcl/target/hilscher_netx50.cfg,
	tcl/target/hilscher_netx500.cfg, tcl/target/icepick.cfg,
	tcl/target/imx.cfg, tcl/target/imx21.cfg, tcl/target/imx25.cfg,
	tcl/target/imx27.cfg, tcl/target/imx31.cfg, tcl/target/imx35.cfg,
	tcl/target/imx51.cfg, tcl/target/imx53.cfg, tcl/target/is5114.cfg,
	tcl/target/ixp42x.cfg, tcl/target/k40.cfg, tcl/target/lpc1768.cfg,
	tcl/target/lpc2900.cfg, tcl/target/lpc2xxx.cfg,
	tcl/target/lpc3131.cfg, tcl/target/lpc3250.cfg,
	tcl/target/mc13224v.cfg, tcl/target/nuc910.cfg,
	tcl/target/omap2420.cfg, tcl/target/omap3530.cfg,
	tcl/target/omap4430.cfg, tcl/target/omap5912.cfg,
	tcl/target/omapl138.cfg, tcl/target/pic32mx.cfg,
	tcl/target/pxa255.cfg, tcl/target/pxa270.cfg,
	tcl/target/pxa3xx.cfg, tcl/target/samsung_s3c2410.cfg,
	tcl/target/samsung_s3c2440.cfg, tcl/target/samsung_s3c2450.cfg,
	tcl/target/samsung_s3c4510.cfg, tcl/target/samsung_s3c6410.cfg,
	tcl/target/sharp_lh79532.cfg, tcl/target/smp8634.cfg,
	tcl/target/spear3xx.cfg, tcl/target/stellaris.cfg,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32l.cfg, tcl/target/str710.cfg,
	tcl/target/str730.cfg, tcl/target/str750.cfg,
	tcl/target/str912.cfg, tcl/target/ti_dm355.cfg,
	tcl/target/ti_dm365.cfg, tcl/target/ti_dm6446.cfg,
	tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg,
	tcl/target/u8500.cfg: target config files: Fix whitespace issues.  Drop useless double-space occurences, drop trailing whitespace, and
	fix some other minor whitespace-related issues.  Change-Id: I6b4c515492e2ee94dc25ef1fe4f51015a4bba8b5 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Signed-off-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-on: http://openocd.zylin.com/137
	Tested-by: jenkins

2011-11-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/rtos/eCos.c: ecos: add missing error propagation Change-Id: Ib34815c9cf654517f22486a7c8001fdb7471338c Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/174 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/xscale.c: xscale: cleanup - fix error propagation - add some debug output for "unused" variables - reduce scope of variable to avoid "unread" variables.  Change-Id: I136995f2a043102e64b8fff3017502fae564013b Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/175 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/rtos/rtos.c: warning fix: add self-consitency check to remove
	warning verify promise of code that more code can be pasted with an assert
	at the end condition of the code passage that builds string.  Change-Id: I76a4e5f91b9142fff932e1493cb43c29eb6a0f80 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/143 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: fix gaffe in fixing warnings introduced reading garbage value for arm32.  Change-Id: Ib5792a8a3207ee4db6d01d354df98c3cfabce037 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/162 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-04  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/checkpatch.sh, tools/scripts/checkpatch.pl: tools: fix
	permissions Change-Id: I9419138dd2972304daf215594ca917ac8eb7fcda Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/checkpatch.sh: tools: add checkpatch script execute from openocd root dir after commiting change but before
	pushing to gerrit.  tools/checkpatch.sh This is the same script used by the jenkins build server to validate
	a change.  Change-Id: Ib40d44b160e1c50a5e47ab55fc48a554381ea763 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/167 Tested-by: jenkins

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/etm.c: etm: fix warning by removing assignment that is
	immediately overwritten Change-Id: Ia3a83d3c1fc3a1707d69017fce6cf142a81babc4 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/165 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_m.c: cortex_m: initialize unused CPU variables
	to 0 for poll info output fixes warnings.  Change-Id: I1a9ec09083d4e6269889fb79e6121f25e83eb396 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/163 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp5680xx.c: dsp5680xx: add missing and broken error
	propagation found by clang.  Change-Id: Ie7e2ecad71bf0838ece93727e4778ad368b890ef Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/156 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/at91sam9.c: at91sam9: fix broken error propagation Change-Id: I3288ce6f7642e519c26dd099be888a395fe1de94 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/159 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/avr32_regs.c: avr32_regs: add missing error propagation Change-Id: Ie8b141dd534d73eccfc045069d5f628bd1eea88e Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/166 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/interface/hilscher_nxhx10_etm.cfg,
	tcl/interface/hilscher_nxhx500_etm.cfg,
	tcl/interface/hilscher_nxhx500_re.cfg,
	tcl/interface/hilscher_nxhx50_etm.cfg,
	tcl/interface/hilscher_nxhx50_re.cfg, tcl/interface/ngxtech.cfg,
	tcl/interface/redbee-econotag.cfg, tcl/interface/redbee-usb.cfg,
	tcl/interface/ulink.cfg, tcl/interface/xds100v2.cfg: interface
	configs: Add missing URLs and names.  Also, drop author name from interface/hilscher_* files, that info is
	in the git log, and none of the other files contain author names
	either.  Change-Id: Idf0eb4279c4bff31d15c166619c0bf8b1c5bb877 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/138 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* HACKING: HACKING: all you need is http access Change-Id: I191c1da5126c4c9ea1ff8826576b6b24feaf9881 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/157 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: checkpatch: increase line length
	warning to 100 Change-Id: Ief0445ea6581929b3ffdcf8bc644ce5f27b392c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* tools/scripts/checkpatch.pl: tools: add checkpatch script Change-Id: I3579028fc1c6ee8bea58c82e5f0eecba7794d7cb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-10-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb_server: assert to avoid malloc(0) Change-Id: I6ae3e007f4aa768f8bc64de78351750138f12e53 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/135 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/board/ek-lm4f232.cfg: cfg: add Stellaris LM4F232 Evaluation
	Kit config Change-Id: Ica754897bef6573a0738ed1afdfe1dfda07292fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/151 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/target/stellaris.cfg: cfg: add Blizzard class to stellaris.cfg Change-Id: I2a1320c696b6d9b070e4a927c4cd4d68178af751 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/150 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-01  Mark Vels <mark.vels@team-embedded.nl>

	* tcl/board/tx27_stk5.cfg: tx27stk5: add board init support for KaRo
	TX27 CPU module This patch adds support for a KaRo TX27 CPU module on a StarterkitV
	base board.  The register settings have been extracted from a
	RedBoot distribution that is distributed along with the hardware by
	KaRo.  This setup has been tested with a JTAGKey. The testing has been
	focussed on loading a program into memory and start execution.
	Although the flash seems to be correctly detected, no effort has
	been put in testing the NAND programming yet.  Change-Id: Ib17763f1e3ecacd0eb9b5fdc32f8cba7a5e59be5 Signed-off-by:
	Mark Vels <mark.vels@team-embedded.nl> Reviewed-on:
	http://openocd.zylin.com/158 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/pic32mx.c: fix warning: remove assigned to variable variable is subsequently not used Change-Id: I177d21c6ba9f1f2e3765feffdbf317ea375a8cfe Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/149 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a.c: cortex_a: add missing error propagation found by clang.  Change-Id: I50eac219d7540fd48d3285f3f213cb659492d0c0 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/153 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.c: usbtoxxx: remove
	warning by reducing scope of variable Change-Id: Icc3cfe601082cd83ad1c8818c1e21e7ada014150 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/154 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c: arm11: print next address to debug fixes clang warning. Basically the next address pointer is not used
	for anything in the fn, except to be examined in debug.  Change-Id: I253519b8e49e54490bbe7da8ec3d2dd31f49052a Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/155 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_m.c: cortex_m: add missing error checking found by clang.  Change-Id: I099c6fe6b044dba36c20221cb439bdcba5a6bb6f Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/152 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-11-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/armv4_5.c: target: fix null pointer exception check if no target is selected and return error.  Change-Id: Ie8abb63c708d09572b45e88fc6766af108715077 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/148 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: flash: add Stellaris Blizzard class Change-Id: I83f0d6edf3ab31d9fa86682f20cec77dc47ba2f6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/146 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-10-31  Spencer Oliver <spen@spen-soft.co.uk>

	* src/target/Makefile.am, src/target/arm_semihosting.c,
	src/target/cortex_m.c, src/target/cortex_m.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h: target: rename
	cortex_m3.[ch] to cortex_m.[ch] This rename is in preparation for cortex_m4 support.  Change-Id: Ic08c298ec6ed2aabc2c39db67191f68b3a51f550 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/147 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c: warning fix: remove senseless
	assignment before bailing out of fn w/error Change-Id: I822f3adce0eccb880007673d60c7eccf7d36b398 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/144 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target_request.c: warnings: null pointer check fix rewrite broken null pointer check code by reducing scope of
	variable.  Change-Id: I8254f6849b187e5c9cd083053cdc11973c6fe339 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/142 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: unsupported code paths now report and
	return error found by clang, would have done something undefined and mysterious
	later on.  Change-Id: If7d7aca8514575d229ed0b17378bf8b1bbf347c4 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/133 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: bugfixes: tinker a bit with the targets
	command return error when target can not be found instead of ERROR_OK, split
	fn.  Change-Id: Iba5232d3862a490d0995c3bfece23685bd6856e3 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/131 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp563xx.c: dsp563xxx: fix missing error propagation
	found by clang Change-Id: I7380ce145b4942e21b174f2a810928a877c32bc7 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/140 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/interface/flashlink.cfg,
	tcl/interface/flossjtag-noeeprom.cfg, tcl/interface/flossjtag.cfg,
	tcl/interface/parport.cfg, tcl/interface/parport_dlc5.cfg,
	tcl/interface/usbprog.cfg: interface configs: Fix whitespace and
	other issues.  Change-Id: I98825c7fb9bdee75b69b06005ed12a3f64ec4db4 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/139 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-29  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/at91eb40a.cfg, tcl/board/mini2440.cfg,
	tcl/target/at91sam7se512.cfg, tcl/target/at91sam9.cfg,
	tcl/target/avr32.cfg, tcl/target/dsp56321.cfg,
	tcl/target/dsp568013.cfg, tcl/target/dsp568037.cfg,
	tcl/target/epc9301.cfg, tcl/target/is5114.cfg,
	tcl/target/pic32mx.cfg, tcl/target/samsung_s3c2410.cfg,
	tcl/target/samsung_s3c2440.cfg, tcl/target/samsung_s3c2450.cfg,
	tcl/target/samsung_s3c6410.cfg, tcl/target/smp8634.cfg,
	tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: config files: Drop
	incorrect comments.  There are many "force an error till we get a good number" comments
	in target/board files. This refers to the use-case where a config
	script sets _CPUTAPID to 0xffffffff (which presumely gets overridden
	later):  if { [info exists CPUTAPID ] } {     set _CPUTAPID $CPUTAPID  } else {     # Force an error until we get a good number.      set _CPUTAPID 0xffffffff  } However, the same comment was also copy-pasted in many files which
	do _not_ set _CPUTAPID to 0xffffffff, where the comment doesn't make
	any sense at all. Drop those comments. Also, add one missing
	comment, and fix small whitespace and grammar issues.  Change-Id: Ic4ba3b5ccba87ed40cea0d6a7d66609fbdfa3c71 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/136 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/tcl.c: clang: fix warning by adding assert that shows
	that a variable is used Change-Id: I26e0ba9f1ae9d43c9a14c42c4225746782dc4d66 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/134 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-28  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* src/flash/nor/stm32f1x.c: Fixes comment typo for page size Change-Id: I6dd8aadcecd680c48e696aeec0daf74d2addbb05 Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/132 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: bugfixes: numerous bugs in error propagation
	found by clang Change-Id: I784068325b422d1918e28c08544bc5a1332d712f Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/130 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/rtos/FreeRTOS.c: clang: fix warning about missing check for
	return value Change-Id: I0c6b6b8d1f0c30b6a503cb98df30584252bc0ee1 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/129 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-26  Jim Norris <u17263@att.net>

	* tcl/target/at91sam3nXX.cfg: Remove use of undefined variable.  Change-Id: Id8fd345438c360b2a42857525f05360ce2794d21 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/127 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2011-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_simulator.c: clang: fix warning about use of
	unitialized variable this was a false positive, silence it.  Change-Id: I432e0c466c94cf8fd6bbf0ea153c8501a8a261eb Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/126 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-25  Jim Norris <u17263@att.net>

	* tcl/board/atmel_sam3n_ek.cfg: Add configuration for ATMEL SAM3N-EK
	board.  Change-Id: I525f6c346cace4e54f47659c5a7aceb29ee4baf2 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/125 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Jim Norris <u17263@att.net>

	* tcl/target/at91sam3nXX.cfg: Add configuration for ATMEL SAM3N
	series.  Change-Id: Iac498ab37e59127b989f29a1c4167ab29d625b05 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/124 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Marti Bolivar <mbolivar@leaflabs.com>

	* tcl/board/stm3220g_eval.cfg: stm3220g_eval.cfg: fix CHIPNAME.  The STM3220G-EVAL board has an STM32F207IGH6. ("...H6", not
	"...T6").  Change-Id: Iaf3dae6830c5c0685a1dcd1588d391434bc51be7 Signed-off-by:
	Marti Bolivar <mbolivar@leaflabs.com> Reviewed-on:
	http://openocd.zylin.com/120 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/armv7a.c: armv7a: fix scan-build warnings "Value stored to 'retval' is never read": Check and propagate error
	"Dereference of null pointer": Probably bogus, maybe triggered by
	the null check on armv7a, so remove the check since it can't be null
	anyway.  Change-Id: I3bc44e52af1589ff40e6a42deda0ce7f3a25e397 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/119 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/armv7a.c, src/target/armv7a.h: armv7a: make local
	functions static Also fix a spelling error and remove the declaration for a
	non-existent function from the header.  Change-Id: I13177e2d81aa167c05c1cc766f06924211e6d735 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/118 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/armv7m.c: armv7m: improve error handling Propagate errors unchanged.  Free allocated working area in the
	error return path.  Remove duplicated cleanup code by rewriting the
	logic.  As a side-effect, fixes a scan-build warning.  Change-Id: I80e3c0015be672778f916e998c8c2e4f23d7588c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/117 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Freddie Chopin <freddie.chopin@gmail.com>

	* src/helper/startup.tcl: Fix "Evaluate 'script' in the global
	scope" This fixes commit Evaluate 'script' in the global scope. It caused
	Windows builds behave differently than before because path was
	evaluated twice and backslashes from Windows' paths got unescaped
	and effectively wiped out.  Configs could only be passed with "-f
	../dir/config.cfg" or "-f ..\\dir\\config.cfg" instead of usual "-f
	dir/config.cfg" (or using backslash) as previously.  Change-Id: I13b4abac6dbe6d770cc11a4e61c9421ef340da83 Author: Steve
	Bennett <steveb@workware.net.au> Signed-off-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-on: http://openocd.zylin.com/40
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2011-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: warning: silence gcc by initializing
	local variables GCC doesn't understand that these are in fact initialized if they
	are used.  Change-Id: I01988adb0547f785b48d869ddbe44cc17dca4739 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/116 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/server/server.c: SERVER: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I0b9d0b419d9c8b7a8c755e048d5faf72d1658ba2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/87 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Richard Barlow <richard@richardbarlow.co.uk>

	* tcl/interface/dp_busblaster.cfg: cfg: Add interface config for
	Dangerous Prototypes BusBlaster The BusBlaster from Dangerous Prototypes is based on the FTDI
	FT2232H IC.  It has a CPLD between the FT2232H and the JTAG header
	allowing it to emulate various debugger types. It comes configured
	as a JTAGkey compatible device.  Change-Id: Iab56907bf67ded87001e628d93012f1e16287d90 Signed-off-by:
	Richard Barlow <richard@richardbarlow.co.uk> Reviewed-on:
	http://openocd.zylin.com/53 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/core.c: NOR/CORE: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I10338a249bcfeff87d8596f7e17f209e26b41678 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/86 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.c: NAND/CORE: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I42a371d6adfdf3b3fb867705211c47d89776ee2a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/85 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: FLASH/CFI: fix clang warnings Total of 5 warnings: 3x "Dead store": removed dead assignment to
	variable; 1x "Dereference of null pointer": this is not an error,
	   but a limited visibility of clang, since pointer erase_region_info    is initialized inside cfi_fixup_non_cfi(); 1x "Branch condition
	   evaluates to a garbage value": this is a real coding bug that could
	   issue SIGSEGV, since "goto cleanup" can be executed before
	   initialization of "source".  Change-Id: Id3c323c82bb15cbd3bb8fc04b23541f11145f109 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/84 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/mx2.c: mx2: add error propagation and remove
	warnings Change-Id: Idd4fb452790e5d7921a749679dbd865586e5a4a9 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/48 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/fm3.c: fm3: fix warning for superfluous assignment Change-Id: I4f8e8c2e676a2728ddc6227daf9ca6a7ceb3d505 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/46 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/kinetis.c: kinetis: fix warning about malloc(0)
	w/assert Change-Id: Ib40204675bfc5429c744f9ed7e2f7098384b753d Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/47 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : tms470: remove dead assignment warning Change-Id: I21e7ac47f80d93c9c0d7b169f8848b929c664b20 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/45 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: clang: fix warning w/assert so that clang
	knows that there will be no division by zero Change-Id: I98ac62a22f21043bb535a667a4f1f1537ccde2a4 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/42 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/tcl.c, src/target/image.c: clang: fix malloc() warning
	with assert Change-Id: I989d2655622a9f11f4a0a2994014e42822587ecd Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/41 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Edgar Grimberg <edgar.grimberg@gmail.com>

	* src/flash/nor/tms470.c: tms470: removed unnecessary operations This should silence a warning.  Change-Id: Id91a9ebacae836083b1db2654a8e7bf24b2300e9 Signed-off-by:
	Edgar Grimberg <edgar.grimberg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/52 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/stmsmi.c: FLASH/STMSMI: fix clang "dead store"
	warning Change-Id: Icfdefdc48432db2057d3fea19dc424571d2385eb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/50 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/buspirate.c: buspirate: ignore return value and
	fix warning Perhaps we could do one better and propagate the error? Change-Id: Idc45f516c26f09de4ee01fe05e8d3475f4b80db3 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/43 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: warning: fix false positive may be used uninitialized in this function [-Werror=uninitialized] Change-Id: Ida2cf8efe4e7da6fd9f669b806a20894563ac3d4 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/49 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: server: remove warning due to dead assignment Change-Id: Idb08aef0c11b3fae92286e8fcea61ab09ab09e74 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/44 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2011-10-21  Spencer Oliver <spen@spen-soft.co.uk>

	* src/helper/jim-nvp.c, src/helper/jim-nvp.h: jim: add missing jim
	license Change-Id: Ib8e34739d92cd54655b9b47d07b856a82ff25f3c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/39 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/rtos/rtos.c: rtos: remove broken code for handling the
	deprecated qP packet Change-Id: Icca522c1e2a2877abb20665b171c61079b1d8f48 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/37 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/rtos/rtos.c: rtos: return the correct value if the T or H
	packets are handled Change-Id: Iea31e20ee4e35c1a9cb7b93424c92b3f38081067 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/38 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2011-10-19  Freddie Chopin <freddie.chopin@gmail.com>

	* src/target/armv7a.c, src/target/cortex_a.c: Unused variables Fix a few errors with set and unused variables detected by GCC 4.7.0 Change-Id: I59b748e18e514ee9f0cde7883b4ed5116198bd4a Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/36 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-13  Marc Willam / Holger Wech <openocd.fseu@de.fujitsu.com>

	* src/flash/nor/fm3.c: Updated fm3.c, added Flash type 2 support,
	error handling improved Change-Id: I684aca11c4554290d0e57c6d3318d8082980c1ef Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/10 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-19  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: TMPA900/910 MCUs
	are always little endian.  Signed-off-by: Uwe Hermann <uwe@hermann-uwe.de> Change-Id:
	I8839f2cf0faf1b5ba9f99901c5ee028b199fabd2 Reviewed-on:
	http://openocd.zylin.com/35 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-19  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: Toshiba TMPA900
	config: Fix incorrect working area.  The Toshiba TMPA900 series (TMPA900/901) only has internal RAM
	regions RAM-0 (16kB) and RAM-1 (8kB) which we can use as working
	area.  This is probably a copy-paste error from tmpa910.cfg, which has the
	correct values and sizes for the TMPA910 series
	(TMPA910/911/912/913): there are RAM-0, RAM-1, and RAM-2 (each
	16kB).  Also, change "built-in RAM" to "internal RAM" to match what the
	datasheet uses.  Change-Id: I993cd6b7fadc28cf34e5cc18426bb2bb42597670 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/34 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-09-19  Matt Reimer <mreimer@sdgsystems.com>

	* src/target/xscale.c: xscale: fix bug in xscale_receive() The code in xscale_receive() that tries to skip invalid reads (i.e.
	reads that don't have the DBG_SR[0] 'valid' bit set) seems to be
	wrong, as it only looks at the first word's valid flag rather than
	each word's own valid flag. Am I reading the code correctly? If so,
	the attached patch should fix it.  If this looks correct, I'll generate a proper patch and commit
	message.  Matt Change-Id: I74ebe2ad7a36d340a9dd3b8487578b6ea7f3cf1e Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/32 Tested-by: jenkins Reviewed-by: Øyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-17  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/stellaris.c: luminary: add new targets update target support from latest SW-DRL 8049 Change-Id: I40aba4d30fe2b79fd955f466c64d99a1dfd63ecf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/31 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-17  Spencer Oliver <spen@spen-soft.co.uk>

	* tcl/chip/ti/lm3s/lm3s.tcl, tcl/chip/ti/lm3s/lm3s_regs.tcl,
	tcl/target/stellaris.cfg: luminary: add peripheral reset script some luminary device classes require a reset script to emulate a
	hardware reset.  Change-Id: Id505c92451244b48b0238c2130aebab2df8d208b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/30 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-02  Karl Kurbjun <kkurbjun@gmail.com>

	* tcl/target/amdm37x.cfg: AM/DM37x: Use ICEPick warm reset and
	include halt when gdb connects.  Using the ICEPick reset seems to allow the processor to be halted
	sooner and the halt on gdb connection makes the connect process more
	robust.  Change-Id: I0586f6e6becc60a729030509ef58907a19d545ec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/23 Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-02  Karl Kurbjun <kkurbjun@gmail.com>

	* tcl/target/icepick.cfg: ICEPick-C: Add support for warm reset
	through JTAG controller and provide finer detail functions.  This sets up simple functions that can later be used to provide
	additional ICEPick Operations.  Change-Id: I313b8679267696fad87d23f3692963e513f2fe21 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/22 Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-10  Attila Kinali <attila@kinali.ch>

	* src/flash/nor/at91sam3.c: Add the SAM3N familly to the
	chip_details table Change-Id: Ic122d324eacf6e667ed6008ebb84708be944222c Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/29 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target_request.c, src/target/target_request.h: 
	target_request: add target_got_message() that can be used to improve
	DCC performance API change to allow implementing a back-off algorithm for polling
	hardware.  Change-Id: I6cbe8b4534c8dfeb8442305171ea96b5481c1f17 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/26 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: target: DCC / target message backoff
	algorithm by immediately polling again when we have received a message from
	the target instead of waiting 100ms, we can hope for much better
	performance. More than 100x? :-) Change-Id: Ieaf0c6c8b6e5addc482895670ffbf9a743e07a29 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/27 Reviewed-by: Øyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: Øyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  Jim Norris <u17263@att.net>

	* HACKING: Add some more detail for setting up Gerrit account.  1) Add a couple more steps when setting up the Gerrit account.  Change-Id: I5d81feac4650d4d28653d14cfc0baf14270424c1 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on: http://openocd.zylin.com/28
	Reviewed-by: Peter Stuge <peter@stuge.se> Tested-by: Peter Stuge
	<peter@stuge.se>

2011-10-14  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: whitespace cleanup Change-Id: I8861e825f9c84525e0c09c3adaa3fe300640770d Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/21 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-14  Spencer Oliver <spen@spen-soft.co.uk>

	* src/flash/nor/lpc2000.c: flash: fix lpc2000 driver typo Change-Id: I3a759ed98a27fd186c12355b846d5e97dba86c5b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-10-14  Uwe Hermann <uwe@hermann-uwe.de>

	* contrib/openocd.udev, doc/openocd.texi,
	tcl/interface/dlp-usb1232h.cfg: Add an interface file for DLP Design
	DLP-USB1232H.  The DLP Design DLP-USB1232H UART/SPI/JTAG module is based on an FTDI
	FT2232H chip. Among other things, it can used as JTAG programmer if
	connected to the JTAG target properly. I have successfully wired the
	module to an Olimex STM32-H103 eval board and flashed a firmware
	onto that using OpenOCD.  The setup details and schematics are documented at:

	http://randomprojects.org/wiki/DLP-USB1232H_and_OpenOCD_based_JTAG_adapterChange-Id: I5eb9255a61eeece233009bee77d7dc3b5d1afb8b Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/20 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-14  Uwe Hermann <uwe@hermann-uwe.de>

	* tcl/board/glyn_tonga2.cfg: Add a board file for the Glyn Tonga2.  This is a Toshiba TMPA900CMXBG (ARM9) based SO-DIMM CPU module with
	64MB DDR SDRAM, 256MB NAND flash, and on-board Ethernet.  The board file provides a tonga2_init function which sets up the
	PLL/clocks and memory (SDRAM and SRAM), which allows writing a
	boot-loader into RAM via JTAG.  Change-Id: I60522b97997bdf50e1f25aebab910d93a98522fb Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/19 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/target.c: target: whitespace cleanup Change-Id: I1453f4f3dc0add529da20577e38b8b82d7d00366 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/18 Reviewed-by: Alex Austin
	<alex.austin@spectrumdsi.com> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-03  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/target/breakpoints.c, src/target/target.c: breakpoint : smp
	software breakpoint issue Change-Id: Iefe78bad71d4fdb38ae412ab8fe2f6282836c22e Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/14 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-12  Peter Stuge <peter@stuge.se>

	* : Merge "docs: update HACKING to point to Gerrit"

2011-10-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: update more url's Change-Id: I476078f32910579fed55777c3b0e6da3ef3363b7 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-10-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* NEWTAPS, PATCHES.txt, README, doc/manual/primer/patches.txt,
	doc/manual/server.txt, doc/openocd.texi: docs: update project url's Change-Id: I54fc3aff722ed25143aad85e58d19b72fcecbba0 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-10-03  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/target/breakpoints.c: breakpoint : indentation Change-Id: Icdb8f72dbb516cd0dfc612c3d61b6801f6382be6 Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2011-10-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* README, configure.ac, doc/openocd.texi, src/openocd.c: replace
	berlios url's with sourceforge url's Change-Id: I1c9957bb64df87cee7c5e832f21453eb8934a5fb Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-10-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/openocd.udev: contrib: remove extra lf Change-Id: I6e16010e13ad2ea0cdff99b2e8805c74bcd0eb56 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-31  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* contrib/loaders/flash/stm32f1x.S, contrib/loaders/flash/stm32x.S,
	src/flash/nor/stm32f1x.c: stm32f1x: use async algorithm in flash
	programming routine Let the target algorithm be running in the background and buffer
	data continuously through a FIFO. This reduces or removes the effect
	of latency because only a very small number of queue executions
	needs to be done per buffer fill. Previously, the many repeated
	target state changes, register accesses (really inefficient) and
	algorithm uploads caused the flash programming to be latency bound
	in many cases. Now it should scale better with increased throughput.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32f1x.c: stm32f1x: use register base instead of
	register offset Access the different flash banks' registers using a bank specific
	register base and a register specific offset. This is equivalent but
	feels more natural.  Some accesses were discovered that maybe should not be hard coded to
	bank0 registers. Add a note about that.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/cortex_m3.c: cortex_m3: use armv7m's async algorithm
	implementation Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/armv7m.c, src/target/armv7m.h: armv7m: implement async
	algorithm functions Split armv7m_run_algorithm into two pieces and use them to
	reimplement it.  The arch_info parameter is used to keep context
	between the two calls, so both calls must refer to the same
	armv7m_algorithm struct. Ugly but works for a proof-of-concept.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/target.c, src/target/target.h,
	src/target/target_type.h: target: add async algorithm entries to the
	target type On supported targets, this may be used to start a long running
	algorithm in the background so the target may be interacted with
	during execution and later wait for its completion.  The most obvious use case is a double buffered flash algorithm that
	can upload the next block of data while the algorithm is flashing
	the current.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Send GDB keep_alive()
	messages when logging USB communication - Ticket: #35

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Formatting

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: In armjtagew_init(),
	set initial JTAG speed to 32 kHz (before TAP initialization).  This prevents rare communication errors during startup.

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Emit a warning if
	interface firmware version != 1.6

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Declare interface as
	`jtag_only'

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Provide
	armjtagew_speed_div() in order to fix interactive use of
	`adapter_khz'

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Fix setting interface
	speed (2/2) Interface expects speed in Hz, not kHz - Ticket #34

2011-09-16  Simon Barner <barner@gmx.de>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: Fix setting interface
	speed (1/2) CMD_SET_TCK_FREQUENCY message length is 5, not 4 - Ticket: #34

2011-10-04  Eugeniy Meshcheryakov <eugen@debian.org>

	* contrib/openocd.udev: Add udev rules for openmoko neo1973 debug
	board

2011-09-16  Clément Burin des Roziers <clement.burin-des-roziers@hikob.com>

	* contrib/loaders/flash/stm32lx.S, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/stm32lx.c,
	tcl/target/stm32l.cfg: STM32L: Added flash driver and target Added the flash driver for the STM32L family, which highly differ
	from the STM32F family.  Added the TCL target file for JTAG access.

2011-09-30  Ash Charles <ash@gumstix.com>

	* tcl/board/verdex.cfg: Verdex: Add support for Gumstix Verdex
	boards.  Gumstix Verdex is a PXA270-based series of computer-on-modules. This
	configuration file is based off the voipac.cfg configuration with a
	different flash memory configuration. This has been tested
	flyswatter adapter to reflash a Gumstix Verdex XL6P board.

2011-09-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* tcl/target/u8500.cfg: u8500 : config for L2 cache

2011-09-29  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/armv7a.c,
	src/target/armv7a.h, src/target/cortex_a.c, src/target/cortex_a.h: 
	armv7a ,cortex a : add L1, L2 cache support, va to pa support

2011-09-29  Steve Bennett <steveb@workware.net.au>

	* Makefile.am, common.mk, configure.ac, src/helper/Makefile.am,
	src/helper/jim-nvp.c, src/helper/jim-nvp.h: jim-nvp is moving from
	jimtcl to openocd The jim-nvp code is specific to openocd, so it belongs in openocd,
	not in the core jimtcl.  Signed-off-by: Steve Bennett <steveb@workware.net.au>

2011-09-28  Vladimir Zapolskiy <vz@mleia.com>

	* tcl/target/amdm37x.cfg: AM/DM37x: add ES1.2 silicon type into
	account The missing value for ES1.2 silicon revision is mentioned in
	sprugn4m.pdf, and the recent TI Beagleboard XM is powered by it, so
	let support the revision.

2011-09-21  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c: add target events, run algorithm and
	default r/w buffer api Target events are added to get better gdb support. The run algorithm
	functionality are implemented to support feature fast flash write
	functionality. The new r/w buffer api is now used to support the
	special memory address handling. The output of the md command was
	fixed.

2011-09-20  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/target/arm_adi_v5.c: kinetis : fix deadlock on device having
	hasidcode false.

2011-09-17  Mathias K <kesmtp@freenet.de>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/kinetis.c: kinetis cpu flash driver Initial release of the freescale kinetis cpu flash driver.

2011-09-13  Luca Bruno <lucab@debian.org>

	* contrib/openocd.udev: contrib: fix udev rules for tty based
	adaptors Most serial adaptors are identified by udev with SUBSYSTEM=tty and
	without DEVTYPE. This patch fix udev rules to work with any listed
	tty-based adaptor. It has been tested with a FTDI-based Bus Pirate.  Signed-off-by: Luca Bruno <lucab@debian.org>

2011-09-12  Mathias K <kesmtp@freenet.de>

	* src/target/arm_adi_v5.c: kinetis auto mass erase on secured
	devices This is a proof of concept to get access to the debug port of a
	secured kinetis cpu. On full flash erase the cpu is automatically
	secured and the debug port is not accessible.  To get this to work
	the srst line is needed and the necessary configuration should be
	added to the configuration file.

2011-09-10  Luca Bruno <lucab@debian.org>

	* src/jtag/drivers/buspirate.c: Fixes and spellchecks for various
	Buspirate output messages Signed-off-by: Luca Bruno <lucab@debian.org>

2011-09-01  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* tcl/board/steval_pcc010.cfg: Add definition for the STEVAL-PCC010
	board with the STM32F207

2011-08-25  Richard Uhler <ruhler@mit.edu>

	* configure.ac, doc/manual/jtag/drivers/remote_bitbang.txt,
	doc/openocd.texi, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/remote_bitbang.c, src/jtag/interfaces.c: 
	Implementation of a new jtag remote_bitbang driver.  The driver sends ascii encoded bitbang commands over unix sockets or
	TCP to another process. This driver is useful for debugging software
	running on processors which are being simulated.

2011-08-31  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Remove typedefs in ulink.c Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/Makefile,
	src/jtag/drivers/OpenULINK/include/delay.h,
	src/jtag/drivers/OpenULINK/include/jtag.h,
	src/jtag/drivers/OpenULINK/include/protocol.h,
	src/jtag/drivers/OpenULINK/include/shorttypes.h,
	src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/delay.c,
	src/jtag/drivers/OpenULINK/src/jtag.c,
	src/jtag/drivers/OpenULINK/src/main.c,
	src/jtag/drivers/OpenULINK/src/protocol.c,
	src/jtag/drivers/OpenULINK/src/usb.c: ULINK driver: Remove typedefs
	in OpenULINK firmware: Use typedefs from stdint.h (uint8_t,
	uint16_t) instead of custom typedefs in shorttypes.h (u8, u16, ...) Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/usb.c: ULINK driver: Remove typedefs
	in OpenULINK firmware USB descriptor structures Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: usleep to jtag_sleep this will help avoid platform specific timing issues

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: static for some functions made two functions into static, since they are not required by
	anything external

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: speed up, relocate function added an attempt to use the non-reseting halting sequence. if it
	fails, then the full sequence will be attempted. this makes things a
	bit faster most of the time.  changed the location of a function,
	avoiding a forward def

2011-08-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : commit 353362651fc28c1f1d823659cde36dd31d1aede6 Author: Martin
	Schmoelzer <martin.schmoelzer@student.tuwien.ac.at> Date:   Tue Aug
	23 17:22:53 2011 +0200

2011-08-04  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/Makefile.am: ULINK driver: Add '-lm' linker flag when building
	this driver (required for correct calculation of JTAG TCK speed
	setting) Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-04  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Implement variable TCK
	frequency in OpenOCD driver Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/include/jtag.h,
	src/jtag/drivers/OpenULINK/include/msgtypes.h,
	src/jtag/drivers/OpenULINK/src/jtag.c,
	src/jtag/drivers/OpenULINK/src/protocol.c: ULINK driver: Implement
	variable TCK frequency in OpenULINK firmware Also, speed up jtag_clock_tck() significantly (150 kHz -> 375 kHz) Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-23  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/src/usb.c: ULINK driver: Fix whitespace
	in OpenULINK firmware usb.c module (trivial) Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-23  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Implement JTAG_PATHMOVE
	command Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Implement
	JTAG_STABLECLOCKS command Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Implement command to
	manually force downloading firmware image from arbitrary location Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Re-order queue functions
	to reflect the order in commands.h Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Properly propagate return
	values in ulink_execute_queue() Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-06-27  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: ULINK driver: Update some comments, fix
	some coding mistakes Signed-off-by: Martin Schmölzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  simonqian.openocd <simonqian.openocd@gmail.com>

	* src/jtag/drivers/vsllink.c: vsllink driver compile fails
	with'vsllink_debug_buffer' defined but not used USB communication is handled by code under versaloon directory.  So
	_DEBUG_USB_COMMS_  should not be used in vsllink.c.  Attachment is
	the patch.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: removed trailing whitespaces emacs is awesome.  replace-regexp RET [ ]+$ RET RET and it's done

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: fix enter debug mode for locking added an alternative way to enter debug mode, which does not require
	restarting the chip.  this will not always work, but in general it
	will (failure 0.3%), and failure is not a dramatic issue, simply
	have to use the full sequence.  the user can only access "halt",
	which uses the full sequence, so the user should not have any
	problems.  restarting the chip requires reconfiguring the flash
	module. the doc is very poor, so i'd rather have the two methods,
	and live with the 0.3%.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: fix irlen handling sometimes the master tap will be enabled, since tap switching is
	required during halt/lock/unlocking procedures.  now irscan handles
	this, avoiding unnecessary warnings and preventing errors.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: fix debug mode,lock,unlock got new info regarding setting the chip to debug mode, and
	locking/unlocking flash memory.  the newer implementation is a bit
	slower, but always works.  the previous implementation would
	randomly (as once every 25k-70k times) get the chip into a state
	where the freescale tool would be necessary. this is fixed now.  added functions to play around with the jtag state machine. they are
	not the happiest, but are necessary to be able to execute the
	halting/locking/unlocking sequences.  Conflicts: 	src/target/dsp5680xx.c

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: fix error handling during halt the user can execute halt, but no enter_debug_mode. modified the
	error handling to suite this.  the new implementation of unlocking
	will use enter_debug_mode, and should not get the same errors as the
	user would, because not being able to enter debug mode is actually
	success when checking for locked flash.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: optional crc for flash writing crc check was always performed on newly flashed data, now it is
	optional flash mem can be locked by writing a specific word to a
	specific address in flash.  to verify flash, target must be halted,
	and this will (when the new halt sequence is implemented) require
	reseting the chip. if the target is reset after writing the lock
	words, then it will lock, hence the CRC will fail because it is not
	possible to read stuff from the target.  also added a function that resets the jtag state machine.  this is
	not used yet, but will be soon.  it is implemented to allow strict
	control over JTAG state machine, necessary to implement to halt and
	unlocking sequences.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.h: def syntax to match tap irlen the master tap has a 4 bit irlen changed the instructions to be 4
	bit, ie, removed the zeros.  it makes it clearer to interpret.

2011-08-15  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* tcl/target/dsp568013.cfg: dsp568013 disable polling by default

2011-05-09  Heythem Bouhaja <heythem.bouhaja@stericsson.com>

	* src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_a.c, src/target/target.c, src/target/target.h,
	src/target/target_type.h: cortex_a hybrid & context breakpoints

2011-08-26  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/FreeRTOS.c: Fix off by one bug in FreeRTOS

2011-08-24  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* tcl/target/stm32f1x.cfg: Add Valuline HD to config file This will add the BSTAP for the medium and high density devices

2011-08-24  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* src/flash/nor/stm32f1x.c: This will add the Value Line HD of stm32
	devices.  This has been tested on STM32F100VE

2011-08-24  Jie Zhang <jie.zhang@analog.com>

	* src/rtos/rtos.c, src/rtos/rtos.h, src/server/gdb_server.c,
	src/server/gdb_server.h, src/target/smp.c, src/target/smp.h: remove
	target argument from gdb packet handling functions

2011-07-18  Evan <evan@evan-VirtualBox.(none)>

	* src/rtos/FreeRTOS.c: Add suspended task list to FreeRTOS support

2011-08-23  Evan Hunter <ehunter@broadcom.com>

	* src/rtos/FreeRTOS.c: Fix FreeRTOS thread list parsing

2011-08-22  Jim Paris <jim@jtan.com>

	* tcl/board/redbee-econotag.cfg, tcl/board/redbee-usb.cfg,
	tcl/board/redbee.cfg, tcl/interface/redbee-econotag.cfg,
	tcl/interface/redbee-usb.cfg: Fix redbee config files Currently the board/redbee-*.cfg files incorrectly include the
	interface definition.  Move the interfaces to interface/, and create
	a single board/redbee.cfg that is common to both boards.  Intended
	  usage is now: openocd -f interface/redbee-econotag.cfg -f
	board/redbee.cfg

2011-08-19  Andreas Bießmann <andreas.devel@googlemail.com>

	* src/flash/nor/cfi.c, src/flash/nor/non_cfi.c: non_cfi: add
	SST39WF1601 support Invented by jknick in sparkfun forum:
	http://forum.sparkfun.com/viewtopic.php?t=19788 Signed-off-by: Andreas Bießmann <andreas.devel@googlemail.com>

2011-08-20  olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam3.c: Fix Sam3u flash bank 1 issue

2011-08-18  Gunnar Henne <g.henne@combio.de>

	* src/flash/nor/cfi.c, src/flash/nor/cfi.h, src/flash/nor/non_cfi.c: 
	cfi: add EN29LV800BB support Posted by telekatz@gmx.de in the bettyhacks forum for openocd 0.4.0
	and integrated into 0.5.0 by Gunnar Henne.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-17  Jie Zhang <jie.zhang@analog.com>

	* src/target/Makefile.am: remove white space before TAB

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.ac: build: check buspirate build host buspirate has never supported building on native windows (mingw).
	configure will now check this is not the case.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  SimonQian <simonqian@simonqian.com>

	* src/jtag/drivers/Makefile.am,
	src/jtag/drivers/versaloon/usbtoxxx/usbtogpio.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtojtagraw.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtopwr.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoswd.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.c,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx.h,
	src/jtag/drivers/versaloon/usbtoxxx/usbtoxxx_internal.h,
	src/jtag/drivers/versaloon/versaloon.c,
	src/jtag/drivers/versaloon/versaloon.h,
	src/jtag/drivers/versaloon/versaloon_include.h,
	src/jtag/drivers/versaloon/versaloon_internal.h,
	src/jtag/drivers/vsllink.c, tcl/interface/vsllink.cfg: versaloon
	driver update Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.ac: build: check guess-rev.sh can be found/executed Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.ac, configure.in: build: rename configure.in to
	configure.ac configure.ac is the correct name to use with modern autotools.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* jimtcl: jim: update to fix mingw/msys build issues Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-15  Jie Zhang <jie.zhang@analog.com>

	* configure.in: show git commit number even when cross-compiling AC_CHECK_FILE will die when cross-compiling. So don't use it to test
	the existence of guess-rev.sh.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c: jimtcl: delete OpenOCD's broken 'stacktrace'
	command Use "info stacktrace" instead. This fixes build problems with latest
	Jim Tcl.

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips_m4k.c: mips: fix potential alignment error

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips_m4k.c: mips: fix reading uint32 and uint16 when
	running on big endian host

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/target.c, src/target/target.h: target: add helper
	functions to get/set u16 or u32 array from/to buffer

2011-08-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c, src/jtag/drivers/ftd2xx_common.h,
	src/jtag/drivers/presto.c, src/jtag/drivers/usb_blaster.c: ftd2xx:
	fix build warnings Due to build warnings introduced in newer versions of ftd2xx we use
	strings to report errors rather than result codes. This also gives
	us the same behaviour as libftdi.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-10  Jie Zhang <jie.zhang@analog.com>

	* doc/openocd.texi: remove useless pxref to SMP subsection

2011-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : commit a62d8f2271312ba955e839509590f5a5975b1b49 Author: Steve
	Bennett <steveb@workware.net.au> Date:   Thu Aug 11 12:10:54 2011
	+1000

2011-08-05  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: fix return code from dsp5680xx_read it returned ERROR_OK even though it actually failed.  this made the
	Tcl interface report success, though it had not succeeded.

2011-08-05  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: renamed for clarity i had started my code from dsp5683xx, i renamed a bunch of stuff to
	names i consider to be better.  i believe no one is using this code,
	so nobody should be affected. (it's not too late to do this change)

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: read only the expected number of
	bytes After correcting the reply size counter, it should be safe to rely
	on it for the number of bytes expected in the USB read, instead of
	reading the endpoint maximum. This doesn't make things go any faster
	but it's nicer and removes the local buffer.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: simplify and optimize queue fill
	level checks Add a helper function for running the queue if it would overflow
	otherwise.  Use it to simplify the queue fill level checks and
	optimize in a few cases that would previously run the queue
	prematurely.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: remove redundant text from log
	messages __FILE__ and __LINE__ are already printed using the log macros.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: remove duplicated code After the reply_index handling is fixed, there's no need to special
	case the out scan.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: fix reply counter to enable
	sending full buffers dtc_queue.reply_index was wrongly being increased during out scans,
	causing the queue to be sent before the out buffer was full. This
	patch increases raw upload speed by 50% or so.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: more indentation fixes Remove unnecessary block scopes to reduce indentation level.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/rlink.c: rlink: fix indentation errors Indentation was inconsistent and some lines not indented at all.
	Quickfix using Eclipse's auto-indentation.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-25  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips_m4k.c: mips32 : Fixed memory byte access Function mips_m4k_write_memory() does endianess byte swap, but this
	procedure break one byte access (temporary array overwrites content
	in buffer).  As a fix, this endianess swap and buffer affecting is
	preformed only on hword and word accesses (not on byte access).

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips32.h, src/target/mips32_pracc.c: mips32: Sync
	Caches to Make Instr Writes Effective Pprogram that loads another program into memory is actually writing
	the D- side cache.  The instructions it has loaded can't be executed
	until they reach the I-cache.  After the instructions have been written, the loader should arrange
	to write back any containing D-cache line and invalidate any
	locations already in the I-cache.  For the MIPS Architecture Release2 cores, we can use synci command
	that does this job.  For Release1 we must use "cache" instruction.

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h: mips32: Added CP0
	coprocessor R/W routines This patch adds MIPS32 CP0 coprocessor R/W routines, as well as
	adequate commands to use these routines via telnet interface.  Now is becomes possible to affect CP0 internal registers and
	configure CPU directly from OpenOCD.

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips_m4k.h: mips_m4k: common_magic should be unsigned For all architectures we use distinct common magic number, and this
	should be a uint32_t type.  Otherwise, comparison with macros will
	yield compilation warning.

2011-07-05  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips32_pracc.c: mips32: Removed Unnecessary JTAG Queue
	Flush jtag_execute_queue() is executed as a part of
	mips_ejtag_drscan_32().  No need for this to be done before -
	removed for optimisation.

2011-08-09  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/jtag/tcl.c: fix tapenabler return code if tap enable/disable failed then a warning was written to the log,
	but JIM_OK was returned. if using openocd via a TCP interface to the
	TCL port, there is no way to catch that the command failed (it
	didn't enable the tap, so it failed) now it return an error if it
	fails.

2011-08-09  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/flash/nor/tcl.c: fix return error msj retval was not correctly propagated

2011-07-12  Andreas Bießmann <andreas.devel@googlemail.com>

	* src/flash/nor/cfi.c: flash/nor/cfi: fix TopBottom for atmel chips There are some older atmel nor chips which have negated logic for
	TopBottom detection. This patch adds a special handling for the old
	chips. This is the same mechanism as implemented in linux kernel.  Signed-off-by: Andreas Bießmann <andreas.devel@gmail.com>

2011-08-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/target/Makefile.am, src/target/target.c: Revert "dsp5680xx:
	disable for now, it generates warnings" This reverts commit d567df02b9f3e7d2e7e78b3c2907ecad9aa4bbd4.

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: dsp5680xx fix constante ref a counter was incorrectly set when i added the macros i incorrectly
	called them.  fixed that.

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: dsp5680xx fix FM clk before doing anything with the flash module (FM) the clock divider
	must be set.  if erase_check was the first thing done with the FM
	after reset then an error would be generated because the clk divider
	was not set.  now erase_check sets the clk divider.

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* src/target/dsp5680xx.c: dps5680xx fix warnings reorganized code to get rid of compiler warnings the warning were
	related to allignment, i do not get these warning on my build system
	(i've tried setting the compiler flag but it doesn't work, still
	working on why) so i cannot detect them (yet.)

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* NEWS, NEWS-0.5.0: Archive and recreate NEWS file.  Archive released NEWS file as NEWS-0.5.0.  Create new NEWS file from
	release script template.

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* configure.in: Bump minor version and add -dev tag.  Bump minor package version number: 0.5.0 -> 0.6.0 Add '-dev' version
	tag: 0.6.0 -> 0.6.0-dev

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* configure.in: The openocd 0.5.0 release.  Remove '-dev' version tag: 0.5.0-dev -> 0.5.0

2011-08-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: arm11: disable broken optimization for
	setting current scan chain

2011-08-03  Luca Bruno <lucab@debian.org>

	* Makefile.am: Automatically generate ChangeLog from git log for
	release tarball make dist should use git2cl to generate ChangeLog from git history,
	populating the placeholder file in released tarball.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-08-02  B. A. Bryce <bbcu2011@gmail.com>

	* tcl/target/stellaris.cfg: cfg: allow stellaris device class
	override Some devices, eg. The Tempest class return the wrong device class
	when queried. Add the ability to manually override the device class.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-01  Jie Zhang <jzhang918@gmail.com>

	* src/target/etb.c, src/target/smp.c: etb: fix incorrect previous
	patchset This corrects two issues found with openocd.
	d7f71e7fe9645fa8c3f88cf6fc9ad438aa6708f3 removed some code that was
	being used.  The above then caused even more code to get removed by commit
	1cfb2287a67c1f78b76583b2e5ed83ca3560b0d5.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/stm32.cfg, tcl/target/stm32f2xxx.cfg: cfg: support
	calling legacy stm32 scripts For the time being we support the old stm32 script names - this will
	be removed before the next release cycle.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: remove obsolete luminary target info The lm3s variant is not required as this is handled in the target
	script - see tcl/target/stellaris.cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/startup.tcl: flash: add support for deprecated stm32
	flash cmds Issue warning when the old cmd is used and redirect to new supported
	one.  These deprecated cmds will be removed at some point.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/hitex_stm32-performancestick.cfg,
	tcl/board/olimex_stm32_h103.cfg, tcl/board/olimex_stm32_h107.cfg,
	tcl/board/stm32100b_eval.cfg, tcl/board/stm3210b_eval.cfg,
	tcl/board/stm3210c_eval.cfg, tcl/board/stm3210e_eval.cfg,
	tcl/board/stm3220g_eval.cfg, tcl/target/stm32.cfg,
	tcl/target/stm32f1x.cfg, tcl/target/stm32f2x.cfg,
	tcl/target/stm32f2xxx.cfg, tcl/target/stm32xl.cfg: cfg: update
	scripts to use new stm32 driver names Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: update to use new stm32 driver names Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/stm32f1x.c, src/flash/nor/stm32f2x.c,
	src/flash/nor/stm32f2xxx.c, src/flash/nor/stm32x.c: flash: update
	stm32 driver names Use consistent names for the stm32 family flash drivers, eg.  stm32x
	-> stm32f1x stm32f2xxx -> stm32f2x this makes it easier to add support for newer stm32 families.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/fm3.cfg: cfg: add Fujitsu FM3 config Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: doc: add Fujitsu FM3 flash driver info Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-21  Jie Zhang <jie.zhang@analog.com>

	* doc/openocd.texi: remove doc on the deprecated '-p' option Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-21  Jie Zhang <jie.zhang@analog.com>

	* doc/openocd.texi: Update doc about Jim since it's not a single .C
	file and a single .H file any more Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-26  Ronny Strutz <ronny@ewoks.de>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/fm3.c: add Fujitsu FM3 Family flash support Signed-off-by: Ronny Strutz <ronny@ewoks.de> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Michael Hunold <michael@mihu.de>

	* tcl/target/tmpa900.cfg: CPU name in TMPA900 config file should
	obviously be TMPA900 (not TMPA910).  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Makefile.am, configure.in: build: do not install jimtcl We now make use of the new jimtcl --disable-install-jim Now we can
	install openocd without jimtcl bring installed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* jimtcl: jimtcl: update to support --disable-install-jim Update jimtcl version to commit
	6233a6c5d39928f1bfafa8f41cb1ddf0c5a83de0 This enable to to build
	jimtcl as a submodule but not install it.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* jimtcl, tcl/target/stm32f2xxx.cfg: stm32f2xxx: comments about
	frequency choice

2011-07-09  Luca Bruno <lucab@debian.org>

	* src/Makefile.am: Do not append git info to version string when
	building from released tarball When building official releases from tarball, git commit info is not
	available in the building environment. Thus, automake should not try
	to append the git commit to the version string.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ftd2xx: handle FT_GetLatencyTimer bug
	in v1.04 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/usb_blaster.c: busblaster: Fix warnings when
	building against D2XX The default is -Werror, so warnings become errors.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Steve Bennett <steveb@workware.net.au>

	* src/jtag/drivers/ft2232.c: ft2232: Fix warnings when building
	against D2XX The default is -Werror, so warnings become errors Signed-off-by: Steve Bennett <steveb@workware.net.au> Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Steve Bennett <steveb@workware.net.au>

	* configure.in: ftdi: update for latest libftdi 1.0.4 For libftd2xx1.0.4, which uses a different directory structure than
	libftd2xx0.4.16 Without this fix the build fails with version 1.0.4
	of the driver.  Note that this does not fix --with-ftd2xx-lib=shared Signed-off-by: Steve Bennett <steveb@workware.net.au> Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-10  Luca Bruno <lucab@debian.org>

	* src/flash/nand/lpc3180.c, src/flash/nor/stellaris.c,
	src/rtos/FreeRTOS.c, src/rtos/ThreadX.c, src/rtos/eCos.c: Fix typo
	in command output Fix a bunch of minor typo in user facing output.  Signed-off-by: Luca Bruno <lucab@debian.org>

2011-07-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/arm7_9_common.c, src/target/mips_m4k.c: mips_m4k and
	arm7_9 : Fix soft bkpt endianess for 16-bit instructions The patch fix comparison of target data on the host by using
	target_buffer_get_u16() to transform current_instr to _host_
	endianess before comparison.

2011-07-04  Peter Horn <peter.horn@bluewin.ch>

	* doc/openocd.texi, src/target/cortex_m3.c, src/target/cortex_m3.h: 
	cortex_m3: add auto maskisr This patch extends the cortex_m3 maskisr command by a new option
	'auto'.  The 'auto' option handles interrupts during stepping in a
	way they are processed but don't disturb the program flow during
	debugging.  Before one had to choose to either enable or disable interrupts. The
	former steps into interrupt handlers when they trigger. This
	disturbs the flow during debugging, making it hard to follow some
	piece of code when interrupts occur often.  When interrupts are disabled, the flow isn't disturbed but code
	relying on interrupt handlers to be processed will stop working. For
	example a delay function counting the number of timer interrupts
	will never complete, RTOS task switching will not occur and output
	I/O queues of interrupt driven I/O will stall or overflow.  Using the 'maskisr' command also typically requires gdb hooks to be
	supplied by the user to switch interrupts off during the step and to
	enable them again afterward.  The new 'auto' option of the 'maskisr' command solves the above
	problems. When set, the step command allows pending interrupt
	handlers to be executed before the step, then the step is taken with
	interrupts disabled and finally interrupts are enabled again. This
	way interrupt processing stays in the background without disturbing
	the flow of debugging. No gdb hooks are required. The 'auto' option
	is the default, since it's believed that handling interrupts in this
	way is suitable for most users.  The principle used for interrupt handling could probably be used for
	other targets too.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/cortex_m3.c, src/target/cortex_m3.h: 
	Revert "cortex_m3: add auto maskisr" This reverts commit ff640f197a9a343b2f3ed10e9174e35282334e8c.  Original patch reverted as Author's name was incorrectly set.

2011-07-01  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips_m4k.c: mips_m4k : Fix soft breakpoint endianess
	handling In order to compare data read from the target with some marcros or
	data defined on the host, we must transform this read data from
	target endianess to host endianess.  target_read_memory() gets bytes
	from target to the host, but keeps them in _target_ endianess. This
	is OK if we just want to temporary keep this data on the host, like
	keeping breakpoint->orig_instr. But if we want to use this data for
	any ispections and comparisons on the host side, we must transform
	it to _host_ endianess, by using target_buffer_get_u32() function.
	Currently this transformation is missing, and check current_instr ==
	MIPS32_SDBBP will never pass if target and host endianess differ,
	because current_instr will be kept in _target_ endianess and
	MIPS32_SDBBP will be kept in _host_ endianess, The patch fix this issue by using target_buffer_get_u32() to
	transform current_instr to _host_ endianess before comparison.

2011-06-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* jimtcl: jimtcl: update to 0.71 based release The actual release is 411e92fea9621630eb350e0c2bb43543e553b84f as we
	had a few issues relating to its use within openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/target/Makefile.am, src/target/target.c: dsp5680xx: disable for
	now, it generates warnings Use "git revert <commit>" to revert this commit, then build and
	repair and post patch to the mailing list.  Warnings generated with: nios2-elf-gcc (GCC) 3.4.6 (Altera Nios II 9.1 b222) openocd/src/target/dsp5680xx.c: In function 'eonce_rx_upper_data':
	openocd/src/target/dsp5680xx.c:252: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'eonce_rx_lower_data': openocd/src/target/dsp5680xx.c:268: warning:
	cast increases required alignment of target type
	openocd/src/target/dsp5680xx.c: In function 'eonce_pc_store':
	openocd/src/target/dsp5680xx.c:508: warning: dereferencing
	type-punned pointer will break strict-aliasing rules
	openocd/src/target/dsp5680xx.c: In function 'dsp5680xx_read':
	openocd/src/target/dsp5680xx.c:736: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c:737:
	warning: cast increases required alignment of target type
	openocd/src/target/dsp5680xx.c: In function 'dsp5680xx_write_8':
	openocd/src/target/dsp5680xx.c:823: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'dsp5680xx_write': openocd/src/target/dsp5680xx.c:938: warning: cast
	increases required alignment of target type
	openocd/src/target/dsp5680xx.c:941: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'dsp5680xx_f_wr': openocd/src/target/dsp5680xx.c:1355: warning: cast
	increases required alignment of target type

2011-06-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_m4k.c: mips4k: fix big-endian hosts and host
	alignment problems the code was making assumptions about the endianness of the host.

2011-06-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp5680xx.c, src/target/dsp5680xx.h: dsp5680xx: fix
	compilation problems use a more specific global variable name than "context", which can
	easily conflict with other things.

2011-06-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/cortex_m3.c, src/target/cortex_m3.h: 
	cortex_m3: add auto maskisr This patch extends the cortex_m3 maskisr command by a new option
	'auto'.  The 'auto' option handles interrupts during stepping in a
	way they are processed but don't disturb the program flow during
	debugging.  Before one had to choose to either enable or disable interrupts. The
	former steps into interrupt handlers when they trigger. This
	disturbs the flow during debugging, making it hard to follow some
	piece of code when interrupts occur often.  When interrupts are disabled, the flow isn't disturbed but code
	relying on interrupt handlers to be processed will stop working. For
	example a delay function counting the number of timer interrupts
	will never complete, RTOS task switching will not occur and output
	I/O queues of interrupt driven I/O will stall or overflow.  Using the 'maskisr' command also typically requires gdb hooks to be
	supplied by the user to switch interrupts off during the step and to
	enable them again afterward.  The new 'auto' option of the 'maskisr' command solves the above
	problems. When set, the step command allows pending interrupt
	handlers to be executed before the step, then the step is taken with
	interrupts disabled and finally interrupts are enabled again. This
	way interrupt processing stays in the background without disturbing
	the flow of debugging. No gdb hooks are required. The 'auto' option
	is the default, since it's believed that handling interrupts in this
	way is suitable for most users.  The principle used for interrupt handling could probably be used for
	other targets too.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-28  Peter Horn <peter.horn@bluewin.ch>

	* src/target/cortex_m3.c: cortex_m3: add BKPT_TYPE_BY_ADDR define Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Makefile.am: build: cleanup jimtcl generated configure.gnu We use configure.gnu to pass options to the jimtcl submodule.  Make
	sure a distclean removes any generated files Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* README: Add description for configure argument "--enable-ulink" to
	README file

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* .gitignore: Add OpenULINK driver files generated by SDCC to
	.gitignore

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* common.mk: Add -DPKGLIBDIR to AM_CPPFLAGS.  This is required so the OpenULINK driver knows the install location
	of the OpenULINK firmware image.

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/Makefile.am: Include ULINK driver in
	src/jtag/drivers/Makefile.am A new variable "nobase_dist_pkglib_DATA" is introduced to install
	the OpenULINK firmware image to
	$PREFIX/lib/openocd/OpenULINK/ulink_firmware.hex Also, the variable "EXTRA_DIST" is used to include the OpenULINK
	firmware source in the OpenOCD source distribution.

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/Makefile.am: Include ULINK driver in src/Makefile.am

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* configure.in: Include ULINK driver in configure.in

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* tcl/interface/ulink.cfg: Add ULINK interface script

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/interfaces.c: Include ULINK driver in
	src/jtag/interfaces.c

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/OpenULINK/Makefile,
	src/jtag/drivers/OpenULINK/README,
	src/jtag/drivers/OpenULINK/include/common.h,
	src/jtag/drivers/OpenULINK/include/delay.h,
	src/jtag/drivers/OpenULINK/include/io.h,
	src/jtag/drivers/OpenULINK/include/jtag.h,
	src/jtag/drivers/OpenULINK/include/main.h,
	src/jtag/drivers/OpenULINK/include/msgtypes.h,
	src/jtag/drivers/OpenULINK/include/protocol.h,
	src/jtag/drivers/OpenULINK/include/reg_ezusb.h,
	src/jtag/drivers/OpenULINK/include/shorttypes.h,
	src/jtag/drivers/OpenULINK/include/usb.h,
	src/jtag/drivers/OpenULINK/src/USBJmpTb.a51,
	src/jtag/drivers/OpenULINK/src/delay.c,
	src/jtag/drivers/OpenULINK/src/jtag.c,
	src/jtag/drivers/OpenULINK/src/main.c,
	src/jtag/drivers/OpenULINK/src/protocol.c,
	src/jtag/drivers/OpenULINK/src/usb.c,
	src/jtag/drivers/OpenULINK/ulink_firmware.hex: Add OpenULINK
	firmware Build requires SDCC, the Small Device C Compiler.

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* src/jtag/drivers/ulink.c: Add source code for new ULINK driver

2011-06-22  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/image.c: Fix load_image for ELF with all p_paddr set to
	zero So far image_load command tries to load ELF binaries to address
	discovered by reading p_paddr member of a Program header of an ELF
	segment.  However, ELF specifications says for p_paddr : ...Because System V
	ignores physical addressing for application programs, this member
	has unspecified contents for executable files and shared objects.  ARM ELF specifiaction goes even further, demanding that this member
	be set to zero, using the p_vaddr as a segment load address.  To avoid the cases to wrong addr where p_paddr is zero, we are now
	using p_vaddr to as a load destination in case that *all* p_paddr ==
	0. Basically, this patch re-implements the approach present in BDF's
	elf.c, which is used by GDB also (so that we can be consistent).

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/Makefile.am: build: do not included generated files in
	distribution We have to use this method as automake seems to ignore nodist_ on
	libs.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Makefile.am, doc/Makefile.am, src/target/Makefile.am: build: add
	missing files to make dist Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Makefile.am: build: pass correct flags to jimtcl during make
	distcheck This is only for the case of a make distcheck.  During a normal
	release build these flags will be created by configure.gnu Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/Makefile.am, src/rtos/Makefile.am,
	src/target/Makefile.am: build: add missing files from dist release Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-16  Tomek CEDRO <cederom@tlen.pl>

	* src/jtag/adapter.c: ADAPTER: Fixed transport selection mechanism
	to support transports other than jtag (if defined).

2011-06-16  Tomek CEDRO <cederom@tlen.pl>

	* src/openocd.c: OPENOCD: Renamed ambiguous main2() into
	openocd_thread() to show possible solution for thread support in
	future.

2011-06-15  Dale Lukas Peterson <hazelnusse@gmail.com>

	* tcl/board/olimex_stm32_h107.cfg: Added Olimex STM32 {H,P}107.cfg
	board

2011-06-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* configure.in, src/Makefile.am, src/jtag/Makefile.am,
	src/jtag/adapter.c, src/jtag/core.c, src/jtag/drivers/ft2232.c,
	src/jtag/transport.c, src/jtag/transport.h, src/openocd.c,
	src/target/adi_v5_swd.c, src/transport/Makefile.am,
	src/transport/transport.c, src/transport/transport.h: transport:
	move files over to transport folder as we introduce swd and jtag as two transports, we want to start up
	with a new transport folder to organize the code a bit.

2011-06-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* HACKING: HACKING: add tip on how to write comments

2011-06-10  rlrosa <rodrigo@evolution.com>

	* tcl/interface/minimodule.cfg: added minimodule interface

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.h: doxy more

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: doxy & cleanup

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c: fix protection behavior

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/jtag/drivers/ft2232.c,
	src/target/dsp5680xx.c, src/target/dsp5680xx.h: cleanup trailing
	whitespaces

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: flash speed improved

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: removed unnecessary actions/controls

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: cleanup flash module command

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: fix read for verify_image

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: fix read speed improved by queueing
	commands

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: fix flash driver size, sector erase

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/jtag/drivers/ft2232.c: Added minimodule (ftdi) interface

2011-06-06  Laurent Charpentier <laurent_pubs@yahoo.com>

	* tcl/board/stm3220g_eval.cfg: Added configuration file for
	STM3220G-EVAL board.

2011-06-06  Laurent Charpentier <laurent_pubs@yahoo.com>

	* tcl/target/stm32f2xxx.cfg: Added configuration file for
	stm32f2xxx.

2011-06-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: Silence -O3 warning

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* src/jtag/drivers/usbprog.c, src/target/arm_simulator.c,
	src/target/etb.c: Fix "unused variable" warnings (errors) detected
	with GCC 4.7.0 - leftover changes

2011-06-03  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/flash/nor/cfi.c, src/target/mips32.h: mips: add nor flash
	write from memory block

2011-06-02  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: crc check on flashed data

2011-06-02  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/dsp5680xx.c: code cleanup

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* src/target/arm11_dbgtap.c: Fix "unused variable" warnings (errors)
	detected with GCC 4.7.0 - dubious fixes

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* src/flash/nor/core.c, src/flash/nor/em357.c,
	src/flash/nor/pic32mx.c, src/flash/nor/stm32x.c,
	src/flash/nor/str9x.c, src/pld/virtex2.c, src/rtos/rtos.c,
	src/server/gdb_server.c, src/svf/svf.c, src/target/arm720t.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm946e.c,
	src/target/arm_adi_v5.c, src/target/arm_disassembler.c,
	src/target/armv4_5.c, src/target/breakpoints.c,
	src/target/dsp563xx.c, src/target/embeddedice.c,
	src/target/mips32.c, src/target/mips32_pracc.c, src/target/smp.c: 
	Fix "unused variable" warnings (errors) detected with GCC 4.7.0 -
	trivial fixes

2011-06-02  Bear <jilingshu@gmail.com>

	* tcl/board/uptech_2410.cfg: uptech2410

2011-06-01  Tormod Volden <debian.tormod@gmail.com>

	* bootstrap: bootstrap: Various code improvements - Do not specify -e twice.  - Use "which" instead of calling commands that might not exist.  - Fix bashism ("==" is C not sh) - Carefully quote potentially empty variables - Check command arguments before doing anything - Rewrite argument checking to be more easily extensible - Consistent indentation - UNIX style error messages

2011-05-31  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips: fixup
	fastdata fixup fastdata

2011-05-30  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips32.c, src/target/mips_m4k.c: mips: fix some more
	endian madness

2011-05-31  Laurent Charpentier <laurent_pubs@yahoo.com>

	* bootstrap: bootstrap: fix argument handling - no argument => run submodule init - "nosubmoudle" => do not run submodule - other values => error message

2011-05-29  Damjan Marion <damjan.marion@gmail.com>

	* tcl/board/mini6410.cfg: Board definition for mini6410/tiny6410
	(ARM1176) The following mini6410/tiny6410 functions are available: init_6410 -
	initialize clock, timer, DRAM init_6410_flash - initializes NAND
	flash support install_6410_uboot - copies u-boot image into RAM and
	runs it

2011-05-29  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips_ejtag.c: mips: fix swapping if running on big
	endian host

2011-05-29  Damjan Marion <damjan.marion@gmail.com>

	* tcl/board/smdk6410.cfg, tcl/target/smdk6410.cfg: SMDK6410 is not
	target, move file to board

2011-05-28  Damjan Marion <damjan.marion@gmail.com>

	* src/flash/nand/core.c: Fixed values for Samung NAND chips

2011-05-23  Damjan Marion <damjan.marion@gmail.com>

	* src/flash/nand/core.c: Improve NAND flash detection Detect based on both manufacturer id and chip id if manufacturer id
	is defined in table

2011-05-23  Damjan Marion <damjan.marion@gmail.com>

	* src/flash/nand/core.c, src/flash/nand/core.h: Reorganize NAND
	flash table - added manufacturer field - name moved to the end for better text alignment

2011-05-25  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/target/mips_ejtag.c: mips: fix swapping if openocd is running
	on big endian host

2011-05-23  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/rtos/rtos.c: Report actual current thread

2011-05-23  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/rtos/Makefile.am, src/rtos/eCos.c, src/rtos/rtos.c,
	src/rtos/rtos_ecos_stackings.c, src/rtos/rtos_ecos_stackings.h: Add
	eCos/Cortex RTOS support

2011-05-24  Stefan Mahr <stefan.mahr@sphairon.com>

	* src/flash/nor/non_cfi.c: add support for spansion flash on
	mindspeed c300 eval board Signed-off-by: Stefan Mahr <stefan.mahr@sphairon.com>

2011-05-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/dsp5680xx.c: dsp5680xx: whitespace cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-05-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/dsp5680xx.c: Fix build issue under cygwin cygwin does not define sleep, so use our internal win32 version.
	caused by commit 9d4aec6bda90ad39a140747ea270c6a09dd26440 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-05-18  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/dsp5680xx_flash.c, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h: flashing speed improved using queued jtag.
	error propagation improved.

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* src/server/gdb_server.c: Get register value if it's invalid in
	cache.

2011-05-15  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/rtos/rtos.c: Corrected test for invalid current_threadid

2011-05-17  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/dsp5680xx_flash.c, tcl/target/dsp568013.cfg,
	tcl/target/dsp568037.cfg: flash support (only full erase/write) for
	568013 and 568037

2011-05-17  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* src/target/Makefile.am, src/target/dsp5680xx.c,
	src/target/dsp5680xx.h, src/target/target.c,
	tcl/target/dsp568013.cfg, tcl/target/dsp568037.cfg: partial support
	for 568013 and 568037, target integration.

2011-05-11  Alan Bowman <alan.michael.bowman@gmail.com>

	* src/rtos/rtos.c, src/rtos/rtos_standard_stackings.c: Correct
	stacking direction and use of address offset

2011-05-09  Michel Jaouen <michel.jaouen@stericsson.com>

	* doc/openocd.texi: cortex a : smp doc update

2011-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/amdm37x.cfg: beagleboard: add support for various
	icepick versions The beagleboard icepick jtag tap id's vary.

2011-05-05  Jonas Hoerberg <jhorberg@sauer-danfoss.com>

	* tcl/board/at91rm9200-ek.cfg: at91rm9200-ek: add low default
	communication speed

2011-04-27  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* tcl/target/lpc2460.cfg: Add support for the lpc2460 target

2011-04-27  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* tcl/target/lpc2xxx.cfg: Make the lpc2xxx generic driver support
	romless parts

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* src/target/avr32_ap7k.c: Remove useless MIPS code in avr32_ap7k.c.

2011-04-28  Jonas Hörberg <jhorberg@sauer-danfoss.com>

	* src/jtag/core.c, src/jtag/drivers/amt_jtagaccel.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/gw16012.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/rlink.c,
	src/jtag/drivers/usb_blaster.c, src/jtag/zy1000/zy1000.c: adapter
	speed: require init script setting and centralize activation from
	drivers to core.c Signed-off-by: Jonas Hörberg <jhorberg@sauer-danfoss.com>

2011-04-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/types.h: ecos: add 64 bit types for sprintf/sscanf

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* tcl/target/u8500.cfg: u8500.cfg : ste u8500 support

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/server/gdb_server.c: gdb_server : 'R' command replied by OK

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/target/cortex_a.c: cortex_a : smp support Conflicts: 	src/target/cortex_a.c

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/server/gdb_server.c, src/server/gdb_server.h,
	src/target/Makefile.am, src/target/breakpoints.c, src/target/smp.c,
	src/target/smp.h, src/target/target.c, src/target/target.h: smp :
	infra for smp minimum support

2011-04-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: leave check on whether target is running
	to target_write_memory() there was a check in clearing the status register that called exit()
	if the target was running. target_write_memory() has such a check
	and will report the error correctly.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-04-24  SimonQian <SimonQian@SimonQian.com>

	* src/flash/nor/stm32f2xxx.c: add STM32F2 revY

2011-04-24  SimonQian <SimonQian@SimonQian.com>

	* src/flash/nor/stm32f2xxx.c: remove read of flash_size in STM32F2

2011-04-21  Damjan Marion <damjan.marion@gmail.com>

	* src/jtag/drivers/buspirate.c: buspirate: fix building on some OSes

2011-04-18  Michel Jaouen <michel.jaouen@stericsson.com>

	* src/rtos/FreeRTOS.c, src/rtos/ThreadX.c, src/rtos/rtos.c,
	src/rtos/rtos.h: rtos : compilation error on amd64

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/flash/nor/non_cfi.c: Fix non cfi x16 nor flash connected to x8
	bus. The ids in the table should be masked before comparison.

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/flash/nand/lpc32xx.c: Make the LPC32xx nand driver support up
	to 5 address cycles. This will only work in the SLC driver.

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/flash/nand/lpc32xx.c: Make the LPC32xx slc nand driver the
	default

2011-04-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/interface.h: jtag: clarify jtag->init()
	and jtag->quit() definitions only set jtag global pointer if jtag->init() succeeds. Less code,
	more clear what the rules are.  Fix nit that error value from init() was not propagated unmodified.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-04-14  Broadcom Corporation (Evan Hunter) <ehunter@broadcom.com>

	* configure.in, src/Makefile.am, src/rtos/FreeRTOS.c,
	src/rtos/Makefile.am, src/rtos/ThreadX.c, src/rtos/rtos.c,
	src/rtos/rtos.h, src/rtos/rtos_standard_stackings.c,
	src/rtos/rtos_standard_stackings.h, src/server/gdb_server.c,
	src/server/gdb_server.h, src/target/target.c, src/target/target.h: 
	RTOS Thread awareness support wip - works on Cortex-M3 with ThreadX and FreeRTOS Compared to original patch a few nits were fixed: - remove stricmp usage - unsigned compare fix - printf formatting fixes - fixed a bug with overrunning a memory buffer allocated with
	malloc.

2011-04-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/pic32mx.c: pic32: update pic32mx flash driver Update devices as per the latest programming manual.  We now use the full DEVID to identify the target. Previously we used
	a 8bit id but that has now been changed in the manual.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a.c: Replace byte-access to memory with faster
	word-access Freescale iMX53 doesn't seem to like unaligned accesses to his
	memory mapped registers.  Anyway this patch makes
	dump_image/load_image 4X faster for every access through APB.  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* src/target/arm_opcodes.h: Add opcodes for load/store registers
	words immediate post-indexed Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* tcl/target/imx53.cfg: Add preliminary support for Freescale iMX53 Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* tcl/target/lpc3250.cfg: Add the REV A tap id to the LPC3250
	configuration

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/target/cortex_a.c: cortex_a :apb mem read/write working with
	mmu_on Conflicts: 	src/target/cortex_a.c

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/jtag/jtag.h, src/target/cortex_a.c: cortex_a : multiple target
	on the same dap

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/target/cortex_a.c: cortex_a : use dap ref from armv4_5common

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/chip/atmel/at91/at91sam9263.cfg,
	tcl/chip/atmel/at91/at91sam9263_matrix.cfg,
	tcl/chip/atmel/at91/at91sam9_init.cfg: at91: add at91sam9263 chip
	register definition Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/chip/atmel/at91/at91_pio.cfg,
	tcl/chip/atmel/at91/at91_pmc.cfg,
	tcl/chip/atmel/at91/at91_rstc.cfg,
	tcl/chip/atmel/at91/at91_wdt.cfg,
	tcl/chip/atmel/at91/at91sam9_init.cfg,
	tcl/chip/atmel/at91/at91sam9_sdramc.cfg,
	tcl/chip/atmel/at91/at91sam9_smc.cfg,
	tcl/chip/atmel/at91/hardware.cfg, tcl/chip/atmel/at91/sam9_smc.cfg: 
	at91: add chip register definition and generic init support for  - pio  - pmc  - rstc  - wdt  - sdramc  - smc Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/board/at91sam9263-ek.cfg: add at91sam9263-ek support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/board/at91sam9261-ek.cfg: add at91sam9261-ek support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/chip/atmel/at91/at91sam9261.cfg,
	tcl/chip/atmel/at91/at91sam9261_matrix.cfg: at91: add at91sam9261
	chip register definition Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: jlink_debug_buffer use inline
	function when _DEBUG_USB_COMMS_ not define Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-03  Ali Lown <ali@lown.me.uk>

	* src/jtag/drivers/usb_blaster.c: Buffering for up to 64 bytes in
	USB Blaster.  Uses a global buffer.  Add self to acknowledgements.

2011-04-03  Ali Lown <ali@lown.me.uk>

	* src/jtag/drivers/usb_blaster.c: Add support for LED to USB Blaster
	code.

2011-04-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.in: build: correctly use AC_LANG_PROGRAM With newer versions of autoconf >= 2.68 we receive warnings about
	the incorrect use of AC_LANG_PROGRAM. This fixes those warnings.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-04-05  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/target/cortex_a.c: cortex_a : implement jtag console for
	cortex_a

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c: Added
	mips_ejtag_drscan_32_out() for optimization.

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips32_pracc.c: Corrected waiting on PrAcc in
	wait_for_pracc_rw(). Added necessary check that PrAcc is "1" before
	FASTDATA access.

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* src/target/mips_m4k.c: Added correct endianess treatment for big
	endian targets. Now it is possible to use mips_m4k_write_memory()
	and mips_m4k_read_memory() to correctly set-up SDRAM, as well as
	bulk data write, which already handled endianess well. Also added
	correct endianess manipulation in case of fallback from erroneus
	bulk write to simple write (to avoid byte swapping two times).

2011-04-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/omap4430.cfg: pandaboard: use new -dbgbase option to
	workaround broken ROM table Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a.c: cortex_a: delete dbgbase hack vestiges Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  Michel JAOUEN <michel.jaouen@stericsson.com>

	* src/target/cortex_a.c: cortex_a: fix gaffe in first implementation
	of -dbgbase

2011-04-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge remote branch 'origin/master' into HEAD

2011-04-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: cortex_a: remove broken dbgbase patchup
	code the patchup code would get false positives when checking whether a
	dbgbase had to be corrected.  The solution is to have autodetect default, with manual override in
	scripts.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Phil <philip@evolution.com>

	* doc/openocd.texi: Added s19 to (fast_)load_image documentation to
	match the online help.

2011-04-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/pic32mx.c, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c: mips: illustrates
	how to improve performance Do not require unecessary roundtrips for clocking out data.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/minidummy/minidummy.c, src/jtag/zy1000/zy1000.c,
	src/svf/svf.c, src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm920t.c, src/target/arm920t.h, src/target/arm926ejs.c,
	src/target/arm926ejs.h, src/target/arm946e.c,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/avr32_ap7k.c, src/target/avr32_mem.c,
	src/target/avr32_mem.h, src/target/cortex_a.c,
	src/target/cortex_m3.c, src/target/dsp563xx.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/feroceon.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/target.h, src/target/target_type.h, src/target/xscale.c: 
	types: write memory now uses const Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_m4k.c: mips: delete kludgy code that modifies data
	sent to write_memory() Could this cause confusion as data sent to write would be flipped
	and then if the caller subsequently used the data, e.g. a compare
	mismatch might happen? Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c: startup: fix bugs in cleanup upon errors during
	startup Importantly adapter cleanup will now happen upon startup failure.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c, src/target/mips_ejtag.c: mips:
	mips32_pracc_exec error propagation fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_ejtag.c, src/target/mips_m4k.c: mips:
	mips_ejtag_get_impcode error propagation added Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: mips: fix
	mips_ejtag_set_instr error handling this fn does not fail, it queues data.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c, src/target/mips_ejtag.c: mips: fix
	error handling for jtag_execute_queue() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/xscale.c: xscale: fix gaffe in phys write it would *read* instead of *write* to memory when the MMU was
	disabled.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a.c: cortex-a: use -dbgbase option Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c, src/target/target.h: target: add -dbgbase
	option to target configuration Really a Cortex-A specific option, but there is no system in place
	to support target specific options currently and there has been no
	need for such a system until now.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-28  Olivier Schonken <olivier.schonken@gmail.com>

	* src/flash/nor/at91sam3.c: at91sam3: Modified cidr comparisson to
	ignore version bits production processor versions increment, thus the version bits
	should be ignored for future proofing. e.g.  Engineering sample
	version == 0x00, production version 0x01

2011-03-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* HACKING: docs: add HACKING file to help users get started with
	patches Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-29  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/flash/nand/lpc32xx.c: Clarify LPC32XX address cycles message Hi, This is a more descriptive message about LPC32XX error, when the
	nand chip needs 5 address cycles.  Thanks.

2011-03-29  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* src/flash/nand/core.c: Add Micron 2GiB nand Hi, This will add support for a new nand chip device.  Thanks.

2011-03-28  Andrew Lyon <andrew.lyon@gmail.com>

	* src/target/mips_m4k.c: bugfix for step <address> mips_m4k The patch below fixes step <address> on mips_m4k.  Spencer Oliver <spen@spen-soft.co.uk>: The current code is used on all other arch's - is there a underlying
	issue with those aswell ?

2011-03-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: command: fix leak when executing commands found via valgrind, not observed/reported.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/Makefile.am, src/target/cortex_a.c,
	src/target/cortex_a.h, src/target/cortex_a8.c,
	src/target/cortex_a8.h: cortex_a: rename cortex_a8.c/h to
	cortex_a.c/h Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: omap4430: tried to add in workaround for
	broken dbgbase query Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/Makefile.am, src/target/cortex_a8.c,
	src/target/cortex_a8.h, src/target/cortex_a9.c,
	src/target/cortex_a9.h, src/target/target.c: cortex a9: merge cortex
	a9 and a8 code better to keep this in a single file.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/omap4430.cfg: omap4430: cortex a9 and a8 are now merged
	again Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix bug in ir scan handling set cur_instr to BYPASS as optimisation code will rely on checking
	the cached value.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: removed JTAG master TCP/IP
	server Move ZY1000 OpenOCD driver more in the direction of being a client
	to simplify code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp563xx_once.c: dsp563xx_once: fix warning and
	potential bug I don't think dsp563xx_once_read_register() would ever be called
	with len==0, but it would have been broken in that case.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: add code to check that SRST
	asserts Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* src/target/target.c, src/target/target_type.h: target: allow
	targets to override memory alignment Targets can implement read/write_buffer to handle alignment.

2011-03-17  John and Tina Peterson <jpfp@byu.edu>

	* src/target/arm_semihosting.c: SYS_WRITE0 fix Problem is, trying to print "Hello, world!\n" just prints endless
	H's, because r1 is never incremented.  One way to fix it would be to add a "++" after "r1".

2011-03-17  Uwe Hermann <uwe@hermann-uwe.de>

	* src/flash/nand/mx2.c, src/flash/nand/mx3.c,
	src/flash/nor/at91sam3.c, src/flash/nor/stellaris.c,
	src/jtag/drivers/buspirate.c, src/jtag/drivers/usbprog.c,
	src/server/startup.tcl, src/svf/svf.c, src/target/armv7m.c,
	src/target/image.c, src/target/mips32.c, src/target/target.c,
	src/target/target.h: Fix a bunch of typos.  Fix a bunch of typos.  Most are in code comments, so nothing should break. UNKOWN_COMMAND
	and CMD_UNKOWN are not used elsewhere, so correcting the spelling
	should also not break anything.

2011-03-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp563xx.c: dsp563xx: fix alignment warnings Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/dsp563xx.c: dsp563xx: fix bug in x buffer handling found by inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: switch to pthread pthreads work under Linux and eCos.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix JTAG over TCP/IP performance
	problem only flush write queue just before waiting for more data, rather
	than when fetching more data from the buffer.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix incorrect usage of
	jtag_sleep() Found by inspection: the correct thing in the context is to use
	usleep() rather than jtag_sleep(). Relates to JTAG over TCP/IP only.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: jtag: clean up jtag_sleep, handle short sleeps
	correctly via usleep short sleeps are handled via usleep, longer sleeps we round up to
	nearest ms.  There was a bug in jtag_sleep() in that it would round *down* to
	nearest ms, thus making all <1ms sleeps 0. Found by inspection
	rather than symptom.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: reduce memory usage for fw
	upgrade fn Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-10  Aaron Carroll <aaronc@ok-labs.com>

	* tcl/board/ti_blaze.cfg: omap4430: add Blaze config Signed-off-by: Aaron Carroll <aaronc@ok-labs.com>

2011-03-10  Aaron Carroll <aaronc@ok-labs.com>

	* tcl/target/omap4430.cfg: omap4430: force hardware breakpoints for
	GDB Soft breakpoints are currently broken if the MMU is enabled due to
	incorrect cache flushing.  Until this is fixed, force the use of
	hardware breakpoints.  Signed-off-by: Aaron Carroll <aaronc@ok-labs.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* doc/openocd.texi, src/jtag/drivers/jlink.c: jlink: add Emulator
	configuration support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: add detect hw type Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: use tap buffer as 2k as said in the datasheet Section 3.3.2 Organization of buffers All buffers are big enough to hold 2 KByte of data.  this will double the speed of download Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* doc/openocd.texi, src/jtag/drivers/jlink.c: jlink: add capability
	dumper and command Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/ft2232.c: ft2232: fix log message and change log
	output to debug

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/target/at91sam9g45.cfg: at91: add at91sam9g45 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/target/at91sam9g10.cfg: at91: add at91sam9g10 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/target/at91sam9260.cfg: at91sam9260: update sram information Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/target/at91sam9263.cfg: at91: add at91sam9263 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/target/at91sam9261.cfg: at91: add at91sam9261 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/board/at91sam9g20-ek.cfg, tcl/target/at91sam9.cfg,
	tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/at91sam9g20.cfg, tcl/target/at91sam9rl.cfg: at91sam9:
	factorise cpu support all at91sam9 are nearly the same except sram and soc name Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* doc/openocd.texi, src/jtag/drivers/jlink.c: jlink: add jlink_pid
	to specify the pid to use this will allow us to use multiple jlink at the same time as when
	the USB-Address is specified the PID change from 0x0101 to (0x101 +
	usb_adress) Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* doc/openocd.texi, src/jtag/drivers/jlink.c: jlink: switch commands
	to subcommands Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: harmonise the device name to
	J-Link Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: add new PID and VID The default pid of the segger is 0x0101 But when you change the USB
	Address it will also pid = ( usb_address > 0x4) ? 0x0101 : (0x101 + usb_address) Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/svf/svf.c: svf: add nil option that just runs through the svf
	file useful for debugging without access to hardware to e.g.  regression
	test, reproduce memory corruption problems, etc.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/log.c: log: debug level is between silent and debug
	output levels It wasn't previously possible to silence the output.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/tcl.c: jtag: add wait_srst_deassert command Useful to do something *real quick* after a SRST deassert.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/ft2232.c: ft2232: fix possible read buffer
	overflow This patch fix a possible read buffer overflow in
	ft2232_execute_queue.  Also the correct read queue size for libftdi
	and libftd2xx was added and and tested.  In function ft2232_write a
	uninitialized value was initialized because we don't know if this
	value was set in the ftdi api call.

2011-02-22  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a8.c: cortex_a8: remove dap_ap_sel calls add new mem_ap_sel_* functions (as was made for cortex_a9) see
	commit: 779005f43dc372de937dfd4b445f31d882b98eca Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-21  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* tcl/board/at91rm9200-ek.cfg: add at91rm9200-ek board support tested with jlink sam-ice v5 while loading barebox (gdb) load Loading section .text, size 0x2f190 lma 0x21f00000
	Loading section .rodata, size 0x931c lma 0x21f2f190 Loading section
	.data, size 0x29e8 lma 0x21f384ac Loading section .barebox_cmd, size
	0x78c lma 0x21f3ae94 Loading section .barebox_initcalls, size 0x80
	lma 0x21f3b620 Start address 0x21f00000, load size 243360 Transfer
	rate: 26 KB/sec, 13520 bytes/write.  Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-21  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* src/jtag/drivers/jlink.c: jlink: set the speed at JLINK_MAX_SPEED
	when an exceeded speed is requested it will allow to be at the highest speed of the jlink without
	touching the board or cpu config tested on sam-ice v5 and at91rm9200-ek Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-20  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c: dsp563xx: rudimentary gdb support This patch add rudimentary gdb support. The gdb register list order
	is corrected. All registers are now 32bit width. Events are send to
	signalize gdb the current target status. Resume and step function
	was corrected to consider a modified pc register. Read/write memory
	now support L memory type, this means a memory with alternating y/x
	memory words. The memspace variable, used by gdb, is now observed
	before a default memory access is initiated. Dummy functions for
	breakpoint and watchpoint are added.

2011-02-21  Edgar Grimberg <edgar.grimberg@gmail.com>

	* .gitmodules: gitmodules: use http protocol for git2cl module Use the http protocol for git2cl module, as it makes it easier for
	the firewall safe mirror to keep all submodules firewall safe.  Signed-off-by: Edgar Grimberg <edgar.grimberg@gmail.com>

2011-02-18  SimonQian <SimonQian@SimonQian.com>

	* src/flash/nand/ecc.c: fix compile error under MinGW

2011-02-17  Luca Ellero <lroluk@gmail.com>

	* tcl/target/stm32.cfg: stm32: add ID for medium density device Rev
	Z stm32-discovery evaluation board (STM32F100RBTB6): reading device id
	register (0xE0042000) returns 0x10010420 Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-14  Luca Ellero <lroluk@gmail.com>

	* src/target/adi_v5_jtag.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h, src/target/cortex_a9.c: arm_adi_v5:
	add/move apsel member in struct adiv5_dap This patch tries to make some order in "apsel" mess.  "dap apsel"
	command was quite useless (and broken) by itself.  With this patch
	we can use it to select between AHB or APB memory access (previous
	patch 05ab8bdb813acdcd74afa71d6656c2df816cb230 was somehow broken).  - moves member apsel (in struct adiv5_dap) to ap_current - adds apsel member this strange choice is made trying to keep coherence in "dap apsel"
	 command and to keep compatibility with other code (for example
	cortex_a8).  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-17  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c: dsp563xx: minor fixes, code cleanup This patch move the dsp563xx_target_create function to the related
	code block. Also the target examine function was added and the
	register cache is initialized in a separate function. The missing
	functionality to invalidate the x memory context on memory writes
	was also added.

2011-02-17  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx_once.c: dsp563xx_once: Correct wrong return
	value on jtag communication errors This patch change the return value on a jtag communication error to
	TARGET_UNKNOWN because this function should return the current
	target status and not a error code from the underlying api call.
	Also the validity of the jtag_status is extended to all static bits
	in this value.

2011-02-15  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c, src/target/dsp563xx.h: - remove pipeline context, use once register instead - fix wrong
	register write in resume and step function - add more conditional
	branch handling

2011-02-15  Bjarne Steinsbo <bsteinsbo@gmail.com>

	* src/flash/nand/Makefile.am, src/flash/nand/driver.c,
	src/flash/nand/ecc.c, src/flash/nand/lpc32xx.c,
	src/flash/nand/lpc32xx.h: lpc32xx: Flash driver Based on the lpc3180 driver, but released as a separate driver for
	 two reasons: 1) I don't have an lpc3180 to test it against, so it might
	 unintentionally break compatibility.  2) It's using a different OOB layout than lpc3180.  Rewritten so that it no longer borrows code from the NXP CDL
	library.  Instead borrowing code from the u-boot port to lpc32xx,
	written by Kevin Wells.  Tested on lpc3250 (Hitex LPC3250-Stick).  OOB layout is compatible
	with LPCLinux.

2011-02-15  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c, src/target/dsp563xx_once.c,
	src/target/dsp563xx_once.h: - add parameter flush to the once api to signalize if the jtag queue
	need to be flushed after the command

2011-02-15  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c: - add bulk memory write function - execute jtag queue at the end of
	the memory transfer

2011-02-15  Phil Fong <fongpwf@yahoo.com>

	* src/target/dsp563xx_once.c: dsp563xx_once: Correct definition of
	JTAG_INSTR_CLAMP  I've been working on Rodrigo on adding support to flash Freescale
	dsp56800e devices and have been looking at the dsp563xx code.  I
	think the define for the JTAG CLAMP instruction in dsp563xx_once.c
	is incorrect.  It should be 0x05 according the Freescale AN2074 (and
	is also 0x05 in the dsp568xx according to AN1935).  It won't
	actually change anything in OpenOCD since this define is not used
	anywhere (as far as I can tell).

2011-02-13  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/ft2232.c: ft2232: add functions for ft2232 set
	data bits high/low byte command reduce duplication. No change in behavior.

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a9.c: cortex_a9: move dap_ap_select to
	arm_avi_v5 dap_ap_select was used in the code at various points, but that can
	lead to confusion, without any knowledge of what AP is really
	selected at some points.  Some bugs derive from this (for example
	md/mw doesn't work well after issueing "dap apsel" command).  Moving
	it to arm_adi_v5.c (using  mem_ap_sel* functions instead of
	mem_ap_*) make the code more clear and more easier to maintain.  In
	the future it should be made "static" to avoid its use outside
	arm_adi_v5 One further benefit is the various goto has been removed as well Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: arm_adi_v5: add
	wrapping transfer functions with selection of ap Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/arm_adi_v5.h: arm_adi_v5: add transfer functions
	prototypes with selection of ap Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a9.c: cortex_a9: check if MMU is enabled on APB
	read/write memory Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a9.c: cortex_a9: check target halted on APB
	read/write memory Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a9.c: cortex_a9: trivial fixes Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/dsp563xx_once.c: buikd: fix cygwin -mno-cygwin build
	error Remove duplicate inline that causes certain versions of gcc to
	choke.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-02-09  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a9.c: cortex_a9: implement read/write memory
	through APB-AP This patch adds read/write capability to memory addresses not
	accessible through AHB-AP (for example "boot ROM code").  To select AHB or APB, a "dap apsel" command must be issued: dap
	apsel 0 -> following memory accesses are through AHB dap apsel 1 ->
	following memory accesses are through APB NOTE: at the moment APB memory accesses are very slow, compared       to AHB accesses. Work has to be done to get it faster (for       example LDR/STR instead od LDRB/STRB) Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-03  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* src/target/cortex_a9.c: cortex_a9: fix dap_ap_select() usage Save, select and restore AP in cortex_a9_step and
	cortex_a9_init_debug_access.  Fixes a bug where the wrong AP is
	selected after a reset.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-02-08  Michal Demin <michaldemin@gmail.com>

	* src/jtag/drivers/buspirate.c: buspirate: Fix command parsing, fix
	errors to have more sense.  Signed-off-by: Michal Demin <michaldemin@gmail.com>

2011-02-08  Mathias K <kesmtp@freenet.de>

	* src/helper/binarybuffer.c: performance: committed wrong version of
	buf_set_buf optimization oops...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-07  Luca Ellero <lroluk@gmail.com>

	* tcl/target/omap4430.cfg: omap4430: Add JRC TAPID for PandaBoard
	REV EA1 (PEAP platforms) PandaBoard REV EA1 (Panda Early Adopter Program) has a different ID.
	This patch add alternate REV EA1 TAP id to configuration file Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-03  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c, src/target/dsp563xx_once.c: dsp563xx: add
	x, y and p memory access Hello, this patch add commands to access to x,y and p memory. For run time
	optimization some local jtag function was changed to static inline.  Regards, Mathias

2011-02-08  Luca Ellero <lroluk@gmail.com>

	* src/target/cortex_a8.c, src/target/cortex_a9.c: cortex_a8/a9: fix
	some comments Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-04  Mathias K <kesmtp@freenet.de>

	* src/helper/binarybuffer.c: buf_set_buf around 30% speed increase Also i have checked the input of this function and in many cases a
	simple byte copy is possible.  I have added this check now and is it possible the buffer is copied
	byte by byte and not bit by bit.  With byte boundary input the test looks like this: buf_set_buf 0x02000000 iteration test: runtime (seconds): old:
	6.828559 new: 0.436191 diff: 6.392368 runtime (seconds): old:
	6.853636 new: 0.430389 diff: 6.423247 runtime (seconds): old:
	6.794985 new: 0.423065 diff: 6.371920 Without: buf_set_buf 0x02000000 iteration test: runtime (seconds): old:
	6.370869 new: 5.552624 diff: 0.818245 runtime (seconds): old:
	6.420730 new: 5.665887 diff: 0.754843 runtime (seconds): old:
	6.583306 new: 5.599021 diff: 0.984285 Regards, Mathias

2011-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* contrib/loaders/flash/stm32f2xxx.S, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/stm32f2xxx.c: stm32x: add
	support for STM32F20x ready for wider testing and comments on basic erase + programming.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-01  Mathias K <kesmtp@freenet.de>

	* src/target/dsp563xx.c, src/target/dsp563xx.h,
	src/target/dsp563xx_once.c, src/target/dsp563xx_once.h: more changes
	to dsp563xx code Hello, this patch adds the missing cpu registers and the correct read/write
	register functions and fixed most of the halt/step/resume issues.
	The complete missing error propagation was added.  + fix tab/spaces Regards, Mathias

2011-02-02  Mathias K <kesmtp@freenet.de>

	* src/helper/types.h, src/target/target.c, src/target/target.h: 
	24bit buffer support Hello, this patch add 24bit support to the target buffer functions and
	little/big endian functions.  Regards, Mathias

2011-02-02  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* tcl/target/omap4430.cfg: omap4430: fix reset sequence * Write to the PRM reset control register should have been 'phys'; * Setup empty reset-assert handlers for the M3's, since the
	  board-level reset takes care of them; * Remove the dbginit cruft, because it gets called implicitly on
	reset.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-02-02  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* src/target/cortex_m3.c: cortex_m3: allow scripts to override reset If a handler for the reset-assert event it present, skip the usual
	reset handling.  This is needed, for example, for board-level
	resets.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/startup.tcl: error: remove debug output when reporting
	errors The user does not need to know or care about "command handlers".  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: use ARM32 machine code on all CPUs but
	Cortex M3 ARM11 broke with aa61a3b3d8b6acad19050987835ec05f3d298bdb as the
	code only checked for arm 7/9.  CFI probably needs work for non-ARM targets but perhaps not adding
	working area memory to e.g. MIPS will give the default slow CFI
	support.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* tcl/board/ti_pandaboard.cfg, tcl/target/omap4430.cfg: TCL configs
	for OMAP4430 and Pandaboard Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* src/target/Makefile.am, src/target/cortex_a9.c,
	src/target/cortex_a9.h, src/target/target.c: cortex_a9: add source
	files for Cortex A9 support.  add target and build support for A9 Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* src/target/arm_dpm.h: arm_dpm: add some SCR/RCR macros Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* src/target/target.c, src/target/target.h: Add '-coreid' target
	option to support multiple cores per TAP.  ARM Cortex-A9 multi-core chips expose a single TAP/DAP which
	connects to both cores.  The '-coreid' option selects which core the
	target should connect to.  Note that at present, OpenOCD can connect to either core, but not
	both simulatenously, until ADI contexts can be shared.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* .gitignore: Add cscope to .gitignore Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-28  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* doc/openocd.texi: openocd.texi: minor fixes in Reset Configuration Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-27  Mathias K <kesmtp@freenet.de>

	* src/target/arm_adi_v5.c: add cortex-r4 etm id to dap info Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* tcl/interface/xds100v2.cfg: - add xds100v2 configuaration file Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-25  Thomas Schmid <thomas.schmid@gmail.com>

	* src/flash/nor/at91sam3.c: Fixed small mistakes in at91sam3 info
	command Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* src/jtag/drivers/ft2232.c: add basic TI xds100v2 support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/target/arm_adi_v5.c: fix segfault from stack corruption in
	ahbap_debugport_init ahbap_debugport_init was queueing reads to a local stack variable
	but didn't execute the queue before returning. Since the result of
	the reads are not used anyway, it's better to pass NULL as the
	destination instead of a dummy variable. I changed this throughout
	the function, even for the reads that were actually executed.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-18  Eric Wetzel <thewetzel@gmail.com>

	* contrib/gen-stellaris-part-header.pl, src/flash/nor/stellaris.c: 
	stellaris: automatically generate and update device IDs Added a Perl script to contrib that uses the header files in
	StellarisWare complete Firmware Development Package provided by
	TI/Luminary to generate a new list of device IDs Used Perl script and revision 6734 of TI/Luminary StellarisWare to
	update device IDs

2011-01-10  Erik Botö <erik.boto@pelagicore.com>

	* src/flash/nor/Makefile.am, src/flash/nor/drivers.c,
	src/flash/nor/em357.c: Flash driver for em357 Hi, I took the stm32x NOR flash driver and adapted it for the Ember
	EM357 chip. This chip is very similar to em351 and stm32w so the
	driver should be easily extended to support those as well if anyone
	can get their hands on some of those for testing.  changelog: Added NOR flash driver em357 Best regards, Erik Botö

2011-01-13  Santeri Salko <santeri.salko@gmail.com>

	* src/flash/nor/str9xpec.c, src/jtag/core.c, src/jtag/jtag.h: 
	str9xpec: Find flash controller from the chain.  Find the flash controller by position since it is before the core,
	not after it.  This fixes the problem that str9xpec enable_turbo (or any other
	str9xpec command) did not work. (See my post in
	http://forum.sparkfun.com/viewtopic.php?f=18&t=25542) Signed-off-by: Santeri Salko <santeri.salko@gmail.com>

2011-01-13  simon qian <simonqian.openocd@gmail.com>

	* src/jtag/transport.c: transport: fix transport command args gaffe the wrong index of argv. argv[0] is the command itself, argv[1] the
	the transport to select.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-13  simon qian <simonqian.openocd@gmail.com>

	* src/jtag/transport.c: transport: fix LOG_DEBUG gaffe LOG_DEBUG() arguments are only evaluated when DEBUG logging is
	enabled, do not use arguments that have side effects like foo++.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: fix release build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* src/flash/nand/at91sam9.c, src/flash/nand/s3c2440.c,
	src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam7.c, src/helper/command.c, src/helper/log.h,
	src/jtag/drivers/arm-jtag-ew.c, src/jtag/drivers/ep93xx.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/rlink.c,
	src/jtag/drivers/usb_blaster.c, src/jtag/tcl.c,
	src/target/arm946e.c, src/target/mips32_pracc.c,
	src/target/oocd_trace.c: nit: more LOG_* \n fixes Remove extra \n from LOG_DEBUG, LOG_INFO, and LOG_WARNING messages Remove LOG_INFO_N LOG_INFO_N was only used once and had a \n at the
	end Change LOG_USER_N calls that end with \n to LOG_USER

2011-01-08  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/lpc2378.cfg,
	tcl/target/lpc2478.cfg: Add another level of procedures to LPC2xxx
	initialization - procedures for specific targets (setup_lpc<number>)
	take core clock and adapter clock as parameters. This way "constant"
	parameters (flash size and type, CPUTAPID, etc.) do not need to be
	copied if one wishes to change the "variable" parameters - like the
	core clock or adapter clock - in a board config file or somewhere
	else.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2011-01-08  David Brownell <david-b@pacbell.net>

	* contrib/coresight-trace.txt, contrib/itmdump.c: present CM3 Trace
	agenda

2011-01-06  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/lpc2378.cfg,
	tcl/target/lpc2478.cfg, tcl/target/lpc2xxx.cfg: Add common LPC2xxx
	setup procedure, use in all LPC2xxx files.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2011-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: use safer arch detection Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/checksum/armv7m_crc.s,
	contrib/loaders/flash/armv7m_cfi_span_16.s: loader: update loader
	src for armv7-m arch Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-05  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* src/flash/nor/cfi.c: Add the support for the armv7m arch.  Signed-off-by: Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

2011-01-05  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* contrib/loaders/flash/armv7m_cfi_span_16.s: Add the contrib file
	for the armv7m arch Signed-off-by: Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* src/flash/nand/davinci.c, src/flash/nand/nuc910.c,
	src/flash/nand/orion.c, src/flash/nand/s3c24xx.c,
	src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/ecos.c, src/helper/ioutil.c,
	src/jtag/drivers/arm-jtag-ew.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/rlink.c,
	src/jtag/drivers/usb_blaster.c, src/target/mips32_dmaacc.c,
	src/xsvf/xsvf.c: nit: do not add \n at end of LOG_ERROR Fixed in many other places, and submitted in response to Øyvind's
	invitation.

2011-01-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c: mips32: add fastdata
	loader working area Add a working area that is preserved between calls to
	mips_m4k_bulk_write_memory - this gives us a speed increase of
	approx 3kb/sec during flash writes to the pic32mx.  This area is released during a resume/reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/target.c, src/target/target.h: target: change working
	area free data type We only use the struct working_area member 'free' as a true/false
	type so might as well use a bool data type.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: nit: do not add \n at end of LOG_ERROR This is done in many other places as well, patch to fix gratefully
	accepted!

2011-01-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c, src/flash/nor/pic32mx.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c, src/flash/nor/tcl.c,
	src/helper/ioutil.c, src/jtag/core.c, src/jtag/transport.c,
	src/target/arm11.c, src/target/cortex_m3.c, src/target/etm.c,
	src/target/xscale.c: error handling: the error number is not part of
	the user interface Do not propagate error number to user. This is for internal
	programming purposes only. Error messages to the user is reported as
	text via LOG_ERROR().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* tcl/board/actux3.cfg: actux3.cfg: add function to setup for u-boot
	debugging Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* src/flash/nor/cfi.c: cfi_protect is not implemented on Spansion
	flashes (many do not even have protection bits). Demote from error
	to warning, so that common board code can use "flash write_image
	erase unlock" regardless of the flash type.  Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* src/flash/nor/cfi.c, src/flash/nor/non_cfi.c: non-CFI flash code
	uses data from CFI structures. Make sure that timeouts are filled in
	on non-CFI flashes, and print CFI information in all cases, nut just
	on CFI flashes.  Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Jon Povey <jon.povey@racelogic.co.uk>

	* src/svf/svf.c: svf: implement sleep for RUNTEST min_time Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> min_time was effectively ignored, I needed it to program a Lattice
	MachXO which uses a RUNTEST to wait for an erase operation, amongst
	other things.  With this patch pauses happen and I can program the device with an
	SVF generated in LSC ispVM (with "Rev D Standard" checked to
	suppress nonstandard LOOP statements)

2011-01-02  Jon Povey <jon.povey@racelogic.co.uk>

	* src/svf/svf.c: svf: fix USAGE and related error reporting Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/s3c2410.c, src/flash/nand/s3c2412.c,
	src/flash/nand/s3c2440.c, src/flash/nand/s3c2443.c,
	src/flash/nand/s3c24xx.c, src/flash/nand/s3c24xx.h,
	src/flash/nand/s3c6400.c: NAND/S3CXXXX: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/orion.c: NAND/ORION: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/nuc910.c: NAND/NUC910: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/mx3.c, src/flash/nand/mx3.h: NAND/MX3: remove
	private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/mx2.c, src/flash/nand/mx2.h: NAND/MX2: remove
	private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/lpc3180.c, src/flash/nand/lpc3180.h: NAND/LPC3180:
	remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/davinci.c: NAND/DAVINCI: remove private "target"
	copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/at91sam9.c: NAND/AT91SAM9: remove private "target"
	copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.h, src/flash/nand/tcl.c: NAND/TCL: prepare for
	common "target" reference Every NAND driver keeps private copy of "target" structure.  Prepare
	infostructure to move private "target" copy in common/shared struct
	nand_device.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/tcl.c: NAND/TCL: fix segfault on syntax error Fix segfault if incomplete command "nand device dummy" is executed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.c: NAND/CORE: Comment use of alive_sleep() Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.c: NAND/CORE: Replace decimal dot in messages Table of NAND devices reports operating voltage.  Replace comma with
	proper decimal dot.  Øyvind: "." is correct for UK/US, but incorrect for many other
	languages. OpenOCD is not localized at this point, so sticking to
	"." for US/UK should be OK.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/driver.h, src/flash/nand/lpc3180.c,
	src/flash/nand/mx2.c, src/flash/nand/mx3.c, src/flash/nand/nonce.c,
	src/flash/nand/orion.c, src/flash/nand/s3c2410.c,
	src/flash/nand/s3c2412.c, src/flash/nand/s3c2440.c,
	src/flash/nand/s3c2443.c, src/flash/nand/s3c24xx.c,
	src/flash/nand/s3c24xx.h, src/flash/nand/s3c6400.c: flash/nand:
	review NAND driver interface From struct nand_flash_controller : - remove unused field register_commands; - remove field controller_ready, exported but   never referenced.  Remove dead code pointed by controller_ready.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-30  Marek Vasut <marek.vasut@gmail.com>

	* src/target/arm_adi_v5.c: CORTEX A8: Fix broken CPU identification This patch fixes the issue where the OMAP CPU (and possibly others)
	was mistaken for iMX51 and therefore had misadjusted debug base.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-12-29  Andrew MacIsaac <macisaac.andrew@gmail.com>

	* src/flash/nor/lpc2900.c, src/flash/nor/stmsmi.c,
	src/helper/fileio.h, src/openocd.c, src/target/arm_dpm.h,
	src/target/mips32_pracc.h, src/target/mips_ejtag.h,
	src/target/target.c: Compilation Warnings on OS X 10.5 I received a number of "-Wshadow" related warnings (treated as
	errors) while trying to build on OS X Leopard.  In addition, there
	were two miscellaneous other warnings in the flash drivers.
	Attached are two patches which correct these issues and the commit
	messages to accompany them.  My system has the following configuration (taken from uname -a): Darwin 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT
	2009; root:xnu-1228.15.4~1/RELEASE_I386 i386 === Werror_patch.txt Commit Message === compilation: fixes for
	-Wshadow warnings on OS X These changes fix -Wshadow compilation warnings on OS X 10.5.8 Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === flash_patch.txt Commit Message === compilation: fixes for flash
	driver warnings on OS X These changes fix two compilation warnings on OS X 10.5.8: ../../../../src/flash/nor/at91sam3.c:2767: warning: redundant
	redeclaration of 'at91sam3_flash'
	../../../../src/flash/nor/at91sam3.c:101: warning: previous
	declaration of 'at91sam3_flash' was here and ../../../../src/flash/nor/stmsmi.c:205: warning: format not a string
	literal and no format arguments Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === Andrew

2010-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/at91sam3.c: warning: fix warning where GCC didn't
	catch a doubly declared global structure Why hasn't earlier versions of GCC caught this? Bug? Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.h, src/flash/nand/core.h,
	src/flash/nand/driver.h, src/flash/nor/at91sam7.c,
	src/flash/nor/core.h, src/flash/nor/driver.h,
	src/flash/nor/lpc288x.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/tms470.c,
	src/helper/bin2char.c, src/helper/command.c, src/helper/command.h,
	src/pld/pld.h, src/server/server.c, src/server/server.h,
	src/target/algorithm.h, src/target/arm9tdmi.c,
	src/target/arm_disassembler.c, src/target/armv7m.c,
	src/target/dsp563xx.c, src/target/dsp563xx.h, src/target/etm.h,
	src/target/register.h, src/target/target_type.h: warnings: use more
	'const' for char * Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: do not expose error numbers to users error numbers are only reported at DEBUG log levels and used
	internally, they are not part of the user interface.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-24  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/interface.h,
	src/jtag/jtag.h, src/jtag/swd.h, src/jtag/tcl.c,
	src/target/adi_v5_swd.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: initial SWD transport (SWD infrastructure
	#2) This piggy backs on JTAG so it's not yet pretty, but that seems
	unavoidable so far given today's OpenOCD internals.  SWD init and data transfer  are unfinished and untested, but that
	should cause no regressions, and will be addressed by the time
	drivers start using this infrastructure.  Checking in whould get the
	code working better sooner, and turn up any structural/architectural
	issues while they're easier to fix.  The debug adapter drivers will provide simple SWD driver structs
	with methods that kick in as needed (instead of JTAG).  So far just
	one adapter driver has been updated (not yet ready to use or
	circulate).  The biggest issues are probably   - fault handling, where the ARM Debug Interface V5 pipelining     needs work in both JTAG and SWD modes and   - missing  rewrite of block I/O code to work on both of our
	Cortex-ready transports (Current code is  hard-wired to JTAG);
	relates also to the pipelining issue.    - omitted support to activate/deactivate SWO/SWV trace (this is     technically trivial, but configuring what to trace is NOT.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> ----  doc/openocd.texi        |   17 ++  src/jtag/core.c         |    3  src/jtag/interface.h    |    4  src/jtag/jtag.h         |    2  src/jtag/swd.h          |  114 +++++++++++++++++++  src/jtag/tcl.c          |    2  src/target/adi_v5_swd.c |  281
	 ++++++++++++++++++++++++++++++++++++++++++++++--
	src/target/arm_adi_v5.c |    8 +  src/target/arm_adi_v5.h |    3  9 files changed, 425 insertions(+), 9 deletions(-)

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: stm32x : always use valid flash base
	address This change matches the previous behaviour of using the known flash
	address.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/tcl.c: flash: print flash bank name on flash info
	cmd The flash bank name is a required element in adding flash banks,
	however other than looking at the config file there is no way of
	getting the name used in openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: stm32: fix reversed option byte write This has been a long standing bug that has never been spotted.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: stm32: update option bytes for stm32xl
	family add supoort for xl family boot bank option.  The option byte
	handling will be cleaned up in a later patch.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-22  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c, tcl/target/stm32.cfg,
	tcl/target/stm32xl.cfg: stm32: add stm32 xl family flash support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-22  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/flash/stm32x.S, src/flash/nor/stm32x.c: stm32: add
	dual flash bank support This patch adds the initial dual flash bank support for devices such
	as the stm32xl family.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/flash/stm32x.S, contrib/loaders/flash/stm32x.s: 
	contrib: change stm32 flash loader extension As the stm32 flash loader now uses the preprocessor change extension
	so that it used by default.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/lpc2148.cfg: lpc2148: redo to the new target
	configuration scheme Define a proc which PCBs can easily override.  Also demonstrates how to add multiple TAP exepcted-id's using
	arguments.  Added 0x3f0f0f0f as expected TAP-id. Old LPC2148 silicon I happened
	to have on my desk? Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c, src/target/startup.tcl: config: add init_targets
	proc that is executed just before init this allows configuration scripts to export a init_targets proc
	rather than setting up the target directly.  This allows for new conventions in how to set up target vs. board
	script and how to transfer default settings between board and target
	scripts.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* bootstrap: bootstrap: by default the submodules are initialized use "nosubmodule" to skip setting up submodules.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: server: remove error value from LOG_INFO the error values is not part of the interface to the user, so they
	should never be printed in LOG_INFO or LOG_USER.  Printing them in LOG_DEBUG() rarely makes much sense but is OK.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* tcl/interface/flashlink.cfg: tcl/interface/flashlink.cfg: Fix
	broken ST URL

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* tcl/board/stm32100b_eval.cfg, tcl/board/stm3210b_eval.cfg,
	tcl/board/stm3210c_eval.cfg, tcl/board/stm3210e_eval.cfg,
	tcl/board/stm32f10x_128k_eval.cfg: tcl/board: Clean up STM32 EVAL
	boards configurations Make consistent use of hex memory size for flashing.  Delete stm32f10x_128k_eval.cfg. It has no product reference nor any
	settings in it.

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* tcl/board/stm32100b_eval.cfg, tcl/board/stm3210b_eval.cfg,
	tcl/board/stm3210c_eval.cfg, tcl/board/stm3210e_eval.cfg: tcl/board:
	Fix ST URLs in stm32* eval board configuration files ST recently rewamped (screwed up) their web site and broke all
	links.  Also match the chip names with those on the web site product
	descriptions.

2010-12-19  Michael Schwingen <michael@schwingen.org>

	* tcl/board/actux3.cfg, tcl/target/ixp42x.cfg,
	tcl/target/xba_revA3.cfg: update IXP42x target / XBA board config

2010-12-16  Michael Trensch <MTrensch@googlemail.com>

	* contrib/openocd.udev, tcl/board/hilscher_nxdb500sys.cfg,
	tcl/board/hilscher_nxeb500hmi.cfg, tcl/board/hilscher_nxhx10.cfg,
	tcl/board/hilscher_nxhx50.cfg, tcl/board/hilscher_nxhx500.cfg,
	tcl/board/hilscher_nxsb100.cfg,
	tcl/interface/hilscher_nxhx10_etm.cfg,
	tcl/interface/hilscher_nxhx500_etm.cfg,
	tcl/interface/hilscher_nxhx500_re.cfg,
	tcl/interface/hilscher_nxhx50_etm.cfg,
	tcl/interface/hilscher_nxhx50_re.cfg,
	tcl/target/hilscher_netx10.cfg, tcl/target/hilscher_netx50.cfg,
	tcl/target/hilscher_netx500.cfg, tcl/target/netx500.cfg: Add support
	for Hilscher netX controllers

2010-12-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: script: support only Tcl comments Only Tcl comments are now supported. For classic style commands
	comments were supported at the end of the line.  Move in the direction of letting the script language decide syntax,
	rather than have special rules for some commands.  Before this patch goes in, the scripts should be updated to use ;#
	instead of # for end of line comments.  > mdw 0 1 2 mdw ['phys'] address [count]   zy1000.cpu mdw address [count] Command handler execution failed in
	procedure 'mdw' > mdw 0 1 #2 mdw ['phys'] address [count]   zy1000.cpu mdw address [count] Command handler execution failed in
	procedure 'mdw' > mdw 0 1 ;#2 0x00000000: ffffffff > mdw 0 1
	0x00000000: ffffffff > mdw 0 0x00000000: ffffffff Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/at91sam9g20-ek.cfg, tcl/board/atmel_at91sam9260-ek.cfg,
	tcl/board/atmel_at91sam9rl-ek.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg, tcl/board/eir.cfg,
	tcl/board/embedded-artists_lpc2478-32.cfg,
	tcl/board/hitex_lpc2929.cfg, tcl/board/imx35pdk.cfg,
	tcl/board/mini2440.cfg, tcl/board/olimex_sam9_l9260.cfg,
	tcl/board/openrd.cfg, tcl/board/propox_mmnet1001.cfg,
	tcl/board/pxa255_sst.cfg, tcl/board/rsc-w910.cfg,
	tcl/board/sheevaplug.cfg, tcl/board/spear310evb20.cfg,
	tcl/board/telo.cfg, tcl/board/topas910.cfg,
	tcl/board/topasa900.cfg, tcl/board/unknown_at91sam9260.cfg,
	tcl/chip/st/spear/spear310.tcl, tcl/chip/st/spear/spear3xx.tcl,
	tcl/chip/st/spear/spear3xx_ddr.tcl, tcl/interface/buspirate.cfg,
	tcl/target/ar71xx.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/lpc3131.cfg, tcl/target/xba_revA3.cfg: TCL: fix non TCL
	comments End of line comments fixed with ';' before '#'.  Added few
	additional 'space' to keep indentation in multi-line comments.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi: openocd doc: update the comments about Jim Tcl a
	bit Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-14  John Devereux <john@devereux.me.uk>

	* src/jtag/drivers/amt_jtagaccel.c: Fix for compilation failure
	amt_jtagaccel.c Hi, I think there are errors in amt_jtagaccel.c I attach a small patch that I needed to make it compile.

2010-12-15  Paul Richards <paulr227@gmail.com>

	* src/flash/nand/tcl.c: Fix for segfault in
	handle_nand_dump_command.

2010-12-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32: fix unprotect the unprotect fn in stm32 needs to unprotect more sectors than was
	requested aligned to some boundary.  Print warning when this happens.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/driver.h: flash: clarify protect documentation some chips unprotect more than the range asked for. The protect fn,
	must unprotect/protect minimally the range given.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/flash/armv4_5_cfi_intel_16.s,
	contrib/loaders/flash/armv4_5_cfi_intel_32.s,
	contrib/loaders/flash/armv4_5_cfi_intel_8.s,
	contrib/loaders/flash/armv4_5_cfi_span_16.s,
	contrib/loaders/flash/armv4_5_cfi_span_16_dq7.s,
	contrib/loaders/flash/armv4_5_cfi_span_32.s,
	contrib/loaders/flash/armv4_5_cfi_span_8.s, src/flash/nor/cfi.c: 
	contrib: add source to the cfi flash loaders Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/flash/pic32mx.s, contrib/loaders/flash/stm32x.s,
	contrib/loaders/flash/str7x.s, contrib/loaders/flash/str9x.s: 
	contrib: make sure loaders use correct arch Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/stm3210e_eval.cfg: stm32: add STM32E-EVAL external
	memory config script Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c, src/flash/nor/cfi.h: cfi: disable buffer
	writes for M29W128G For some reason buffer writes for the M29W128G do not work reliably,
	so disable them.  See:

	http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commitdiff;h=504a3e72208fc6a65924426ff5693982590bccdcSigned-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/common.h, src/flash/nor/cfi.c: cfi: allow optional
	buffer write support Some flash's do not support buffer writes, so we now check they are
	supported before trying to use them.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c, src/flash/nor/cfi.h: cfi: calculate correct
	timeouts The existing code used incorrect timeout values for the various cfi
	operations. We now calculate the timeouts and convert to msecs if
	necessary.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: prefix string hex output Add hex prefix so we know output is not decimal.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: add time format to cfi query output Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: whitespace and long line cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Paul Richards <paulr227@gmail.com>

	* src/jtag/core.c: Fix for segmentation fault from freed memory
	access in jtag_unregister_event_callback()

2010-12-04  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg: remove
	srst_pulls_trst from LPC2xxx target scripts LPC2xxx do not require reset_config srst_pulls_trst. This can cause
	various "strange" problems when flashing the chip, because "reset
	halt" actually allows the chip to run for some short period of time
	and execute some code.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c, src/jtag/drivers/parport.c: build: fix
	build from previous commit commit 740b9e25b410c164e661d0334a9ea4168406726b broke the drivers
	for ftdi and parport due to retval already being defined.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-06  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/drivers/amt_jtagaccel.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/gw16012.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/rlink.c,
	src/jtag/drivers/usb_blaster.c, src/jtag/jtag.h,
	src/jtag/zy1000/zy1000.c: jtag: getting the JTAG speed can fail If the JTAG speed has not been set, then it has no defined value,
	add code to propagate the error.  No change to actual behavior as no new failure paths have been
	introduced. This is a no-op patch to make subsequent patches
	smaller.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-07  Andrew Leech <coronasensei@gmail.com>

	* src/svf/svf.c: svf: various improvements * added support for targeting particular tap * improved file reading * improved command line parsing * added progress meter * more readable time measurement output

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* tcl/target/lpc2478.cfg: lpc2478 target config: CCLK as (mandatory)
	parameter

2010-12-02  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c, src/target/xscale.h: xscale: trace buffer
	remains enabled until explicitly disabled Hi everyone, Since a call went out for patches... been sitting on this for
	months.  For some reason, the xscale trace buffer is automatically
	disabled as soon as a break occurs and the trace data is collected.
	This patch was a result of the frustration of always re-enabling it,
	or else hitting a breakpoint and checking the trace data, only to
	discover that I forgot to re-enable it before resuming.  Don't see
	why it should work this way.  There is no run-time penalty, AFAIK.  Along the way, I also cleaned up a little by removing the ugly
	practice of recording wrap mode by setting the fill count variable
	to "-1", replacing it with an enum that records the trace mode.  I've been using this for months.  Comments, criticisms gratefully
	received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* tcl/board/embedded-artists_lpc2478-32.cfg: Add board config for
	Embedded Artists LPC2478-32

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* tcl/board/hitex_lpc2929.cfg: Fix flash name in Hitex LPC2929 board
	config

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* src/flash/nor/lpc2000.c: Fix sector layout for 504-KiB LPC2000
	devices

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/stm32.cfg: stm32: set default soft reset config If no srst is configured then default to using sysresetreq to reset
	the target.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s3748.cfg,
	tcl/board/ek-lm3s6965.cfg, tcl/board/ek-lm3s811.cfg,
	tcl/board/ek-lm3s9b9x.cfg: luminary: remove unused config cmds.  Due to commit e40aee2954d2beabe1d8c530d9ff1e564fb01f48 we now honour
	the targets 'reset_config' setting. Previously we ignored the srst
	setting for luminary targets.  Luminary targets have never supported using srst to reset into debug
	mode so remove the option from the target configs files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: cortex_m3: change
	cortec_m3 reset_config behaviour Currently the cmd 'cortex_m3 reset_config' will overide the default
	target's 'reset_config'.  Chnage the behaviour to use the target
	'reset_config' if configured and fallback if not.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/stellaris.cfg: config: fix luminary jtag config When this config was updated in commit
	e3773e3e3d1f1ee0dbb0b69e8babe8419784d1c1 the old jtag declaration
	was not removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-01  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/at91sam7se512.cfg, tcl/target/at91sam7x256.cfg,
	tcl/target/atmega128.cfg, tcl/target/mega128.cfg,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg: rename some
	target scripts to be consistent with the rest Rename Atmel target scripts which had wrong name ("at91" missing for
	ARM7 AT91SAM7..., "at" missing for AVR ATmega...) Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: profile: use 100Hz as a default sampling
	frequency it's a lie that is somewhere in the vicinity of the truth. Certainly
	64MHz confuses gprof and produces zero output and no error messages.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-01  Rolf Meeser <rolfm_9dq@yahoo.de>

	* src/flash/nor/lpc2900.c: lpc2900.c: Improve debug output for
	device probing

2010-12-01  Rolf Meeser <rolfm_9dq@yahoo.de>

	* src/flash/nor/lpc2900.c: lpc2900.c: Add support for new device
	LPC2926

2010-11-27  Rolf Meeser <rolfm_9dq@yahoo.de>

	* src/flash/nor/lpc2900.c: LPC2900: Avoid false positive reprobing
	if first probing fails

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* src/jtag/drivers/ft2232.c: Some cosmetic fixes to the Lisa/L
	layout support functions.

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* src/jtag/drivers/ft2232.c, tcl/interface/flossjtag.cfg: Added
	support for the blinking leds on Floss-JTAG v0.3 and newer.

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* tcl/interface/flossjtag-noeeprom.cfg, tcl/interface/flossjtag.cfg: 
	Updated Floss-JTAG config file to support v0.3 and newer. Also added
	noeeprom version of the config file for older versions of
	Floss-JTAG.

2010-11-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* jimtcl: build: fix make install with jimtcl Update subproject jimtcl to fix issue with make install.  see jimtcl
	commit 373b721510fd2d0754a41cc70a3b7cfd02e929bd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.in: build: correct configure help message As we default to building jimtcl the help text should show that.  No
	change in functionality or configure args required.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/spearsmi.c,
	src/flash/nor/stmsmi.c: FLASH/NOR: Rename spearsmi.c to stmsmi.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* doc/openocd.texi, src/flash/nor/drivers.c,
	src/flash/nor/spearsmi.c, tcl/board/spear310evb20.cfg,
	tcl/target/str750.cfg: FLASH/NOR: rename from spearsmi to stmsmi STMicroelectronics controller SMI is not SPEAr specific.  Rename it
	and change name to every symbol in the code.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/spearsmi.c, tcl/target/str750.cfg: STR750: Add SMI
	interface support Modified spearsmi driver to include support for STR75x Added missing
	initialization in tcl file for STR750 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/spearsmi.c: NOR/SPEARSMI: fix segfault If flash chip is not listed in the table, or if no flash is
	connected, pointer must be properly initialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* doc/openocd.texi: Documentation: fix typo Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: iterating over an address range now
	handles multiple banks e.g. flash erase_address now works across an address range that
	spans multiple flash chips.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: fastload: fix error handling upon running out
	of memory Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.in: build: remove AC_CONFIG_AUX_DIR macro This was used during testing and should have been removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* configure.in: build: disable jimtcl lineedit This is a recent jimtcl feature but it currently breaks mingw builds
	as this system does not have termios.h etc.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* config_subdir.m4: build: fix subconfigure parameter issue When passing CFLAGS for example through to the jimtcl subconfigure
	the quotes were not being preserved.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* bootstrap: build: update bootstrap comments Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* config_subdir.m4, configure.in, jimtcl: build: prepend
	--with-jim-ext=nvp to jimtcl configure This allows us to add options to jimtcl configure.  The default
	autoconf AC_CONFIG_SUBDIRS does not currently support this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Makefile.am, common.mk, configure.in, jimtcl, src/Makefile.am: 
	build: add autobuild jimtcl to configure scripts Rather than having to configure/build jimtcl openocd will do this as
	part of its own build.  To use an external jimtcl lib specify disable-internal-jimtcl to the
	configure step.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* common.mk, src/Makefile.am, src/flash/Makefile.am,
	src/flash/nand/Makefile.am, src/flash/nor/Makefile.am,
	src/helper/Makefile.am, src/jtag/Makefile.am,
	src/jtag/drivers/Makefile.am, src/pld/Makefile.am,
	src/server/Makefile.am, src/svf/Makefile.am,
	src/target/Makefile.am, src/xsvf/Makefile.am: build: add common.mk Rather than specifying common makefile variables move them all to a
	common.mk.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/tms470.c,
	src/flash/nor/tms470.h: FLASH/NOR: Remove useless file tms470.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/str9xpec.c,
	src/flash/nor/str9xpec.h: FLASH/NOR: Remove useless file str9xpec.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/str9x.c,
	src/flash/nor/str9x.h: FLASH/NOR: Remove useless file str9x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/str7x.c,
	src/flash/nor/str7x.h: FLASH/NOR: Remove useless file str7x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/stm32x.c,
	src/flash/nor/stm32x.h: FLASH/NOR: Remove useless file stm32x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/stellaris.c,
	src/flash/nor/stellaris.h: FLASH/NOR: Remove useless file
	stellaris.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/pic32mx.c,
	src/flash/nor/pic32mx.h: FLASH/NOR: Remove useless file pic32mx.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/lpc288x.c,
	src/flash/nor/lpc288x.h: FLASH/NOR: Remove useless file lpc288x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2000.h: FLASH/NOR: Remove useless file lpc2000.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/avrf.c,
	src/flash/nor/avrf.h: FLASH/NOR: Remove useless file avrf.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: fix bug with multiple back-to-back
	flash chips flash programming via flash write_image or gdb load would produce a
	bogus error message that the flash chip was to small.  The solution is to limit the current flash programming run to the
	current chip.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/at91sam7.c,
	src/flash/nor/at91sam7.h: FLASH/NOR: Remove useless file at91sam7.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam3.h: FLASH/NOR: Remove useless file at91sam3.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/Makefile.am, src/flash/nor/spearsmi.c,
	src/flash/nor/spearsmi.h: FLASH/NOR: Remove useless file spearsmi.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/spearsmi.c: NOR/SPEARSMI: Add comments about SPI SMI interface hides the real SPI bus between SPEAr and external
	flash.  Added comments to highlight the SPI operation, to help a
	future rework in SPI generic and SPEAr specific drivers.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear310evb20.cfg: TCL/SPEAr: Added Serial flash in
	board file Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* doc/openocd.texi, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/spearsmi.c,
	src/flash/nor/spearsmi.h: NOR/SPEAr: Add support for Serial NOR Add support and documentation for STMicroelectronics SPEAr Serial
	Memory Interface (SMI).  Code tested on SPEAr3xx only.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* README, configure.in, doc/manual/server.txt, src/Makefile.am,
	src/openocd.c, src/server/Makefile.am, src/server/httpd.c,
	src/server/httpd.h, src/server/httpd/Stylizer.java,
	src/server/httpd/browsemem.tcl, src/server/httpd/build.sh,
	src/server/httpd/downloadmem.tcl, src/server/httpd/editconfigs.tcl,
	src/server/httpd/editfile.tcl, src/server/httpd/erase.tcl,
	src/server/httpd/flash.tcl, src/server/httpd/flashinfo.tcl,
	src/server/httpd/guiupload.tcl, src/server/httpd/html2tcl.sh,
	src/server/httpd/httpd.tcl, src/server/httpd/index.tcl,
	src/server/httpd/log.tcl, src/server/httpd/menu.xml,
	src/server/httpd/menu.xsl, src/server/httpd/menuweb.css,
	src/server/httpd/openocd.tcl, src/server/httpd/preconfig.tcl,
	src/server/httpd/production.tcl, src/server/httpd/readme.txt,
	src/server/httpd/reload.tcl, src/server/httpd/run.tcl,
	src/server/httpd/support.tcl, src/server/httpd/targets.tcl,
	src/server/httpd/terminal.tcl, src/server/httpd/upgrade.tcl,
	src/server/httpd_stubs.c, src/server/server.h: httpd: retire this
	server this never panned out and there are enough mistakes in the code that
	probably nobody used this.  Use the tcl server and implement a standalone http app instead works
	fine.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-13  Freddie Chopin <freddie_chopin@op.pl>

	* contrib/loaders/flash/stm32x.s, src/flash/nor/stm32x.c: Add
	comments and tiny improvements to STM32 flash loader algorithm Add comments to assembly flash loader for STM32. Add tiny
	improvement in size of the algorithm (40 vs 48 bytes) and tiny speed
	improvement (~1.5%, as time is wasted on waiting for end of
	operation anyway).  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-11-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: fix occasional crash when flash
	probe failed Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: improve error message when gdb
	connect fails gdb connect can fail when the flash has not been probed.  During gdb connect, the flash layout is reported, but this can not
	be automatically detected for a target that is powered up and
	OpenOCD supports connecting to gdb server even if the target is
	powered down.  The solution is to turn of the gdb_memory_map feature.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_m3.c: cortex_m3: report detected error condition
	in poll If the CPU crashed at some point, poll will discover this.  Previously the poll fn would clear the error and print a warning,
	rather than propagating the error.  The new behavior is to report the error back up, but still clear the
	error.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.h: target: document that target_poll() will
	report and clear sticky errors Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* src/jtag/startup.tcl, tcl/bitsbytes.tcl, tcl/board/at91eb40a.cfg,
	tcl/board/dm355evm.cfg, tcl/board/dm6446evm.cfg,
	tcl/board/ethernut3.cfg, tcl/board/lubbock.cfg,
	tcl/board/olimex_sam9_l9260.cfg, tcl/board/telo.cfg,
	tcl/board/zy1000.cfg, tcl/chip/atmel/at91/aic.tcl,
	tcl/chip/atmel/at91/rtt.tcl, tcl/chip/atmel/at91/usarts.tcl,
	tcl/chip/st/spear/quirk_no_srst.tcl,
	tcl/chip/st/spear/spear3xx_ddr.tcl, tcl/mmr_helpers.tcl,
	tcl/target/aduc702x.cfg, tcl/target/c100config.tcl,
	tcl/target/c100helper.tcl, tcl/target/c100regs.tcl,
	tcl/target/imx31.cfg, tcl/target/imx35.cfg, tcl/target/lpc3250.cfg,
	tcl/test/selftest.cfg: TCL scripts: replace "puts" with "echo" Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* doc/openocd.texi, src/helper/command.c: JIM: document "echo"
	command Document "-n" option in manual; Modify "echo" command definition as
	COMMAND_HANDLER to easily add help message Add help message aligned
	with manual.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/command.c: JIM: Add "-n" option to "echo" With the new JIMTCL, "puts" only writes to stdout.  To write on
	telnet port too, "echo" must be used.  This patch gives to "echo"
	similar commandline option of "puts".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32: return early upon block write
	failure only if we do not have enough ram do we continue.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32: return error when failing to read add missing error handling.  Output warning when assuming maximum flash size in the family when
	failing to read.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32: add error propagation on writes catch problems earlier.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32: sharpen error handling for timeouts delete lots of crud by handling this all in one spot.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  Andrew Leech <coronasensei@gmail.com>

	* tcl/target/lpc3131.cfg: lpc3131: target definition

2010-11-04  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/spear310evb20.cfg, tcl/board/spear310evb20_mod.cfg,
	tcl/chip/st/spear/quirk_no_srst.tcl,
	tcl/chip/st/spear/spear310.tcl, tcl/chip/st/spear/spear3xx.tcl,
	tcl/chip/st/spear/spear3xx_ddr.tcl, tcl/target/spear3xx.cfg: TCL
	scripts: add support for ST SPEAr310 Initial support for ST SPEAr310 and for the evaluation board
	EVALSPEAr310 Rev. 2.0.  Scripts are split in generic for SPEAr3xx
	family and specific for SPEAr310. This should easily allow adding
	new members of the family.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* tcl/board/efikamx.cfg: Add EfikaMX smarttop board support This patch finally adds support for i.MX51 based Genesi USA EfikaMX
	smarttop board.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* tcl/target/imx51.cfg: CortexA8: Introduce Freescale i.MX51 variant This patch introduces support for Cortex A8 based Freescale i.MX51
	CPU. This CPU has the Debug Access Port located at a different
	address (0x60008000) than TI OMAP3 series of CPUs.  i.MX51 configuration file based on OMAP3 configuration file and an
	email from Alan Carvalho de Assis <acassis@gmail.com>.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* src/target/cortex_a8.c: CortexA8: Implement debug base
	autodetection Implement autodetection of debug base. Also, implement a function
	solving various hardware quirks (like iMX51 ROM Table location bug).  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-31  Marek Vasut <marek.vasut@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ADIv5: Implement
	function to lookup CoreSight component This patch implements "dap_lookup_cs_component()", which allows to
	lookup CS component by it's identification.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-31  Marek Vasut <marek.vasut@gmail.com>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ADIv5: Introduce
	function to detect ROM Table location This patch adds function called "dap_detect_debug_base()", which
	should be called to get location of the ROM Table. By walking ROM
	Table, it's possible to discover the location of DAP.  Sadly, some CPUs misreport this value, therefore I had to introduce
	an fixup table, which will be used in case such CPU is detected.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-11-04  ddraskovic <ddraskovic@sequans.com>

	* src/target/Makefile.am, src/target/arm946e.c,
	src/target/arm946e.h, src/target/target.c: arm964e: Add support for
	ARM946E target.  So far most of the people have been using existing ARM966E in the
	place of ARM946E, because they have practically the same scan
	chains.  However, ARM946E has caches, which further complicates JATG handling
	via scan-chain. this was preventing single-stepping for ARM946E when
	SW breakpoints are used.  This patch thus introduces : 1) Correct cache handling on memory write 2) Possibility to flush whole cache and turn it off during debug, or
	just to flush affected lines (faster and better) 3) Correct SW breakpoint handling and correct single-stepping 4) Corrects the bug on CP15 read and write, so CP15 values are now
	correctly R/W

2010-10-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* bootstrap: bootstrap: add quick start build instructions leave some bread-crumbs for users to figure out how to build OpenOCD Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* .gitmodules, jimtcl: jimtcl: 0.63 release as a git module.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/Makefile.am, src/ecosboard.c, src/helper/Makefile.am,
	src/helper/command.c, src/helper/command.h,
	src/helper/jim-eventloop.c, src/helper/jim-eventloop.h,
	src/helper/jim.c, src/helper/jim.h, src/jtag/tcl.c,
	src/target/dsp563xx.c, src/target/dsp563xx_once.c,
	src/target/target.c, src/target/target_type.h: jim tests: use
	installed Delete obsolete jim that comes with OpenOCD.

2010-10-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/pic32mx.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32x.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/mips32.c: src: add loader src description  - add comment where to find the various loaders src files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* contrib/loaders/README, contrib/loaders/checksum/armv4_5_crc.s,
	contrib/loaders/checksum/armv7m_crc.s,
	contrib/loaders/checksum/mips32.s, contrib/loaders/flash/pic32mx.s,
	contrib/loaders/flash/stellaris.s, contrib/loaders/flash/stm32x.s,
	contrib/loaders/flash/str7x.s, contrib/loaders/flash/str9x.s: 
	contrib: add ram loader src code Add src code for ram loaders to contrib directory.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/imx31pdk.cfg: imx31pdk: use rclk w/1MHz fallback measure_clk indicates ca. 3-4MHz, so 1MHz should be safe.  Added self_test proc used to test that rclk worked.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: help: help now works on configuration
	commands help would not show help for commands when the command interpreter
	was in the wrong mode, which means that e.g. "help newtap" didn't
	work, it wouldn't show the "jtag newtap" help as it was a
	configuration command.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-24  Peter Stuge <peter@stuge.se>

	* src/target/cortex_m3.c, tcl/target/stellaris.cfg: Make systesetreq
	typos read sysresetreq instead Signed-off-by: Peter Stuge <peter@stuge.se>

2010-10-24  Peter Stuge <peter@stuge.se>

	* tcl/target/lpc1768.cfg: Remove srst_pulls_trst from LPC1768 target srst_pulls_trst may be true on some (broken) LPC1768 boards but is
	not true in general for the LPC1768.  Signed-off-by: Peter Stuge <peter@stuge.se>

2010-10-22  Michal Demin <michaldemin@gmail.com>

	* src/jtag/drivers/buspirate.c: buspirate: change handling of
	communication speed setting + create serial port open function Signed-off-by: Michal Demin <michaldemin@gmail.com>

2010-10-22  Michal Demin <michaldemin@gmail.com>

	* src/jtag/drivers/buspirate.c: buspirate: Serial port was not
	correctly closed.  Signed-off-by: Michal Demin <michaldemin@gmail.com>

2010-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/target.c: TARGET: review handle_load_image_command() Collect variable definitions.  Report syntax error to command
	dispatcher.  Propagate error when unable to open file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/target.c: TARGET: fix segfault in
	handle_dump_image_command() The struct fileio is used after fileio_close().  Move fileio_close()
	after last usage.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/lpc1768.cfg, tcl/target/stellaris.cfg,
	tcl/target/swj-dp.tcl: swj-dp.tcl (SWD infrastructure #1) Provide new helper proc that can set up either an SWD or JTAG DAP
	based on the transport which is in use -- mostly for SWJ-DP.   Also update some SWJ-DP based chips/targets to use it.  The goal is
	making SWD-vs-JTAG transparent in most places.  SWJ-DP based chips
	really need this flexible configuration to cope with debug adapters
	that support different transports, without needing new target
	configs for each transport or adapter.  For JTAG-DP, callers will use "jtag newtap" directly, as today; only
	one chip-level transport option exists.  For SW-DP (e.g. LPC1[13]xx or EFM32, they'll use "swd newdap"
	directly (part of an upcoming SWD transport patch).  Again, only one
	transport option exists, so hard-wiring is appropriate there.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/jlink.c: add JLINK protocol doc ref Provide URL for a recent version of JLINK protocol.  Signed-Off-By:
	David Brownell <dbrownell@users.sourceforge.net>

2010-10-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/gdb_server.c, src/server/server.c: build: remove
	warn_unused_result errors Remove any build errors for strtol when building release version of
	openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/helper/options.c: gdbderver: fix gdb pipe startup overflow When usng gdb pipes we need to keep openocd output at a minimum,
	otherwise the gdb stdin will overflow and fail.  Make the calls to
	gdb_port and log_output synchronous to stop this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/gdb_server.c: gdbserver: fix gdb_port memory leak Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/server.c: server: fix server pipe windows support commit 50d5441e2a615fb2c44b41a777e4373901f7a2e6 caused native
	windows build to fail.  Firstly this patch fixes the build issue, but it also disables
	support for named pipes under Windows. Windows does not support
	posix named pipes.  A cross-platfom access layer will need creating
	before support can be enabled again.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-09-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: add : port number syntax for tftp filing
	system Allows using non-standard port number. Default to port 69.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/server/gdb_server.c,
	src/server/tcl_server.c, src/server/telnet_server.c: pipes: add
	documentation for pipes Stick with the name "gdb_port" even if this command can be used for
	other things(disable, named pipes, anonymous stdin/out pipe). "port"
	is correct for probably more than 90% of use cases, if not more.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/helper/options.c, src/server/gdb_server.c,
	src/server/server.c, src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c: server: add support for pipes -p/--pipe is now deprecated. Use '-c "gdb_port pipe;log_output
	openocd.log"' instead. Warning logged.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c: server: specify port as a string This will allow switching to using named pipes.  Split this out as a seperate commit to make changes easier to
	follow.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c: server: read/write now goes through
	connection fn's depending on whether the connection is over a socket or pipe, the
	read is done differently.  pipes can return -1 when writing 0 bytes, make 0 byte writes a
	successful no-op. 0 byte writes falls out naturally of tcl server
	code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c: server: split file descriptors in in/out
	fd's pipes have different fd's for in/out. This makes the code more
	orthogonal and prepares for adding pipes.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: server: rely on ctrl-c to stop openocd there was special support to support pressing 'x' to quit openocd.
	ctrl-c is sufficient. The main server loop is already complicated
	enough.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/log.c: log: remove hack to redirect logs when pipes are
	in use There is an explicit command "log_output" that can be used to
	redirect log output to a file, no need for a hack in the first
	place.  Before enabling pipes, use "log_output foo" to redirect log output
	to the "foo" files.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Luca Bruno <lucab@debian.org>

	* src/jtag/drivers/at91rm9200.c, src/jtag/drivers/ep93xx.c: Update
	ep93xx and at91rm9200 drivers ep93xx and at91rm9200 are conditionally built only on arm and were
	not updated to reflect changes in command registration handler.
	This patch makes them properly compile again, fixing a build failure
	experienced on Debian armel.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Zachary
	T Welch <zwelch@codesourcery.com>

2010-09-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.c, src/flash/nand/fileio.c,
	src/flash/nand/tcl.c, src/flash/nor/tcl.c, src/helper/fileio.c,
	src/helper/fileio.h, src/target/etm.c, src/target/image.c,
	src/target/target.c: fileio: fileio_size() can now fail Part of making the fileio API more robust.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.c, src/flash/nand/fileio.c,
	src/flash/nand/tcl.c, src/flash/nor/tcl.c, src/helper/fileio.c,
	src/helper/fileio.h, src/target/etm.c, src/target/image.c,
	src/target/target.c: fileio: refactor struct fileio to be an opaque
	structure Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-28  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/mem_helper.tcl: TCL scripts: fix ocd_mem2array/mem2array In previous patch, I have introduced again the symbol
	"ocd_mem2array", now replaced by "mem2array".  Fix the error.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: fix error handling memory leaks and missing check on memory allocation.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c, src/target/image.c, src/target/image.h: 
	image: fix spelling mistake struct imageection => struct imagesection Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-24  Zachary T Welch <zwelch@codesourcery.com>

	* tcl/target/omap3530.cfg: Fix omap3_dbginit to write to physical
	memory.  Setting the OMAP3530 DBGEN bit must be done in physical memory, so
	update omap3_dbginit callback to use the new 'mww phys' command
	syntax.

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix non-JTAG master build Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: fix blank line at top snuck in at some point...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c: jtagdp: remove #if 0'd kludges and
	explain why the code is correct short story: if the JTAG clock is too high, then the behavior will
	be flaky and kludging the code may seem to make things beter, but
	really it's just a red herring.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/tcl.c, src/flash/nor/tcl.c: flash: fix error
	handling sensible error must be reported at failure site Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/ocl.c, src/target/embeddedice.c: embeddedice: fix
	error handling error is now reported at failure site.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-21  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/mem_helper.tcl, tcl/target/c100helper.tcl,
	tcl/target/davinci.cfg, tcl/target/stellaris.cfg: TCL scripts:
	collect duplicated procedures TCL procedures mrw and mmw, originally in DaVinci target code, are
	duplicated in other TCL scripts.  Moved in a common helper file, and
	added help/usage description.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/startup.tcl: startup: removed capture_catch not used.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: helper: fix flaky capture command capture of progress output would get polling results. This will
	break in the example below where polling output would override the
	tcl return value.  capture {sleep 10000; set abc def} Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/tcl_server.c: tcl_server: switch to ctrl-z by using ctrl-z instead of line end, multi-line tcl scripts can be
	handled.  Testing: send ctrl-z a couple of times to make telnet enter the mode
	where it sends ctrl-z unencoded.  Programs that talk to the tcl_server can send ctrl-z to indicate end
	of tcl-let to be executed without having to worry about telnet
	protocols.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/main.c: logging: turn of stdout/stderr buffering with this buffering disabled fancier logging scripts will be able to
	process each line as it is output.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	zy1000: add support for Linux host used /dev/mem and mmem() to memory map JTAG registers into user
	space and used new configure options to exclude eCos specific code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/Makefile.am: jtag: build jtag first because it generates
	header files Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.c, src/flash/nand/lpc3180.c,
	src/flash/nor/at91sam3.c, src/helper/types.h, src/pld/virtex2.c,
	src/target/arm11.c, src/target/arm_adi_v5.c, src/target/arm_jtag.h,
	src/target/avr32_ap7k.c, src/target/avr32_mem.c, src/target/etb.c,
	src/target/mips_m4k.c, src/target/xscale.c: warnings: fix alignment
	warnings These warnings are for architectures that do not support non-aligned
	word access.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* configure.in: zy1000: split out configure option for eCos and JTAG
	master Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h: zy1000: remove obsolete debug
	code Obsolete code clutter Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/readable.tcl: tcl: remove incomplete unused tcl file Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* doc/openocd.texi: xscale: some wp detail added to user manual Hi everyone (again), Watchpoints on xscale are quirky, so I thought a little explanation
	in the user's manual was warranted.  Comments gratefully received.  Last one, Øyvind :-) Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: check that wp length does not exceed
	address Hi everyone, A while back I sent in a patch that adds support for watchpoint
	lengths greater than four on xscale.  It's been working well, until
	the other day, when it caused an unexpected debug exception.
	Looking into this I realized there is a case where it breaks: when
	the length arg is greater than the base address.  This is a
	consequence of the way the hardware works.  Don't see a work-around,
	so I added code to xscale_add_watchpoint() to check for and disallow
	this combination.  Some more detail... xscale watchpoint hardware does not support a
	length directly.  Instead, a mask value can be specified (not to be
	confused with the optional mask arg to the wp command, which xscale
	does not support).  Any bits set in the mask are ignored when the
	watchpoint hardware compares the access address to the watchpoint
	address.  So as long as the length is a power of two, setting the
	mask to length-1 effectively specifies the length.  Or so I thought,
	until I realized that if the length exceeds the base address, *all*
	bits of the base address are ignored by the comaparator, and the
	watchpoint range effectively becomes 0 .. length.  Questions, comments, criticisms gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: bp/wp: additional LOG_ERROR on
	failure Hi everyone, Added more LOG_ERROR messsages to watchpoint and breakpoint code,
	given that the infrastructure no longer interprets returned error
	codes.  Also changed existing LOG_INFO and LOG_WARNING to LOG_ERROR
	for cases where an error is returned.  Note that the check of the target state is superflous, since the
	infrastruture code currently checks this before calling target code.
	Is this being reconsidered as well?  Also, should we stop returning
	anything other than ERROR_OK and ERROR_FAIL? Comments gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-18  Karl Kurbjun <kkurbjun@gmail.com>

	* tcl/board/am3517evm.cfg, tcl/board/ti_beagleboard_xm.cfg,
	tcl/target/amdm37x.cfg: AM/DM37x: Unify configuration scripts and
	add support for TI Beagleboard xM.

2010-09-15  Flemming Futtrup <ffu@deif.com>

	* src/flash/nor/cfi.c, src/flash/nor/non_cfi.c: cfi: add
	sst39vf6401b Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/breakpoints.c: breakpoints: fix error handling do not try to interpret "retval" into a string, just amend a bit
	about the context of the already reported error.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-14  Takács Áron <takacs.aron@infracont.hu>

	* tcl/board/colibri.cfg, tcl/target/pxa270.cfg: board scripts:
	Marvell PXA270M processor has a new TAPID: 0x89265013 the new Marvell PXA270M processor has a new TAPID: 0x89265013.
	Attached you will find a patch for target/pxa270.cfg that will
	handle this.  I have also attached a board/colibri.cfg file to support the Colibri
	PXA270 module by Toradex.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-13  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: fix sw breakpoints for thumb; set bp
	immediately Hi everyone, Version 2 of this patch.  Code added to breakpoints.c was removed
	from previous patch, and item 3 added, per discussion with Øyvind
	regarding error reporting.  Item 4 added, which I just noticed.  I tried to use a software breakpoint in thumb code on the xscale for
	the first time recently, and was surprised to find that it didn't
	work.  The result was this patch, which does four things: 1): fix trivial cut-n-paste error that caused thumb breakpoints to
	not work 2): call xscale_set_breakpoint() from
	xscale_add_breakpoint() 3): log error on data abort in
	xscale_write_memory() 4): fixed incorrect error code returned by
	    xscale_set_breakpoint() when no breakpoint register is available;
	added comment Item 2 not only makes the xscale breakpoint code consistent with
	other targets, but also alerts the user immediately if an error
	occurs when writing the breakpoint instruction to target memory
	(previously, xscale_set_breakpoint() was not called until execution
	resumed).  Also, calling xscale_breakpoint_set() as part of the call
	chain starting with handle_bp_command() and propagating the return
	status back up the chain avoids the situation where OpenOCD "thinks"
	the breakpoint is set when in reality an error ocurred.  Item 3 provides a helpful message for a common reason for failure to
	set sw breakpoint.  This was thoroughly tested, mindful of the fact that breakpoint
	management is somewhat dicey during single-stepping.  Comments and criticisms of course gratefully received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  Mike Dunn <mikedunn@newsguy.com>

	* src/target/cortex_a8.c, src/target/cortex_m3.c,
	src/target/mips_m4k.c: propagate return status of set_breakpoint()
	up call chain Hi everyone, I figured since I was poking around in the breakpoint code on other
	arches, I'd add this change to those arches that don't do it
	already.  This patch propagates the return code of
	<arch>_set_breakpoint() up the call stack.  This ensures that the
	higher layer breakpoint infrastructure is aware that an error
	ocurred, in which case the breakpoint is not recorded.  Normally I wouldn't touch code that I can't test, but the code is
	very uniform across architectures, and the change is rather benign,
	so I figured after careful inspection that it is safe.  If the
	maintainers or others think this is imprudent, the patch can be
	dropped.  Also changed the error code to something more appropriate in two
	cases where hardware resources are unavailable.  Comments and criticisms of course gratefully received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c: helper: add stacktrace command that returns error
	stacktrace Ability to access the stacktrace from a script is quite handy.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/jim.c: jim: fix crash when using Jim_ListInsertElements Jim_ListInsertElements was simply forgotten from the fn that
	registered all the APIs.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/Makefile.am, src/openocd.c: version command: make it
	scriptable you can now set a variable in a script like set version [version].  Also version takes an optional argument "git" to show git version of
	source. If git is not installed during the build, then this will
	yield an error that is ignored during the build and "version git"
	returns an empty string.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: command: capture command now handles both
	types commands Commands that output progress output and no return value will have
	the progress output captured.  Commands that do not output progress output(tcl commands) will
	return the tcl return value instead.  The advantage here is that it is no longer necessary to consider
	which command one is capturing, it works for either.  Example #1: capture progress output: set foo [capture help] Example #2: capture tcl return value set foo [capture {set abc def}] Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/non_cfi.c: cfi: random crash in cfi_probe() fixed for non_cfi cfi chips free() was invoked on rodata.  The mystery is why this bug has survived for so long.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: tighten up type usage a bit sizeof() is a bit less scary than seing assumption about size of
	type, no bug as such.  Use NULL instead of 0 for pointers. More obvious that it is a
	pointer from code inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: mark xscale registers invalid on
	debug entry Hi everyone, This simple patch fixes a problem I noticed on the xscale where
	incorrect values are sometimes reported by the reg command.  The
	problem can occur when requesting the value of registers in the
	xscale-specific register cache.  With a couple of exceptions, none
	of the registers in the xscale register cache are automatically
	retrieved on debug entry.  This is probably fine, as they are
	unlikely to be needed on a regular basis during a typical debug
	session, and they can be retrieved when explicitly requested by name
	using the reg command.  The problem is that once this is done, the
	register remains marked as valid for the remainder of the OpenOCD
	session, and the reg command will henceforth always report the same
	value because it is obtained from the cache and is never again
	retrieved from the debug handler on the target.  The fix is to mark all registers in the xscale register cache as
	invalid on debug entry (before the two exceptions are retrieved),
	thus forcing retrieval (when requested) from the target across
	resumptions in execution, and avoiding the reporting of stale
	values.  Small addition change by Øyvind: change 'i' to unsigned to fix
	compiler warning for xscale_debug_entry() fn.  Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Alexander Stein <alexander.stein@informatik.tu-chemnitz.de>

	* src/jtag/core.c: Remove duplicated initialization I a mail conversation with Øyvind we stated that speed may not be
	set at all on case CLOCK_MODE_KHZ and CLOCK_MODE_RCLK. Also there
	isn't proper error propagation adapter_khz_to_speed or
	jtag_rclk_to_speed.  So jtag_get_speed may need some rewrite for
	error propagation.  CC: Øyvind Harboe <oyvind.harboe@zylin.com> Signed-off-by:
	Alexander Stein <alexander.stein@informatik.tu-chemnitz.de>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: warning: fix silly -O3 warning Some versions of GCC don't pick up that local variables are set in
	all code paths.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c: jtag: fix regression with dummy driver and when
	starting OpenOCD with target powered down Do not fail startup if communication with target is not possible.  OpenOCD supports launching without a target connected or the target
	powered down.  The user will typically power up the target and issue a "reset init"
	+ load his application after OpenOCD is started then.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-31  Wookey <wookey@wookware.org>

	* src/flash/nor/cfi.c: Numonyx M29W160ET patch Someone called David Carne popped up on IRC and offered a fix (as
	he's not on this list so can;t post here). I am just passing it on.
	(thanx David)  10:54 < davidc__> Basically; the Numonyx M29W160ET has an incorrect
	             CFI PRI block; it describes the erase blocks backwards  10:54 < davidc__> the linked patch has a fixup for that part
	 [really trivial]:

2010-08-25  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/cortex_m3.c, src/target/cortex_m3.h,
	tcl/target/stellaris.cfg: cortex m3: add cortex_m3 reset_config cmd This new cmd adds the ability to choose the Cortex-M3 reset method
	used.  It defaults to using SRST for reset if available otherwise it
	falls back to using NVIC VECTRESET. This is known to work on all
	cores.  Move any luminary specific reset handling to the stellaris cfg file.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stellaris.c: flash: increase stellaris flash loader
	buffer This speeds up programming for targets with more working area, Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s3748.cfg,
	tcl/board/ek-lm3s6965.cfg, tcl/board/ek-lm3s811.cfg,
	tcl/board/ek-lm3s9b9x.cfg, tcl/target/lm3s1968.cfg,
	tcl/target/lm3s6965.cfg, tcl/target/lm3s9b9x.cfg,
	tcl/target/stellaris.cfg: cfg: update Luminary config files  - Update all Luminary config's to use a common
	 target/stellaris.cfg.  - Add Luminary ek-lm3s6965 config.   - Increase working area for boards with more ram.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/bitq.c: bitq: unshadow pause() bitq.c: In function ‘bitq_scan_field’: bitq.c:224: error:
	declaration of ‘pause’ shadows a global declaration
	/usr/include/unistd.h:429: error: shadowed declaration is here Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/imx35pdk.cfg, tcl/target/imx35.cfg: imx35pdk: fix clock
	and reset delays Use rclk and 100ms delay on ntrst Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/mcb1700.cfg, tcl/target/lpc1768.cfg: mcb1700: Keil
	MCB1700 w/1768 config script Ca. 93kBytes/s flashing speed @ 10MHz JTAG clock Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s9b9x.cfg: update more
	Stellaris EK board comments Using the bundled JTAG/SWD debug support in JTAG mode is optional on
	*all* of the EK boards.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: two NEWS updates Mention AVR32 AP7000 support.  Clarify ARM semihosting update was
	for V7M (not ARM9 etc).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/ek-lm3s3748.cfg, tcl/board/ek-lm3s811.cfg: Update
	comments for some Stellaris EK boards.  These  don't need to use the on-board debuggers in JTAG mode.
	Off-board is OK, as would be SWD mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* tcl/target/avr32.cfg: avr32: basic target script

2010-08-15  David Brownell <david-b@pacbell.net>

	* tcl/target/at32ap7000.cfg: at32ap7000 config file nice board to play with.

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* src/target/Makefile.am, src/target/avr32_ap7k.c,
	src/target/avr32_ap7k.h, src/target/avr32_jtag.c,
	src/target/avr32_jtag.h, src/target/avr32_mem.c,
	src/target/avr32_mem.h, src/target/avr32_regs.c,
	src/target/avr32_regs.h, src/target/target.c: avr32:
	work-in-progress committed so as to ease cooperation and to let it be improved over
	time.  So far it supports: - halt/resume - registers inspection - memory inspection/modification I'm still getting up to speed with OpenOCD internals and AVR32 so
	code is a little bit messy and I'd appreciate any feedback.

2010-08-13  Catalin Patulea <cat@vv.carleton.ca>

	* src/jtag/drivers/usb_blaster.c: Fix typo in usb_blaster_vid_pid
	error message

2010-08-13  Catalin Patulea <cat@vv.carleton.ca>

	* doc/openocd.texi: Fix typo in documentation of usb_blaster_vid_pid
	command

2010-08-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/lpc1768.cfg: lpc1768: turn down the jtag clock Tests should that it needs to be as low as 100kHz to be stable.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* src/jtag/drivers/ft2232.c: Added support for the Lisa/L jtag LEDs.

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* tcl/board/lisa-l.cfg: Added Lisa/L script as a target board.

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* src/jtag/drivers/ft2232.c, tcl/interface/lisa-l.cfg: Added support
	for Lisa/L builtin JTAG interface.

2010-08-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/at91cap7a-stk-sdram.cfg: at91cap7a-stk-sdram.cfg: faster
	reset crank up JTAG speed as soon as clocks are set up.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* src/jtag/tcl.c: jtag: fix handling of 'tap enable' error if a tap could not be _enabled_, the error message was 'failed to
	disable tap'. Fixed that. Also, display the failing tap's name.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* tcl/target/davinci.cfg: DM36x: Set OSCDIV divider The ability to set up the OSCDIV divider was missing.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* tcl/target/davinci.cfg: DM36x: Disable unused SYSCLKs Clear the enable bits for all clocks that are not set explicitly.
	This is done to increase robustness by removing pre-existing state.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* tcl/target/davinci.cfg: DM36x: Use enable bit for PLL pre-divider The PLL pre- and postdividers seem to have enable bits, although
	these are not mentioned in the chip documentation.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-12  Fredrik Hederstierna <fredrik.hederstierna@securitas-direct.com>

	* src/flash/nor/str9x.c: str9x: faster flash erase of entire chip The patch improves flash erase for STR9x in case of a full bank
	erase.  Then the chip erase command is used instead which improves
	speed significantly.  Also I think it might help if e.g. STR912 enters some state where
	flash banks are locked, and a chip erase command is the key for
	unlocking the flash.

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/target.c,
	tcl/board/at91cap7a-stk-sdram.cfg, tcl/board/at91sam9g20-ek.cfg,
	tcl/chip/atmel/at91/aic.tcl, tcl/memory.tcl,
	tcl/target/c100helper.tcl, tcl/target/davinci.cfg,
	testing/examples/cortex/cm3-ftest.cfg: tcl: remove silly ocd_ prefix
	to array2mem and mem2array ocd_ prefix is used internally in OpenOCD as a kludge more or less
	to deal with the two kinds of commands that OpenOCD has.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/at91cap7a-stk-sdram.cfg: board: added at91cap7a stk
	w/sdram config scripts The strange thing here with this board is that 16MHz kinda works,
	but only 2MHz is really stable.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_jtag.h, src/target/xscale.c: debug: use assert's
	when approperiate error was returned instead of using assert.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/armv4_5.c: arm: add missing error reporting when an unknown core mode is read from the target, report error. Can
	be communication failure.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/microchip_explorer16.cfg, tcl/board/str910-eval.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/lpc2294.cfg,
	tcl/target/mega128.cfg, tcl/target/pic32mx.cfg,
	tcl/target/sam7x256.cfg, tcl/target/stm32.cfg,
	tcl/target/str710.cfg, tcl/target/str912.cfg: config scripts: remove
	useless reference to OpenOCD docs clutters config scripts.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-09  Ben Gardiner <bengardiner@nanometrics.ca>

	* tcl/board/da850evm.cfg, tcl/target/omapl138.cfg: cfg: add omapl138
	support and da850evm preliminary support This patch adds support for the omapl138 target and preliminary
	support for the da850evm. The target cfg file is based on the
	icepick routing done by the target/ti_dm6446.cfg file.  I have performed limited testing with this setup. I am posting this
	patch in the interest of sharing cfg files and in the hopes that the
	experts on this list can correct errors I have made or point out
	enhancements.  The testing I have performed is debugging uboot with gdb where I
	also use the following local.cfg and gdbinit files. Debugging
	appears to work in so much as 'ni' works.  local.cfg: gdb_memory_map disable gdbinit: target remote localhost:3333 set remote
	hardware-breakpoint-limit 2 set remote hardware-watchpoint-limit 2
	monitor poll on Comments welcome.  Best Regards, Ben Gardiner

2010-08-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c, src/target/target_type.h: arm7/9: fix
	"reset run + halt" if polling is off, then "reset run + halt" would fail since halt
	incorrectly assumed the target was in the reset state as it is the
	internal poll implementation that moves the sw tracking of the
	target state out of the reset state.  To reproduce: > reset run; halt JTAG tap: zy1000.cpu tap/device found: 0x1f0f0f0f
	(mfg: 0x787, part: 0xf0f0, ver: 0x1) BUG: arm7/9 does not support
	halt during reset. This is handled in arm7_9_assert_reset() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: if polling fails, back off back-off algorithm for polling. Double polling interval up to 5000ms
	when it fails.  when polling succeeds, reset backoff.  This avoids flooding logs(as much) when working with conditions
	where the target polling will fail.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-03  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/interface/luminary-icdi.cfg: Luminary-icdi comment update Clarify that ICDI is the generic logic, but this config is for the
	JTAG-only (no-SWD) mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-02  Mike Dunn <mikedunn@newsguy.com>

	* doc/openocd.texi: xscale documentation: vector table handling Hi everyone.  I noticed some incorrect information in the user
	manual regarding how the vector table is handled on the xscale, so
	for your consideration, here's a short patch that corrects it, and
	adds a little more detail I thought might be helpful.  The documentation states that OpenOCD does not attempt to
	synchronize the vector tables in memory with those stored in the
	"mini instruction cache".  In fact, on each resume it does copy from
	memory to the cache all entries in the high and low tables that were
	not previously defined using the 'xscale vector_table' command. (In
	src/target/xscale.c, see xscale_update_vectors(), which is invoked
	by xscale_resume().)  I take advantage of this during Linux boot-up.
	The extra detail describes in general terms how I do this.  Corrections, comments are of course gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: verify_image: print out a statement that
	there are no further errors It is useful to know that the printed errors are *all* the errors
	there were.  Added missing error handling(found by inspection).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: use correct base clock when
	calculating speed divisor revc uses 60MHz and revb 64MHz, use this in calculations.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: print out khz correctly in
	response to setting JTAG speed Calculate printout based on same core routines.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/lpc1768.cfg: lpc1768: even if rclk "works", it isn't
	necessarily the correct clk rclk = 4MHz oon lpc1768, the correct JTAG clk is 666MHz(4MHz/6).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/ioutil.c: ioutil: fix internal fn names prefix w/ioutil_ Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/startup.tcl: jtag: measure_clk debug proc It can be useful to get an approximate measurement of rtck frequency
	for debugging purposes.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: jtag: add
	jtag_flush_queue_sleep debug command it can be useful to throttle performance: test differences in
	behavior, test performance effect of long roundtrips.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c, src/helper/Makefile.am, src/helper/util.c,
	src/helper/util.h, src/openocd.c: util: ms command to calculate
	length of operations This can be used to calculate approximate RTCK frequency for
	instance.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Peter Stuge <peter@stuge.se>

	* tcl/interface/ngxtech.cfg: Support NGX Technologies product NGX
	ARM USB JTAG This is a standard FT2232 device. More info at their web page:

	http://shop.ngxtechnologies.com/product_info.php?cPath=26&products_id=30

2010-08-01  Peter Stuge <peter@stuge.se>

	* tcl/target/lpc2148.cfg: Remove srst_pulls_trst from LPC2148 target srst_pulls_trst is only true on some (broken) LPC2148 boards, a fact
	which is already documented in doc/openocd.texi, so it shouldn't be
	set unconditionally in the target tcl.  This patch was needed to reflash when an Abort exception occured
	very early after reset, before OpenOCD tried to halt the CPU.

2010-08-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris flash comment update This flash driver works on more than just two chips.  (Though it
	does need work still, e.g. to protect more than 64K.  (On
	non-'3748-A0 chips where errata allow that.)) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/lpc1768.cfg: lpc7168: make flash available upon reset
	init set user mode to avoid ROM being mapped at address 0 rather than
	flash.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-24  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/transport.c: "transport select" returns
	Jim value Make it scriptable, so code can be conditionalized based on what
	transport is in use for the session.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-10  Michal Demin <michal.demin@gmail.com>

	* src/jtag/drivers/buspirate.c: Buspirate: fix shadow

2010-07-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: removed unused cmd 'fast' The cmd fast was removed in commit
	c0d14dc7f19d785702eee5f69de5b1a63902554b Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/lpc2000.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c: flash: remove
	algorithm exit_point address for supported targets For the above targets the exit_point is optional when used with
	run_algorithm, so remove it.  This makes updating the algorithm less error prone.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.c: mips32: exit_point optional for
	mips32_run_algorithm As the mips32 uses instruction breakpoints for algorithms we do not
	really need to check the pc on exit.  This now matches the behaviour of the arm codebase.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv7m.c: armv7m: exit_point optional for
	armv7m_run_algorithm As the armv7m uses instruction breakpoints for algorithms we do not
	really need to check the pc on exit.  This now matches the behaviour of the arm4_5 codebase.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv4_5.c: armv4_5: add algorithms instruction
	breakpoint support Update the arm_checksum_memory and arm_blank_check_memory algorithms
	to use a breakpoint instruction on v5 arch.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h: arm11 error propagation fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/embeddedice.c, src/target/etm.c, src/target/feroceon.c: 
	arm_jtag_scann error propagation fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_dpm.c: arm_dpm: error propagation fixes found by inspection Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c: adi_jtag_ error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/embeddedice.c, src/target/etm.c,
	src/target/feroceon.c: arm: error propagation of arm_jtag_set_instr Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: arm_adi_v5: dap_run() error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c, src/target/cortex_m3.c: arm_adi_v5:
	mem_ap_write error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c, src/target/cortex_m3.c: arm_adi_v5: error
	propagation of mem_ap_read_atomic_u32 failure Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c, src/target/cortex_m3.c: mem_ap_read_u32
	error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c, src/target/cortex_m3.c: arm_adi_v5: add
	error propagation for dap_setup_accessport Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm920t.c, src/target/arm920t.h, src/target/arm926ejs.c,
	src/target/armv7a.h, src/target/armv7m.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c: debug: debug entry error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: added timeout handling Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/cortex_a8.c,
	src/target/xscale.c: arm: add error propagation for enable/disable
	mmu caches Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/cortex_a8.c,
	src/target/xscale.c: arm: add error propagation to generic get_ttb
	fn Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: more careful luminary init Set up more of the Luminary-specific signals, and stop cloning a few
	of the JTAG defaults.  More comments too.  Still leaves the "dap info 0" bugs unresolved (presumably coupled to
	this particular adapter family) where TPIU, ITM, DWT, and other
	debug modules wrongly display as extra NVICs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/interface/jtagkey2p.cfg: cfg: add Amontec JTAGkey2p interface
	config (Issue #26) Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nand/Makefile.am, src/flash/nand/driver.c,
	src/flash/nand/nuc910.c, src/flash/nand/nuc910.h,
	tcl/board/rsc-w910.cfg: flash: add nuc910 nand driver This adds a nand driver support for the nuc910 target.  Note that
	ECC is not currently supported by this driver, although it is
	supported by the peripheral.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nand/tcl.c: nand: nand probe also outputs manufacturer The nand probe now outputs the manufacturer if found.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/rsc-w910.cfg: cfg: update rsc-w910 script  - Only enable the FMI (NAND) and DMA clocks.   - Select NAND interface on the MFSEL.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: missing parameter from nand
	check_bad_blocks Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: lots of error propagation fixes found by code inspection Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: mem_ap_read_buf_u32() error
	handling Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add missing error handling for
	cortex_a8_dap_write/read_coreregister_u32() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add missing error handling from
	cortex_a8_exec_opcode() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add missing error handling for
	mem_ap_atomic_write_u32() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add missing error handling for
	mem_ap_read_atomic_u32() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: comments for Luminary ICDI layout Provide $defines for more of the signals involved in the Luminary
	ICDI hardware, and comment some of what's going on.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: spelling fixes in comments Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	debug-feature: jtagtcpip, improve jtag performance postpone callbacks until jtag execute queue time.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-17  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, tcl/board/ek-lm3s811.cfg, tcl/target/lm3s811.cfg: lm3s811-ek
	uses generic stellaris target config There's no point in an lm3s811-specific target file, so remove it in
	favor of the generic "stellaris.cfg".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADI-V5: cleanup CID/PID addressing Use addition for offsetting, not masking.  Shorten some lines.  Make
	"component_start" print-only (unused otherwise; don't save).  Still doesn't resolve the issue where multiple components are
	wrongly displaying as NVICs on some Cortex-M3 parts because many
	PIDs appear to be zeroes ... maybe adapter related?? Signed-off-by: David Brownell <db@helium.(none)>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/str9x.c: flash: use bkpt for str9 flash algo
	algorithm STR9 is ARMv5 arch so use bkpt instruction rather than waste a
	breakpoint.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: fix warnings Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	debug-feature: jtagtcpip, reduce performance impact of ping times queue read back of data Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: debug
	feature: jtagtcpip, improve performance waiting for ZY1000 fifo to idle is now queued as an asynchronous
	command. This radically improves performance when waitIdle() is
	interspersed with writes as no readback is required over TCP/IP.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: debug feature: jtagtcpip, improved
	performance only check error flag when rclk is actually enabled.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADI-V5: PIDs and CIDs are 8 bits Mask the upper bits after 32-bit reads.  Alsoo revert the ugly changes to use PRIx32; just cast to unsized
	integers when printing (two chars not eight).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/rsc-w910.cfg, tcl/target/nuc910.cfg: cfg: add Avalue
	RSC-W910 config Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/core.c: jtag: fix shadow issues in adapter_init Use global jtag_only rather than local static.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/arm9tdmi.c: arm9: revert change arm9tdmi cmd group name
	to arm9 This reverts the incorrect change made to the arm9 cmd group in
	commit d1eca9a74c7c57ba6a3210c51b2a10cc5adb22e1.  The code now matches the docs and the release notes.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: docs: fix transport typo Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/adapter.c: adapter.c: missing space in
	handle_interface_command Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/adapter.c, src/jtag/drivers/dummy.c,
	src/jtag/drivers/ft2232.c, src/jtag/interface.h,
	src/jtag/transport.c: transport selection tweaks * Bugfix and simplify legacy jtag-only defaulting * Make "dummy" declare its jtag-only nature * likewise update ft2232 * warn if selection is _required_ (multi-transport adapters), fixes the "only ft2232 works" bug for at least dummy, with other
	drivers going the "legacy" path (submit patches).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/core.c, src/jtag/drivers/ft2232.c, src/jtag/transport.c: 
	transport: fix bug/typo in transport_register cmd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/transport.c: transport: fix segfault in transport select String compare against addresses in range 0 or so due to not
	checking if there was an active session first.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/adapter.c: transport: fix bug/typo in
	interface_transports command Classic manifestation of weakness of dangling { formatting :-) Hard
	to spot these sort of mistakes visually.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-05  sb-sf <sb-sf@users.sourceforge.net>

	* src/server/gdb_server.c: gdbserver: incorrect memory map for
	multiple targets (bug #24) The gdb server incorrectly reports the memory map if we have
	multiple targets with multiple flash banks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-04  Stacey Sheldon <stac@solidgoldbomb.org>

	* src/openocd.c: transport: fix segfault in setup_command_handler() Commit 93f2afa45f4c dropped the sentinel off the end of the
	command_registrants[] array.  The loop immediately following the
	initialization will walk right off the end.  Signed-off-by: Stacey Sheldon <stac@solidgoldbomb.org>

2010-07-02  David Brownell <db@helium.(none)>

	* doc/openocd.texi: Fix minor openocd.texi bug ::X Signed-off-by:
	David Brownell <db@helium.(none)>

2010-07-02  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/Makefile.am, src/jtag/adapter.c,
	src/jtag/core.c, src/jtag/drivers/ft2232.c, src/jtag/jtag.h,
	src/jtag/transport.c, src/jtag/transport.h, src/openocd.c: initial
	"transport" framework This adds the guts of a transport framework with initialization,
	which should work with current JTAG-only configurations (tested with
	FT2232).  Each debug adapter can declare the transports it supports, and
	exactly one transport is initialized.  (with its commands) in any
	given OpenOCD session.    * Define a new "struct transport with init hooks and a few  "transport"  subcommands to support it:      "list" ... list the transports configured (just "jtag" for now)      "select" ... makes the debug session use that transport      "init" ... initializes the selected transport (internal)   * "interface_transports" ... declares transports the current
	    interface can support.  (Some will do this from C code instead,
	    when there are no hardware versioning (or other) issues to prevent
	it.  Plus some FT2232 tweaks, including a few to streamline upcoming
	support for an SWD transport (initially for Luminary adapters).  Eventually src/jtag should probably become src/transport, moving
	jtag-specific stuff  to transport/jtag.  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ft2232: revert ft2232_read_scan changes Revert change made in commit
	dd88b461da1cb8642200dd5c96fb1ff384ca9f7b.  Caused segfaults when
	using ftdi driver under win32.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-01  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ft2232: bugfix from previous commit fix build error with commit dd88b461da1cb8642200dd5c96fb1ff384ca9f7b Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-06-17  Marc Pignat <marc.pignat@hevs.ch>

	* src/jtag/drivers/ft2232.c: ft2232: simplify ft2232_read_scan

2010-06-17  Marc Pignat <marc.pignat@hevs.ch>

	* src/jtag/drivers/ft2232.c: ft2232: cleanup ft2232_write * Include the size check into ft2232_write, so calling it is
	simpler.  * Use sizeof(buffer) when possible

2010-06-25  Olaf Lüke <olaf@uni-paderborn.de>

	* src/flash/nor/at91sam3.c, tcl/board/atmel_sam3s_ek.cfg,
	tcl/target/at91sam3XXX.cfg, tcl/target/at91sam3sXX.cfg,
	tcl/target/at91sam3uXX.cfg: at91sam3s* support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c: openocd: setup_command_handler() must not be static when OpenOCD is linked with an app this fn can be used from the
	outside.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: arm11: fix gaffe in no-ack transfers The code did not transfer the last word in no-ack transfers.  The strange thing is that this did not lead to any observable
	errors.  This gaffe was introduced in commit 1f5883ea56cb058221f Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/common.h, src/target/trace.h, src/target/xscale.h: error
	number: review Review allocation of error numbers in openocd to avoid overlap.  Put
	brackets around negative numbers to avoid issues during macro
	expansion.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/am3517evm.cfg: am3517 evm: use physical write to memory
	while target is running Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: only physical read/write's are
	available when target is running Memory read/writes to virtual memory, requires that the CPU is
	halted.  Use 'phys' option to write to memory while target is running.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: $_TARGET mdw now has a phys option just like the mdw command Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: mwX on target object now supporst
	phys argument $_TARGETNAME mww phys 0x10 0xdeadbeef => write 0xdeadbeef to physical address 0x10 Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/xsvf/xsvf.c: xsvf: Fix shadow issues on Mac wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/target/target.c: target: Fix shadow issues on Mac wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/flash/mflash.c: flash: fix shadow issues on Mac Wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/am3517evm.cfg: board: add alpha am3517evm ti board
	config file Signs of life: reset(kinda), halt, resume and memory display/modify.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* .gitignore: gitignore: start list of emacs temp files to ignore Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: print message that locking
	debug access succeeded on second try when locking the debug access fails on the first try, it's a bit
	noisy, so print out message that it succeeded on second try.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add error propagation for
	poll/resume Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add timeouts waiting for
	restart, prepare and halt It would previously sit in an infinite loop rather than reporting an
	error.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add error propagation for
	mem_ap_read/write_atomic_u32 Error propagation avoids e.g. infinite loops waiting for target to
	halt, etc.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: arm_adi_v5: error propagation fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/mx2.c: nand/mx2: review scope of symbols Add "static" qualifier to private variable.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/str7x.c: nor/str7x: review scope of symbols Add "static" qualifier to private function.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/openocd.c: openocd.c: review scope of symbols Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/virtual.c: nor/virtual: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/avrt.c: target/avrt: review unused symbols Remove unused functions: - mcu_write_dr_u16 - mcu_write_dr_u8 - mcu_write_ir_u16 - mcu_write_ir_u32 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/avrf.c, src/target/avrt.c, src/target/avrt.h: 
	target/avr: review scope of symbols Add "static" qualifier to private functions.  Move duplicated global
	declarations from "target/avrt.c" and "nor/avrf.c" to
	"target/avrt.h".  Remove unused declarations form "nor/avrf.c".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/feroceon.c: target/feroceon: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/mips_m4k.c, src/target/mips_m4k.h: target/mips_m4k:
	review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/jim-eventloop.h: helper/jim-eventloop.h: review unused
	definitions Remove unused typedef and define Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/jim-eventloop.c: helper/jim-eventloop: review unused
	symbols Remove unused functions: - Jim_CreateSignalHandler - Jim_DeleteSignalHandler Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/jim-eventloop.c, src/helper/jim-eventloop.h: 
	helper/jim-eventloop: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Remove empty definition of
	JIM_STATIC.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/jtag.h: jtag: retire jtag_get_error() This fn is an implementation detail of jtag_execute_queue() that is
	not to be exposed externally.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c, src/xsvf/xsvf.c: jtag: do not use
	jtag_get_error() normal code should not call jtag_get_error(), but rather check the
	return code from jtag_execute_queue().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c: adi_v5_jtag: add missing error handling Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex a8: add missing error handling cortex examine was missing error handling.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/jtag/drivers/arm-jtag-ew.c: arm-jtag-ew: -Wshadow fix declaration of ‘index’ shadows a global declaration in
	/usr/include/string.h Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-06-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.h, src/target/cortex_a8.c: cortex a8: fix
	segfault for unexamined targets print error message instead of segfaulting for unexamined targets.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/dsp563xx.c, src/target/dsp563xx.h: target/dsp563xx:
	review unused symbols Remove unused functions: - dsp563xx_jtag_senddat - dsp563xx_write_ir_u16 - dsp563xx_write_dr_u16 - dsp563xx_write_ir_u32 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/dsp563xx.c, src/target/dsp563xx.h: target/dsp563xx:
	review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/jim.c: reverse order of Jim stack trace output The stack traces makes much more sense this way.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/command.c: don't add confusing source info to Jim When an interactive command fails, the Jim stack trace prints
	references to the line in "command.c" where the interpreter was
	invoked. Since that location has no relation to the actual command
	that failed, the information serves only to add confusion.  By not adding the useless source info to Jim the noise can be
	reduced, while still printing a useful trace for nested commands.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/jim.c: helper/jim: review unused symbols Remove unused functions: - Jim_IdentityHashFunction - StringAppendObj - JimReferencesHTDoubleHashFunction Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/jim.c: helper/jim: review scope of symbols Add "static" qualifier to private functions.  Function Jim_InterpolateTokens() is private, but has not been
	changed to "static".  This function is called only once, so compiler
	inlines it.  After inline, there is a warning for variable
	uninitialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* src/jtag/drivers/arm-jtag-ew.c: mingw32: -Wshadow fixes in
	arm-jtag-ew.c (error: declaration of ‘stat’ shadows a global declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/sys/stat.h:279: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* src/jtag/drivers/rlink.c: mingw32: -Wshadow fixes in rlink.c (error: declaration of ‘byte’ shadows a global declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:50: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* src/jtag/drivers/rlink.c: rlink: -Wshadows fixes (error: declaration of ‘pHDev’ shadows a global declaration;
	../../../../src/jtag/drivers/rlink.c:102: error: shadowed
	declaration is here) Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* src/helper/jim.c: mingw32: -Wshadow fixes in jim.c (error: declaration of ‘boolean’ shadows a global
	declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:52: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/jtag/drivers/jlink.c: jlink: fix -Wshadow warning Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Antonio Borneo <borneo.antonio@gmail.com>

	* src/jtag/drivers/vsllink.c: vsllink: fix -Wshadow warning Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-17  Oyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb-server: fix -Wshadow warning This warning was only reproducable with Cygwin.  Cygwin now builds without warnings for the basic case.  Signed-off-by: Oyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix arm11 optimisation copy & paste error + added FIFO throttling to work around lockup bug
	in FPGA.  The arm11 optimisation was introduced post v0.4.0, so this is not a
	regression compared to previous release.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/Makefile.am, src/helper/membuf.c, src/helper/membuf.h: 
	helper: remove helper membuf Helper is now unused. Can be removed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/at91sam3.c: nor/at91sam3: replace helper membuf Helper ./src/helper/membuf.c is only used in at91sam3.c 1) Replace membuf with LOG_* 2) The original code in sam3_GetDetails() invalidates    all the buffered output of sam3_GetInfo(). The new    code skips sam3_GetInfo() if its output should not    be printed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* configure.in: build: enable -Wshadow by default Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: clean up error handling in
	step/continue if step/continue fails, then the error should be reported to the
	calling fn.  The calling fn decides if the connection has to be aborted or if
	packet processing can continue.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/xsvf/xsvf.c: xsvf: -Wshadow warning fixes I think this fixed an error message where the error message would
	show the *previous* uc code rather than the current unsupported uc
	code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/svf/svf.c: svf: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/mflash.c: mflash: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/arm_io.c: arm_io: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nand/tcl.c: nand: when verify failed, it didn't return
	an error when the verify failed, it didn't return an error, which breaks e.g.
	tcl scripts that rely on this for exceptions to work.  Found by -Wshadow Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/tms470.c: tms470: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9xpec.c: str9xpec: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9x.c: str9x: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/#jim.c#: oops... backup file snuck in, remove it.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str7x.c: str7x: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stm32x.c: stm32x: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/stellaris.c: stellaris: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/lpc2900.c: lpc2900: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/lpc2000.c: lpc2000: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/ecos.c: ecos flash: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/at91sam7.c: at91sam7: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/tcl.c: flash: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_ejtag.c: mips_ejtag: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c: mips32_pracc: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_m4k.c: mips_m4k: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32.c: mips32: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex_a8: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: arm11_dbgtap: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm926ejs.c: arm926ejs: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm920t.c: arm920t: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c: arm720t: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c: adi_v5_jtag: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: arm_adi: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_simulator.c: arm_simulator: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_dpm.c: arm_dpm: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: -Wshdaow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/breakpoints.c: breakpoint: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/fileio.c: fileio: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/#jim.c#, src/helper/jim.c: jim: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/jim.c: jim: more jim -Wshadow fixes that should be
	straightforward this bunch was a bit less obvious, but looked straightforward.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/jim.c: jim: -Wshadow fixes this batch of fixes should be pretty straightforward rename of
	'index' and an 'i' local variable shadowing.  'index' conflicts with a global name.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Thomas Koeller <thomas.koeller@baslerweb.com>

	* tcl/target/davinci.cfg: DM36x: pll & clock setup Added a function 'pll_v03_setup' to set up PLLs and clock dividers
	on DM365 and DM368.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  michal smulski <michal.smulski@ooma.com>

	* tcl/target/c100helper.tcl: arm1136 scripts Here is a patch to fix a startup in C100 (arm1136). Basically make
	sure that UART is configured before using it.  Michal Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/common.c, src/flash/nand/lpc3180.c,
	src/helper/fileio.c, src/server/server.c: -Wshadow fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: add LOG_ERROR() in case of unsupported
	intel erase algorithm found by code inspection. There are many other places in CFI where
	LOG_ERROR() should be called similarly...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c, src/flash/nor/core.c, src/flash/nor/tcl.c: 
	flash: fix bug in error propagation of flash write_image when a write/unlock/erase failed during write_image, then an error
	was not propagated back up so e.g. flash write image from tcl
	scripts would not throw an exception.  Also flash filling speed was printed even when the operation failed.
	Output is now less confusing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.h: helper: fix -Wshadow warning in number
	parsing use obtuse local variable names in macros to avoid interfering with
	global name space Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: fix gaffe introduced in previous version flash probe broke w/in last commit.  ecc8041c0f4c30a7310c0f8414a5261ee7a090ca Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: fix retval gaffe in mwX commands failure to write to memory was not propagated.  This is an interesting case of broken error handling: with
	exceptions we wouldn't have had this at all, and I also wonder if
	there is a GCC option to warn about these kinds of potential bugs.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/cortex_a8.c,
	src/target/xscale.c: TARGET: removed unused parameters Parameters "domain" and "ap" of function armv4_5_mmu_translate_va()
	are not used.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/cortex_a8.c,
	src/target/xscale.c: TARGET: removed unsed parameter Parameter "type" of function armv4_5_mmu_translate_va() is now not
	used.  Remove the parameter and the "enum" listing its values.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/cortex_a8.c, src/target/xscale.c: TARGET: fix handling
	return code of MMU translation Function armv4_5_mmu_translate_va() now properly signals errors in
	the return value.  Remove former error handling by setting variable
	"type" to value "-1".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm920t.c: TARGET/ARM920T: fix return value Function arm920t_write_memory() default return value should be
	ERROR_OK.  All cases of local errors are handled immediately and not
	further propagated.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm920t.c: TARGET/ARM920T: fix compile warning Commit 0538081246fafbfb74d554bb1b758412534aa254 introduces a compile
	time warning: arm920t.c: In function ‘arm920t_write_memory’:
	arm920t.c:567: warning: ‘retval’ may be used uninitialized in
	this function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c, src/flash/nor/core.h, src/flash/nor/tcl.c: 
	flash: add error handling to get_flash_by_addr/name autoprobing can fail and this error has to be reported up the call
	stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/cortex_a8.c,
	src/target/xscale.c: arm mmu: error propagation added for address
	translation The return value for MMU translation was a mess, either error or
	value.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c, src/flash/nor/cfi.h: cfi: fix error
	propagation any read/write operation to memory can fail.  block write algorithm error propagation was broken in that it would
	continue after an error was reported writing data to ram or the
	algorithm failing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* src/jtag/Makefile.am: jtag: added mising header Distributions created by 'make dist' were incomplete due to a
	missing header file.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-06-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: add error message if image is too big
	for flash replaced assert() w/error message if the image is too big.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/tcl.c: flash: flash erase_address takes unsigned
	arguments fixed bug where address was parsed as a signed, rather than unsigned
	it.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix optimisation gaffe DCC optimisation was broken on targets w/multiple TAP's.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-06  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: added watchdog server Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: fix GDB keep alive bug Long running CFI writes could cause GDB timeout.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: verify: display up to 128 diff's Showing up to 128 differences.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb-server: fix error reporting bugs GDB and OpenOCD has two different error number spaces and no mapping
	exists between them.  If a specific error number is to be reported to GDB then this has to
	be done at the calling site, rather than as a generic routine that
	tries to map "retval" to GDB error number speak.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/commands.h, src/jtag/drivers/amt_jtagaccel.c,
	src/jtag/drivers/arm-jtag-ew.c, src/jtag/drivers/bitbang.c,
	src/jtag/drivers/bitq.c, src/jtag/drivers/buspirate.c,
	src/jtag/drivers/driver.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/gw16012.c, src/jtag/drivers/jlink.c,
	src/jtag/drivers/rlink.c, src/jtag/drivers/usbprog.c,
	src/jtag/drivers/vsllink.c: jtag: rename JTAG_MOVESTATE to
	JTAG_TLR_RESET JTAG_MOVESTATE is misleading, this cmd is only used for reset.  JTAG_PATHMOVE should be used otherwise.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-01  gcembed <gcembed@gmail.com>

	* src/flash/nor/stm32x.c: stm32 : change returned value of
	mass_erase function Hello, "stm32x mass_erase" return ERROR_OK even if something goes
	wrong.  Here is a summary of changes : * in stm32x_mass_erase : return ERROR_FLASH_OPERATION_FAILED when
	error detected in FLASH_SR register; * in COMMAND_HANDLER(stm32x_handle_mass_erase_command) : return the
	returned value of stm32x_mass_erase().  I don't know if there is reason to always return ERROR_OK ? Gaëtan

2010-06-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* NEWS: NEWS: updates Add new features since 0.4.0 release.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-31  Jon Povey <jon.povey@racelogic.co.uk>

	* src/target/etm.c: etm: print something when trace buffer empty ETM analyze produced no output when the trace buffer was empty.
	This patch provides users with a clue.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/avrf.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/flash/nor/tms470.c: nor: fix memory leaks during probe Fix similar memory leaks as per commit:
	ef72484b785ec7462a0415afea679d08b864c7fb Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/virtual.c: flash: virtual driver update for
	get_flash_bank_by_name_noprobe Make sure we do not probe a flash when getting info.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/core.c, src/flash/nor/core.h, src/flash/nor/tcl.c: 
	nor: add get_flash_bank_by_name autoprobe When a flash cmd is called using the flash name the autoprobe
	function is not called. autoprobe is called if
	flash_command_get_bank falls through to get_flash_bank_by_num.  This makes both get_flash_bank_by_name and get_flash_bank_by_num
	behave the same.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/pic32mx.cfg: cfg: add pic32 virtual banks make use of the new virtual bank flash driver.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/flash/nor/Makefile.am,
	src/flash/nor/drivers.c, src/flash/nor/virtual.c: flash: add virtual
	flash bank driver This adds a virtual flash bank driver that allows virtual banks to
	be defined that refer to an existing flash bank.  For example the real address for bank0 on the pic32 is 0x1fc00000
	but the user program will either be in kseg0 (0xbfc00000) or kseg1
	(0x9fc00000).  This also means that gdb will be aware of all the
	read only flash addresses.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-26  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: fix memory leak; check malloc return
	value Every time command "flash probe #" is executed, memory structures
	are re-allocated without preventive free() of former areas, causing
	memory leak.  Also, memory allocation does not check return value,
	determining segmentation fault in case of out of memory.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-22  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/lpc2378.cfg,
	tcl/target/lpc2478.cfg: There are no variants of arm7tdmi target Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/lpc2378.cfg,
	tcl/target/lpc2478.cfg: All LPC2xxx chips are little endian and that
	cannot be changed - update config scripts Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2129.cfg: add correct CPUTAPID value for LPC2129 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc1768.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg: Update "flash bank"
	helper comments for LPC2xxx chips Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/lpc2478.cfg: LPC23xx and LPC24xx after reset run on
	internal 4MHz RC oscillator, so "flash bank" parameter should be
	4000 (not 12000) Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/at91sam9260_ext_RAM_ext_flash.cfg: at91sam9260: use
	RCLK It might be possible to get this target going without RCLK, but it
	would require more careful analysis and usage of the reset events.  Enable fast memory accesses.  Tested on an at91sam9260 custom board w/external DRAM and flash.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/hitex_stm32-performancestick.cfg: cfg: update stm32
	performance stick config  - As this is a complete unit, including jtag we might as welli
	 nclude the jtag cfg.   - Add missing id for the str750 that is also in the jtag chain.   - Reduce jtag startup speed to 500kHz.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/arm_adi_v5.c: arm_adi_v5: correct ahbap_debugport_init
	mem-ap id (bug #23) We request a id register read at the end of ahbap_debugport_init but
	we never actually run the queue. In some cases this causes a
	segfault.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Jon Povey <jon.povey@racelogic.co.uk>

	* tcl/board/dm355evm.cfg: board: dm355evm.cfg SDTIMR0/1 minor naming
	fix Register name fix; ref. TI document sprueh7d Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-20  gcembed <gcembed@gmail.com>

	* src/flash/nand/Makefile.am, src/flash/nand/driver.c,
	src/flash/nand/mx2.c, src/flash/nand/mx2.h: nand : Add Freescale
	iMX27 nand flash controller support This patch add support of iMX27 nand flash controller. This is based
	on driver for imx31 nand flash controller.  OOB functionality is not
	fully working. As in mx31 controller, mx2 NFC has a bug that swap
	two bytes between SPARE and MAIN buffer.  I used this driver for
	several months and no problems appear.

2010-05-18  Gary Carlson <gcarlson@carlson-minot.com>

	* tcl/board/at91sam9g20-ek.cfg: reset: fix reset halt bug I was finally able to figure out the cause of this problem.  There
	are two parts to the patch.  The first patch modifies the
	configuration file I originally generated for the Atmel AT91SAM9G20
	board and achieves the following: +++ Splits the reset-init handler into a reset-start handler for
	some of the initial configuration activities and keeps the remainder
	in the reset-init handler as was the case before.  This was the real
	issue that was causing the timing problems I identified before.
	This solution was confirmed with an o-scope on actual target
	hardware.  +++ Adds a new instruction in the reset-start handler to disable
	fast memory accesses in the reset-start handler.  When the target
	jtag clock is started out at 2 kHz during system clock
	initialization, memory writes (i.e.  register write to enable
	external reset pin -- basically to RSTC_MR) are naturally slow and
	cause GDB keep-alive issues (refer to PATCH 2/2 for additional
	fixes).  +++ Modifies the configuration file to use srst_only reset action.
	The reset-start/reset-init handler split also now allows the correct
	behavior to be used in the configuration file (previously had to use
	both SRST and TRST even though only SRST is actually used and
	connected on the evaluation board).  +++ Adds external NandFlash configuration support to take advantage
	of flash driver added earlier.  Doesn't fix any bugs but adds
	functionality that was marked as TBD before and thrown in when I did
	other work on the configuration file.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  Gary Carlson <gcarlson@carlson-minot.com>

	* src/target/arm7_9_common.c: target: slow targets could cause GDB
	to time out This second half of the patch is proposed to clean up some GDB keep
	alive issues on arm7_9 targets that start up with very slow clocks.
	If an attempt is made to write to key registers on the processor
	with a slow jtag speed, GDB timeout warnings appear on the console
	(at least mine) when "reset halt" or "reset init" commands are
	issued from the gdb client: *** BEFORE PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz
	keep_alive() was not invoked in the 1000ms timelimit. GDB alive
	packet not sent! (1026). Workaround: increase "set remotetimeout" in
	GDB JTAG tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg:
	0x01f, part: 0x7926, ver: 0x0) target state: halted target halted in
	ARM state due to breakpoint, current mode: Supervisor cpsr:
	0x000000d3 pc: 0x00000000 MMU: disabled, D-Cache: disabled, I-Cache:
	disabled keep_alive() was not invoked in the 1000ms timelimit. GDB
	alive packet not sent! (1027). Workaround: increase "set
	remotetimeout" in GDB keep_alive() was not invoked in the 1000ms
	timelimit. GDB alive packet not sent! (1006). Workaround: increase
	"set remotetimeout" in GDB keep_alive() was not invoked in the
	1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1004). Workaround:
	increase "set remotetimeout" in GDB RCLK - adaptive dcc downloads
	are enabled fast memory access is enabled NAND flash device 'NAND
	256MiB 3,3V 8-bit' found (gdb) I added additional keep alive steps in areas that troubleshooting
	revealed were causing problems.  I only did this however for
	non-fast write memory accesses.  I don't think most people would be
	using fast memory accesses to write to memory when the jtag and
	system clocks are slow anyway.  If you disagree with my feeling, think there is a more elegant way
	to handle the problem, or think the patch will cause other
	unforeseen problems with other targets, let me know.  As you can see
	below, the patch does eliminate the problem on my development
	station and I suspect that it will benefit others.  *** AFTER PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz JTAG
	tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg: 0x01f, part:
	0x7926, ver: 0x0) target state: halted target halted in ARM state
	due to breakpoint, current mode: Supervisor cpsr: 0x000000d3 pc:
	0x00000000 MMU: disabled, D-Cache: disabled, I-Cache: disabled RCLK
	- adaptive dcc downloads are enabled fast memory access is enabled
	NAND flash device 'NAND 256MiB 3,3V 8-bit' found (gdb) Gary Carlson Gary Carlson, MSEE Principal Engineer Carlson-Minot Inc.

2010-05-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/log.c: jim: fix bug in tcl "puts" tcl "puts" didn't work because the logging code sensored strings
	that did not include a '\n'. The correct thing is to sensor empty
	strings, which are used to keep gdb connection alive.  The tcl "puts" code broke apart strings which do contain '\n' in
	order to implement the -nonewline argument, which is how it got hurt
	by the bug in log.c Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix false positive warning about
	unitialized local variable Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  Marc Pignat <marc.pignat@hevs.ch>

	* tcl/board/at91rm9200-dk.cfg, tcl/target/at91rm9200.cfg: at91rm9200
	: reset_config should go to the board config file Let other boards do other things with srst and trst.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-17  Jon Povey <jon.povey@racelogic.co.uk>

	* src/flash/nand/davinci.c: NAND/davinci: Fix segfault for
	hwecc4_infix reads Page reads using hwecc4_infix layout segfaulted for check_bad_blocks
	because the read assumed a valid data buffer, which check_bad_blocks
	does not use (it only passes a 6 byte buffer for the start of OOB).  This version copes with undersized or missing data or oob buffers
	and uses random read commands within the page to skip unwanted areas
	of data/OOB for speed.  NOTE: Running check_bad_blocks with this layout will be reading
	infix OOB locations, not manufacturer bad block markers. This means
	that if you check blocks written in infix layout they will appear
	good, but manufacturer- marked bad blocks may also appear good.  If
	you want to scan for manufactuer-marked bad blocks, you need to
	enable raw_access before running check_bad_blocks, or use the
	non-infix layout.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> CC: David
	Brownell <dbrownell@users.sourceforge.net>

2010-05-17  Jon Povey <jon.povey@racelogic.co.uk>

	* src/flash/nand/core.c: NAND: catch read errors when building BBT nand_build_bbt() was ignoring the return value from nand_read_page()
	and blindly continuing.  It now passes the return value up to the
	caller if the read fails.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-05-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/gdb_server.c: gdbserver: gdb cmds returning failure on
	success The gdb_memory_map cmd for example fell through and returned
	ERROR_COMMAND_SYNTAX_ERROR on success - behaviour is now as
	expected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* src/flash/nand/tcl.c, src/flash/nor/tcl.c, src/target/target.c: 
	Change kb/s to KiB/s in messages about kibibytes Change download rate messages about kibibytes from "kb/s" to "KiB/s"
	units.  See: http://en.wikipedia.org/wiki/Data_rate_units Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: minor code cleanup Remove few LOG_DEBUG() messages, together with code and variables
	required to build such messages.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: add cfi_read() implementation Final step to force bus_width size during CFI flash read.  Added CFI specific implementation cfi_read() that uses only accesses
	at bus_width size.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam7.c, src/flash/nor/avrf.c,
	src/flash/nor/cfi.c, src/flash/nor/core.c, src/flash/nor/core.h,
	src/flash/nor/driver.h, src/flash/nor/ecos.c, src/flash/nor/faux.c,
	src/flash/nor/imp.h, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc2900.c,
	src/flash/nor/ocl.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tcl.c,
	src/flash/nor/tms470.c: NOR: add read() callback to struct
	flash_driver Final target is to force bus_width size during CFI flash read.  In
	this first step I need to replace default flash read with flash
	specific implementation.  This patch introduces: - flash_driver_read() layer; - default_flash_read(), backward compatible; - read() callback in struct flash_driver; - proper initialization in every flash_driver instance.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/tcl.c: NOR/TCL: fix typo in error message Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/driver.h: NOR: fix comment for Doxygen Either bus_width and chip_width are in bytes.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: remove use of cfi_add_byte() Remove the function cfi_add_byte() and rewrite the only instance of
	it.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: use bus_width for memory access in
	cfi_write() During cfi_write(), head and tail of destination area could be not
	aligned to bus_width.  Since write operation must be at bus_width
	size, source buffer size is extended and buffer padded with current
	values read from flash.  Force using bus_width to read current value from flash.  Do not use
	cfi_add_byte() anymore, to allow removing this function later on.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-23  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: use bus_width for memory access on
	flash ID.  NOR flash structure requires each access to be bus_width wide.  Fix
	read of flash ID accordingly to rule above.  Add case (chip_width ==
	4), allowed by CFI spec and coherent with current value of
	CFI_MAX_CHIP_WIDTH but currently not used by any target.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-20  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: identify memory accesses not using
	"bus_width".  Since NOR flash devices does not handle "byte enable lanes", each
	read/write access involves the whole "chip_width".  When multiple
	devices are in parallel, usually all chips are enabled during each
	access.  All such cases are compatible with flash accesses at
	"bus_width" size.  Access at "bus_width" size is mandatory for write access to avoid
	transferring of garbage values to flash.  During read access the
	flash controller should take care, and discard unneeded bytes.
	Anyway, it is good practice to use "bus_width" size also for read.  Every memory access that does not respect "bus_width" size is marked
	with a "FIXME" comment.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-19  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: simplify bufferwsize computation Review and simplify computation of bufferwsize.  Add comments about
	variables' meaning.  The same code is present 3 times in the file.  Current patch updates
	all the 3 instances.  Step 1)   Replace "switch(bank->chip_width) {...}".    Illegal values of bank->chip_width are already dropped.    For legal values, the code is equivalent to:         bufferwsize = buffersize / bank->chip_width; Step 2)   The above code replacement plus the following line:         bufferwsize /= (bank->bus_width / bank->chip_width);   is merged in a single formula:         bufferwsize = (buffersize / bank->chip_width) /                 (bank->bus_width / bank->chip_width);   and simplified as:         bufferwsize = buffersize / bank->bus_width; Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: check "flash bank" command arguments Arguments chip_width and bus_width of command "flash bank" are not
	fully checked.  While bus_width is later on redundantly checked in
	several other parts (e.g. in cfi_command_val()) and generates
	run-time error, chip_width is never checked, nor related to actual
	bus_width value.  Added check to avoid: - (chip_width == 0), that would mean no memory chip at all,   avoiding also division by zero e.g. in cfi_get_u8(); - (bus_width == 0), that would mean no bus at all; - unsupported cases of chip_width or bus_width value not power   of 2; - unsupported case of chip width wider than bus.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-14  Jun Ma <sync.jma@gmail.com>

	* doc/manual/primer/jtag.txt: comments on doc/manual/primer/jtag.txt 1. fix some errors in jtag.txt(in my personal opinion, please
	review).  2. remove a broken link Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: Øyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-14  Jun Ma <sync.jma@gmail.com>

	* src/server/gdb_server.c: missing pointer's declaration when enable
	macro -D_DEBUG_GDB_IO_.  reproducable when "./configure --enable-maintainer-mode
	CFLAGS=-D_DEBUG_GDB_IO_" Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: Øyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* src/flash/nand/core.c: NAND: fix first and last handling in
	nand_build_bbt Last block was being skipped, fix by changing the loop test from "<"
	to "<=" First block argument was ignored, always started from block 0 (and
	counted the wrong blocks as bad if first was nonzero). Now we use
	it.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* src/flash/nand/core.c: NAND: fix off-by-one error in erase command
	argument range The last_block argument to nand_erase() is checked against
	nand->num_blocks, but the highest valid block number is (total - 1),
	the test for invalid should be ">=" rather than ">".  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/hitex_str9-comstick.cfg, tcl/board/lubbock.cfg,
	tcl/board/str910-eval.cfg, tcl/target/at91sam3u4c.cfg,
	tcl/target/at91sam3u4e.cfg, tcl/target/pic32mx.cfg,
	tcl/target/str710.cfg, tcl/target/str750.cfg, tcl/target/str912.cfg: 
	scripts: update flash bank names As the flash bank name is now unique update the scripts to suit.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/tcl.c: flash: require unique flash bank name Make sure the flash bank name is unique Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/tcl.c: flash: add flash bank name support flash cmds can now be passed either the bank name or the bank
	number.  For example.  flash info stm32.flash flash info 0 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/zy1000.cfg: zy1000.cfg: gdb connect will fail first time
	without gdb-attach gdb-attach does a reset init to make sure that the CFI probe will
	succeed upon first gdb connect.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-10  Jun Ma <jma@hfut.edu.cn>

	* src/target/arm7_9_common.c: fix instruction refilling bug when
	using software breakpoints on a big-endian arm926ej-s system Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: Øyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-10  Karl Kurbjun <kkurbjun@gmail.com>

	* src/flash/nor/cfi.c, src/flash/nor/non_cfi.c: Fujitsu MBM29SL800TE
	flash support Hi, This is my first post to the list.  First, I would like to thank
	everyone for their work on OpenOCD, it is a great tool to work with.
	I have been using it to debug code on hardware for the Rockbox
	project (www.rockbox.org).  The target that I primarily work with has a Spansion/Fujitsu NOR
	flash (MBM29SL800TE).  I attached a patch that adds support for this
	flash.  I hope it can be included in the main repository.  If there
	is something that needs to be changed with the patch before
	inclusion please let me know.  -Karl Kurbjun

2010-05-11  Marc Pignat <marc.pignat@hevs.ch>

	* doc/openocd.texi: Documentation: consistency in GDB command name Always use the complete name of the GDB command, not an
	abbreviation.

2010-05-11  Marc Pignat <marc.pignat@hevs.ch>

	* doc/openocd.texi: Documentation : arm920t implements armv4 There is a small typo in the cpu list, arm920t is armv4.

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.c: mips32: 20 second timeout/megabyte for CRC
	check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv7m.c: armv7m: 20 second timeout/megabyte for CRC
	check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/cfi.c: cfi: add Numonyx M29W128G reset workaround The ST/Numonix M29W128G has an issue when a 0xff cmd is sent, it
	cause an internal undefined state. The workaround according to the
	Numonyx is to send another 0xf0 reset cmd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/stm32100b_eval.cfg, tcl/board/stm3210b_eval.cfg,
	tcl/board/stm3210c_eval.cfg, tcl/board/stm3210e_eval.cfg: cfg: add
	stm32eval board configs Increase working area for stm3210e_eval.cfg.  Add new configs for
	the following boards: STM321000B-EVAL, STM32100C-EVAL,
	STM32100B-EVAL Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/server.c: server: incorrectly display socket port
	number c->sin.sin_port does not contain a valid port number so just use
	service->port as this is always correct.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/flash/nor/cfi.c, src/flash/nor/core.c,
	src/flash/nor/core.h, src/flash/nor/tcl.c, src/target/target.c: 
	flash: stop caching protection state There are a million reasons why cached protection state might be
	stale: power cycling of target, reset, code executing on the target,
	etc.  The "flash protect_check" command is now gone. This is *always*
	executed when running a "flash info".  As a bonus for more a more robust approach, lots of code could be
	deleted.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/flash/nor/core.c, src/flash/nor/core.h,
	src/flash/nor/tcl.c: flash: erase_address now has an unlock option Quite useful to be able to unlock the flash, just like in the flash
	write_image cmd.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: fix error handling for protect fn No error was propagated.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix tcl command to read power
	dropout status Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c, src/flash/nor/core.h, src/flash/nor/tcl.c,
	src/server/gdb_server.c: gdb: connect will now fail if flash
	autoprobe fails This stops GDB from launching with an empty memory map, making gdb
	load w/flashing fail for no obvious reason.  The error message points in the direction of the gdb-attach event
	that can be set up to issue a halt or "reset init" which will put
	GDB in a well defined stated upon attach and thus have a robust
	flash autoprobe.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix keep_alive() bug introduced in latest commit. Should have held off merging that
	commit. Sigh....  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Matthias Bode <papabaer.embedded@googlemail.com>

	* src/server/server.c, src/server/tcl_server.c,
	src/server/tcl_server.h: Fixed bug in tcl-server No segmentationfault when sending commands to tcl-server.  	modified:   src/server/server.c 	modified:   src/server/tcl_server.c 	modified:   src/server/tcl_server.h

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c, src/helper/command.h, src/jtag/tcl.c,
	src/target/armv4_5.c, src/target/target.c: command context: fix
	errors when running certain commands on startup Various commands, e.g. "arm mcr xxxx" would fail if invoked upon
	startup since it there was no command context defined for the jim
	interpreter in that case.  A Jim interpreter is now associated with a command context(telnet,
	gdb server's) or the default global command context.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: more flash write_image bugfixes Remove/fix lots of bugs in handling of non-contigious sections and
	out of order sections.  Fix a gaffe introduced in previous commit to src/flash/nor/core.c Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str7x.c: str7x: improve error handling clean up error handling a bit. No change in behavior.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Marc Pignat <marc.pignat@hevs.ch>

	* doc/openocd.texi: documentation typo Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi: docs: now builds again Fix gaffe committed last time.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/str7x.c: str71x: fix previous commit fix build issue with 70226c221f5879bb6126ff3f2ec9ae64c68d80d6 commit Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/aduc702x.c, src/flash/nor/cfi.c,
	src/flash/nor/lpc2900.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/flash/nor/str9x.c: flash: less bogus errors Removed bogus errors when trying to allocate a large a target memory
	buffer as possible.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str7x.c: str7x: fix bogus error messages Remove bogus error messages when trying to allocate a large chunk of
	target memory and then falling back to a smaller one.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c, src/target/target.h: target: clean up target
	memory allocation error messages target memory allocation can be implemented not to show bogus error
	messages.  E.g. when trying a big allocation first and then a smaller one if
	that fails.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: wait for srst to deassert make wait for srst deassert more long latency friendly (JTAG over
	TCP/IP), print actual time if it was more than 1ms.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/cfi.c: cfi: made som info output debug output E.g. how much target memory that is used during flashing is debug
	info.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-30  Tobias Ringström <tobias@ringis.se>

	* src/flash/nor/stm32x.c: STM32 flash erase timeout fix The current timeout for STM32 flash block erase and flash mass erase
	is 10 (ms), which is too tight, and fails around 50% of the time for
	me.  The data sheet for STM32F107VC specifies a maximum erase time
	of 40 ms (for both operations).  I'd also consider it a bug that the code does not detect a timeout,
	but just assumes that the operation has completed.  The attached
	patch does not address this bug.  The attached patch increases the timeouts from 10 to 100 ms.  Please
	apply.  /Tobias

2010-04-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/zy1000.cfg: zy1000: it has a CFI chip, no need for the
	ecosflash driver The ecosflash driver is no longer used by any of the config scripts.
	It is more useful to get more testing of CFI.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: write_image would fail for certain
	images Fix a bug where write_image would fail if the sections in the image
	were not in ascending order. This has previously been fixed in gdb
	load.  Solved by sorting the image sections before running flash
	write_image erase unlock foo.elf.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: write_image will now pad erase to
	nearest sector this is done for unlocking and it is a simple omission that it
	wasn't done for sectors.  The unnerving thing is that nobody has complained about this until
	now....  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: nor: remove bogus output about padding
	sections padding of 0 bytes is actually no padding, do not output warning
	about padding in that case.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-26  Marek Vasut <marek.vasut@gmail.com>

	* tcl/board/voipac.cfg: Add Voipac PXA270 module support This patch adds support for the Voipac PXA270 module. Including NOR
	flash.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-04-26  Marek Vasut <marek.vasut@gmail.com>

	* tcl/interface/vpaclink.cfg: Add VPACLink interface definition This patch adds definition file for the Voipac VPACLink JTAG
	adaptor. The adaptor is combined JTAG/UART device.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-04-21  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: add support for length arg to wp
	command This patch adds support for the length argument to the xscale
	implementation of the wp command.  Per discussion with David, the
	length argument specifies the range of addresses over which a memory
	access should generate a debug exception.  This patch utilizes the
	"mask" feature of the xscale debug hardware to implement the correct
	functionality of the length argument.  Some limitations imposed by
	the hardware are:    - The length must be a power of two, with a minumum of 4.     - Two data breakpoint registers are available, allowing for two
	     watchpoints.  However, if the length of a watchpoint is greater
	     than four, both registers are used (the second for a mask value),
	     limiting the number of watchpoints to one.  This patch also removes a useless call to xscale_get_reg(dbcon) in
	xscale_set_watchpoint() (value had already been read from the
	register cache, and the same previously read value is then modified
	and written back).  I have been using and testing this patch for a couple days.  Questions, corrections, criticisms of course gratefully received.

2010-04-24  michal smulski <michal.smulski@ooma.com>

	* tcl/board/telo.cfg, tcl/target/c100config.tcl,
	tcl/target/c100helper.tcl, tcl/target/telo.cfg: telo: update
	configuration scripts to matched master branch Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-24  michal smulski <michal.smulski@ooma.com>

	* src/jtag/adapter.c: adapter: allow adjusting srst assert with Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-20  michal smulski <michal.smulski@ooma.com>

	* doc/openocd.texi: docs: improve load_image docs add docs for missing args.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi: doc: gdb-attach can fix gdb connect issues Flash probing must succeed for e.g. gdb load and automatic
	hardware/software breakpoints to work.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/flash/nor/stm32x.c: stm32x: allow flash probe on a running
	target If the flash has not yet been probed and GDB connects while the
	target is running, the flash probe triggered by GDB's memory map
	read will fail. In that case the returned memory map will be empty,
	causing a subsequent load from within GDB to fail. There's not much
	you can do from GDB to recover, other than a restart; a 'mon reset
	init' and manual 'mon flash probe' won't help since GDB has already
	made up its mind about the memory map.  It seems there's no reason to require the target to be halted when
	probing the flash. Remove the check to let a valid memory map be
	provided to GDB even when connecting to a running target.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-04-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c: NOR/core bugfix: restore invariants The The patch labeled "CFI CORE: bug-fix protect single sector" was
	merged rged without some requested bugfixes.  Most significantly it
	broke invariants in the code, invalidating descriptions and changing
	the calling convention for underlying drivers.  (It (Also wasn't
	CFI-specific...) Fix that, and Include an update from Antonio Borneo for the
	degenerate "nothing to do" case, (although that's still in the
	wrong location.  which is presumably why that is it was working in
	some cases but not all.)  src/flash/nor/core.c |   21 ++++++++++++++++-----  1 file changed, 16 insertions(+), 5 deletions(-) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: remove redundant code Arguments for "flash bank" command are already parsed and put in
	"bank" struct.  Removed code to parse them again.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: fix order of arguments check Syntax of "flash bank" command requires: - chip_width as CMD_ARGV[3] - bus_width  as CMD_ARGV[4] Actual code swaps the arguments.  Bug
	has no run time impact since wrong variables are only used to check
	value and both are checked against same constraint.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-13  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c, src/target/xscale.h: xscale: fix
	analyze_trace for trace data collected in wrap mode This patch fixes the xscale_analyze_trace() function.  This function
	was defective for a trace collected in 'fill' mode (hiccups with
	repeated instructions) and completely broken when buffer overflowed
	in 'wrap' mode.  The reason for the latter case is that the
	checkpoint registers were interpreted incorrectly when two
	checkpoints are present in the trace (which will be true in 'wrap'
	mode once the buffer fills).  In this case, checkpoint1 register
	will contain the older entry, and checkpoint0 the newer.  The
	original code assumed the opposite.  I eventually gave up trying to
	understand all the logic of the function, and rewrote it.  I think
	it's much cleaner and understandable now.  I have been using and
	testing this for a few weeks now.  I'm confident it hasn't regressed
	in any way.  Also added capability to handle (as best as possible) the case where
	an instruction can not be read from the loaded trace image; e.g.,
	partial image.  This was a 'TODO' comment in the original
	xscale_analyze_trace().  Outside of xcsale_analyze_trace(), these (related) changes were
	made: - Remove pc_ok and current_pc elements from struct xscale_trace.
	  These elements and associated logic are useless clutter because the
	  very first entry placed in the trace buffer is always an indirect
	  jump to the address at which execution resumed.  This type of trace
	  entry includes the literal address in the trace buffer, so the
	  initial address of the trace is immediately determined from the
	  trace buffer contents and does not need to be recorded when trace is
	enabled.  - Added num_checkpoints to struct xscale_trace_data, which is
	  necessary in order to correctly interpret the checkpoint register
	contents.  - In xscale_read_trace()   - Fix potential array out-of-bounds condition.    - Eliminate partial address entries when parsing trace (can occur
	  in wrap mode).  - Count and record number of checkpoints in trace.  - Added small, inlined utility function xscale_display_instruction()
	  to help make the code more concise and clear.  TODO:  - Save processor state (arm or thumb) in struct xscale_trace when
	   trace is enabled so that trace can be analyzed correctly (currently
	 assumes arm mode).  - Add element to struct xscale_trace that records (when trace is
	   enabled) whether vector table is relocated high (to 0xffff0000) or
	   not, so that a branch to an exception vector is traced correctly
	   (curently assumes vectors at 0x0).

2010-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/at91rm9200-dk.cfg, tcl/board/imx27ads.cfg,
	tcl/board/logicpd_imx27.cfg: TCL SCRIPTS: fix command name Some tcl script has underline between the words "flash bank"
	resulting in 'invalid command name "flash_bank"'.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-14  Anton Fedotov <AD.Fedotov@gmail.com>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: cortex-a8: more
	MMU support + virt2phys() can now convert virtual address to real +
	read_memory() and write_memory() are renamed to read_phys_memory()
	and write_phys_memory() + new read_memory() and write_memory() try
	to resolve real address if mmu is enambled than perform real address
	   reading/writing + if address is bellow 0xc000000 than TTB0 is used
	for page table dereference, if above - than TTB1. Linux style of
	user/kernel address separation    + if above fails (i.e address is unspecified) than mode is
	   checked whether it is Supervisor (than TTB1) or User (than TTB0) - Software breakpoints doesn't work. You should invoke
	"gdb_breakpoint_override hard" before you start debugging +
	cortex_a8_mmu(), cortex_a8_enable_mmu_caches(),
	cortex_a8_disable_mmu_caches() are implemented Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h: 
	TARGET/ARM7_9_COMMON: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/tms470.c: NOR/TMS470: review scope of symbols Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/mips32.c, src/target/mips32.h: TARGET/MIPS32: review
	scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h: 
	TARGET/MIPS32_PRACC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h: 
	TARGET/MIPS32_DMAACC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/log.c, src/helper/log.h: HELPER/LOG: review unused
	symbols Remove unused functions: - log_catch - log_rethrow - log_try Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h: 
	TARGET/MIPS_EJTAG: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: NOR/CFI: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/dsp563xx_once.c, src/target/dsp563xx_once.h: 
	TARGET/DSP563XX_ONCE: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/openocd.c: OPENOCD: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/jtag/commands.c, src/jtag/commands.h: JTAG/COMMANDS: review
	scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/binarybuffer.c: BINARYBUFFER: review scope of data and
	functions Add "static" qualifier to private data and functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/str7x.c: NOR/STR7X: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.h, src/flash/nand/tcl.c: NAND/TCL: review
	scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/mflash.c, src/flash/mflash.h: MFLASH: review scope of
	functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/arm_io.c: NAND/ARM_IO: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/core.c, src/flash/nand/core.h: NAND/CORE: review
	scope of functions Add "static" qualifier to private functions.  Move function's
	comment from core.h to core.c.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nand/mx3.c: NAND/MX3: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/aduc702x.c: NOR/ADUC702X: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/avrf.c: NOR/AVRF: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/core.c: NOR/CORE: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/ecosboard.c, src/flash/nor/drivers.c: NOR/DRIVERS: review
	scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/str9xpec.c: STR9XPEC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/core.h, src/flash/nor/tcl.c: TCL: review scope of
	functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/helper/time_support.c, src/helper/time_support.h: 
	TIME_SUPPORT: review unused symbols Remove unused functions: - timeval_add Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/hello.c, src/hello.h: HELLO: review unused symbols Remove unused functions: - hello_register_commands Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/pld/pld.c, src/pld/pld.h: PLD: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/adi_v5_jtag.c: ADI_V5_JTAG: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm920t.c: ARM920T: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm_jtag.c: ARM_JTAG: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm_simulator.c, src/target/arm_simulator.h: 
	ARM_SIMULATOR: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/armv4_5_mmu.c: ARMV4_5_MMU: review unused symbols Remove unused data: - armv4_5_mmu_page_type_names Remove prototype of not existing
	function: - armv4mmu_translate_va Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm.h, src/target/armv4_5.c: ARMV4_5: review scope of
	data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/embeddedice.c, src/target/embeddedice.h: EMBEDDEDICE:
	review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/target.c, src/target/target.h: TARGET: review unused
	symbols Remove unused functions: - target_all_handle_event Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/ecosboard.c, src/target/target.c, src/target/target.h: TARGET:
	review scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/armv7m.c: ARMv7M: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c: Restore deleted '!' character I'm not sure what caused this significant character to get deleted.
	it may be related to intermittent Editor or terminal flakes  I've
	been seeing lately (sigh).  This fix is trivial.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c, src/target/target.h: target: are we running
	algorithm code? Fixing one bug can easily uncover another  .... in this case, making
	sure that we properly invalidate some cached NOR state when resuming
	arbitrary target code turned up an issue when the code wasn't quite
	arbitrary (and we couldn't know that, but some parts of OpenOCD
	assumed the cache would not be invalidated.  Specifically:  some flash drivers (like CFI) update that state in
	loops with downloaded algorithms, thus invalidating the state as
	it's probed.   + Add a new target state flag, to record whether the target is   running downloaded algorithm code.   + Use that flag to add a special case:  "trust" downloaded
	   algorithms not to corrupt that cached state, bypassing cache
	invalidation.  Also update some of the documentation to stipulate that this flavor
	of trustworthiness is now *required* ... not just a fortuitous
	acident.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c, src/target/target_type.h: simplify and
	unconfuse target_run_algorithm() For some reason there are *two* schemes for interposing logic into
	the run_algorithm() code path...  One is a standard procedural
	wapper around the target method invocation.  the other (superfluous) one hacked the method table by splicing a
	second procedural wrapper into the method table.  Remove it: 	* Rename its  slightly-more-featureful wrapper so it becomes 	  the standard procedural wrapper, leaving its added logic 	  (where it should have been in the first place.            Also add a paranoia check, to report targets that don't 	  support algorithms without traversing a NULL pointer, and 	  tweak its code structure a bit so it's easier to modify.  	* Get rid of the superfluous/conusing method table hacks.  This is a net simplification, making it simpler to analyse what's
	going on, and then interpose logic . ... by ensuring there's only
	one natural place for it to live.  ------------ Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/tcl.c: buildfix Without this, a system using gcc (GCC) 4.2.4 (Ubuntu 4.2.4-1ubuntu4)
	aborts builds after reporting: tcl.c: In function ‘handle_irscan_command’: tcl.c:1168: warning:
	passing argument 1 of ‘buf_set_u32’ discards qualifiers from
	pointer target type Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-28  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: xscale: fix trace buffer functionality when
	resuming from a breakpoint Problem: halt at a breakpoint, enable trace buffer ('xscale
	trace_buffer enable fill'), then resume.  Wait for debug exception
	when trace buffer fills (if not sooner due to another breakpoint,
	vector catch, etc).  Instead, never halts.  When halted explicitly
	from OpenOCD and trace buffer dumped, it contains only one entry; a
	branch to the address of the original breakpoint.  If the above
	steps are repeated, except that the breakpoint is removed before
	resuming, the trace buffer fills and the debug exception is
	generated, as expected.  Cause: related to how a breakpoint is stepped over on resume.  The
	breakpoint is temporarily removed, and a hardware breakpoint is set
	on the next instruction that will execute.  xscale_debug_entry() is
	called when that breakpoint hits.  This function checks if the trace
	buffer is enabled, and if so reads the trace buffer from the target
	and then disables the trace (unless multiple trace buffers are
	specified by the user when trace is enabled).  Thus you only trace
	one instruction before it is disabled.  Solution: kind of a hack on top of a hack, but it's simple.
	Anything better would involve some refactoring.  This has been
	tested and trace now works as intended, except that the very first
	instruction is not part of the trace when resuming from a
	breakpoint.  TODO: still many issues with trace: doesn't work during
	single-stepping (trace buffer is flushed each step), 'xscale
	analyze_trace' works only marginally for a trace captured in 'fill'
	mode, and not at all for a trace captured in 'wrap' mode.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-27  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/Makefile.am, src/jtag/adapter.c,
	src/jtag/startup.tcl, src/jtag/tcl.c: jtag/tcl.c cleanup -- split
	out "adapter.c" Clean up the jtag/tcl.c file, which was one of the biggest and
	messiest ones in that directory.  Do it by splitting out all the
	generic adapter commands to a separate "adapter.c" file (leaving the
	"tcl.c" file holding only JTAG utilities).  Also rename the little-used "jtag interface" to "adapter_name",
	which should have been at least re-categorized earlier (it's not
	jtag-only).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/tcl.c: NOR TCL: fix usage message The command "flash bank" has updated syntax.  Add the mandatory
	parameter <target> to the usage message that prints in case of
	error.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/board/at91rm9200-dk.cfg, tcl/board/balloon3-cpu.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg, tcl/board/dm6446evm.cfg,
	tcl/board/hammer.cfg, tcl/board/imx27ads.cfg,
	tcl/board/logicpd_imx27.cfg, tcl/board/topas910.cfg,
	tcl/board/topasa900.cfg, tcl/board/unknown_at91sam9260.cfg,
	tcl/board/x300t.cfg, tcl/target/at91sam9260_ext_RAM_ext_flash.cfg: 
	TCL scripts: update to current "flash bank" syntax While "flash bank" syntax has been changed long ago, several tcl
	script are still not fully update.  Fix following cases related with "cfi" driver: - syntax error: the mandatory <name> parameter is missing - warning: the <target> parameter is a number, instead of   the target name - the comment line above the command does not report   actual syntax Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	zy1000: dev tool first cut peek/poke over tcp/ip, used for debug/research purposes
	only. Long term JTAG over TCP/IP might be an offshoot. The
	performance is usable for development/testing purposes.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: fix poll off I don't know when "poll off" broke, but "poll off" didn't stop
	background polling of target. The polling status flag simply wasn't
	checked in the handle_target timer callback.  All target polling(including power/reset state) is now stopped upon
	"poll off".  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-25  Daniel Bäder <openocd@eh-oh.de>

	* src/flash/nand/lpc3180.c, src/flash/nor/pic32mx.c,
	src/target/arm_adi_v5.c, src/target/arm_dpm.c: change %x and %d to
	PRIx32 and PRId32 where needed for cygwin

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	zy1000: allow it to build on linux host for testing purposes For testing and checking the build this can be useful, it doesn't
	have any practical application outside development.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* src/server/telnet_server.c: telnet_server: review unused symbols Remove unused function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* src/server/telnet_server.c: telnet_server: review scope of
	functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232 Messaaging fix The init cleanup patch overlooked a message which was wrongly
	specific to the "usbjtag" layout.  Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* src/server/server.c: server: review unused symbols Remove unused function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* src/server/server.c: server: review scope of functions and data Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix optimisaion bug in dcc
	writes Introduced & corrected since 0.4.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-20  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: fix software breakpoints on xscale This patch fixes xscale software breakpoints by cleaning the dcache
	and invalidating the icache after the bkpt instruction is inserted
	or removed.  The icache operation is necessary in order to flush the
	fetch buffers, even if the icache is disabled (see section 4.2.7 of
	the xscale core developer's manual).  The dcache is presumed to be
	enabled; no harm done if not.  The dcache is also invalidated after
	cleaning in order to safeguard against a future load of invalid
	data, in the event that cache_clean_address points to memory that is
	valid and in use.  Also corrected a confusing typo I noticed in a comment.  TODO (or not TODO...?): the xscale's 2K "mini dcache" is not
	cleaned.  This cache is not used unless the 'X' bit in the page
	table entry is set.  This is a proprietary xscale extension to the
	ARM architecture.  If a target's OS or executive makes use of this
	for memory regions holding code, the breakpoint problem will
	persist.  Flushing the mini dcache requires that 2K of valid
	cacheable memory (mapped with 'X' bit set) be designated by the user
	for this purpose.  The debug handler that gets downloaded to the
	target will also need to be extended.

2010-03-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/bitq.c: bitq: fix warning now that out_value is
	const This was an easy one. Just add the missing "const" to a local
	variable definition.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ft2232 init mess cleanup In the ft2232 driver, initialization for many layouts punts to a
	routine called usbjtag_init(), instead of a routine specific to each
	layout.  That routine is  a mess  built around a "what type layout am I"
	core.  That's a bad design ... in this case, especially so, since it
	bypasses the layout-specific dispatch which was just done, and
	obfuscates the initialization which is at least somewhat generic,
	instead of being specific to the "usbjtag" layout.  Split and document out the generic parts of usbjtag_init(), and make
	the rest of those layouts have layout-specific init methods.  Also,
	rename usbjtag_reset() ... that also was not specific to the
	"usbjtag" layout, and thus contributed to the previous code
	structure confusion.  (Eventually, all layout-specific code (and method tables) should
	probably live in files specific to each layout.  These changes will
	facilitate those and other cleanups to this driver.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm920t.c, src/target/arm926ejs.c: arm breakpoints:
	amended fix comment the handling of caches, should be moved into the breakpoint specific
	callbacks rather than being plonked into generic memory write fn's.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/jtag.h, src/jtag/tcl.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c: jtag: make out_value const Tightens up the jtag_add_xxx_scan() API Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9xpec.c, src/pld/virtex2.c,
	src/target/arm_jtag.c, src/target/mips_ejtag.c, src/target/xscale.c: 
	jtag: move towards making out_value const These were relatively straightforward fixes which are backwards
	compatible.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232 comment tweaks Note that the FT4232 chips have four channels not two, and Elaborate
	on uses of the additional channels.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: clean up jtag_add_xx_scan fn's The implementation is now more straightforward as the scan_fields
	have been greatly simplified over time.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix bug in end state of DCC
	writes Introduced in latest commits, found by code inspection & GCC
	warning.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/jtag.h, src/pld/virtex2.c,
	src/target/adi_v5_jtag.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/mips_m4k.c, src/target/xscale.c: jtag: retire
	jtag_get/set_end_state() Voila! This get rids of mysteries about what what state the TAP is
	in.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_ejtag.c: jtag: remove jtag_get_end_state() usage Code inspection indicated what constant end states to use.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/xscale.c: jtag: get rid of unecessary
	jtag_get_end_state() By code inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/etb.c: jtag: remove unecessary usage of
	jtag_get_end_state().  By code inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/embeddedice.h: jtag: remove jtag_get_end_state()'s that
	should be unecessary By a bit of code inspection it seems like all of these instances of
	jtag_get_end_state() can be unambigously replaced by constants.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: Fix underlying problem with xscale icache and
	dcache commands Fix problem with the xscale icache and dcache commands.  Both
	commands were enabling or disabling the mmu, not the caches I didn't look any further after my earlier patch fixed the trivial
	problem with command argument parsing.  Turns out the underlying
	code was broken.  The resolution is straightforward when you look at the arguments to
	xscale_enable_mmu_caches() and xscale_disable_mmu_caches().  I
	finally took a deeper look after dumping the cp15 control register
	(XSCALE_CTRL) and seeing that the cache bits weren't changing, but
	the mmu bit was (which caused all manner of grief, as you can
	imagine).  This has been tested and works OK now.   src/target/xscale.c |   17 +++++++++++------  1 files changed, 11 insertions(+), 6 deletions(-) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/adi_v5_jtag.c, src/target/arm_adi_v5.c: ADI_v5 - it's
	not always an "SWJ-DP" So don't use the name "swjdp" for all DAPs; rename to plain old
	"dap", which *is* always correct.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 52a788e008ecf0ca6156f02de08a0f062d49a236 Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Thu Mar 18
	11:56:17 2010 -0700

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/adi_v5_jtag.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/embeddedice.c, src/target/etm.c,
	src/target/feroceon.c: jtag: retire one instance of
	jtag_get_end_state() usage Less global variables....  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c.orig, src/target/arm_adi_v5.c~: oops:
	committed and pushed two temp files....  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi: DOCS: update flash bank examples  - include the $_FLASHNAME in all flash bank examples.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/flash/nor/pic32mx.c,
	src/target/mips_ejtag.h: PIC32MX: add unlock cmd 'unlock' performs a full unlock/erase of the device, removing any
	code protection.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32_dmaacc.c, src/target/mips32_pracc.c,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: MIPS: remove unused arg from
	mips_ejtag_set_instr This arg was never used and was just taken from the arm jtag code.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9xpec.c, src/jtag/core.c, src/jtag/jtag.h,
	src/pld/virtex2.c, src/target/adi_v5_jtag.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c.orig,
	src/target/arm_adi_v5.c~, src/target/avrt.c, src/target/dsp563xx.c,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/xscale.c, src/xsvf/xsvf.c: jtag: cut down on usage of
	unintended modification of global end state jtag_get/set_end_state() is now deprecated.  There were lots of places in the code where the end state was
	unintentionally modified.  The big Q is whether there were any places where the intention was
	to modify the end state. 0.5 is a long way off, so we'll get a fair
	amount of testing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_adi_v5.c: linker error: fix problem with duplicate
	fn A fn was copied instead of moved to a new file. The linker can
	discard exact copies of fn's without warning.  This is a C++'ism.  However on my Ubuntu 9.10 machine, it fails.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips_ejtag.c: mips: fix warning Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: gdb: long running "monitor mww" now works
	w/gdb invoke keep_alive() to make sure that the default 2000ms timeout
	does not trigger.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: faster mww operations Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: mdX/mwX on target were badly broken - incorrect parsing of arguments - mdX didn't display arguments correctly I don't think anyone ever used that code path :-) Did you know that "target mdw" and mdw are very different? for {set i 0} {$i < 256} {set i [expr $i+1]} {mwb [expr
	0x2000000+$i] $i}  mdw 0x2000000 0x10 0x02000000: 03020100 07060504 0b0a0908 0f0e0d0c
	13121110 17161514 1b1a1918 1f1e1d1c 0x02000020: 23222120 27262524
	2b2a2928 2f2e2d2c 33323130 37363534 3b3a3938 3f3e3d3c > zy1000.cpu mdb 0x2000000 0x20 0x02000000 00 01 02 03 04 05 06 07
	08 09 0a 0b 0c 0d 0e 0f ................  0x02000010 10 11 12 13 14
	15 16 17 18 19 1a 1b 1c 1d 1e 1f ................  > zy1000.cpu mdh
	0x2000000 0x20 0x02000000 0100 0302 0504 0706 0908 0b0a 0d0c 0f0e
	................  0x02000010 1110 1312 1514 1716 1918 1b1a 1d1c 1f1e
	................  0x02000020 2120 2322 2524 2726 2928 2b2a 2d2c 2f2e
	!"#$%&'()*+,-./ 0x02000030 3130 3332 3534 3736 3938 3b3a 3d3c 3f3e
	0123456789:;<=>? > zy1000.cpu mdw 0x2000000 0x20 0x02000000 03020100
	07060504 0b0a0908 0f0e0d0c ................  0x02000010 13121110
	17161514 1b1a1918 1f1e1d1c ................  0x02000020 23222120
	27262524 2b2a2928 2f2e2d2c  !"#$%&'()*+,-./ 0x02000030 33323130
	37363534 3b3a3938 3f3e3d3c 0123456789:;<=>? 0x02000040 43424140
	47464544 4b4a4948 4f4e4d4c @ABCDEFGHIJKLMNO 0x02000050 53525150
	57565554 5b5a5958 5f5e5d5c PQRSTUVWXYZ[\]^_ 0x02000060 63626160
	67666564 6b6a6968 6f6e6d6c `abcdefghijklmno 0x02000070 73727170
	77767574 7b7a7978 7f7e7d7c pqrstuvwxyz{|}~.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/openocd.c: SCRIPT: add
	add_script_search_dir cmd Add a add_script_search_dir cmd so that adding search dir's can be
	added to cfg scripts.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h: PIC32: add software
	reset support The PIC32MX does not support the ejtag software reset - it is
	optional in the ejtag spec.  We perform the equivalent using the microchip specific MTAP cmd's.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/mips_m4k.c, src/target/mips_m4k.h: 
	MIPS: remove ejtag_srst variant The mips_m4k_assert_reset has now been restructured so the variant
	ejtag_srst is not required anymore.  The ejtag software reset will
	be used if the target does not have srst connected.  Remove ejtag_srst from docs.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb_server: improved gdb load performance by ack'ing memory writes immediately and reporting either at next
	memory write or stepi/continue time. GDB will then send off a new
	packet that is ready by the time the previous packet has been
	written to target memory.  On faster adapters this can be as much as 10% improvement.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: tweak the DCC inner loop a tiny
	bit Uses FIFO a bit more efficiently now.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/target/armv7a.h,
	src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/fa526.c: arm7/9: remove unused
	post_restore_context Unused. If something should happen after context restore, then the
	calling code can just do it afterwards.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/Makefile.am, src/target/adi_v5_jtag.c,
	src/target/adi_v5_swd.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h: ADIv5 transport support moves to separate
	files Unclutter arm_adi_v5.c by moving most transport-specific code to a
	transport-specific files adi_v5_{jtag,swd}.c ... it's not a full
	cleanup, because of some issues which need to be addressed as part
	of SWD support (along with implementing the DAP operations on top of
	SWD transport):  - The mess where mem_ap_read_buf_u32() is currently coded to    know about JTAG scan chains, and thus needs rewriting before    it will work with SWD;  - Initialization is still JTAG-specific Also  move JTAG_{DP,ACK}_* constants from adi_v5.h to the JTAG file;
	no other code should care about those values.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/drivers/at91rm9200.c, src/jtag/drivers/bitbang.c,
	src/jtag/drivers/dummy.c, src/jtag/drivers/ep93xx.c,
	src/jtag/drivers/parport.c, src/jtag/drivers/usb_blaster.c: bitbang:
	add jtag_add_tms_seq support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/interface/flashlink.cfg, tcl/interface/parport.cfg,
	tcl/interface/parport_dlc5.cfg: PARPORT: add PARPORTADDR tcl
	variable Add PARPORTADDR tcl variable making it easier to change parallel
	port address in scripts.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/board/microchip_explorer16.cfg, tcl/board/pic-p32mx.cfg,
	tcl/target/pic32mx.cfg: PIC32: add Microchip Explorer16 cfg - add Microchip Explorer16 cfg using PIC32MX360F512L PIM.   - remove reset config from PIC32 target cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  richard vegh <vegh.ricsi@gmail.com>

	* src/flash/nand/lpc3180.c, src/flash/nand/lpc3180.h: lpc3180:
	LPC3180(LPC3250) SLC driver implemented Until this time only basic  SLC functionality exists when you want
	to use SLC to access external nand flash.  Basic functionality can
	     be selected with command: lpc3180 select 0 slc It is anyway very
	slow to write/read to/from nand flash.  With the new command, SLC speed improved about 20 times, and
	     hardware ECC info also read/written from/to nand flash OOB area:
	lpc3180 select 0 slc bulk Speed improvement achieved by using
	working are in SRAM of the LPC3250 chip and controlling DMA
	controller to interact between SRAM and SLC peripheral.  Here are the patches, and if they are ok than take them.  Tested
	with hitex LPC3250 usb stick.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-15  Bradey Honsinger <bradeyh@gmail.com>

	* src/flash/nor/tcl.c, src/target/etm.c, src/target/image.h,
	src/target/xscale.c: image loading: fix problem with offsets >
	0x80000000 Fixes bug that prevented users from specifying a base address of
	0x80000000 or higher in image commands (flash write_image, etm
	image, xscale trace_image).  image.base_address is an offset from the start address contained in
	the image file (if there is one), or from 0 (for binary files). As a
	signed 32-bit int, it couldn't be greater than 0x7fffffff, which is
	a problem when trying to write a binary file to flash above that
	address. Changing it to a 64-bit long long keeps it as a signed
	offset, but allows it to cover the entire 32-bit address space.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/tcl.c: move "reset_config" out of JTAG command group The SRST configuration options are not specific to JTAG, so this
	command may be needed with non-JTAG debug sessions.  Just move the
	command to a different group.  (The TRST options are, however, clearly JTAG-specific, but for
	compatibility, they're now left alone.  The flags they control could
	later be disabled in non-JTAG sessions.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/core.c, src/jtag/startup.tcl,
	src/jtag/tcl.c, tcl/board/telo.cfg, tcl/target/telo.cfg: rename
	jtag_nsrst_assert_width as adapter_nsrst_assert_width Globally rename "jtag_nsrst_assert_width" as
	"adapter_nsrst_assert_width", and move it out of the "jtag" command
	group ...  it needs to be used with non-JTAG transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/core.c, src/jtag/startup.tcl,
	src/jtag/tcl.c, tcl/board/at91sam9g20-ek.cfg,
	tcl/board/crossbow_tech_imote2.cfg, tcl/board/csb732.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg, tcl/board/ek-lm3s1968.cfg,
	tcl/board/ek-lm3s811.cfg, tcl/board/ek-lm3s9b9x.cfg,
	tcl/board/ethernut3.cfg, tcl/board/hitex_lpc2929.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/lubbock.cfg,
	tcl/board/mini2440.cfg, tcl/board/phytec_lpc3250.cfg,
	tcl/board/pxa255_sst.cfg, tcl/board/telo.cfg,
	tcl/interface/calao-usb-a9260.cfg, tcl/target/aduc702x.cfg,
	tcl/target/ar71xx.cfg, tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/at91sam9rl.cfg, tcl/target/dragonite.cfg,
	tcl/target/epc9301.cfg, tcl/target/feroceon.cfg,
	tcl/target/imx31.cfg, tcl/target/lm3s6965.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg,
	tcl/target/mega128.cfg, tcl/target/netx500.cfg,
	tcl/target/omap5912.cfg, tcl/target/pic32mx.cfg,
	tcl/target/pxa270.cfg, tcl/target/pxa3xx.cfg,
	tcl/target/samsung_s3c6410.cfg, tcl/target/smp8634.cfg,
	tcl/target/stm32.cfg, tcl/target/str730.cfg, tcl/target/str750.cfg,
	tcl/target/str912.cfg, tcl/target/telo.cfg, tcl/target/tmpa900.cfg,
	tcl/target/tmpa910.cfg, tcl/target/xba_revA3.cfg,
	tcl/test/syntax1.cfg: rename jtag_nsrst_delay as adapter_nsrst_delay Globally rename "jtag_nsrst_delay" as "adapter_nsrst_delay", and
	move it out of the "jtag" command group ...  it needs to be used
	with non-JTAG transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/core.c,
	src/jtag/drivers/presto.c, src/jtag/startup.tcl, src/jtag/tcl.c,
	src/svf/svf.c, tcl/board/at91eb40a.cfg,
	tcl/board/at91rm9200-dk.cfg, tcl/board/at91sam9g20-ek.cfg,
	tcl/board/csb337.cfg, tcl/board/dm365evm.cfg,
	tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s811.cfg,
	tcl/board/ek-lm3s9b9x.cfg, tcl/board/ethernut3.cfg,
	tcl/board/hitex_lpc2929.cfg, tcl/board/hitex_str9-comstick.cfg,
	tcl/board/imx27lnst.cfg, tcl/board/mini2440.cfg,
	tcl/board/phytec_lpc3250.cfg, tcl/board/telo.cfg,
	tcl/board/topas910.cfg, tcl/board/topasa900.cfg,
	tcl/board/zy1000.cfg, tcl/interface/altera-usb-blaster.cfg,
	tcl/interface/oocdlink.cfg, tcl/interface/openrd.cfg,
	tcl/interface/sheevaplug.cfg, tcl/interface/usb-jtag.cfg,
	tcl/interface/vsllink.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg, tcl/target/c100.cfg,
	tcl/target/c100helper.tcl, tcl/target/dsp56321.cfg,
	tcl/target/lm3s6965.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2378.cfg, tcl/target/mc13224v.cfg,
	tcl/target/mega128.cfg, tcl/target/pxa255.cfg,
	tcl/target/readme.txt, tcl/target/samsung_s3c2450.cfg,
	tcl/target/stellaris.cfg, tcl/target/stm32.cfg,
	tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/telo.cfg: rename jtag_khz as
	adapter_khz Globally rename "jtag_khz" as "adapter_khz", and move it out of the
	"jtag" command group ...  it needs to be used with non-JTAG
	transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  (We
	may want to update it to include a nag message too.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232: bulidfix Fix build issue with commit c23d4596d2239bdbba080499de837f53e0c89e59 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-15  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/pic32mx.cfg: PIC32MX: update cfg script The default config script will now dynamically setup the BMX
	registers in the reset init script.  This will also work if the user
	overrides the default working area.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c, src/openocd.c: 
	rename jtag_interface_{init,quit}() These routines apply to non-JTAG debug adapters too.  To reduce
	confusion, give them better (non-misleading) names.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232: lookup and save layout just
	once Streamline use of the layout:  have the "ft2232_layout" command look
	it up and save the result, instead of having a few different chunks
	of code looking it up later, and saving just its name (which is
	already part of the layout).  This    - is cleaner    - reports errors sooner    - facilitates earlier adapter-specific setup    - removes unused "default to "usbjtag" logic Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  Mike Dunn <mikedunn@newsguy.com>

	* src/target/xscale.c: fix xscale icache and dcache commands Simple patch that fixes the broken xscale icache and dcache
	commands.  This broke when the helper functions and macros were
	changed.  [ dbrownell@users.sourceforge.net: don't use strcasecmp ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/vsllink.c: versaloon cleanup patch Remove undesirable  - backslashes at end-of-line;  - initializations of BSS data to zero/NULL;  - overlong lines (80+ characters)  - whitespace issues  - brackets around single-line statements And other minor issues reported by the Linux "checkpatch" utility Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  simon qian <simonqian.openocd@gmail.com>

	* src/jtag/drivers/vsllink.c: New JTAG driver for Versaloon This patch greatly simplifies the Versaloon driver:  - reducing the code size from more than 50K to less than 28K  - adding support for IR/DR scan with unlimited size  - using tap_get_tms_path and tap_get_tms_path_len.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  Michal Demin <michaldemin@gmail.com>

	* NEWS, configure.in, doc/openocd.texi,
	src/jtag/drivers/Makefile.am, src/jtag/drivers/buspirate.c,
	src/jtag/interfaces.c, tcl/interface/buspirate.cfg: Add support for
	Bus Pirate as a JTAG adapter.  This includes a driver and matching config file.  This support needs
	to be enabled through the initial "configure" (use
	"--enable-buspirate").  Signed-off-by: Michal Demin <michaldemin@gmail.com> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/driver.h, src/jtag/tcl.c,
	src/openocd.c: split "interface" commands from "jtag" ones We'll need to be able to work with debug adapter interfaces
	(drivers) even when they're not used for JTAG ... for example, while
	there are multi-transport drivers which support JTAG *and* several
	other transports (or just one more, like SWD) there are also
	adapters with more limited goals (and no JTAG support at all).  Start decoupling the two concepts ("debug adapter driver", "jtag")
	by having two command groups, which initialize separately.  This will help us support OpenOCD sessions using only non-JTAG
	transports, in which JTAG commands should not be registered.  Update
	docs to mention that the JTAG, SVF, and XSVF commands won't work
	without a JTAG transport.  Note that at least commands working with SRST are still
	inappropriately coupled  to JTAG ... inappropriate because (a) SRST
	is not part of the JTAG standard, for all that many platforms (like
	ARM) expect it; and also (b) because they're used with non-JTAG debug and programming
	interfaces, too.  They should perhaps become generic "interface"
	operations at some point.  (Similarly with the clock rate to be used
	by a given adapter.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips_ejtag.c: MIPS: make fixed code arrays static const Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/jlink.c: JLINK: user info message cleanup  - remove trailing LF's from user info messages.   - split long lines.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/pic32mx.c, src/flash/nor/pic32mx.h,
	src/target/mips32_pracc.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, tcl/target/pic32mx.cfg: PIC32: add flash
	algorithm support Add flash algorithm support for the PIC32MX.  Still a few things
	todo but this dramatically decreases the programing time, eg. approx
	 programming for 2.5k test file.  - without fastload: 60secs  - with fastload: 45secs  - with fastload and algorithm: 2secs.  Add new devices to supported list.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: STM32: flash loader cleanup - make algorithm array static const.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/str7x.c: STR7: flash loader cleanup - make algorithm array static const.   - increase algorithm buffer size to 32k.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/str9x.c, src/flash/nor/str9xpec.c: STR9: flash
	loader cleanup - make algorithm array static const.   - increase algorithm buffer size to 32k.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/aduc702x.c: ADUC702x: flash loader cleanup - make algorithm array static const.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-09  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/core.c: CFI CORE: bug-fix protect single sector Cannot protect or unprotect single sector in cfi flash.  When
	first==last the procedure fails.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/openocd.c: move a constant table to .rodata section The table of command registration functions shouldn't be in writable
	memory, where stray pointers can clobber it.  Also, it shouldn't be
	initialized at runtime; that just consumes needless code space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: cfi: simplify and clearify code At the end I have added comments /* FIXME: to be removed */ There
	are 3 lines in which my simplification is not complete due to data
	dependency with LOG_DEBUG() messages visible in the patch.  Such
	log_debug has been introduced on Jan 22, 2007 with commit
	4fc97d3f2726efa147cfdb0c456eace51550e1e3 during development activity
	in this file/procedure.  From my point of view, these logs can be removed, since not part of
	a consistent flow of information.  Alternatively, could be borrowed
	in the new cfi_send_command(), but this will increase verbosity.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: embedded ice dcc tweak How many bits to shift out before/after enabled tap not in bypass is
	calculated outside the loop. This is more of a demonstration of
	principle and to clarify code than a performance optimisation as
	such. Follows up a bit on the simplification work in jtag interface.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-06  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/drivers/driver.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/minidummy/minidummy.c,
	src/jtag/zy1000/zy1000.c, src/svf/svf.c, src/target/avrt.c,
	src/target/dsp563xx.c, src/xsvf/xsvf.c: jtag: simplify
	jtag_add_plain_ir/dr_scan These fn's now clearly just clock out/in bits. No mystical fields
	are involved.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9xpec.c, src/jtag/core.c,
	src/jtag/drivers/driver.c, src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/tcl.c,
	src/jtag/zy1000/zy1000.c, src/pld/virtex2.c,
	src/target/arm11_dbgtap.c, src/target/arm_jtag.c, src/target/etb.c,
	src/target/mips_ejtag.c, src/target/xscale.c, src/xsvf/xsvf.c: jtag:
	jtag_add_ir_scan() now takes a single field In the code a single field was all that was ever used. Makes
	jtag_add_ir_scan() simpler and leaves more complicated stuff to
	jtag_add_plain_ir_scan().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/str9xpec.c, src/jtag/core.c,
	src/jtag/drivers/driver.c, src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/tcl.c,
	src/jtag/zy1000/zy1000.c, src/pld/virtex2.c, src/svf/svf.c,
	src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/avrt.c, src/target/dsp563xx.c,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/xscale.c, src/xsvf/xsvf.c: jtag: retire tap field jtag_add_dr/ir_scan() now takes the tap as the first argument,
	rather than for each of the fields passed in.  The code never exercised the path where there was more than one tap
	being scanned, who knows if it even worked.  This simplifies the implementation and reduces clutter in the
	calling code.  use jtag_add_ir/dr_plain_scan() for more fancy situations.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-06  Antonio Borneo <borneo.antonio@gmail.com>

	* src/flash/nor/cfi.c: CFI: review print of Voltage values JEDEC standard reports Vpp integer part encoded as 4 bit HEX value.
	To print it using decimal digits, %u is required.  Other voltage
	values are coded as BCD, so %x is appropriate.  Code already prints one nibble at a time, so no need for field width
	and precision in format string.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/server.txt, doc/openocd.texi,
	tcl/board/at91sam9g20-ek.cfg: doc: not all debug adapters are
	"dongles" Talk more about "debug adapters" instead of only "dongles".  Not all
	adapters are discrete widgets; some are integrated onto boards.  If
	we only talk about "dongles" we rule out many valid setups, and help
	confuse some users (who may be using Dongle-free environments).  Also start bringing out the point that JTAG isn't the only transport
	protocol, even though OpenOCD historically presumes "all is JTAG".
	(Not all debug adapters are JTAG adapters, or JTAG-only adapters.) Plus a few minor fixes (spelling etc) in the vicinity of those
	changes, and updates about FT2232H clocking issues (they can go
	faster than the older chips, and can support adaptive clocking).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* README: README: update libftdi version The FT2232H really wants libftdi 0.17 or newer; some notable bugs
	got fixed in that version.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm.h, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c: ADIv5 share DAP command support Get rid of needless and undesirable code duplication for all the DAP
	commands (resolving a FIXME) ... there's no need for coreas to have
	private copies of that stuff.  Stick a pointer to the DAP in "struct
	arm", letting common code get to it.  Also rename the "swjdp_info" symbol; just call it "dap".  This is an overall code shrink.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/minidummy/minidummy.c: minidriver: fix arm11 compilation
	problem Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_a8.c, src/target/cortex_m3.c: 
	rename "swjdp_common" as "adiv5_dap" This partially corrects an inappropriate name choice (and its
	associated FIXME).  There are still too many variables named "swjdp", bug little current
	code actually relies on them referencing an SWJ-DP instead of some
	other flavor of DAP.  Only the two new dap_to{swd,jtag}() calls
	could behave differently on an SWJ-DP instead of a SW-DP or a
	JTAG-DP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c: NOR: trim range in flash_driver_protect() When the beginning or end of the specified range of sectors already
	has the requested protection status, don't ask the flash driver to
	change those sectors.  This will among other things turn command sequences like this into
	the NOPs one would expect: 	flash protect_check 0 	flash info 0 		... reports everything as unprotected ...  	flash protect 0 0 1 off That speeds things up (by whatever work was just avoided).  Also, with Stellaris (which can't unprotect flash at  page level)
	this can eliminate some undesirable/false error reports.  (And
	finishes fixing a bug currently listed in our bug database...) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c, src/flash/nor/core.h, src/target/target.c: 
	NOR: invalidate cached state on target resume The NOR infrastructure caches some per-sector state, but it's not
	used much ... because the cache is not trustworthy.  This patch addresses one part of that problem, by ensuring that
	state cached by NOR drivers gets invalidated once we resume the
	target -- since targets may then modify sectors.  Now if we see sector protection or erase status marked as anything
	other than "unknown", we should be able to rely on that as being
	accurate.  (That is ... if we assume the drivers initialize and
	update this state correctly.) Another part of that problem is that the cached state isn't much
	used (being unreliable, it would have been unsafe).  Those issues
	can be addressed in later patches.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: NOR: stellaris message tweaks Give a more accurate failure message when trying to unprotect; don't
	complain about pages being write protected, just say that unprotect
	is not supported by the hardware ... referencing the new "recover"
	command, which is the way to achieve that.  Likewise, when trying to protect, talk about "pages" (matching
	hardware doc) not "sectors" (an concept that's alien to these
	chips).  Also make the helptext for the "recover" command mention that it
	also erases the device.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: STM32: Add Value Line Flash Programming
	Support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_m3.c: ADIv5: use new DAP ops for AP read/write Make ADIv5 internals use the two new transport-neutral calls for
	reading and writing DP registers; and do the same for external
	callers.  Also, bugfix some of their call sites to handle the fault
	returns, instead of ignoring them.  Remove most of the JTAG-specific calls, using their code as the
	bodies of the JTAG-specific implementation for the new methods.  NOTE that there's a remaining issue:  mem_ap_read_buf_u32() makes
	calls which are JTAG-specific.  A later patch will need to remove
	those, so JTAG-specific operations can be removed from this file,
	and so that SWD support will be able to properly drop in as just a
	transport layer to the ADIv5 infrastructure.  (The way read results
	are posted may need some more attention in the transport-neutrality
	interface.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5: use new DAP ops for DP read/write Make ADIv5 internals use the two new transport-neutral calls for
	reading and writing DP registers.  Also,  bugfix some of their call
	sites to handle the fault returns, instead of ignoring them.  Remove the old JTAG-specific calls, using their code as the bodies
	of the JTAG-specific implementation for the new methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_m3.c: ADIv5: use new dap_run() operation Make ADIv5 use one of the new transport-neutral interfaces: call
	dap_run(), not jtagdp_transaction_endcheck().  Also, make that old interface private; and bugfix some of its call
	sites to handle the fault returns, instead of ignoring them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ARM: start
	abstracting ADIv5 transports (JTAG/SWD) To support both JTAG and SWD, ADIv5 needs DAP operations which are
	transport-neutral, instead being of JTAG-specific.  This patch:  - Defines such a transport-neutral interface, abstracting access    to DP and AP registers through a conceptual queue of operations.   - Builds the first implementation of such a transport with the
	   existing JTAG-specific code.  In contrast to the current JTAG-only interface, the interface adds
	support for two previously-missing (and unused) DAP operations:  - aborting the current AP transaction (untested);  - reading the IDCODE register (tested) ... required for SWD init.  The choice of transports may be fixed at the chip, board, or
	JTAG/SWD adapter level.  Or if all the relevant hardware supports
	both transport options, the choice may be made at runtime, This
	patch provides basic infrastructure to support whichever choice is
	made.  The current "JTAG-only" transport choice policy will necessarily
	continue for now, until SWD support becomes available in OpenOCD.
	Later patches start phasing out JTAG-specific calls in favor of
	transport-neutral calls.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c: target_resume() doxygen Add doxygen for target_resume() ... referencing the still-unresolved
	confusion about what the "debug_execution" parameter means (not all
	CPU support code acts the same).  The 'handle_breakpoints" param seems to have resolved the main issue
	with its semantics, but it wasn't part of the function spec before.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/flash/nor/lpc2000.c, tcl/board/iar_lpc1768.cfg,
	tcl/target/lpc1768.cfg: LPC1768 updates, IAR board support Fix some issues with the generic LPC1768 config file:  - Handle the post-reset clock config:  4 MHz internal RC, no PLL.     This affects flash and JTAG clocking.   - Remove JTAG adapter config; they don't all support trst_and_srst  - Remove the rest of the bogus "reset-init" event handler.   - Allow explicit CCLK configuration, instead of assuming 12 MHz;    some boards will use 100 Mhz (or the post-reset 4 MHz).   - Simplify: rely on defaults for endianness and IR-Capture value  - Update some comments too Build on those fixes to make a trivial config for the IAR LPC1768
	kickstart board (by Olimex) start working.  Also, add doxygen to the lpc2000 flash driver, primarily to note a
	configuration problem with driver: it wrongly assumes the core clock
	rate never changes.  Configs that are safe for updating flash after
	"reset halt" will thus often be unsafe later ... e.g. for LPC1768,
	after switching to use PLL0 at 100 MHz.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5: use right ID for Cortex-M3 ETM Correct a mistake made copying the ID of the Cortex-M3 ETM module
	from the TRM, so that "dap info" on a CM3 with an ETM will now
	correctly describe ROM table entries for such modules.  (They are
	included on LPC17xx and some other cores.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_semihosting.c: arm_semihosting buildfix The recent "add armv7m semihosting support" patch introduced two
	build errors: arm_semihosting.c: In function ‘do_semihosting’:
	arm_semihosting.c:71: error: ‘spsr’ may be used uninitialized in
	this function arm_semihosting.c:71: error: ‘lr’ may be used
	uninitialized in this function This fixes those build errors.  The behavior is, however, untested.  (Also, note the two new REVISIT comments.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: faster jtag_add_ir_scan() Faster and simpler.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: arm11 load is now faster 290kBytes/s @ 8MHz, no need to inline jtag_tap_next_enabled().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: add jtag_add_tms_seq support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/core.c, src/jtag/drivers/driver.c,
	src/jtag/minidriver.h, src/jtag/minidummy/minidummy.c: jtag: the
	post TAP state is now passed to the drivers after clocking out a tms sequence, then the TAP will be in some
	state. This state is now handed to the drivers.  TAP_INVALID is a possible state after a TMS sequence if switching to
	SWD.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv4_5.c: armv4_5: remove core_type check in mcr/mrc
	cmd core_type check is not required as the core function will be null
	for cores that do not support the mcr/mrc functions.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* testing/examples/cortex/cm3-ftest.cfg: cm3-ftest: change to use
	arm disassemble Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: recover_command use usleep
	rather than sleep windows api does not define a posix sleep, use usleep that has an
	openocd wrapper to the win32 native function.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232: add missing enum when using
	ftd2xx library Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/arm_semihosting.c, src/target/armv7m.c,
	src/target/cortex_m3.c: semihosting: add armv7m semihosting support do_semihosting and arm_semihosting now check the core type and use
	the generic arm structure.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm.h, src/target/arm7_9_common.c,
	src/target/armv4_5.c: semihosting: move semihosting cmd to arm cmd
	group Move semihosting cmd to the arm cmd group.  Targets that support semihosting will setup the setup_semihosting
	callback function.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* doc/openocd.texi, src/target/cortex_m3.c: CortexM3: move
	disassemble cmd to arm cmd group Rather than using a Cortex disassemble cmd, we now use the arm
	generic version.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv7m.c: ARMv7M: add arm cmd
	group - Add arm cmd group to armv7m cmd chain.   - arm cmd's now check the core type before running a cmd.   - todo: add support for armv7m registers for reg cmd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips_m4k.c: MIPS: add mips
	algorithm support  - add mips support for target algorithms.   - added handlers for target_checksum_memory and
	 target_blank_check_memory.  - clean up long lines Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/at91sam3.c, src/flash/nor/lpc2000.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/target/armv7m.c: ARMv7M: use software breakpoints for algorithms  - armv7m_run_algorithm now requires all algorithms to use    a software breakpoint at their exit address  - updated all algorithms to support this Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Mariano Alvira <mar@devl.org>

	* doc/openocd.texi, src/jtag/drivers/ft2232.c,
	tcl/board/redbee-usb.cfg: Add board/redbee-usb.cfg The Redbee USB is a small form-factor usb stick from Redwire, LLC (www.redwirellc.com/store), built around a Freescale MC13224V
	ARM7TDMI + 802.15.4 radio (plus antenna).  It includes an FT2232H for debugging, with Channel B connected to
	the mc13224v's JTAG interface (unusual) and Channel A connected to
	UART1.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  Mariano Alvira <mar@devl.org>

	* doc/openocd.texi, src/jtag/drivers/ft2232.c,
	tcl/board/redbee-econotag.cfg: add board/redbee-econotag.cfg and
	JTAG support The Redbee Econotag is an open hardware development kit from
	Redwire, LLC (www.redwirellc.com/store), for the Freescale MC13224V
	ARM7TDMI + 802.15.4 radio.  It includes both an MC13224V and an FT2232H (for JTAG and UART
	support).  It has flexible power supply options.  Additional features are:   - inverted-F pcb antenna   - 36 GPIO brought out to 0.1" pin header     (includes all peripheral pins)   - Reset button   - Two push buttons (on kbi1-5 and kbi0-4)   - USB-A connector, powered from USB   - up to 16V external input   - pads for optional buck inductor   - pads for optional 32.768kHz crystal   - 2x LEDS on TX_ON and RX_ON [ dbrownell@users.sourceforge.net: shrink lines; texi ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  Mariano Alvira <mar@devl.org>

	* tcl/target/mc13224v.cfg: Add target/mc13224v.cfg The MC13224V is a FreeScale ARM7TDMI based IEEE802.15.4 platform for
	Zigbee and similar low-power wireless applications. Using PIP
	(Platform In Package) technology, it integrates: an RF balun and
	matching network; a buck converter (only an external inductor is
	necessary); 96KB of SRAM; and 128KB of non-volatile memory.  It has an integrated bootloader and can boot from a variety of
	sources: external SPI or I2C non-volatile memory, an image loaded
	over UART1, or the internal non-volatile memory. The image loaded
	from one of these sources is executed directly from SRAM starting at
	location 0x00400000.  Open source development code at http://mc1322x.devl.org Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/flash/nor/stellaris.c: new "stellaris
	recover" command Stellaris chips have a procedure for restoring the chip to what's
	effectively the "as-manufactured" state, with all the non-volatile
	memory erased.  That includes all flash memory, plus things like the
	flash protection bits and various control words which can for
	example disable debugger access.  clearly, this can be useful during
	development.  Luminary/TI provides an MS-Windows utility to perform this procedure
	along with its Stellaris developer kits.  Now OpenOCD users will no
	longer need to use that MS-Windows utility.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ADIv5 DAP ops
	switching to JTAG or SWD modes Define two new DAP operations which use the new jtag_add_tms_seq()
	calls to put the DAP's transport into either SWD or JTAG mode, when
	the hardware allows.  Tested with the Stellaris 'Recovering a "Locked" Device' procedure,
	which loops five times over both of these.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ft2232: implement TMS sequence command Implement the new TMS_SEQ command on FT2232 hardware.  Also, swap a
	bogus exit() call with a clean failure return.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/commands.h, src/jtag/core.c, src/jtag/drivers/driver.c,
	src/jtag/interface.h, src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/zy1000/zy1000.c: interface:
	define TMS sequence command For support of SWD we need to be able to clock out special bit
	sequences over TMS or SWDIO.  Create this as a generic operation,
	not yet called by anything, which is split as usual into:  - upper level abstraction ... here, jtag_add_tms_seq();  - midlayer implementation logic hooking that to the lowlevel code;  - lowlevel minidriver operation ... here, interface_add_tms_seq();  - message type for request queue, here JTAG_TMS.  This is done slightly differently than other operations: there's a
	flag saying whether the interface driver supports this request.  (In
	fact a flag *word* so upper layers can learn about other
	capabilities too ...  for example, supporting SWD operations.) That approach (flag) lets this method *eventually* be used to
	eliminate pathmove() and statemove() support from most adapter
	drivers, by moving all that logic into the mid-layer and increasing
	uniformity between the various drivers.  (Which will in turn reduce
	subtle bugginess.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-25  Mariano Alvira <mar@devl.org>

	* src/jtag/drivers/ft2232.c: ft2232: add a mechanism to specify
	channel in layout structs FT2232-family chips have two or more MPSSE modules.   FTDI
	documentation calls these channels.  JTAG adapter drivers thus need
	to be able to choose which channel to use.  (For example, one
	channel may connect to a board's microcontroller, while another
	connects to a CPLD.) Since each channel has its own USB interface, libftdi (somewhat
	confusingly) identifies channels using INTERFACE_* symbols.  Most
	boards use INTERFACE_A for JTAG, which is the default in OpenOCD.
	But some wire up a different one.  Note that there are two facets of what makes a wiring "layout":  - The mapping between debug signals map and channel signals ...
	   embedded in C functions.   - Label used in Tcl configuration scripts ... part of the "layout"
	 structure.  By letting the channel be part of the layout struct, we permit
	sharing the C functions between Tcl-visible layouts, when those
	signal mappings are reused.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5 doxygen and cleanup Add doxygen for mem_ap_read_buf_u{8,16,32}() calls, and shrink a few
	overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-24  Hans Peter Mortensn <hp000@space.aau.dk>

	* src/flash/nor/avrf.c: AVR flash: handle AT90CAN128 chips I have successfully programmed the AT90CAN128, based on the mega128
	  with some small modifications.  [ dbrownell@users.sourceforge.net: patch cleanup ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-23  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5: rename more JTAG-specific
	routines Highlight more of the internal JTAG-specific utilities, so it's
	easier to identify code needing changes to become transport-neutral.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: arm11: improve performance using
	minidriver hook zy1000 performance for GDB load went from 100kBytes/s to 300kBytes/s
	@ 8 MHz by implementing the inner loop of unack arm11 memory writes
	directly on top of the hw fifo.  Profiling info:  78.57      0.77     0.77
	  arm11_run_instr_data_to_core_noack_inner 5.10      0.82     0.05
	  memcpy 4.08      0.86     0.04
	  jtag_tap_next_enabled 3.06      0.89     0.03
	gdb_input Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c, src/target/arm11_dbgtap.c: arm11: allow
	minidrivers to implement inner loop of memory writes This allows minidrivers to e.g. hardware accelerate memory writes.  Same trick as is used for arm7/9 dcc writes.  Added error propagation for memory transfer failures in code
	rearrangement.  Also the JTAG end state is not updated until after the memory write
	run is complete.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: jtag_add_dr_scan() performance
	improvement Reduce overhead in jtag_add_dr_scan() a bit.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: ft2232 table init cleanup Use labeled initializers in the table of layouts instead of
	positional ones.  This ls cleaner and less error prone, plus it
	simplifies patches which add members to these structure.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/release.txt: Developer's Guide: refresh release
	procedures Be a closer match to what I've actually done for the past few
	cycles.  In particular, hold off pushing repository updates until after the
	packages are published, as part of opening the merge window, and
	mention the utility commands which actually create the archives.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5: relocate memacess_tck cycles When using an AP to access a memory (or a memory-mapped register),
	some extra TCK (assuming JTAG) cycles should be added to ensure the
	AP has enugh time to complete that access before trying to collect
	the response.  The previous code was adding these cycles *before* trying to access
	(read or write) data to that address, not *after*.  Fix by putting
	the delays in the right location.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_m3.c: ADIv5: remove ATOMIC/COMPOSITE interface
	mode This removes context-sensitivity from the programming interface and
	makes it possible to know what a block of code does without needing
	to know the previous history (specifically, the DAP's "trans_mode"
	setting).  The mode was only set to ATOMIC briefly after DAP initialization,
	making this patch be primarily cleanup; almost everything depends on
	COMPOSITE.  The transactions which shouldn't have been queued were
	already properly flushing the queue.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM: ADIv5, deadcode cleanup I have no idea what the scan_inout_check() was *expecting* to
	achieve by issuing a read of the DP_RDBUFF register.  But in any
	case, that code was clearly never being called ("invalue" always
	NULL) ... so remove it, and the associated comment.  Also rename it as ap_write_check(), facilitating a cleanup of its
	single call site by removing constant parameters.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM: ADIv5 code shrinkage, cleanup adi_jtag_dp_scan_u32() now wraps adi_jtag_dp_scan(), removing code
	duplication.  Include doxygen for the former.  Comment some
	particularly relevant points.  Minor fault handling fixes for both
	routines:  don't register a callback that can't run, or return
	ERROR_OK after an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5 clean up AP fault handling Pass up fault codes from various routines, so their callers can
	clean up after failures, and remove the FIXME comments highlighting
	those previously goofy code paths.   dap_ap_{read,write}_reg_u32()  dap_ap_write_reg()  mem_ap_{read,write}_u32()  mem_ap_{read,write}_atomic_u32()  dap_setup_accessport() Make dap_ap_write_reg_u32() just wrap dap_ap_write_reg(), instead of
	cloning its core code (and broken fault handling).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_a8.c, src/target/cortex_m3.c: ADIv5 clean up AP
	selection and register caching Handling of AP (and AP register bank) selection, and cached AP
	registers, is pretty loose ... start tightening it:  - It's "AP bank" select support ... there are no DP banks.  Rename.     + dap_dp_bankselect() becomes dap_ap_bankselect()    + "dp_select_value" struct field becomes "ap_bank_value"  - Remove duplicate AP cache init paths ... only use
	 dap_ap_select(), and don't make Cortex (A8 or M3) cores roll their
	own code.   - For dap_ap_bankselect(), pass up any fault code from writing  the SELECT register.  (Nothing yet checks those codes.)  - Add various bits of Doxygen Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm.h, src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c, src/target/arm_dpm.c,
	src/target/arm_semihosting.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/feroceon.c, src/target/xscale.c: 
	ARM: keep a handle to the PC Keep a handle to the PC in "struct arm", and use it.  This register
	is used a fair amount, so this is a net minor code shrink (other
	than some line length fixes), but mostly it's to make things more
	readable.  For XScale, fix a dodgy sequence while stepping.  It was
	initializing a variable to a non-NULL value, then updating it to
	handle the step-over-active-breakpoint case, and then later testing
	for non-NULL to see if it should reverse that step-over-active
	logic.  It should have done like ARM7/ARM9 does: init to NULL.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c: ARM DPM: support adding/removing HW
	breakpoints Generalize the core of watchpoint setup so that it can handle
	breakpoints too.  Create breakpoint add/remove routines which will
	use that, and hook them up to target types which don't provide their
	own breakpoint support (nothing, yet).  This suffices for hardware-only breakpoint support.  The ARM11 code
	will be able to switch over to this without much trouble, since it
	doesn't yet handle software breakpoints.  Switching Cortex-A8 will
	be a bit more involved.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: per-core options
	should not be global Address some FIXME comments by getting rid of globals, moving
	per-core parameters in the existing per-core data structure.  This will matter most whenever there are multiple ARM11 cores, e.g.
	ARM11 MPcore chips, but in general is just cleanup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm.h, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m3.c: ARMv7-M: start using
	"struct arm" This sets up a few of the core "struct arm" data structures so they
	can be used with ARMv7-M cores.  Specifically, it:  - defines new ARM core_modes to match the microcontroller modes    (e.g. HANDLER not IRQ, and two types of thread mode);  - Establishes a new microcontroller "core_type", which can be    used to make sure v7-M (and v6-M) cores are handled right;  - adds "struct arm" to "struct armv7m" and arranges for the    target_to_armv7m() converter to use it;  - sets up the arm.core_cache and arm.cpsr values  - makes the Cortex-M3 code maintain arm.map and arm.core_mode.  This is currently set up as a parallel data structure, primarily to
	minimize special cases for the semihosting support with
	microcontroller profile cores.  Later patches can rip out the duplicative ARMv7-M support and start
	reusing core ARM code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, NEWS-0.4.0, configure.in: Open the merge window for the
	0.5.0 release cycle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: Label builds as OpenOCD v0.4.0 Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* README, doc/openocd.texi: User's Guide mentions OS-specific
	installation Specifically the Linux issue of needing "udev" rules, and MS-Windows
	needing driver configuration.  Also, update the existing udev note to use the correct name of that
	rules file in the source tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c: arm920t line length cleanup The recent patch to fixbreakpoints and dcache handling added a bunch
	of overlong lines (80+ chars) ... shrink them, and do the same to a
	few lines which were already overlong.  Also add a few FIXME comments to nudge (a) replacement of some magic
	numbers with opcode macros, which will be much better at showing
	what's actually going on, and (b) correct return codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/csb337.cfg: CSB337 board cleanup (quasi-regression) Get rid of new nasty warning: NOTE! Severe performance degradation without fast memory access
	enabled...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/parport.c: FreeBSD buildfix Fix an unused variable warning seen when building the parport driver
	under FreeBSD.  Using information from Xiaofan Chen <xiaofanc@gmail.com> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-16  Marc Pignat <marc.pignat@hevs.ch>

	* src/target/arm920t.c: atm920t : fix breakpoints and data cache
	handling Breakpoints did not work because the data cache was not flushed
	properly.  As a bonus add capability to write to memory marked as read only by
	the MMU, which allows software breakpoints in such memory regions.

2010-02-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c: ARM920T scanchain 15 comments/cleanup For folk who don't know the ARM920 JTAG interface very well, the two
	modes of scan chain 15 access to CP15 are confusing.  Make those parts of the ARM920 code less opaque, by:  - Adding comments referencing the relevant parts of the TRM,    catching up to similar updates in the User's Guide.   - Replacing magic numbers in physical access clients with    symbolic equivalents.  No functional change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/options.c, src/openocd.c: gpl: fix GPL startup message Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-15  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/lpc1768.cfg: LPC1768.cfg -- partial fixes for bogus
	reset-init handler Cortex-M targets don't support ARM instructions.  Leave the NVIC.VTOR setup alone, but comment how the whole routine
	looks like one big bug...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-14  Mathias Kuester <mkdorg@users.sourceforge.net>

	* src/target/dsp563xx.c: fix crash with DSP563XX When a DSP563xx-aware GDB asks OpenOCD for target registers, the
	result should be a GDB with register data ... not an OpenOCD crash.  (Note that mainline GDB doesn't currently support this core, so for
	now, this requires a GDB with FreeScale patches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: mention removal of obsolete commands Removed remaining support for various commands, like advice for
	migrating old-style TAP declarations.  The documentation no longer describes them either ... so if users
	have been delaying config updates, they may need to consult older
	releases.  ALL this stuff has been clearly marked as "do not use" for at least
	a year now, so anyone still using it hasn't been holding up their
	end.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: Restore "-dev" version suffix (0.4.0-rc2-dev) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: v4.0-rc2 milestone Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/str9xpec.c: STR9xpec: issue warning when unlocking
	device Issue warning to user when unlocking or writing the option bytes.
	The new settings will not take effect until a target reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/flash/nor/stm32x.c: STM32x: issue warning when unlocking
	device (bug #16) Issue warning to user when unlocking or writing the option bytes.
	The new settings will not take effect until a target reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c: arm720t: virt2phys callback added This is a copy and paste of arm926ejs. Not tested, but ready for
	testing at least. There is a good chance that it will work if the
	generic armv4_5 fn's are robust enough...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-12  Marc Pignat <marc.pignat@hevs.ch>

	* src/target/arm920t.c: arm920: add virt2phys fn Copy of the 926ejs function. I have tested it only using my rtems
	application (where virtual address mapping == physical).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-11  Viktar Palstsiuk <viktar.palstsiuk@promwad.com>

	* tcl/board/atmel_at91sam9rl-ek.cfg, tcl/target/at91sam9rl.cfg: 
	target library: configuration files for openocd tested with Atmel
	SAM-ICE V6 JTAG.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-10  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: "#" in filesystems names is bad Sometimes MS-Windows users try to use filesystem names which include
	the "#" character.  That's generally unwise, since it begins Tcl
	comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: arm11: fix another infinite loop bug reset init would get stuck in an infinite loop when e.g. khz was too
	high. Added timeout. This is a copy of paste of a number of such
	bugfixes in the arm11 code.  Arm11 code reviewed for further such infinite loop bugs and I
	couldn't find any more. Xing fingers it's the last one...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-10  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: clarify jtag_rclk advice Not all cores and boards support adaptive clocking, so qualify all
	advice to use it to depend on core and board support.  It's primarily ARM cores which support this; and many of the newer
	ones (like Cortex-M series) don't.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.h: target: add todo in target_write_memory()
	about alignment target_write_buffer() does not align "buffer" in host memory passed
	to target_write_memory().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/str730.cfg: str730.cfg: fix incorrect mem regions  - update str73x mem regions to correct values.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-06  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/main.txt: Re-title Developer's Guide The Doxygen output was previously titled "OpenOCD Reference Manual",
	which was quite misleading ... the User's Guide is the reference
	manual which folk should consult about how to use the software.  Just rename it to match how it's been discussed previously, and to
	bring out its intended audience:  developers of this software.  As a
	rule, Doxygen is only for folk who work with the code it documents.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-06  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ADIv5: doxygen Provide doxygen for many of the public ADIv5 interfaces (i.e. the
	ones called from Cortex core support code).  Add FIXMEs (and a TODO) to help resolve implementation issues which
	became more apparent when trying to document this code:  - Error-prone context-sensitivity (queued/nonqueued) in many
	 procedures.   - Procedures that lie by ignoring errors and wrongly claiming
	 success.  Also, there was no point in a return from dap_ap_select(); it can't
	fail, and no caller checks its return status.  Clean that up, make
	it void.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: complete zy1000_uart to jim command
	switch Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c, src/target/armv7m.h: ARMv7-M: make DAP
	commands verify target is an ARMv7-M Init the ARMv7-M magic number.  Define predicate verifying it.  Use
	it to resolve a lurking bug/FIXME:  make sure the ARMv7-M specific
	DAP ops reject non-ARMv7-M targets.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* BUGS, doc/openocd.texi: Documentation: mention bug database Have the User's Guide and BUG handling notes both reference the fact
	that we now have a bug database at SourceForge.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/jlink.c: JLink: reference protocol documentation Segger publishes some documentation on this protocol; reference it,
	so future maintainers can know it exists.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/helper/command.c: CMD: duplicate cmd error msg When registering cmds we report duplicate attempts to register a cmd
	as a LOG_ERROR.  Some situations need this, such as when registering
	dual flash banks.

	http://www.mail-archive.com/openocd-development@lists.berlios.de/msg11152.htmlSigned-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-04  Ethan Eade <ethan@evolution.com>

	* tcl/board/phytec_lpc3250.cfg, tcl/target/lpc3250.cfg: scripts:
	Phytec/LPC2350 config scripts Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/core.c: JTAG: fix bug when no interface connected  - fix coredump when OpenOCD is started without a jtag interface
	 connected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-02  Harald Kipp <harald.kipp@egnite.de>

	* tcl/board/ethernut3.cfg, tcl/target/at91r40008.cfg: 
	AT91R40008/Ethernut 3 configuration Moved board specific settings from target/at91r40008.cfg to a new
	file board/ethernut3.cfg.  Set correct CPUTAPID.  Reset delay increased, see MIC2775 data
	sheet.  Increased work area size from 16k to 128k.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: NOR: User's Guide updates Remove long-obsolete text about "erase_check" affecting "flash info"
	output.  Move parts of that text to "protect_check", where it's
	still relevant; and update the "flash info" description to mention
	the issue.  (This is still awkward.  It might be best to make "protect_check"
	mirror "erase_check" by dumping what it finds, so "flash info"
	doesn't dump any potentially-stale cache info.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Edgar Grimberg <edgar.grimberg@zylin.com>

	* tcl/target/str730.cfg, tcl/target/str750.cfg: tcl/str7x: Reset
	init unlocks the flash For STR7x flash, the device cannot be queried for the protect
	status.  The solution is to remove the protection on reset init. The
	driver also initialises the sector protect field to unprotected.  [dbrownell@users.sourceforge.net: line length shrinkage] Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/flash/nor/str7x.c, tcl/target/str710.cfg: flash/str7x: After
	reset init the flash is unlocked The default state of the STR7 flash after a reset init is unlocked.
	The information in the flash driver now reflects this.  The information about the lock status cannot be read from the flash
	chip, so the user is informed that flash info might not contain
	accurate information.  [dbrownell@users.sourceforge.net: line length shrinkage] Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_semihosting.c: ARM semihosting: fix EOF handling
	with SYS_READ The semihosting interface has a strange convention for read/write
	where the unused amount of buffer must be returned.  We failed to
	return the total buffer size when the local read() call returned 0.  Signed-off-by: Nicolas Pitre <nico@marvell.com>

2010-01-29  Edgar Grimberg <edgar.grimberg@zylin.com>

	* testing/results/v0.4.0-rc1/AT91FR40162.html,
	testing/results/v0.4.0-rc1/LPC2148.html,
	testing/results/v0.4.0-rc1/SAM7.html,
	testing/results/v0.4.0-rc1/STR710.html,
	testing/results/v0.4.0-rc1/STR912.html: Test cases ran on v0.4.0-rc1 Test cases ran on v0.4.0-rc1 for a number of targets: AT91FR40162
	LPC2148 SAM7 STR710 STR912 The goal of the testing session was to prove basic functionality of
	OpenOCD for different targets.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/startup.tcl, src/target/target.c: gdb: restore behavior
	from 0.3.1 for srst_asserted and power_restore srst_asserted and power_restore can now be overriden to do nothing.
	By default they will "reset init" the targets and halt gdb.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-31  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5: more messaging cleanup, docs When the TAR cache was explicitly invalidated, don't bother printing
	it; the actual hardware status is more informative.  Provide some doxygen for the MEM-AP setup routine.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_semihosting.c: build: fix problems with "struct
	stat" not being defined under eCos Include <sys/stat.h> according to
	http://www.opengroup.org/onlinepubs/000095399/functions/stat.html Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/telnet_server.c: telnet: fix strage blank spaces at
	beginning of telnet lines Sometimes we saw two strange blank spaces at the beginning of the
	telnet lines.  progress   ogress > This patch fixes this problem: progress progress > The code changes are *reasonably* clean, but perhaps it could be
	made a bit more elegant, but I didn't want to change things after I
	finished diagnosis/testing & submitting the patch.  The problem was that logging can send the text and the newline
	separately in two different requests and the telnet code would
	incorrectly remove the prompt from the end of a line.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-31  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: Subject: ADIv5: fix more diagnostics If the MEM-AP cache is invalid, don't display it; just report that
	invalidity as an error.  (This bug has been observed with "mdw 0 32"
	after just a "reset halt".  Some code is being wrongly bypassed...) If it's valid, display that cache at DEBUG level, not ERROR.  Also,
	don't assume it's an AHB-AP; it could be another flavor of MEM-AP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-30  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5 error checking for Tcl commands Reject invalid AP numbers (256+) as Tcl operation parameters.
	Shrink one of the overlong lines.  Add my copyright to the ADIv5 code (multiple contributions).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-30  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5: fix diagnostics for block
	writes They were reporting "read" errors, not "write" errors.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_m3.c: ADIv5: cleanup, rename
	swjdp_transaction_endcheck() Make messages reference "DAP" if they're actually
	transport-agnostic, or "JTAG-DP" when they're JTAG-specific.  Saying
	SWJ-DP is often wrong (on most Cortex-A8 chips) and is confusing
	even if correct (since we don't yet support SWD).  Rename a JTAG-specific routine to jtagdp_transaction_endcheck() to
	highlight that it's JTAG-specific, and that identify DAP clients
	undesirably depending on JTAG.  (They will all need to change for
	SWD support.) Shrink a few overlong lines of code.  Copy a comment from code
	removed in a previous patch (for the ARMv7-M "dap baseaddr"
	command).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c: ARMv7-M: use command handler for "dap
	baseaddr".  Make the ARMv7-M DAP code reuse the command handler for "dap
	baseaddr".  For some reason, this DAP command wasn't converted
	earlier.  This is a code shrink and simplification; it also removes a needless
	transport dependency on JTAG.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/flash/nor/avrf.c, src/flash/nor/cfi.c, src/flash/nor/ecos.c,
	src/flash/nor/faux.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc2900.c,
	src/flash/nor/ocl.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tcl.c,
	src/flash/nor/tms470.c: NOR: cleanup driver decls Fix goofy struct indents.  Function names *are* their addresses.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  Alex Austin <alex.austin@spectrumdsi.com>

	* src/helper/log.h, src/helper/system.h: Clang buildfixes Building with clang took a few very small changes. The change to
	helper/log.h is because clang doesn't like an expression where the
	result is unused. In helper/system.h, I just defined true and false
	since clang doesn't have them builtin.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.1, doc/openocd.texi: doc clarifications for server
	flags The "-f" is a shortcut for "-c" ... and providing any "-c" options
	means the "openocd.cfg" file isn't implicitly used.  Both the User's
	Guide and the manual page were weak on these points, which has led
	to some confusion.  Also update the manual page to include highlights of the search path
	mechanism, including the facts that it exists and that "-s" adds to
	it.  Stop saying only the current directory is involved; the OpenOCD
	script library is quite significant.  (Missing: complete manpage coverage of the search path, including a
	FILES section listing all components and saying where the script
	library is found.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c: ARM: reference DPM defn from v6/v7 arch spec The term "DPM" is probably not well known ("Device Power
	Management"?), so identify its source in the current ARM
	architecture specification.  It's relevant to ARMv6, ARMv7-A, and
	ARMv7-R ... but not "M" profiles.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/helper/replacements.h, src/target/arm_semihosting.c: ARM
	semihosting: win32 and cygwin fixes Cygwin would fail to reopen a previously written file if the mode is
	not given.  Simplified converting the open flags and made sure the win32
	O_BINARY bit is set.  Added define for systems that do not support O_BINARY.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/helper/system.h, src/target/arm_semihosting.c: ARM
	semihosting: fix writing to stdout SYS_FLEN would be called before a write on a descriptor to check its
	size.  Currently lseek would fail with -1 when given the
	stdout/stderr descriptor.  Changing to use fstat seems to be the
	standard way of handling this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: report lockup, and recover ARMv7-M defines a "lockup" state that's entered in certain double
	fault sequences which can't be recovered from without external help.
	OpenOCD has previously ignored this.  Issue a diagnostic saying the chip has locked up, and force exit
	from this state by halting the core.  It's not clear this is the
	best way to handle lockup; but there should now be less confusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5: messaging tweaks Add space missing after the invalid ACK value.  On init, say which
	AP is being used, and don't assume it's an AHP-AP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: debug messaging tweaks Make that "TODO" message say what needs to be done.  Say what part
	of examining failed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-26  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.1,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg: various: don't
	mention wiki The openfacts.berlios wiki isn't particularly current, and isn't
	publicly editable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/svf/svf.c: cygwin buildfix isspace() parameter must be an integer, else a 'char' gets used as
	an array index (sigh).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-24  simon qian <simonqian.openocd@gmail.com>

	* src/svf/svf.c: SVF: all content between parentheses is one
	parameter More SVF fixes:  * Treat all content between parentheses as part of the same    parameter; don't (wrongly) treat whitespace as a delimiter.   * Use isspace() to catch that whitespace; it's not all single    spaces, newlines etc are also valid.   * When parsing bitstrings, strip leading whitespace too.  So for example, these are equivalent and should (now) be OK:   "TDI( 1234 )"   "TDI( 1 2 3 4 )"   "TDI(00 12 34 )"   "TDI(   	00 12 	34)" [dbrownell@users.sourceforge.net: comment updates; trivial cleanup] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-25  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/jtag/core.c, src/target/arm11.c: core arm11: Silence logs at
	level 3 if there is no activity If the target and openocd are idling, the log should normally be
	silent at level 3.  (Given no verbose logging options.) Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  simon qian <simonqian.openocd@gmail.com>

	* src/svf/svf.c: SVF: insert space before '(' and after ')' See http://forum.sparkfun.com/viewtopic.php?p=90983#90983 for
	discussion; basically, the SVF parser wrongly expects "TDI (123)"
	but the space is optional and it should accept "TDI(123)" too.  In the same way, "TDI(123)TDO(456)" should work too.  Rather than update the command parsing, this just makes sure the
	expected spaces are present.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/embeddedice.c: EmbeddedICE - fix Feroceon/Dragonite
	message The breakpoint/watchpoint message was wrong for Feroceon and
	Dragonite, which have only one working watchpoint unit.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS updates Summarize most ARM11 and Cortex-A8 updates as "acting much more like
	other ARMs", and mention code sharing.  Clarify a few other points, including support for "reset-assert" on
	all ARMs except Cortex-M (which doesn't exactly need it).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: fix breakpoints with GDB This fixes a bug whereby GDB's breakpoints weren't activated.  The
	root cause is a confused interface to resume().  Fix by almost
	ignoring the "handle breakpoints" parameter; it only seems related
	to the case of skipping breakpoint-at-PC.  Update a few coments to clarify what's happening.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* Doxyfile.in, TODO, src/target/arm_disassembler.c: Various
	doc/comment updates Doxygen: don't be needlessly verbose; alphabetically sort members
	TODO: add random bits; clarify which manuals are referenced ARM
	disassembler: mention a few opcodes that still aren't handled Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide secton on target hardware setup Highlight the needs to properly jumper development boards; to make
	the OpenOCD configuration match the jumpering; and to have a usable
	"reset-init" method when debugging early boot code.  Specific mention of the "ATX Mode" that seems useful on many i.MX
	boards, forcing NAND boot.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.h: ADIv5 header cleanup (+ #defines) Update the comments about DP registers and some of the bitfields.
	Remove inappropriate (and unused) DP_ZERO declaration.  Add some (currently unused) #defines needed for SWD protocol
	support, based on previous patches from Andreas Fritiofson and Simon
	Qian.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: print reason why GDB halts If GDB halts unexpectedly, print reason: srst assert or power out
	detected.  If polling fails, then things are a bit trickier. We do not want to
	spam telnet or the log with polling failed messages.  Leave that
	case be w/a comment in a code for now.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* tcl/interface/parport.cfg: interface: Changed parport address to
	LPT1 Changed the parport address to LPT1, since it's the most obvious
	default value.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* src/target/target.c: target: Fixed format problem for mdh Fixed format problem for mdh. It needs to display 4 chars.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb_server: handle stepi/continue packet
	while target is running with more grace Rather than issuing a halt and then stepi/resume, just wait for
	target to halt.  Issue a sterner warning via gdb console that any gdb register
	changes will be ignored in this case.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/types.h: ecos: add missing PRId8 definition Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/mips32_pracc.c,
	src/target/mips_m4k.c: BUILD: remove cygwin gcc 3.4.4 build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* testing/examples/cortex/cm3-ftest.cfg,
	testing/examples/cortex/fault.c: Cortex-M3 vector_catch testing
	support The "cm3-ftest.cfg" can be used to verify that OpenOCD handles
	certain faults correctly:  - Test #1: it ignores faults that it wasn't told to catch  - Test #2: if vector_catch is told to catch, it catches The "fault.c" generates ASM code to trigger faults, while the config
	script loads and runs pre-compiled code.  This covers most, but not all, of the vector_catch options.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/omap2420_h4.cfg, tcl/board/osk5912.cfg: board configs --
	unique names for flash chips Don't give the same names to both flash chips on two OMAP boards.  For OSK, enable DCC downloads (removing a warning).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c: gdb_server: correctly report flash sector
	sizes Report each region of same-size sectors separately, instead of
	incorrectly reporting that every sector has the same size.  This is a longstanding bug on NOR flash chips with non-uniform
	sector sizes.  It was largely hidden by other bugs in flash
	handling.  When some of those were recently fixed, this one was
	exposed as a regression on str710.  [oyvind.harboe@zylin.com: update the loop to behave on str7 ] Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  Michael Grzeschik <m.grzeschik@pengutronix.de>

	* tcl/target/at91sam3u4e.cfg: tcl/target/at91sam3u4e.cfg: changed
	case in dependent file openocd does not start with the target configfile due to the case in
	the dependent config file.  Signed-off-by: Michael Grzeschik <m.grzeschik@pengutronix.de>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* testing/examples/STR710Test/.gitignore,
	testing/examples/STR710Test/prj/hitex_str7_ram.ld,
	testing/examples/STR710Test/prj/hitex_str7_rom.ld,
	testing/examples/STR710Test/src/main.c: testing: fix str710 test
	case now builds Make the test case easily adjustable in size. str710 has very
	peculiar flash sector layout, nice for testing, but a larget
	test_rom.elf is required.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c: arm7/9: add nags upon reset about
	options to improve performance arm7_9 fast_memory_access and working area nags added.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c: 
	ARMV7M: handle bkpt instruction on resume/step Skip over a bkpt instruction if found on resume/step.  Only software
	breakpoints known to OpenOCD are currently handled.  So this handles the special case of either a user added bkpt or
	library added, eg. semi-hosting support.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's guide: mention lpc2000 checksum issue Folk almost certainly want to have OpenOCD compute the checksum when
	they modify the vector table.  However, that almost guarantees that
	"verify_image" will fail.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c: gdb_server -- subroutinize memory map
	logic Put the memory map logic into its own subroutine.  This will make it
	a bit easier to package bugfixes, and simplifies the query packet
	handling.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c, src/server/gdb_server.h: gdb_server --
	symbol cleanup Make most methods static; net minor object code shrink.  Likewise
	various data symbols; no net change.  Shrink some overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/options.c: update win32 script search path The default script search path on Windows is out of date with the
	current layout (from installation and documentation), which makes
	the standard script library not be found after a normal 	./configure && make && make install under msys/MinGW. The same should hold true for cygwin native builds
	(not verified).  Update search path to ../share/openocd/scripts not ../lib/openocd,
	relative to the openocd executable.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c: NOR: fix diagnostic The "NOR: last_addr also needs correction when checking alignment"
	patch omitted a necessary update to the key diagnostic; fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: flush jtag buffer before
	changing speed It is conceivable that there could be commands in the queue when a
	speed change request comes in. Flush the hw queue before changing
	speed. Not observed, found by inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: print out PCB revision upon boot Simplify debugging a bit.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/nor/core.c: flash: add error messages upon incorrect
	arguments to flash iteration According to OpenOCD error handling rules the error is logged at
	where it occurs(same site where an exception would have been
	thrown).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/vsllink.c: vsllink -- add comment Previous patch deserved *inline* comment, not just in git revision
	history.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/tcl.c: commands: allow scan_chain command to be executed
	during config Adding taps and then dumping them is quite reasonable thing to do in
	a config script.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-17  simon qian <simonqian.openocd@gmail.com>

	* src/jtag/drivers/vsllink.c: read target voltage first in vsllink The very first command after init command should be "read target
	voltage".  This is a tweak for the Old Versaloon firmware.  Without this, in
	most most cases, it works.   Under Ubuntu9.04, there is a chance
	that the USB will fail.  The problem disappears if I read target
	voltage first.  For the lastest Versaloon firmware, it's OK.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-16  richard vegh <vegh.ricsi@gmail.com>

	* src/flash/nand/lpc3180.c: NAND: lpc3180 crashes on LPC3250 The LPC3180 NAND driver was crashing on some large page chips.  Fix:  - Crash and related functionality (don't memset too much OOB data)  - Some debug messages  - Command handling now works [dbrownell@users.sourceforge.net: whitespace/linelength/message
	cleanup] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ADIv5 improved diagnostic Don't just complain about an invalid ACK; say what the value was, to
	help troubleshooting.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c: ARM DPM: disable some nyet-ready breakpoint
	code Until we manage breakpoints at runtime (patches not ready for 0.4)
	the only way this code should touch them is to disable them at
	server startup (a previous debug session may have left them active).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: include s3c64xx NAND driver Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/jtag.h: jtag.h whitespace/comment cleanup Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5: add comments Add doxygen and other comments for what's more or less the lowest
	level JDAG-DP primitive, to access JTAG_DP_{A,D}PACC registers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c: ARM7/ARM9: improved reset support Teach most remaining ARM cores how to use the "reset-assert" event.  Same model as elsewhere:  iff a handler is provided for that event,
	use that instead of trying to assert SRST (which may be unavailable,
	or inappropriate since it resets too much).  Else no change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  Peter Korsgaard <jacmet@sunsite.dk>

	* doc/openocd.texi, src/flash/nand/Makefile.am,
	src/flash/nand/driver.c, src/flash/nand/s3c6400.c: nand flash
	support for s3c64xx Identical to the existing 2412/2443 support except for the base
	address and NFCONF value (bit 2 is reserved and should be written as
	1 ref UM).  Tested on a s3c6410 board, but controller is identical in 6400/6410
	except for 8bit MLC ECC support in 6410 which isn't supported by the
	driver.  Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-14  Laurentiu Cocanu <laurentiu.cocanu@zylin.com>

	* src/flash/nor/str9x.c: str9x.c: remove optimization when erasing
	the whole bank Using the erase bank command will cause a time out error. Replacing
	this with the erase sector bank will provide a slower but safer and
	stable method to erase the flash.  Signed-off-by: Laurentiu Cocanu <laurentiu.cocanu@zylin.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c: ARM7/9 minor cleanups Shrink some overlong lines.  Add my 2009 copyright.  Move a
	declaration to the beginning of its block.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/server/gdb_server.c: GDB: change gdb_breakpoint_override to
	COMMAND_ANY  - enable gdb_breakpoint_override to be used within config script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide updates Capture various bits of useful information that have come up on the
	list but haven't yet gotten into the documentation:  - Watchdog timers firing during JTAG debug need attention;  - Some chips have special registers to help JTAG debug;  - Cortex-M3 stepping example with IRQs and maskisr;  - Clarifications re adaptive clocking:  not all ARMs do it, and    explain it a bit better.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/flash/nor/core.c,
	src/flash/nor/core.h, src/flash/nor/tcl.c, src/server/gdb_server.c: 
	NOR: add optional "flash erase_address" sector padding Add a NOR flash mechanism where erase_address ranges can be padded
	out to sector boundaries, triggering a diagnostic:   > flash erase_address 0x0001f980 16   address range 0x0001f980 .. 0x0001f98f is not sector-aligned   Command handler execution failed   in procedure 'flash' called at file "command.c", line 647   called at file "command.c", line 361   >   > flash erase_address pad 0x0001f980 16   Adding extra erase range, 0x0001f800 to 0x0001f97f   Adding extra erase range, 0x0001f990 to 0x0001fbff   erased address 0x0001f980 (length 16) in 0.095975s (0.163 kb/s)   > This addresses what would otherwise be something of a functional
	regression.  An earlier version of the interface had a dangerous
	problem:  it would silently erase data outside the range it was told
	to erase.  Fixing that bug turned up some folk who relied on that
	unsafe behavior.  (The classic problem with interface bugs!) Now
	they can get that behavior again.  If they really need it, just
	specify "pad".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/target/armv7m.h, src/target/cortex_m3.c: Cortex-M3:
	improved core exception handling This updates three aspects of debugger/exception interactions:  - Save the user's "vector_catch" setting, and restore it after
	   reset.  Previously, it was obliterated (rather annoyingly) each
	time.   - Don't catch BusFault and HardFault exceptions unless the user
	   says to do so.  Target firmware may need to handle them.   - Don't modify SHCSR to prevent escalating BusFault to HardFault.     Target firmware may expect to handle it as a HardFault.  Those simplifications fix several bugs.  In one annoying case,
	OpenOCD would cause the target to lock up on ome faults which
	triggered after the debugger disconnected.  NOTE:  a known remaining issue is that OpenOCD can still leave DEMCR
	set after an otherwise-clean OpenOCD shutdown.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/fa526.c: arm7/9: enable check that
	DCC downloads have been enabled Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h: arm7/9:
	add fn to check if dcc downloads have been enabled DCC downloads should be enabled for any self repecting openocd
	config file for arm7/9. Print out note about it otherwise.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c, src/target/target.h,
	src/target/target_type.h: target: add check_reset hook Allow targets to run checks post reset. Used to check that e.g. DCC
	downloads have been enabled.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdbserver: fix typo that broke read/write
	watchpoint It looks like a bugfix from normal breakpoints was not copied over.  Do not use clever mathematics and assumptions to convert from GDB
	enum for break/watchpoints to OpenOCD enum.  Drop connection upon unknown breakpoint type, this code path was not
	really considered by the previous code I think.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: debug: make logging of commands terser one line / command instead of one line per argument.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-12  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: bugfix for "movt" disassembly Use the correct bitfield to specify the register whose top halfword
	gets replaced.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  Vladimir Zapolskiy <vzapolskiy@gmail.com>

	* tcl/interface/neodb.cfg: Added Openmoko USB JTAG interface config
	file.  Added interface config file for JTAG/RS232 debug board originally
	integrated to Neo 1973 and Neo FreeRunner phones.  Adapter was
	tested with i.MX31, S3C2410 and AT91SAM9260 processors.  Signed-off-by: Vladimir Zapolskiy <vzapolskiy@gmail.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/tcl.c: target: return JIM_OK instead of ERROR_OK No change in actual binary as JIM_OK == ERROR_OK, but JIM_OK is
	correct here.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/startup.tcl: reset: better error messages Use correct tcl syntax to throw exception.  the syntax is "return -code error" not "return -error" Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: commands: make error messages a bit more
	terse we don't need to know the build path of command.c when reading
	normal user level error messages.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: reset bugfix flush JTAG FIFO before reset. Fixes RCLK problems observed
	w/lpc2148, but really fixes a wider range of problems.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c, src/flash/nor/core.h, src/flash/nor/tcl.c,
	src/server/gdb_server.c: Doxygen file comments Add file comments to a few files.  Make the GDB server use more
	conventional (pointer-free) hex digit conversion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: shutdown: more graceful shutdown Shutdown is not an error condition, do not return error from main.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* Doxyfile.in, Makefile.am: build: doxygen build  - Fix for building doxygen out of tree Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-10  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/helper/command.c: FreeBSD build fixes Based on notes from Tomek Cedro <tomek.cedro@gmail.com> and Steve
	Franks <bahamasfranks@gmail.com>.  In the User's Guide, sort the list of operating systems reported
	through Tcl with $ocd_HOSTOS ... and include FreeBSD.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/presto.c: Presto: doxygen fix Newline needed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/tcl.c: jtag/tcl help/usage fixups The usual: expand several helptexts to be more correct and to use
	full sentences; make the usage messages use the same EBNF as the
	User's Guide; use function names for their addresses.  Also add a comment about that odd jtag_command_handlers_to_move[]
	thing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/zy1000/zy1000.c: ZY1000 help/usage fixups The usual:  same EBNF as in the User's Guide, full sentence
	helptext, function names *are* their addresses.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/parport.c, src/jtag/drivers/presto.c: jtag:
	presto, parport help/usage updates Presto: add doxygen file comment.  Parport: note a couple gaps in layout config.  Both: use the uniform EBNF for usage, bugfix helptexts, use function
	name as its address not "&name".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/gw16012.c: jtag/gw16012 usage/help updates Use standard BNF.  Improve/correct helptext for its "parport_port"
	command.  Function address is just its name.

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, tcl/interface/parport.cfg: parport (mostly) doc
	fixes The "parport_port" commands generally don't *require* a port_number;
	they're of the "apply any parameter, then print result" variety.
	Update the User's Guide accordingly.  Some of those commands are intended to be write-once: parport_port,
	and parport_cable.  Say so.  Use proper EBNF for the parport_write_on_exit parameter.  Parport address 0xc8b8 is evidently mutant.  Say so in the
	"parport.cfg" file, to avoid breaking anyone with that mutant
	config.  But update the User's Guide to include a sane example for
	the LP2 port.  Finally document the "presto_serial" command.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/command.c, src/helper/ioutil.c, src/helper/log.c: 
	src/helper: usage/help updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Fix some
	whitespace glitches, shrink a few overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, doc/openocd.texi, src/flash/nor/at91sam3.c,
	src/flash/nor/at91sam7.c, src/flash/nor/lpc2900.c,
	src/flash/nor/stm32x.c, src/flash/nor/str9x.c, src/flash/nor/tcl.c: 
	src/flash/nor: usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines; fix some bad indents.  Add TODO list entry re full support for NAND/NOR bank names.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c,
	src/target/mips_m4k.h: MIPS: update arch_info access to match other
	targets  - add target_to_mips32 and target_to_m4k to match test of codebase.   - mips32_arch_state now shows if processer is running mips16e isa.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/server/gdb_server.c, src/server/httpd.c,
	src/server/tcl_server.c, src/server/telnet_server.c: src/server:
	usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Specifically for the port commands, clarify that the number is
	optional, and omitting it causes the current number to be displayed.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  Masaki Muranaka <monaka@monami-software.com>

	* src/helper/command.c: buildfix on MacOS Recent Apple gcc versions use __APPLE__ instead of __DARWIN__;
	accept that too.  Also use #warning, not #warn; neither is standard, but most CPP
	versions require it to be spelled out.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/pld/pld.c, src/pld/virtex2.c: PLD: usage/help updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace, shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/flash/nand/at91sam9.c,
	src/flash/nand/lpc3180.c, src/flash/nand/tcl.c: NAND: help/usage/doc
	updates Usage messages should use the same EBNF as the User's Guide; no
	angle brackets.  Be more complete too ... some params were missing.
	Improve and correct various helptexts.  Make user's guide refer to the NAND "driver" name, not the
	controller name; that's a bit more precise.  Don't use "&function"; its name is its address.  Line up struct
	initializers properly.  Remove some blank lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/primer/commands.txt, doc/manual/style.txt, src/hello.c: 
	Doc/examples: clarify usage messages Update/bugfix the "hello" example; emphasize using EBNF syntax,
	matching the User's Guide.  Correct the Texinfo style guide to say
	EBNF, not BNF.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/svf/svf.c, src/target/target.c, src/xsvf/xsvf.c: *SVF:
	help/usage updates Usage messages should use the same EBNF as the User's Guide; no
	angle brackets.  Be more complete too ... some params were missing.  Don't use "&function"; its name is its address.  Unrelated: fix typo in one "target.c" usage message.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/mflash.c: MFLASH: help/usage updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* .gitignore, BUGS, Doxyfile.in, NEWS, PATCHES, PATCHES.txt,
	doc/openocd.texi, tools/release.sh: Coexist with quilt: rename
	PATCHES --> PATCHES.txt The issues is on Win32, which ignores case in filesystem and thus
	doesn't tolerate the quilt "patches" directory.  Rename, and add "patches" to .gitignore so that developers can
	choose to use quilt for local patch management.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, src/flash/nor/core.c: NOR: add FIXMEs for writing ones It can invalidate ECC codes, and in general is not guaranteed to
	work.  (However on some chips it _appears_ to behave.)  Just don't
	do it; don't write in those cases.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/armv4_5.c: misc ARM help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Uupdate some helptext to be more accurate.  Don't use "&function"; functions are like arrays, their address is
	their name.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm966e.c: ARM966: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Fix the User's Guide to say where the magic CP15 bits are defined;
	and add comments in case someone provides mcr/mrc methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: Xscale: User's Guide updates Fix some EBNF goofs ... these commands have *optional* params, etc Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm920t.c: ARM720: help/usage updates Deprecate the "pass an instruction opcode" flavor of cp15 access in
	favor of the "arm mcr ..." and "arm mrc ..." commands, which offer
	fewer ways to break things.  Use the same EBNF syntax in the code as for the user's guide.  Update User's Guide to say where to find those magic values (which
	table in the ARM920 TRM).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm720t.c: ARM720: help/usage updates Deprecate the "pass an instruction opcode" flavor of cp15 access in
	favor of the "arm mcr ..." and "arm mrc ..." commands, which offer
	fewer ways to break things.  Use the same EBNF syntax in the code as for the user's guide.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm11.c: ARM11: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Uupdate some helptext to be more accurate.  Fix the User's Guide in a few places to be more consistent (mostly
	to use brackets not parentheses) and to recognize that parameter may
	be entirely optional (in which case the command just displays
	output, and changes nothing).  Also reference NXP, not Philips, for
	LPC chips.  Don't use "&function"; functions are like arrays, their address is
	their name.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm7_9_common.c: ARM7/ARM9:
	help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Fix the User's Guide in a few places to be more consistent (mostly
	to use brackets not parentheses) and to recognize that parameter may
	be entirely optional (in which case the command just displays
	output, and changes nothing).  Also reference NXP, not Philips, for
	LPC chips.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm_adi_v5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/cortex_a8.c, src/target/cortex_m3.c: 
	ARMv7: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines, remove some empties.  Add a couple comments about things that should change:  those extra
	TCK cycles for MEM-AP reads are in the wrong place (that might
	explain some problems we've seen); the DAP command tables should be
	shared, not copied.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/etb.c, src/target/etm.c, src/target/etm_dummy.c,
	src/target/oocd_trace.c: ARM ETM/ETB/trace: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; no
	angle brackets in either place.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines, remove some empties.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c, src/target/target_request.c,
	src/target/trace.c: target misc: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines; remove some empties.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate (mostly they display something w/no args).  Usage syntax messages have the same EBNF as the User's Guide.  In
	some cases, *exactly* what the user's guide shows... e.g.  talking
	about "offset" not "address" for trace_image.  Don't use "&function"; functions are like arrays, their name is
	their address.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips_m4k.c: MIPS: change bulk_write_memory fallback msg
	to LOG_DEBUG Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32.h, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h: MIPS: whitespace cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32_pracc.c, src/target/mips_m4k.c: MIPS: fastdata
	bulk write fallback If fastdata access fails, then fallback to default
	mips_m4k_write_memory Remove unnecessary fastdata loader verify
	check Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/driver.c: buildfix with -DNDEBUG Don't save that state unless its only user, an assertion, is
	compiled.  Saving it broke a cygwin build.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/configuration.c: don't require 'openocd.cfg' to start Starting the daemon with with just a bare "openocd" I saw: 	Can't find openocd.cfg That's not an error; don't treat it as if it were.  There may be an
	error later -- like, "no interface set up" -- but let messages only
	report real errors, not fake ones.

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ARM: add
	#defines for JTAG ack codes JTAG has only two possible JTAG ack codes for APACC and DPACC
	register reads/writes.  Define them, and remove empty "else" clause
	in the code which now uses those codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM: add comments re DAP assumptions I think some of these assumptions are not well-founded.  Related,
	that swjdp_transaction_endcheck() is a bit iffy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32_pracc.c: MIPS: pracc access tweaks reorder the pracc access so we can save a few access cycles Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/pic32mx.cfg: PIC32: enable ram execution add reset-init script to allow ram execution from reset, this is
	required for ejtag fastdata access.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_m4k.c: MIPS: optimize pracc
	access remove unnecessary nops when accessing ejtag pracc general fastdata
	patch cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/parport.c: parport: output port as hex rather
	than dec Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-16  David Claffey <dnclaffey@gmail.com>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: MIPS: merge mips fast_data patch from David
	N. Claffey Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb: fix regression in gdb_port command The gdb_port command can be invoked during normal execution to
	report the port used for gdb, whereas it was listed as CONFIG stage
	only, which caused an error when excuting it to return the reported
	error.  Also in line with the grander goal of making more commands available
	during all "modes" (perhaps retiring config mode), there is no
	particular reason to limit gdb_port to the config stage.  Regression was introduced in: b3bf1d12b2fdfba1c1cbee3e1afbfbb27cbd1a26 aka v0.4.0-rc1-32-gb3bf1d1 Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-04  Johannes Stezenbach <js@sig21.net>

	* contrib/openocd.udev: update udev rules for new udev version New versions of udev (148+) emit the following warnings: udevd[425]: BUS= will be removed in a future udev version,   please use SUBSYSTEM= to match the event device, or   SUBSYSTEMS= to match a parent device, in
	  /lib/udev/rules.d/60-openocd.rules:1 udevd[425]: SYSFS{}= will be
	  removed in a future udev version, please use ATTR{}= to match the
	  event device, or ATTRS{}= to match a parent device, in
	/lib/udev/rules.d/60-openocd.rules:4 udevd[425]: SYSFS{}= will be
	  removed in a future udev version, please use ATTR{}= to match the
	  event device, or ATTRS{}= to match a parent device, in
	/lib/udev/rules.d/60-openocd.rules:7 ...  See also http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=560141 [dbrownell@users.sourceforge.net: add IDs for Stellaris ICDI, Olimex
	Tiny-H] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c: ARMv7-M:  use AP_REG_* symbol Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: FT2232: fix doc typo Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/ft2232.c: JTAG/drivers: ft2232 docs Add doxyegen description for this driver.  Correct the helptext (configures *or* displays based on #params),
	and usage (use the same BNF as the User's Guide).  Remove superfluous #include Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/amt_jtagaccel.c: JTAG/Drivers: Amontec JTAG
	accelerator fixes Remove superfluous #include.  Correct the helptext (configures *or* displays based on #params),
	and usage (use the same BNF as the User's Guide).  Add doxygen -- file-level description and a @todo for doing RTCK
	correctly.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/amt_jtagaccel.c: JTAG: Amontec JTAG accelerater
	"rtck" is back The command processing conversion a while back lost the "rtck"
	enable/disable command; restore it.  NOTE that having such a command is wrong; there's a standard way to
	enable adaptive clocking ("speed 0").  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/arm-jtag-ew.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/gw16012.c, src/jtag/drivers/jlink.c,
	src/jtag/drivers/parport.c, src/jtag/drivers/presto.c,
	src/jtag/drivers/usbprog.c, src/jtag/drivers/vsllink.c: 
	JTAG/drivers: cleanup jtag_interface structs Get rid of excess indents.  Ditto superfluous "&" before function
	pointers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/drivers/amt_jtagaccel.c: JTAG/drivers: amt_jtagaccel
	fixes + cleanup Build fixes:  it failed abysmally with PPDEV enabled.  Swapped a
	build-time error with a FIXME comment in the affected macros.  Cleanup: remove "&" before function pointers, and excess indent, for
	the interface struct declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ARM: ADIv5 JTAG
	symbol cleanup Rename DAP_IR_* as JTAG_DP_* since those symbols are specifically
	for JTAG-DP (or SWJ-DP in JTAG mode), and won't work with SWD.
	Define the JTAG ABORT and IDCODE instructions for completeness; add
	a comment about where to (someday) use ABORT.  Fix messaging which assumes everything is an SWJ-DP; say "JTAG-DP"
	instead, it's at least more appropriate for all JTAG transports.  Shrink the affected lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM: dap info fix + tweaks Fix: don't print the BASE address except if it's a MEM-AP; that's an
	unlikely error, but there's no point getting it wrong.  Tweaks:
	comments, capitalization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ARM: ADIv5
	export cleanup Make some private functions "static".  Remove their public
	declarations, and what is now an obviously unused function.  Shrinks
	this object's size (about 5% on x86_64) while making the code's
	scope easier to understand.  Shrink the affected lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: ARM: ADIv5
	symbol and comment cleanup Instead of magic numbers, use their AP_REG_* constants.  Rename the
	ROM address symbol as BASE to match ARM's documentation.  Comment various other symbols in the header; add some missing ones.
	Remove an unused struct.  Add some doxygen for stuff including the
	DAP structure and initialization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: minor breakpoint cleanup Shrink some lines, add some comments, simplify some tests.  During
	debug startup, log the core revision level too.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/flash/nor/stellaris.c,
	src/helper/command.c, src/server/gdb_server.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/target.c, src/target/trace.c: 
	streamline and document helptext mode displays Most commands are usable only at runtime; so don't bother saying
	that, it's noise.  Moreover, tokens like EXEC are cryptic.  Be more
	clear: highlight only the commands which may (also) be used during
	the config stage, thus matching the docs more closely.  There are  - Configuration commands (per documentation)  - And also some commands that valid at *any* time.  Update the docs to note that "help" now shows this mode info.  This also highlighted a few mistakes in command configuration,
	mostly commands listed as "valid at any time" which shouldn't have
	been.  This just fixes ones I noted when sanity testing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Dean Glazeski <dnglaze@gmail.com>

	* src/helper/command.c: Fix usage/help search for subcommands.  This makes it so that the usage/help command properly uses the whole
	command, including subcommand, in the search for help information.
	This previously caused erroneous output from the usage command
	handler.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-01  Dean Glazeski <dnglaze@gmail.com>

	* src/helper/command.c: Add the current command to the command
	information I wanted to make it so I can be ignorant of a commands invocation
	string, so I tried to use CMD_CURRENT (aka cmd->current) which is
	supposed to house a pointer to the current command.  It turns out
	that this wasn't being set.  This patch adds the current command structure to the command
	invocation structure before sending it along to the command handler.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/interface/flashlink.cfg: Added ST FlashLINK interface config
	file.  The relevant cable config is already in OpenOCD, but not a config
	for the JTAG adapter.  I have tested with FlashLINK on ARM926.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: warn about the forum Namely, that developers don't hang out; it's a users-only club.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Dean Glazeski <dnglaze@gmail.com>

	* .gitignore: Remove some more Eclipse stuff from Git's eyes.  This adds the .settings folder and the .cproject file put down by
	Eclipse from the eyes of Git.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm7_9_common.c, src/target/target.c: ARM7_9: Fix
	segfaults Handlers for commands  - arm7_9 semihosting <enable | disable>  - $_TARGETNAME arp_reset assert 1 didn't check if target has
	already been examined, and could segfault when using the NULL
	pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Antonio Borneo <borneo.antonio@gmail.com>

	* BUGS, NEWS-0.2.0, NEWTAPS, PATCHES, README.Win32, TODO,
	bootstrap, configure.in, doc/manual/primer/commands.txt,
	doc/manual/release.txt, doc/manual/server.txt, doc/openocd.texi,
	ecosflash/notes.txt, src/server/httpd/menu.xml,
	src/server/httpd/menu.xsl, src/server/httpd/menuweb.css,
	src/server/httpd/readme.txt, testing/examples/PIC32/readme.txt,
	testing/index.html, testing/profile_stm32.txt,
	testing/smoketests.html, testing/testcases.html: whitespace cleanup,
	mostly for docs Remove useless space/tab at end of lines.  Remove spaces in
	indentation and replace with tab.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm9tdmi.c: ARM9TDMI: Fix segfault.  The handler for "arm9tdmi vector_catch ..." did not check if target
	has already been examined.  Without this fix it segfaults when using
	NULL pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Antonio Borneo <borneo.antonio@gmail.com>

	* tcl/interface/parport_dlc5.cfg: Fix parport_dcl5 config file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2009-12-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: add zy1000_ prefix to uart command less polution of the general namespace(preventive action, no
	problems reported).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: unlock flash upon startup for revc Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: reconfigure FPGA upon reset instead of
	just the CPU Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: firmware upgrade fixes for revc Use ecos firmwareutil upgrade utilities Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h: zy1000: less warnings use inline for static functions in header files to avoid warnings
	about fn not being used.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* tcl/board/open-bldc.cfg: Added Open-BLDC board config file.

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* tcl/interface/flossjtag.cfg: Added floss-jtag interface config
	file.

2009-12-28  Freddie Chopin <freddie_chopin@op.pl>

	* src/flash/mflash.c, src/flash/nand/tcl.c, src/flash/nor/tcl.c,
	src/target/target.c: MinGW build fixes Print "ssize_t" as "%ld" (+ cast to long) not as "%zu".  Official
	MinGW (gcc 3.4.5) doesn't understand "z" flag.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  Freddie Chopin <freddie_chopin@op.pl>

	* src/flash/nor/stm32x.c: stm32x commands get "usage" Add .usage fields to stm32x command_registration, so that "help
	stm32x" shows required parameters.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/jtag/drivers/ft2232.c,
	tcl/board/ek-lm3s3748.cfg, tcl/interface/luminary-icdi.cfg,
	tcl/interface/luminary-lm3s811.cfg, tcl/interface/luminary.cfg: Fix
	Luminary FT2232 layout docs/configs Most of this patch updates documentation and comments for various
	Luminary boards, supporting two bug fixes by helping to make sense
	of the current mess:  - Recent rev C lm3s811 eval boards didn't work.  They must use    the ICDI layout, which sets up some signals that the older    boards didn't need.  This is actually safe and appropriate    for *all* recent boards ... so just make "luminary.cfg" use    the ICDI layout.   - "luminary-lm3s811.cfg", was previously unusable!  No VID/PID;    and the wrong vendor string.  Make it work, but reserve it    for older boards where the ICDI layout is wrong.   - Default the LM3748 eval board to "luminary.cfg", like the    other boards.  If someone uses an external JTAG adapter, all    boards will use the same workaround (override that default).  The difference between the two FT2232 layouts is that eventually the
	EVB layout will fail cleanly when asked to enable SWO trace, but the
	ICDI layout will as cleanly be able to enable it.  Folk using
	"luminary.cfg" with Rev B boards won't see anything going wrong
	until SWO support is (someday) added.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* src/flash/nor/core.c: NOR: last_addr also needs correction when
	checking alignment Otherwise the new alignment checking algorithm thinks that the
	address is not aligned, because it is way beyond the last sector.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-27  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/dm365evm.cfg: create tcl/board/dm365evm.cfg This config is only lightly tested, and doesn't work well yet; but
	it's a start.   * Notably missing is PLL configuration, since each DaVinci    does that just a bit differently; and thus DDR2 setup.   * The SRST workaround needed for the goof in the CPLD's VHDL    depends on at least the not-yet-merged patch letting ARM9    (and ARM7) chips perform resets that don't use SRST.  So this isn't yet suitable for debugging U-Boot.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-27  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/flash/nor/core.c: NOR: make
	flash_write_unlock() pad to sector end Resolve a regression when using newish automagic "write_image"
	modes, by always padding to the end of affected sectors.  Also document some issues associated with those automagic options,
	in the User's Guide and also some related code comments.  We might need similar padding at the *beginning* of some sectors,
	but this is a minimalist fix for the problems which have currently
	been reported (plus doc updates).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  Catalin Patulea <cat@vv.carleton.ca>

	* NEWS, configure.in, doc/openocd.texi, src/Makefile.am,
	src/jtag/drivers/Makefile.am, src/jtag/drivers/usb_blaster.c,
	src/jtag/interfaces.c, tcl/interface/altera-usb-blaster.cfg,
	tcl/interface/usb-jtag.cfg: Driver for USB-JTAG, Altera USB-Blaster
	and compatibles The 10-pin JTAG layout used with these adapters is used by a variety
	of platforms including AVR.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* tcl/board/olimex_sam9_l9260.cfg: Olimex SAM9-L9260 board
	configuration update.  This updates the board configuration for the SAM9-L9260 board with
	the configuration for the on-board NAND and dataflash.  Included are
	commands for configuring the AT91SAM9 NAND flash driver.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c, src/target/xscale.c: ARM: add comment re
	register exports Modern versions of GDB can understand VFP3 and iwMMXt hardware.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: update GDB info Advise leaving background polling enabled; fix broken URL; add
	simple program startup example.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/tcl.c: NOR: messaging fix Fix syntax error:  default to "wrote N bytes"; writing a single byte
	is an unusual case, not the normal one.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/core.c: NOR: Allocate the right amount of memory Switch to calloc() to simplify review and initialization.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/mflash.c, src/helper/jim.c, src/server/gdb_server.c,
	src/server/tcl_server.c, src/server/telnet_server.c, src/svf/svf.c: 
	cygwin 1.7 build fixes It's less accepting of signed char ... insisting that e.g. tolower()
	not receive one as a parameter.  It's probably good to phase out such usage, given the number of bugs
	that lurk in the vicinity (assumptions that char is unsigned), so
	fix these even though such usage is actually legal.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  Antonio Borneo <borneo.antonio@gmail.com>

	* src/jtag/drivers/parport.c: PARPORT code cleanup: Align elements in array.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: Restore "-dev" version suffix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: v0.4.0-rc1 milestone Winter Solstice, 2009.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/flash/nand/Makefile.am: Packaging fix, NEWS update Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/Makefile.am: Packaging fix Don't forget to list target/arm_opcodes.h Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-20  Oyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: help: list all commands that match string Restore behavior where help lists all commands that match string
	passed to help.  Signed-off-by: Oyvind Harboe <oyvind.harboe@zylin.com>

2009-12-20  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: cleanup Misc:  - Introduce some "struct reg" temporaries, for clarity  - Shorten lines  - Add some missing whitespace  - Clean up comments  - Add notes about some fault handling issues  - Most of these errata workarounds are for *OLD* chip revisions Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: recognize ARM11 MPCore And add my copyright.  MPCore is untested, but it's the only other
	ARM11 core to care about.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  Antonio Borneo <borneo.antonio@gmail.com>

	* src/target/arm7_9_common.c: arm7_9: Support VINITHI signal Command "reset halt" checks if PC properly resets, issueing warning:
	"PC was not 0. Does this target need srst_pulls_trst?".  Checking PC
	against 0 is not always correct.  Removed PC value check, as suggested by Øyvind Harboe.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: U-PROPRIET-28D9DF\PROPRIETAIRE
	<PROPRIETAIRE@propriet-28d9df.(none)>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nand/at91sam9.c, src/flash/nor/core.c: cygwin build
	fixes and shrink some too-long lines Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* doc/openocd.texi, src/flash/nand/Makefile.am,
	src/flash/nand/at91sam9.c, src/flash/nand/driver.c: AT91SAM9 NAND
	flash driver.  This creates the TCL interface for configuring an AT91SAM9 NAND
	flash controller and implements the necessary functions to correctly
	work with a NAND flash device connected to the chip.  This includes
	updates to the driver list and the Makefile.am to support building
	the driver and also houses the documentation update in openocd.texi.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/oocd_trace.c: oocd_trace buildfixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/target/etm.c: ETM: add "etm
	trigger_debug" command In conjunction with manual register setup, this lets the ETM trigger
	cause entry to debug state.   It should make it easier to test and
	bugfix the ETM code, by enabling non-trace usage and isolating bugs
	specific to thef ETM support.  (One current issue being that trace
	data collection using the ETB doesn't yet behave.) For example, many ARM9 cores with an ETM should be able to implement
	four more (simple) breakpoints and two more (simple) watchpoints
	than the EmbeddedICE supports.  Or, they should be able to support
	complex breakpoints, incorporating ETM sequencer, counters, and/or
	subroutine entry/exit criteria int criteria used to trigger debug
	entry.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/etm.c, src/target/etm.h: ETM: more ETM_CTRL bit cleanup Change handling of the CYCLE_ACCURATE, BRANCH_OUTPUT, and TRACE_*
	flags; also the CONTEXTID size values.   - Convert to symbols matching the actual register bits, instead of    some random *other* bits (and then correcting that abuse).   - Get rid of a now-needless enum.   - Keep those values in etm->control, and remove etm->tracemode.  These values all affect the trace data that's recorded by a trace
	pod or in the ETB.  I modified the file format used to dump ETB
	data; since it's fairly clear nobody can use this mechanism now,
	this can't cause anyone trouble.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/etb.c, src/target/etm.c, src/target/etm.h: ETM: start
	cleaning up ETM_CTRL bit handling Provide better comments for the ETM_CTRL bits; use the correct bit
	for half/full clock mode; and define a few more of the bits
	available from the earliest ETM versions.  The new bit defintions use ETM_CTRL_* names to match their register
	(instead of ETM_PORT_* or ETMV1_*).  For clarity, and better
	matching to docs, they are defined with bitshifting not pre-computed
	masks.  Stop abusing typdefs for ETM_CTRL values; such values are not
	limited to the enumerated set of individual bit values.  Rename etm->portmode to etm->control ... and start morphing it into
	a single generic shadow of ETM_CTRL.  Eventually etm->tracemode
	should vanish, so we can just write etm->control to ETM_CTRL.  Restore an "if" that somehow got dropped.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/target/etb.c, src/target/etb.h,
	src/target/etm.c, src/target/etm.h: ETM trigger_percent becomes an
	ETB command This command was misplaced; it's not generic to all traceport
	drivers, only the ETB supports this kind of configuration.  So move
	it, and update the relevant documentation.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: mention libftdi 0.17

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/flash/nor/core.c: NOR FLASH: only erase/unlock whole
	sectors Much to my surprise, I observed a "flash erase_address ..." command
	erasing data which I said should not be erased.  The issue turns out to be generic NOR flash code which was silently,
	and rather dangerously, morphing partial-sector references into
	unrequested whole-sector ones.  This patch removes that low-level morphing.  If desired, it can and
	should be done in higher level code.  (We might need to fix some
	stuff in the GDB server code.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/tcl.c: Subject: flash fill[bwh] should use bulk i/o It's currently allocating a big buffer but writing it out in units
	of sizeof(host's pointer) ... sub-optimal.  Plus fix a couple minor coding style goofs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: fix min buffer length checks Word count == size/4; cope.  And increase buf_min so it's large
	enough to cover the overhead in my tests.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: better {read,write}_phys() We can actually do the right thing if the MMU is off; save the error
	message for the phys-but-MMU-enabled path, which is what isn't yet
	supported.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/dsp563xx.c: dsp563xx: cygwin build fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: update bulk flash writes Try to right-size the SRAM buffers, by not:  - using them for very small writes  - giving up when a large buffer isn't available  - allocating buffers much larger than their data Also don't:  - bother loading the code unless we allocate the writebuffer too  - be so verbose with messaging:     * be more concise     * reduce importance (e.g. DEBUG not WARNING)     * remove duplication The minimum buffer size is something of a guess.  It's eight times
	smaller than before, almost the same size as the code being
	downloaded.  It probably deserves some tuning.  Also, note an erratum affecting flash protection on some chips; and
	narrow many over-wide lines affected by the above changes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand/core.c, src/flash/nand/core.h: NAND write data page
	refactoring.  Refactored the write page raw function into two new functions for
	writing data to a NAND device and then another function to finish up
	a write to a NAND device.  This includes some new updates to
	introduce more error checking to existing code.  [dbrownell@users.sourceforge.net: fix fault handling, whitespace] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand/core.c, src/flash/nand/core.h: NAND read data page
	refactor.  Added a new function to encapsulate reading a page of data from a
	NAND device using either the read_block_data function of a NAND
	controller or to use direct reading of data from the NAND device.  This also adds some performance enhancements and uses the read_data
	function if the read_block_data function fails safely (because it
	can't allocate a buffer in the working area).  [dbrownell@users.sourceforge.net: fix fault handling, whitespace] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/target/aduc702x.cfg, tcl/target/faux.cfg,
	tcl/target/lpc2900.cfg, tcl/target/mega128.cfg,
	tcl/target/pic32mx.cfg, tcl/target/sam7se512.cfg,
	tcl/target/sam7x256.cfg, tcl/target/str710.cfg,
	tcl/target/str730.cfg, tcl/target/str750.cfg, tcl/target/str912.cfg: 
	target.cfg: update to use new flash configuration syntax Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/interface/arm-usb-ocd-tiny.cfg: Remove duplicate Olimex-"tiny"
	interface We already have tcl/interface/olimex-jtag-tiny.cfg and don't need a
	clone of it.

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/tcl.c: JTAG: shrink "scan_chain" output Tweak the "scan_chain" output by removing column separators.  Also
	remove the "current instruction" state ... which changes constantly.  Now its style resembles the "targets" output, and can even fit on
	one line in standard terminals and in the PDF docs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c, src/flash/nor/stellaris.h: stellaris:
	comments Someday revisit various issues:  Tempest parts support writing more
	than one word at a time; for some target firmware it might be
	necessary to save and restore flash IRQ configuration.  (The safest
	policy is likely to always reset after flash updates.) Plus swap some undesirable TAB characters with SPACE.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: probe() cleanups Fix potential memory leak:  make sure the per-bank data structures
	are only allocated in probe(), and that calling probe() multiple
	times is a NOP.  Use it for auto_probe().  Require probe() to have done its thing:  don't make access routines
	cope with it not having been called.  Shrink a bunch of failure
	paths; and in some cases, correct them.  Don't needlessly insist on a halted target for probe().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: remove needless code No point in reading and discarding a status value when fetching part
	description data.  Or having that needless "#if 0" code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: stellaris: avoid chip writes Previously "reading" clock info (and part info) also, as a side
	effect, wrote the flash timing register.  Instead, be more safe:
	"reading" should only read.  Write paths still refresh timing,
	coping with changes the application code may have made.  Also rename the routine which sets flash timing, indicating what
	it's really doing; it's got nothing to do with a "mode".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/tcl.c: NOR: bugfix "flash fill[bwh] ..." helptext These commands don't have a "bank" parameter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: removed some redundant include spotted by lint.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/Makefile.am, src/helper/time_support.c,
	src/helper/time_support_common.c, src/helper/time_support_ecos.c: 
	ecos: crisper implementation of timeval_ms() A crisper/faster implementation under eCos that makes profiling a
	tad easier.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/server.c: server: server loop will exhaust data inputs
	before sleeping By exhausting data on input, the performance will be more consistent
	+ the code more clearly distinguishes between polling and
	processing. A test showed gdb packet load performance go from
	~1550kByte/s to 1650kBytes/s + being more stable.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/at91eb40a.cfg, tcl/board/at91sam9g20-ek.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/mini2440.cfg,
	tcl/board/str910-eval.cfg, tcl/board/zy1000.cfg,
	tcl/target/ar71xx.cfg, tcl/target/c100.cfg, tcl/target/lpc2900.cfg,
	tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: more
	tcl/{board,target} cleanup Remove more remnants of the old "jtag_device" syntax.  Don't [format "%s.cpu" $_CHIPNAME] ... it's needless complexity.  Remove various non-supported "-variant" target options; they're not
	needed often at all.  Flag some of the board files as needing to have and use target files
	for the TAP and target declarations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/is5114.cfg,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg: 
	testing/examples/.../*cfg: rm jtag_device calls That syntax has been obsolete forever and is now gone; remove a few
	remaining references.  Shows how seldom this stuff gets used.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: use all-ones for BYPASS, not
	five-ones PXA3xx has more than five bits in IR.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  mkdorg@users.sourceforge.net <mkdorg@users.sourceforge.net>

	* doc/openocd.texi, src/target/Makefile.am, src/target/dsp563xx.c,
	src/target/dsp563xx.h, src/target/dsp563xx_once.c,
	src/target/dsp563xx_once.h, src/target/target.c,
	tcl/interface/arm-usb-ocd-tiny.cfg, tcl/target/dsp56321.cfg: target:
	add basic dsp563xx support

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: keep up with command.h cleanup Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.h: command: retire obsolete macro COMMAND_REGISTER() was only used transiently during code conversion.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/imx31.cfg: imx31: move srst delay into config script reset init/run now works again.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: improved reset support Teach ARM11 how to use:  - the new "reset-assert" event  - vector catch to implement "reset halt"  - use SRST more like other cores do  - ... including leaving post-SRST delays up to config scripts This gives OMAP2420 the ability to reset, and doesn't seem to cause
	new iMX31 problems.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: disassemble STM correctly There is no "STMMIDA" instruction.  There is however "STMDAMI".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/ek-lm3s3748.cfg, tcl/target/lm3s3748.cfg: lm3748: use
	new Stellaris config file Use the new file, and remove the old target/lm3s3748.cfg one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  Yegor Yefremov <yegorslists@googlemail.com>

	* tcl/target/stellaris.cfg: Common target file for Stellaris chips Common target.cfg file for LM3S CPU family [dbrownell@users.sourceforge.net: rename, generalize more] Signed-off-by: Yegor Yefremov <yegorslists@googlemail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  Eric Wetzel <thewetzel@gmail.com>

	* src/flash/nor/stellaris.c: stellaris: device IDs I added the remaining devices and device IDs to stellaris.c, and
	removed several devices that don't exist on the Stellaris web page.  Additionally, I found a few devices with duplicate IDs ... the DID1
	Version Number for LM3Sxxx parts have DID1 Version = 0x0, and for
	LM3Sxxxx have DID1 Version = 0x1. So I extended the comparison to
	use the VER and FAM fields from DID1 also.  ID=0x33: LM3S812 (DID1v0) and LM3S2616 (DID1v1) ID=0x39: LM3S808
	(DID1v0) and LM3S2276 (DID1v1) These are the parts I removed from the file for lack of
	documentation (no data sheet to confirm part ID):   LM3S318,   LM3S1101, LM3S1108,   LM3S1615, LM3S1616,   LM3S2016,   LM3S2101, LM3S2108,   LM3S3759, LM3S3768,   LM3S5757, LM3S5767, LM3S5768, LM3S5769,   LM3S6815, LM3S6816,   LM3S6915, LM3S6916,   LM3S6111, LM3S6118.  Also, sort devices according to part number.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c: jtag: add '-ignore-version' option Add a "-ignore-version" to "jtag newtap" which makes the IDCODE
	comparison logic optionally ignore version differences.  Update the "scan_chain" command to illustrate this by showing the
	"*" character instead of the (ignored) version nibble.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm.h, src/target/arm11.h, src/target/arm11_dbgtap.h,
	src/target/arm720t.h, src/target/arm7_9_common.h,
	src/target/arm7tdmi.h, src/target/arm920t.h,
	src/target/arm926ejs.h, src/target/arm966e.h,
	src/target/arm9tdmi.h, src/target/arm_adi_v5.h,
	src/target/armv4_5_mmu.h, src/target/armv7a.h, src/target/armv7m.h,
	src/target/cortex_a8.h, src/target/cortex_m3.h,
	src/target/embeddedice.h, src/target/etm.h, src/target/etm_dummy.h,
	src/target/mips32.h, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.h, src/target/oocd_trace.c,
	src/target/oocd_trace.h, src/target/xscale.h: target files shouldn't
	#include <target/...h> Make these ".h" files adopt the same policy the ".c" files already
	follow:  don't use <subsystem/...h> syntax for private interfaces.  If we ever get reviewed/supported "public" interfaces they should
	come exclusively from some include/... directory; that'll be the
	time to switch to <...> syntax for any subsystem's own interfaces.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/testee.c: target: further
	shrink Jim-awareness Don't include <helper/jim.h> from target.h ... not everything which
	touches targets needs to be able to talk to Jim.  Plus, most files
	include this header by another path.  Also, switch the affected files to use the classic sequence for
	#included files:  all <framework/headers.h> first, then the
	"local_headers.h".  This helps prevent growth of problematic
	layering, by minimizing entanglement.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-12  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/lpc2000.c: LPC2000: rename "r13_svc" as "sp_svc" This driver didn't get updated when the name changed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: ARM11: avoid
	pointless status returns For some routines that only returned ERROR_OK and where the caller
	never checked ... don't bother.  Remove some noise, and bugfix some
	comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand/imp.h, src/flash/nand/tcl.c: add missing call to
	add new NAND devices I forgot to add a call to the newly factored nand_device_add(),
	along with its forward declaration.

2009-12-11  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/tcl.c: fix 'write_image' usage information The 'flash write_image' command erroneously listed the bank number,
	when it actually uses target addresses to do that lookup for the
	user.

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c, src/target/arm_dpm.h: ARM DPM: support
	updating HW breakpoints Abstract the DPM breakpoint and watchpoint data structures to have a
	shared core for housekeeping.  Abstract the code updating the watchpoint registers so that it can
	be used to update breakpoint registers.  Then do so, when something
	has set up the breakpoint state used by this code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: disassembly fixes for
	LDC/STC/MRRC/MCRR Properly detect all of these, including the "2" variants; and bugfix
	parameter display for LDC and STC.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11_dbgtap.c: ARM11: minor
	cleanup, mostly ITR comments ITR register handling seemed to be giving me problems, so I updated
	the comments to better say what the code is trying to do ... and to
	note the preconditions (one of which seems to be an issue) as listed
	in the ARM1136 TRM.  Also removed the unused "ARM11_TAP_DEFAULT" from the ITR scan code;
	all the callers already specify an exit path, since this register
	isn't usable with such vague semantics.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/openocd.c, src/server/server.c, src/server/server.h: server:
	add server_preinit which is called before config file is parsed.  This fixes the issue under native win32 of the socket interface not
	being enabled (via WSAStartup) before init is called from a script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/jtag/drivers/jlink.c: build: fix cygwin build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: gdb_server: use more local variables in
	inner loop of fetching packetstiny refactoring to allow optimisation
	of inner loops Some profiling information for arm7 16MHz GDB load operation shows
	gdb_get_packet_inner() near the very top.  Each sample counts as 0.01 seconds.    %   cumulative   self              self     total  time   seconds   seconds    calls  Ts/call  Ts/call  name  52.91      2.27     2.27
	 embeddedice_write_dcc 11.89      2.78     0.51
	  gdb_get_packet_inner 8.86      3.16     0.38
	  memcpy 3.26      3.30     0.14
	  idle_thread_main(unsigned int) 3.03      3.43     0.13
	cyg_in_cksum Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c, src/server/gdb_server.h: gdb_server: make
	struct gdb_connection private it is only used inside gdb_server.c Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/embeddedice.h: optimisation: tiny optimisation for
	embedded ice use two shift operations instead of three to set embedded ice
	register.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm_jtag.c, src/target/arm_jtag.h: embedded hosts:
	optimize common code path for core arm operations avoid fn call for the if check on whether anything needs to be done.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c: anotyer cygwin compile fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c: 
	zy1000: revc FPGA now works remove kludge code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_opcodes.h: ARM: update arm_opcodes.h copyright I neglected to copy Magnus' copyright when I moved several
	declarations from the ARMv7-M header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/stellaris.c, src/flash/nor/stellaris.h: stellaris:
	flash protection updates, minor fixes Bugfix the read side of flash protection:  - read the right register(s)!  - handle more than 64K  - record the results in the right places  - don't display garbage.  Partially bugfix the write side:  - use 2KB lock regions instead of 1KB pages (!)  - validate input range  - don't try to _remove_ protection (it's write-once)  - #define values we'll need to commit writes.   - ... still doesn't handle pages over 64KB mark, or commit writes And minor cleanup and fixes:  - get rid of some forward decls  - properly locate a doxygen comment  - fix some bad indentation  - remove superfluous #include  - add a new part ID (many are still missing)  - make the downloaded algorithm code be read-only Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nand/driver.h, src/flash/nor/imp.h, src/jtag/jtag.h,
	src/target/arm_opcodes.h, src/target/embeddedice.c: Comment and
	doxygen fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/target/etm.c: ETM: only include oocd_trace.h when tracing
	enabled.  Fixes build issue on systems that do not have <termios.h>,
	eg native win32.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-08  Rafael Campos Las Heras <methril@gmail.com>

	* src/jtag/drivers/bitq.c: Fix compilation error with gcc 4.4.1 Signed-off-by: Rafael Campos Las Heras <methril@gmail.com>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/target.c: target: remove
	more exit() calls These were all basically "can't happen" cases ... like having state
	be corrupted by an alpha particle after the previous check for
	whether a value was in-range.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.h, src/target/etm.c, src/target/target.c,
	src/target/target.h: target: remove needless "extern"s Most of these happened to be in the target.h file.  Some of those are associated with symbols that could be removed at
	some point ... e.g. NVP_ASSERT/true and its sibling
	NVP_DEASSERT/false.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm.h, src/target/arm7_9_common.c,
	src/target/arm9tdmi.c, src/target/armv7m.h, src/target/cortex_m3.c: 
	target: move 'extern' decls to *.h files The exception being declarations for drivers.  Those should be split
	out in some clean way -- like driver add/remove calls made by
	initialization code -- but that's for another day.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: cygwin complile fixes It's as if despite integers being 32-bits, GCC refuses to convert a
	"uint32_t" to one of them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: some background info on the
	zy1000 file.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* .gitignore, src/jtag/Makefile.am, src/jtag/commands.c,
	src/jtag/commands.h, src/jtag/core.c, src/jtag/drivers/driver.c,
	src/jtag/drivers/minidriver_imp.h, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/minidriver/minidriver_imp.h,
	src/jtag/minidummy/minidummy.c: minidriver: fix inline capability of
	minidriver Low latency low CPU processing power systems(embedded) will benefit
	greatly from being able to inline certain jtag_add_xxx() fn's. The
	trick is that this has to be done in such a way as to allow
	implementing an OpenOCD API with a shared library(eventually) on a
	PC hosted OpenOCD.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: remove unecessary include Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/Makefile.am, src/flash/Makefile.am,
	src/flash/nand/Makefile.am, src/flash/nor/Makefile.am,
	src/helper/Makefile.am, src/jtag/Makefile.am,
	src/jtag/drivers/Makefile.am, src/pld/Makefile.am,
	src/server/Makefile.am, src/svf/Makefile.am,
	src/target/Makefile.am, src/xsvf/Makefile.am: build: add build/src
	to include path This allows including generated include files.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: cope with stupidheaded
	compiler Some versions of GCC don't understand that if you mask with 0x3 then
	have cases 0-3, it's not possible for a variable assigned in all
	those branches to have no value at end-of-case.  Feh.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/cortex_m3.c,
	src/target/embeddedice.c, src/target/xscale.c: ARM: list number of
	HW breakpoints/watchpoints When starting up, say how many hardware breakpoints and watchpoints
	are available on various targets.  This makes it easier to tell GDB how many of those resources exist.
	Its remote protocol currently has no way to ask OpenOCD for that
	information, so it must configured by hand (or not at all).  Update the docs to mention this; remove obsolete "don't do this"
	info.  Presentation of GDB setup information is still a mess, but at
	least it calls out the three components that need setup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv7m.c, src/target/mips32.c,
	src/target/target.c, src/target/target.h: target: add
	debug_reason_name() Provide and use debug_reason_name() instead of expecting targets to
	call Jim_Nvp_value2name_simple().  Less dependency on Jim, and the
	code becomes more clear too.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/xscale.c: ARM: don't clone
	arm_arch_state() code Have various ARM cores delegate to arm_arch_state() to display basic
	information, instead of duplicating that logic.  This shrinks the code, makes them all report when semihosting is
	active, and highlights which data are specific to this core.  (Like
	ARM720 not having separate instruction and data caches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: add quickie setup notes Add a brief "setup with no customization" note showing the how
	easily things can work if standard OpenOCD config scripts already
	exist.  We've had some new users comment that this information is
	needlessly hard to find, so that starting to use OpenOCD is more
	difficult than it should be.  Plus describe a few other issues that come up when setting up an
	OpenOCD server.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nand/arm_io.c, src/flash/nand/orion.c,
	src/flash/nor/aduc702x.c, src/flash/nor/cfi.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c,
	src/target/Makefile.am, src/target/arm.h, src/target/arm11.h,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm_dpm.c, src/target/arm_semihosting.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.h, src/target/armv7m.h,
	src/target/etb.c, src/target/etm.c, src/target/etm_dummy.c,
	src/target/oocd_trace.c, src/target/xscale.c, src/target/xscale.h: 
	ARM: use <target/arm.h> not armv4_5.h Move most declarations in <target/armv4_5.h> to <target/arm.h> and
	update users.  What's left in the older file is stuff that I think should be
	removed ... the old register cache access stuff, which makes it
	awkward to support microcontroller profile (Cortex-M) cores.  The armv4_5_run_algorithm() declaration was moved too, even though
	it's not yet as generic as it probably ought to be.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv7a.c, src/target/cortex_a8.c, src/target/fa526.c,
	src/target/feroceon.c, src/target/xscale.c: ARM: rename some generic
	routines Rename some (mostly) generic ARM functions:     armv4_5_arch_state()       --> arm_arch_state()     armv4_5_get_gdb_reg_list() --> arm_get_gdb_reg_list()     armv4_5_init_arch_info()   --> arm_init_arch_info() Cores using the microcontroller profile may want a different
	arch_state() routine though.  (Also fix strange indentation in arm_arch_state: use tabs only! And
	update a call to it, removing assignment-in-conditional.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/nor/lpc2000.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_dpm.c,
	src/target/arm_opcodes.h, src/target/armv4_5.h,
	src/target/armv7a.c, src/target/armv7m.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/fa526.c, src/target/feroceon.c,
	src/target/xscale.c: ARM: move opcode macros to
	<target/arm_opcodes.h> Move the ARM opcode macros from <target/armv4_5.h>, and a few Thumb2
	ones from <target/armv7m.h>, to more appropriate homes in a new
	<target/arm_opcodes.h> file.  Removed duplicate opcodes from that v7m/Thumb2 set.  Protected a few
	macro argument references by adding missing parentheses.  Tightening up some of the line lengths turned up a curious artifact:
	the macros for the Thumb opcodes are all 32 bits wide, not 16 bits.
	There's currently no explanation for why it's done that way...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm920t.c, src/target/armv4_5.h: 
	ARM: remove mrc_opcode(), use MRC() or MCR() Get rid of mrc_opcode() in favor of ARMV4_5_MRC() or, where arm*20t
	should have used it, ARMV4_5_MCR() instead.  Basically, *writing* coprocessor registers shouldn't have used the
	*read* opcode ... and both should stick to standard opcode
	constructors, not rearranging parameter sequence any more than
	already needed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c: ARM: disassemble two more v6+
	instructions The SRS and RFE instructions speed exception entry/exit by making it
	easy to save and restore PC and SPSR.  This handles both ARM and
	Thumb2 encodings.  Fix minor PLD goofage; that "should never reach this point" can't
	happen, so remove it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c: ARM DPM: don't write low bits of watchpoint
	value The low two bits are defined as should-be-zero-or-presereved.  We'll
	take the zero option, it's easier to enforce.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap2420.cfg: OMAP2420: define reset-assert event Behave like OMAP3530:  force global software reset.  Given the patch
	to teach ARM11 how to use these events, and use VCR to catch the
	reset vector, this works better than either the current reset logic
	or than using SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: mention ETM on ARM11 comes up too Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* doc/openocd.texi, src/flash/nor/tcl.c, src/flash/startup.tcl: add
	'flash list', rewrite 'flash banks' Rename the existing 'flash banks' implementation as 'flash list',
	and replace the broken 'flash_banks' TCL wrapper with a new command
	handler.  Adds documentation for the new 'flash list' command in the user
	guide.

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* src/flash/startup.tcl: allow 'flash_banks' command to give GDB
	output The 'flash banks' command produces a list that needs to be formatted
	properly for GDB's 'mem info' to work properly.  The flash_banks TCL
	wrapper provided this formatting, but wrappers no longer work for
	second-level commands as they did in the past.  With this patch, the
	'flash_banks' command can be used with the new command syntax and
	display the required information.

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/tcl.c: fix NOR flash regression When factoring the bank setup command into flash_bank_add(), I
	forgot to include a call to the new helper.

2009-12-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/mflash.c, src/helper/jim.c, src/jtag/core.c,
	src/svf/svf.c: misc code review updates More updates from the code review by Steve Grubb
	<sgrubb@redhat.com>.  The Jim float-comparision bug just gets a
	comment not a fix, though.  Cc: Steve Grubb <sgrubb@redhat.com>.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Mathias Kuester <kesmtp@freenet.de>

	* src/flash/nor/non_cfi.c: NOR: add 29LV400BC flash device Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm7_9_common.c: ARM semihosting: use breakpoint on
	ARM7 Fall back to software breakpoint when vector catch isn't available.  Possible enhancements:  - add extra optional command parameter to select high vectors  - add extra optional command parameter to select hardware
	 breakpoint Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_semihosting.c: ARM semihosting: work with both low
	and high vectors Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/nand.h,
	src/flash/nand/Makefile.am, src/flash/nand/arm_io.c,
	src/flash/nand/arm_io.h, src/flash/nand/core.c,
	src/flash/nand/core.h, src/flash/nand/davinci.c,
	src/flash/nand/driver.c, src/flash/nand/ecc.c,
	src/flash/nand/ecc_kw.c, src/flash/nand/fileio.c,
	src/flash/nand/imp.h, src/flash/nand/lpc3180.c,
	src/flash/nand/mx3.c, src/flash/nand/mx3.h, src/flash/nand/nonce.c,
	src/flash/nand/orion.c, src/flash/nand/s3c24xx.h,
	src/flash/nand/tcl.c, src/openocd.c: rename nand.h to
	flash//nand/core.h Rename nand.h as flash/nand/core.h, chase consumers.  The public
	APIs need to be sorted out with imp.h, but this allows other changes
	to begin improving the separation between policy and mechanism.  Moves #include <target/target.h> and #include "driver.h" into the
	internal headers or source files, removing it from
	<flash/nand/core.h>.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/arm_nandio.c,
	src/flash/arm_nandio.h, src/flash/nand/Makefile.am,
	src/flash/nand/arm_io.c, src/flash/nand/arm_io.h,
	src/flash/nand/davinci.c, src/flash/nand/ecc.c,
	src/flash/nand/ecc_kw.c, src/flash/nand/orion.c,
	src/flash/nand_ecc.c, src/flash/nand_ecc_kw.c: move remaining nand
	helper files Move remaining NAND implementation files into src/flash/nand/.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/nand.c,
	src/flash/nand/Makefile.am, src/flash/nand/core.c,
	src/flash/nand/fileio.c, src/flash/nand/fileio.h,
	src/flash/nand/imp.h, src/flash/nand/tcl.c: split nand.c into
	nand/{core,fileio,tcl}.c Moves commands into nand/tcl.c and core implementation to
	'nand/core.c' and 'nand/fileio.c'.  Eliminates 'flash/nand.c'.  Adds 'nand/imp.h' to share routines between TCL commands and core.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h, src/flash/nand/Makefile.am,
	src/flash/nand/driver.c, src/flash/nand/driver.h: split NAND driver
	handling into nand/driver.[ch] This work parallels the NOR directory, encapsulating the NAND
	drivers into a separate file.  This takes an extra step by
	encapsulating the type of data structure used to manage the drivers,
	allowing it to be changed from an array to a dynamic list in the
	future.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.h: ARM: doc updates for main header Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/arm_dpm.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/xscale.c: ARM: rename armv4_5_build_reg_cache() as
	arm_*() Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/arm_nandio.c, src/flash/nor/aduc702x.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/target/arm7_9_common.c,
	src/target/armv4_5.c, src/target/armv4_5.h: ARM: rename
	armv4_5_algorithm as arm_algorithm Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_semihosting.c, src/target/armv4_5.h,
	src/target/etm.h, src/target/xscale.h: ARM: misc generic cleanup Remove an undesirable use of the CPSR symbol ... it needs to vanish.
	Flag mode-to-number stuff as obsolete; say why ... should also
	vanish.  Get rid of no-longer-used mode and state typedefs.  Comment a few of the implicit ties to "classic ARM".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/arm_nandio.c, src/flash/nor/aduc702x.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/target/arm7_9_common.c,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/xscale.c: 
	ARM: ARMV4_5_COMMON_MAGIC --> ARM_COMMON_MAGIC Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm9tdmi.c, src/target/arm_semihosting.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/xscale.c: ARM: switch
	target_to_armv4_5() to target_to_arm() And remove that old symbol.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm_simulator.c,
	src/target/arm_simulator.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.h, src/target/etm.h,
	src/target/feroceon.c, src/target/xscale.c, src/target/xscale.h: 
	ARM: rename armv4_5_state_* as arm_state_* And make arm_state_strings[] be const.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/arm_dpm.c,
	src/target/arm_simulator.c, src/target/arm_simulator.h,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7a.h,
	src/target/xscale.c: ARM: rename armv4_5_mode_* AS arm_mode_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/arm_nandio.c, src/flash/nor/aduc702x.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/target/arm7_9_common.c,
	src/target/arm_dpm.c, src/target/arm_semihosting.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/xscale.c: ARM:
	rename ARMV4_5_MODE_* as ARM_MODE_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/arm_nandio.c, src/flash/nor/aduc702x.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c, src/target/arm7_9_common.c,
	src/target/arm_dpm.c, src/target/arm_semihosting.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/cortex_a8.c, src/target/etm.c,
	src/target/feroceon.c, src/target/xscale.c: ARM: rename
	ARMV4_5_STATE_* as ARM_STATE_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: report watchpoint trigger insn As with Cortex-A8, the WFAR register holds useful information that
	should be recorded and, where relevant, displayed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: ARM11: basic
	watchpoint support Use the DPM watchpoint support; remove old incomplete stubs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11_dbgtap.c: ARM11: tweak TAP
	ops and debugging Tweak scanchain 7 debug messaging:  - show register addresses in decimal, matching ARM docs;  - remove some pointless noise Avoid some needless roundtrips:  - skip SCAN_N when SCREG already holds that number (speeds up    polling and other common operations)  - avoid zeroing vcr twice on resume Show the IR opcode as a label ("RESTART") too; and in decimal,
	matching ARM docs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am: reorder build order of src directory Descend into the library modules in order, from bottom-to-top.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/flash.h,
	src/flash/nor/at91sam7.h, src/flash/nor/avrf.h,
	src/flash/nor/cfi.h, src/flash/nor/lpc2000.h,
	src/flash/nor/lpc288x.h, src/flash/nor/non_cfi.c,
	src/flash/nor/non_cfi.h, src/flash/nor/pic32mx.h,
	src/flash/nor/stellaris.h, src/flash/nor/stm32x.h,
	src/flash/nor/str7x.h, src/flash/nor/str9x.h,
	src/flash/nor/str9xpec.h, src/flash/nor/tms470.h, src/openocd.c,
	src/server/gdb_server.c: remove flash.h from tree Remove the now vestigial <flash/flash.h> header from the tree,
	replacing a few references with <flash/nor/core.h>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h, src/flash/nor/Makefile.am,
	src/flash/nor/core.h, src/flash/nor/driver.h,
	src/flash/nor/drivers.c, src/flash/nor/imp.h: split flash.h into
	into flash/nor/*.h Move the bulk of the flash.h file into flash/nor/core.h, leaving an
	empty husk that will be removed in the next patch.  The NOR driver structure is an implementation detail, so move it
	into its own private header file <flash/nor/driver.h> along with
	helper declaration for finding them by name.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h, src/flash/nor/aduc702x.c,
	src/flash/nor/at91sam3.c, src/flash/nor/at91sam7.c,
	src/flash/nor/avrf.c, src/flash/nor/cfi.c, src/flash/nor/ecos.c,
	src/flash/nor/faux.c, src/flash/nor/imp.h, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc2900.c,
	src/flash/nor/ocl.c, src/flash/nor/pic32mx.c,
	src/flash/nor/stellaris.c, src/flash/nor/stm32x.c,
	src/flash/nor/str7x.c, src/flash/nor/str9x.c,
	src/flash/nor/str9xpec.c, src/flash/nor/tms470.c,
	src/server/gdb_server.h: remove target.h from flash.h The flash.h header does not require the target.h header file, but
	its implementation source files do.  Move it to flash/nor/imp.h.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/common.h, src/flash/flash.h, src/flash/nand.h,
	src/openocd.c: split NOR and NAND flash headers Moves common flash errors to <flash/common.h> to decouple these two
	mostly unrelated trees of code.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/nor/core.c: 
	eliminate src/flash/flash.c Move remaining NOR flash implemenation into flash/nor/core.c Removes
	flash.c from the build, leaving only its header to split.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/nor/Makefile.am,
	src/flash/nor/core.c, src/flash/nor/drivers.c: add
	flash/nor/drivers.c Encapsulates access to the flash_drivers array, providing a base of
	operations for future dynamic driver module loading features.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/nor/Makefile.am,
	src/flash/nor/core.c, src/flash/nor/imp.h, src/flash/nor/tcl.c: move
	more nor flash implementation details Splits the exec mode commands out of flash.c into the flash/nor/
	files.  The routines used by these high-level commands are moved
	into nor/core.c, with their internal declarations placed in
	nor/imp.h.  Fixes distribution of <flash/nor/core.h> header.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_semihosting.c: ARM: semihosting entry cleanup Clean up arm_semihosting() entry a bit, comment some issues and just
	which SVC opcodes are getting intercepted.  Microcontroller profile
	cores will need a new entry, since they use BKPT instead (and don't
	have either SVC mode or an SPSR register).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/arm_semihosting.c,
	src/target/arm_semihosting.h, src/target/armv4_5.c,
	src/target/armv4_5.h: ARM: remove semihosting globals Store a flag and errno in in "struct arm".  Have "poll" output
	report when semihosting is active.  Shrink some of the affected
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: more semihosting info List it in the concept index, in the section about target software
	changes a project might want to consider, and in the section about
	debug messaging.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* bootstrap: bootstrap: stop execution upon error When tools are not installed, exit immediately. This makes the error
	messages clearer.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/Makefile.am, src/flash/nor/core.c,
	src/flash/nor/core.h, src/flash/nor/imp.h, src/flash/nor/tcl.c: add
	flash/nor/core.[ch] The newly moved flash TCL routines access the internals of the
	module too much.  Fix the layering issues by adding new core NOR
	flash APIs: <flash/nor/core.h>:   - flash_driver_find_by_name() - self-descriptive <flash/nor/imp.h>:   - flash_bank_add()            - encapsulates adding banks to bank
	  list - flash_bank_list()           - encapsulates retreiving bank list This allows the externs in flash/nor/imp.h to be removed, and these
	mechanisms may now be re-used by other flash module code.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/nor/Makefile.am,
	src/flash/nor/imp.h, src/flash/nor/tcl.c: add
	flash/nor/{tcl.c,imp.h} from flash/flash.c Moves the top-level 'flash' command handlers into flash/nor/tcl.c,
	with flash/nor/imp.h providing an internal implementation header to
	share non-public API components.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/core.c, src/jtag/tcl.c: separate Jim from jtag/core.c After previous efforts, only one Jim routine remained in
	jtag/core.c, and moving it to jtag/tcl.c painlessly finishes
	separating these layers.  The headers need separating, but the
	implementation is clean.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/helper/ioutil.c: switch 'rm' command away from using Jim Commands that do not need to use Jim should be registered as
	high-level command handlers.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: check top-level command registrations When calling module_register_commands, the return value needs to be
	checked for failures.  Instead of duplicating code, use an array of
	function pointers to the identical registration functions to iterate
	over during startup.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: allow 'jtag init' to be run in any mode Help alleviate further potential problems with interactive startup.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c, src/target/arm_semihosting.c: target: cygwin
	build fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h: zy1000: FPGA revC wip The bug in revC register memory access is pretty much cornered now.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* NEWS, doc/openocd.texi, src/target/Makefile.am,
	src/target/arm7_9_common.c, src/target/arm_semihosting.c,
	src/target/arm_semihosting.h: basic ARM semihosting support Semihosting enables code running on an ARM target to use the I/O
	facilities on the host computer. The target application must be
	linked against a library that forwards operation requests by using
	the SVC instruction that is trapped at the Supervisor Call vector by
	the debugger.  The "hosted" library version provided with
	CodeSourcery's Sourcery G++ Lite for ARM EABI is one example.  This is currently available for ARM9 processors, but any ARM variant
	should be able to support this with little additional work.  Tested using binaries compiled with Sourcery G++ Lite 2009q1-161 and
	ARM RVCT 3.0.  [dbrownell@users.sourceforge.net: doc tweaks, NEWS] Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/command.h, src/target/arm_dpm.c: doxygen: remove some
	warnings Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.c: Make ARM NAND I/O operations aware of last
	op Updates the ARM NAND I/O code to look at and update the op field of
	arm_nand_data to reflect the last operation performed.  It uses this
	field to copy the correct code to the target in the case where the
	struct is used for reads and writes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.h, src/flash/nand/davinci.c,
	src/flash/nand/orion.c: ARM NAND I/O interface update Modify the arm_nand_data struct to better support both read and
	write operations while using the same struct.  An additional field
	was added, and initialized, to record the last operation so that the
	correct code can be loaded to the working area.  [dbrownell@users.sourceforge.net: merge init patch, tweak GPL note] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand.c, src/flash/nand.h: NAND page command refactoring.  Created a new function that handles sending a command and the
	address information for pages to a NAND device.  [dbrownell@users.sourceforge.net: tweaked line lengths, name
	'oob_only'] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c: ARMv7-A: tweak arch_state() Punt to the armv4_5_arch_state() for all the common stuff, to shrink
	code and so we will get any improvements it provides.  Don't hide watchpoint status if we happen to be in "abort" mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h,
	src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/cortex_a8.c: 
	ARM DPM: share debug reason logic No point in both ARM11 and Cortex-A8 having private copies of the
	logic sorting out e.g. DBG_REASON_WATCHPOINT.  Add and use a shared routine for this ... there's actually a bunch
	more debug entry logic that could be shared, this is just a start on
	that.  Note that this routine fixes a bug observed in the ARM11
	code, where some abort mode quirks were displayed as being an
	unknown debug reason; and also silences needless ARM11 chatter.  Likewise with private copies of DSCR ... add one to the DPM struct.
	Save it as part of setting DBG_REASON_* so later patches can switch
	over to using that copy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm_dpm.h: 
	ARM11: use shared DSCR bit names For the bits now defined in "arm_dpm.h", switch to the shared DSCR_*
	symbol and remove the ARM11_DSCR_* version.  Define DSCR_INT_DIS and use it instead of the ARM11_DSCR_* sibling
	symbol.  (Note:  for both ARM11 and Cortex-A8, this should arguably
	be enabled by default when single stepping.) Remove some other unused declarations in "arm11.h".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.h, src/target/armv7a.h, src/target/cortex_a8.c: 
	ARM DPM: make DSCR bit defs sharable Move the symbols for these bits from "armv7a.h" to "arm_dpm.h",
	where they can be seen and used not just by Cortex-A but also by the
	ARM11 (armv6) code.  Change them from bit numbers to bit masks ... this matches the usage
	in ARM11 code, and also makes it easier to read.  Rename DSCR_EXT_INT_EN as DSCR_ITR_EN to match the docs; it's
	enabling ITR functionality, not external interrupts, so this changes
	the name to be less misleading.  (There *IS* a bit affecting
	interrupts, and this isn't it.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* src/openocd.c: fix another init regression This makes Beagle work again, instead of losing horribly because the
	JTAG event handlers are no longer able to e.g. "runtest".  I get the
	previous quirky behavior ... comes up OK but "reset halt" somewhat
	mysteriously makes it all better.  (Instead of nothing being able to
	work at all...)  However, I'm still seeing:  The 'init' command must be used before 'init'.  That seems to come from invoking "jtag init", sometime after it gets
	mapped to "ocd_jtag init", according to debug message traces.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: fix double 'init' regression To prevent regression in the behavior of 'init', we allow it to run
	in any mode.  If provided with -c init and with -c noinit, then the
	second init at startup caused a spurious mode failure.  Let 'init'
	handle it.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c: fix regressions with GDB port numbers Use a separate variable for iterating GDB service port numbers than
	the one set by the user.  Restores the behavior of returning the
	original port number and only incrementing the port used on success.

2009-12-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: include files have moved about now compiles again after include files were moved about to reduce -I
	usage and stop using quotes but rather angle brackets for include
	files.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/flash/Makefile.am,
	src/flash/nand/Makefile.am, src/flash/nor/Makefile.am,
	src/helper/Makefile.am, src/jtag/Makefile.am,
	src/jtag/drivers/Makefile.am, src/pld/Makefile.am,
	src/server/Makefile.am, src/svf/Makefile.am,
	src/target/Makefile.am, src/xsvf/Makefile.am: remove tertiary
	include paths With all #include directives converted, we only need to have the
	top-level src/ directory in the search path.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand/nonce.c, src/flash/nor/faux.c,
	src/jtag/drivers/dummy.c, src/target/testee.c: change #include
	"../hello.h" to "hello.h" Before we can -I the top-level src/ directory alone, references to
	"hello.h" must be updated.  This is an internal header, so it does
	not need angle brackets.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c: change #include "xsvf.h" to
	<xsvf/xsvf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "xsvf.h" the following form should be used.  	#include <xsvf/xsvf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c, src/xsvf/xsvf.c: change #include
	"svf.h" to <svf/svf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "svf.h" the following form should be used.  	#include <svf/svf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c: change #include "pld.h" to
	<pld/pld.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "pld.h" the following form should be used.  	#include <pld/pld.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c: change #include "telnet_server.h" to
	<server/telnet_server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "telnet_server.h" the following form should be used.  	#include <server/telnet_server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/helper/log.c, src/helper/options.c,
	src/openocd.c, src/server/tcl_server.h, src/server/telnet_server.h: 
	change #include "server.h" to <server/server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "server.h" the following form should be used.  	#include <server/server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: change #include "httpd.h" to <server/httpd.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "httpd.h" the following form should be used.  	#include <server/httpd.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c: change #include "gdb_server.h" to
	<server/gdb_server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "gdb_server.h" the following form should be used.  	#include <server/gdb_server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand/s3c24xx.h: change #include "s3c24xx_regs.h" to
	<flash/nand/s3c24xx_regs.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "s3c24xx_regs.h" the following form should be used.  	#include <flash/nand/s3c24xx_regs.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ocl/at91sam7x/main.c: change #include "ocl.h" to
	<flash/nor/ocl.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "ocl.h" the following form should be used.  	#include <flash/nor/ocl.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/arm_nandio.h,
	src/flash/nand/lpc3180.c, src/flash/nand/mx3.h,
	src/flash/nand/nonce.c, src/flash/nand/s3c24xx.h, src/openocd.c: 
	change #include "nand.h" to <flash/nand.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "nand.h" the following form should be used.  	#include <flash/nand.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: change #include "mflash.h" to <flash/mflash.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mflash.h" the following form should be used.  	#include <flash/mflash.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.h, src/flash/nor/aduc702x.c,
	src/flash/nor/at91sam3.c, src/flash/nor/at91sam7.h,
	src/flash/nor/avrf.c, src/flash/nor/cfi.h, src/flash/nor/ecos.c,
	src/flash/nor/faux.c, src/flash/nor/lpc2000.h,
	src/flash/nor/lpc288x.h, src/flash/nor/lpc2900.c,
	src/flash/nor/non_cfi.h, src/flash/nor/ocl.c,
	src/flash/nor/pic32mx.h, src/flash/nor/stellaris.h,
	src/flash/nor/stm32x.h, src/flash/nor/str7x.h,
	src/flash/nor/str9x.h, src/flash/nor/str9xpec.h,
	src/flash/nor/tms470.h, src/server/gdb_server.c: change #include
	"flash.h" to <flash/flash.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "flash.h" the following form should be used.  	#include <flash/flash.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand/davinci.c, src/flash/nand/orion.c: change #include
	"arm_nandio.h" to <flash/arm_nandio.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm_nandio.h" the following form should be used.  	#include <flash/arm_nandio.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm.h, src/target/xscale.h: change #include "trace.h"
	to <target/trace.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "trace.h" the following form should be used.  	#include <target/trace.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/telnet_server.c: change
	#include "target_request.h" to <target/target_request.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "target_request.h" the following form should be used.  	#include <target/target_request.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h, src/flash/mflash.c, src/helper/command.c,
	src/server/httpd.c, src/server/server.c, src/target/armv4_5.h,
	src/target/mips32.h: change #include "target.h" to <target/target.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "target.h" the following form should be used.  	#include <target/target.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c: change #include "register.h" to
	<target/register.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "register.h" the following form should be used.  	#include <target/register.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips32_dmaacc.h, src/target/mips32_pracc.h: change
	#include "mips_ejtag.h" to <target/mips_ejtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mips_ejtag.h" the following form should be used.  	#include <target/mips_ejtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips32.h: change #include "mips32_pracc.h" to
	<target/mips32_pracc.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mips32_pracc.h" the following form should be used.  	#include <target/mips32_pracc.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/pic32mx.c: change #include "mips32.h" to
	<target/mips32.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mips32.h" the following form should be used.  	#include <target/mips32.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/nor/ecos.c, src/flash/nor/faux.c,
	src/flash/nor/lpc2900.c, src/server/gdb_server.c: change #include
	"image.h" to <target/image.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "image.h" the following form should be used.  	#include <target/image.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm_dummy.h, src/target/oocd_trace.h: change #include
	"etm.h" to <target/etm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "etm.h" the following form should be used.  	#include <target/etm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/ecos.c, src/flash/nor/ocl.c,
	src/jtag/minidummy/minidummy.c, src/jtag/zy1000/zy1000.c,
	src/target/arm7tdmi.h, src/target/arm9tdmi.h: change #include
	"embeddedice.h" to <target/embeddedice.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "embeddedice.h" the following form should be used.  	#include <target/embeddedice.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c: change #include "breakpoints.h" to
	<target/breakpoints.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "breakpoints.h" the following form should be used.  	#include <target/breakpoints.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/avrf.c: change #include "avrt.h" to <target/avrt.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "avrt.h" the following form should be used.  	#include <target/avrt.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/lpc2000.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32x.c, src/target/cortex_m3.h: change #include
	"armv7m.h" to <target/armv7m.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv7m.h" the following form should be used.  	#include <target/armv7m.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.h: change #include "armv7a.h" to
	<target/armv7a.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv7a.h" the following form should be used.  	#include <target/armv7a.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.h, src/target/arm920t.h,
	src/target/arm926ejs.h, src/target/armv7a.h, src/target/xscale.h: 
	change #include "armv4_5_mmu.h" to <target/armv4_5_mmu.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv4_5_mmu.h" the following form should be used.  	#include <target/armv4_5_mmu.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5_mmu.h, src/target/armv7a.h: change #include
	"armv4_5_cache.h" to <target/armv4_5_cache.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv4_5_cache.h" the following form should be used.  	#include <target/armv4_5_cache.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/arm_nandio.c, src/flash/nand/orion.c,
	src/flash/nor/aduc702x.c, src/flash/nor/cfi.c,
	src/flash/nor/lpc2900.c, src/flash/nor/str7x.c, src/target/arm11.h,
	src/target/arm7_9_common.h, src/target/armv7a.h,
	src/target/armv7m.h, src/target/xscale.h: change #include
	"armv4_5.h" to <target/armv4_5.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv4_5.h" the following form should be used.  	#include <target/armv4_5.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm7_9_common.h, src/target/arm_adi_v5.h,
	src/target/etm.h: change #include "arm_jtag.h" to
	<target/arm_jtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm_jtag.h" the following form should be used.  	#include <target/arm_jtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.h, src/target/armv7a.h: change #include
	"arm_dpm.h" to <target/arm_dpm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm_dpm.h" the following form should be used.  	#include <target/arm_dpm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.h, src/target/armv7m.h: change #include
	"arm_adi_v5.h" to <target/arm_adi_v5.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm_adi_v5.h" the following form should be used.  	#include <target/arm_adi_v5.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.h, src/target/arm926ejs.h,
	src/target/arm966e.h: change #include "arm9tdmi.h" to
	<target/arm9tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm9tdmi.h" the following form should be used.  	#include <target/arm9tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/str9x.c: change #include "arm966e.h" to
	<target/arm966e.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm966e.h" the following form should be used.  	#include <target/arm966e.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.h: change #include "arm7tdmi.h" to
	<target/arm7tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm7tdmi.h" the following form should be used.  	#include <target/arm7tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/str9xpec.c, src/target/embeddedice.h: change
	#include "arm7_9_common.h" to <target/arm7_9_common.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm7_9_common.h" the following form should be used.  	#include <target/arm7_9_common.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11_dbgtap.h: change #include "arm11.h" to
	<target/arm11.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm11.h" the following form should be used.  	#include <target/arm11.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/arm_nandio.c, src/flash/nor/aduc702x.c,
	src/flash/nor/cfi.c, src/flash/nor/ecos.c, src/flash/nor/lpc2000.c,
	src/flash/nor/lpc2900.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32x.c, src/flash/nor/str7x.c,
	src/flash/nor/str9x.c: change #include "algorithm.h" to
	<target/algorithm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "algorithm.h" the following form should be used.  	#include <target/algorithm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/drivers/driver.c, src/jtag/minidummy/minidummy.c,
	src/jtag/zy1000/zy1000.c: change #include "minidriver.h" to
	<jtag/minidriver.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "minidriver.h" the following form should be used.  	#include <jtag/minidriver.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/nor/str9xpec.h, src/jtag/commands.h,
	src/jtag/interface.h, src/openocd.c, src/pld/virtex2.h,
	src/server/gdb_server.c, src/svf/svf.c, src/svf/svf.h,
	src/target/arm_dpm.c, src/target/arm_jtag.h, src/target/avrt.h,
	src/target/mips_ejtag.h, src/target/target.c, src/xsvf/xsvf.c: 
	change #include "jtag.h" to <jtag/jtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "jtag.h" the following form should be used.  	#include <jtag/jtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/drivers/amt_jtagaccel.c, src/jtag/drivers/arm-jtag-ew.c,
	src/jtag/drivers/at91rm9200.c, src/jtag/drivers/bitbang.c,
	src/jtag/drivers/bitq.c, src/jtag/drivers/driver.c,
	src/jtag/drivers/dummy.c, src/jtag/drivers/ep93xx.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/gw16012.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/parport.c,
	src/jtag/drivers/presto.c, src/jtag/drivers/rlink.c,
	src/jtag/drivers/usbprog.c, src/jtag/drivers/vsllink.c,
	src/jtag/interfaces.h, src/jtag/minidummy/minidummy.c,
	src/jtag/zy1000/zy1000.c: change #include "interface.h" to
	<jtag/interface.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "interface.h" the following form should be used.  	#include <jtag/interface.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/drivers/amt_jtagaccel.c, src/jtag/drivers/arm-jtag-ew.c,
	src/jtag/drivers/bitbang.c, src/jtag/drivers/bitq.h,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/gw16012.c,
	src/jtag/drivers/jlink.c, src/jtag/drivers/minidriver_imp.h,
	src/jtag/drivers/rlink.c, src/jtag/drivers/usbprog.c,
	src/jtag/drivers/vsllink.c: change #include "commands.h" to
	<jtag/commands.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "commands.h" the following form should be used.  	#include <jtag/commands.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/common.h, src/flash/nor/at91sam3.c,
	src/flash/nor/avrf.h, src/helper/binarybuffer.h,
	src/helper/command.h, src/helper/fileio.h,
	src/helper/replacements.h, src/jtag/drivers/rlink.h,
	src/jtag/drivers/usb_common.h, src/pld/xilinx_bit.h,
	src/target/arm_disassembler.h, src/target/arm_simulator.h,
	src/target/armv4_5_cache.h, src/target/breakpoints.h,
	src/target/mips_m4k.h, src/target/register.c, src/target/target.h,
	src/target/target_type.h, src/target/trace.h: change #include
	"types.h" to <helper/types.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "types.h" the following form should be used.  	#include <helper/types.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/mflash.c, src/flash/nand.c,
	src/flash/nor/aduc702x.c, src/flash/nor/at91sam3.c,
	src/jtag/drivers/ft2232.c, src/jtag/drivers/presto.c,
	src/pld/pld.c, src/svf/svf.c, src/target/arm11.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm_adi_v5.c,
	src/target/target.c, src/target/xscale.c: change #include
	"time_support.h" to <helper/time_support.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "time_support.h" the following form should be used.  	#include <helper/time_support.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.c: change #include "replacements.h" to
	<helper/replacements.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "replacements.h" the following form should be used.  	#include <helper/replacements.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nor/at91sam3.c: change #include "membuf.h" to
	<helper/membuf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "membuf.h" the following form should be used.  	#include <helper/membuf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/common.c, src/flash/flash.h, src/flash/mflash.c,
	src/hello.c, src/jtag/jtag.h, src/pld/pld.c, src/pld/xilinx_bit.c,
	src/server/httpd_stubs.c, src/server/server.h,
	src/target/arm_disassembler.c, src/target/arm_simulator.c,
	src/target/armv4_5_cache.c, src/target/armv4_5_mmu.c,
	src/target/breakpoints.c, src/target/image.c,
	src/target/register.c, src/target/target_request.c,
	src/target/testee.c, src/target/trace.c: change #include "log.h" to
	<helper/log.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "log.h" the following form should be used.  	#include <helper/log.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h, src/target/target.h: change #include "jim.h"
	to <helper/jim.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "jim.h" the following form should be used.  	#include <helper/jim.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c: change #include "ioutil.h" to
	<helper/ioutil.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "ioutil.h" the following form should be used.  	#include <helper/ioutil.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/flash/nand.c, src/target/image.h: change
	#include "fileio.h" to <helper/fileio.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "fileio.h" the following form should be used.  	#include <helper/fileio.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/openocd.c: change #include "configuration.h"
	to <helper/configuration.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "configuration.h" the following form should be used.  	#include <helper/configuration.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/helper/configuration.h, src/helper/log.h,
	src/jtag/drivers/driver.c, src/pld/pld.h, src/target/armv4_5.h,
	src/target/armv7a.c, src/xsvf/xsvf.h: change #include "command.h" to
	<helper/command.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "command.h" the following form should be used.  	#include <helper/command.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/arm_nandio.h, src/flash/nor/aduc702x.c,
	src/flash/nor/at91sam7.c, src/flash/nor/cfi.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc288x.c,
	src/flash/nor/lpc2900.c, src/flash/nor/stellaris.c,
	src/flash/nor/stm32x.c, src/flash/nor/str7x.c, src/jtag/jtag.h,
	src/target/algorithm.c, src/target/arm_simulator.c,
	src/target/armv4_5.c, src/target/armv7a.c,
	src/target/target_request.c: change #include "binarybuffer.h" to
	<helper/binarybuffer.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "binarybuffer.h" the following form should be used.  	#include <helper/binarybuffer.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand/mx3.h, src/svf/svf.h: normalize headers to make
	changing easier These headers need minor tweaks to paves the way for wholesale
	scripted coversion of the header files.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* configure.in: change autoconf #include in configure.in Updates "system.h" and "replacements.h" with <helpers/system.h> and
	<helpers/replacements.h> respectively.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/nand/Makefile.am,
	src/flash/nor/Makefile.am, src/helper/Makefile.am,
	src/jtag/Makefile.am, src/jtag/drivers/Makefile.am,
	src/pld/Makefile.am, src/svf/Makefile.am, src/target/Makefile.am,
	src/xsvf/Makefile.am: allow #include directives to use module name Includes the src directory in the search path, so header files may
	be migrated from:   #include "foo.h" to   #include <module/foo.h> which is more conducive for installation.

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* src/target/Makefile.am: feroceon.c should be part of ARM7_9_SRC The Feroceon and Dragonite cores are similar to the ARM926 and
	ARM966 cores respectively.  Signed-off-by: Nicolas Pitre <nico@marvell.com>

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/Makefile.am, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/minidriver_imp.h, src/jtag/minidriver.h,
	src/jtag/minidriver/minidriver_imp.h: remove #if
	HAVE_JTAG_INTERFACE_H from minidriver.h Adds two "minidriver_imp.h" files, so the right one is allowed to be
	"#included" by the Makefile logic.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/jtag/Makefile.am, src/jtag/amt_jtagaccel.c,
	src/jtag/arm-jtag-ew.c, src/jtag/at91rm9200.c, src/jtag/bitbang.c,
	src/jtag/bitbang.h, src/jtag/bitq.c, src/jtag/bitq.h,
	src/jtag/driver.c, src/jtag/drivers/Makefile.am,
	src/jtag/drivers/Makefile.rlink, src/jtag/drivers/amt_jtagaccel.c,
	src/jtag/drivers/arm-jtag-ew.c, src/jtag/drivers/at91rm9200.c,
	src/jtag/drivers/bitbang.c, src/jtag/drivers/bitbang.h,
	src/jtag/drivers/bitq.c, src/jtag/drivers/bitq.h,
	src/jtag/drivers/driver.c, src/jtag/drivers/dummy.c,
	src/jtag/drivers/ep93xx.c, src/jtag/drivers/ft2232.c,
	src/jtag/drivers/gw16012.c, src/jtag/drivers/jlink.c,
	src/jtag/drivers/parport.c, src/jtag/drivers/presto.c,
	src/jtag/drivers/rlink.c, src/jtag/drivers/rlink.h,
	src/jtag/drivers/rlink_call.m4, src/jtag/drivers/rlink_dtc_cmd.h,
	src/jtag/drivers/rlink_ep1_cmd.h, src/jtag/drivers/rlink_init.m4,
	src/jtag/drivers/rlink_speed_table.c, src/jtag/drivers/rlink_st7.h,
	src/jtag/drivers/usb_common.c, src/jtag/drivers/usb_common.h,
	src/jtag/drivers/usbprog.c, src/jtag/drivers/vsllink.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/rlink/Makefile, src/jtag/rlink/call.m4,
	src/jtag/rlink/dtc_cmd.h, src/jtag/rlink/ep1_cmd.h,
	src/jtag/rlink/init.m4, src/jtag/rlink/rlink.c,
	src/jtag/rlink/rlink.h, src/jtag/rlink/rlink_speed_table.c,
	src/jtag/rlink/st7.h, src/jtag/usb_common.c, src/jtag/usb_common.h,
	src/jtag/usbprog.c, src/jtag/vsllink.c: move jtag drivers to
	src/jtag/drivers Moves JTAG interface drivers to src/jtag/drivers/, Adds
	src/jtag/drivers/Makefile.am.  Builds libocdjtagdrivers.la.  Flattens the rlink driver files into the drivers/ directory, adding
	the 'rlink_' prefix or '.rlink' suffix as appropriate.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/flash/Makefile.am, src/flash/aduc702x.c,
	src/flash/at91sam3.c, src/flash/at91sam3.h, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/avrf.c, src/flash/avrf.h,
	src/flash/cfi.c, src/flash/cfi.h, src/flash/ecos.c,
	src/flash/faux.c, src/flash/lpc2000.c, src/flash/lpc2000.h,
	src/flash/lpc288x.c, src/flash/lpc288x.h, src/flash/lpc2900.c,
	src/flash/non_cfi.c, src/flash/non_cfi.h,
	src/flash/nor/Makefile.am, src/flash/nor/aduc702x.c,
	src/flash/nor/at91sam3.c, src/flash/nor/at91sam3.h,
	src/flash/nor/at91sam7.c, src/flash/nor/at91sam7.h,
	src/flash/nor/avrf.c, src/flash/nor/avrf.h, src/flash/nor/cfi.c,
	src/flash/nor/cfi.h, src/flash/nor/ecos.c, src/flash/nor/faux.c,
	src/flash/nor/lpc2000.c, src/flash/nor/lpc2000.h,
	src/flash/nor/lpc288x.c, src/flash/nor/lpc288x.h,
	src/flash/nor/lpc2900.c, src/flash/nor/non_cfi.c,
	src/flash/nor/non_cfi.h, src/flash/nor/ocl.c, src/flash/nor/ocl.h,
	src/flash/nor/pic32mx.c, src/flash/nor/pic32mx.h,
	src/flash/nor/stellaris.c, src/flash/nor/stellaris.h,
	src/flash/nor/stm32x.c, src/flash/nor/stm32x.h,
	src/flash/nor/str7x.c, src/flash/nor/str7x.h,
	src/flash/nor/str9x.c, src/flash/nor/str9x.h,
	src/flash/nor/str9xpec.c, src/flash/nor/str9xpec.h,
	src/flash/nor/tms470.c, src/flash/nor/tms470.h, src/flash/ocl.c,
	src/flash/ocl.h, src/flash/pic32mx.c, src/flash/pic32mx.h,
	src/flash/stellaris.c, src/flash/stellaris.h, src/flash/stm32x.c,
	src/flash/stm32x.h, src/flash/str7x.c, src/flash/str7x.h,
	src/flash/str9x.c, src/flash/str9x.h, src/flash/str9xpec.c,
	src/flash/str9xpec.h, src/flash/tms470.c, src/flash/tms470.h: move
	nor drivers to src/flash/nor Moves NOR flash drivers to 'src/flash/nor/'.  Adds
	'src/flash/nor/Makefile.am'.  Builds 'libocdflashnor.la'.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/flash/Makefile.am, src/flash/davinci_nand.c,
	src/flash/lpc3180_nand_controller.c,
	src/flash/lpc3180_nand_controller.h, src/flash/mx3_nand.c,
	src/flash/mx3_nand.h, src/flash/nand/Makefile.am,
	src/flash/nand/davinci.c, src/flash/nand/lpc3180.c,
	src/flash/nand/lpc3180.h, src/flash/nand/mx3.c,
	src/flash/nand/mx3.h, src/flash/nand/nonce.c,
	src/flash/nand/orion.c, src/flash/nand/s3c2410.c,
	src/flash/nand/s3c2412.c, src/flash/nand/s3c2440.c,
	src/flash/nand/s3c2443.c, src/flash/nand/s3c24xx.c,
	src/flash/nand/s3c24xx.h, src/flash/nand/s3c24xx_regs.h,
	src/flash/nonce_nand.c, src/flash/orion_nand.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/s3c24xx_regs_nand.h: move nand drivers to src/flash/nand/ Moves NAND drivers to src/flash/nand/.  Adds
	src/flash/nand/Makefile.am.  Builds libocdflashnand.la.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: don't expose DSCR Remove the remaining extra copy of DSCR, and the register cache of
	which it was a part.  That cache wasn't a very safe, or even
	necessary, idea; it was essentialy letting debugger-private state be
	manipulated by Tcl code that couldn't know how to do it right.  This makes the "reg" output of an ARM11 resemble what most other ARM
	cores produce ... forward motion in the "make ARM11 work like the
	rest of the ARM cores" Jihad!

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: ARM11: store a
	clean copy of DSCR Just store a clean copy of DSCR in the per-CPU struct, so we
	trivially pass a pointer to a recent copy.  This replaces the
	previous "last_dscr" and cleans up most of the related calling
	conventions ... but it doesn't remove the other DSCR copy.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: don't expose WDTR Don't expose the WDTR register through the register cache any more.
	If anyone wants Tcl scripts to be able to use DCC based
	communication with app code in the target, this wouldn't do it.  Bugfix:  don't trust the Tcl-accessible version of DSCR to flag
	whether WDTR needs to be restored when resuming.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: don't expose RDTR Don't expose the RDTR register through the register cache any more.
	If anyone wants Tcl scripts to be able to use DCC based
	communication with app code in the target, this wouldn't do it.  Bugfix:  don't trust the Tcl-accessible version of DSCR to flag
	whether RDTR needs to be restored when resuming.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: streamline debug entry Streamline arm11_on_enter_debug_state() entry:  - It should handle the standard updates:     * target->debug_reason     * target->state  - Don't waste time re-reading DSCR; just pass it in Also rename the routine to "arm11_debug_entry()", matching the
	convention used elsewhere in OpenOCD.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	ARM11: remove arm11->target Don't need/want arm11->target; we have arm11->arm.target instead.
	Also remove some unused watchpoint stuff.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h, src/target/arm_dpm.c,
	src/target/arm_dpm.h, src/target/cortex_a8.c: ARM DPM: tweak
	initialization Move the initial breakpoint/watchpoint disable calls to
	arm_dpm_initialize(), and start using that routine.  This split
	helps with arm11 support.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* configure.in: fix configure problem when building w/o USB If building OpenOCD without any USB drivers, a warning would appear
	because $build_usb is never set to a sane default.  This fixes it.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/target/Makefile.am: adding files required for
	distribution Add headers missing from Makefile rules to pass 'make distcheck'.
	These were included in the tree but were not added with those
	commits.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: fix 'target init' command registration The command handler registration was put at the top level, rather
	than as a subcommand.  Move it to where it belongs.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/ioutil_stubs.c, src/server/httpd_stubs.c: stubs:
	buildfix The new stubs for httpd and ioutil gave errors like:   ioutil_stubs.c: In function ‘ioutil_init’:   ioutil_stubs.c:27: error: implicit declaration of function
	  ‘LOG_DEBUG’ ioutil_stubs.c:28: error: ‘ERROR_OK’
	  undeclared (first use in this function) ioutil_stubs.c:28: error:
	  (Each undeclared identifier is reported only once ioutil_stubs.c:28:
	error: for each function it appears in.) Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/openocd.c, src/server/Makefile.am,
	src/server/httpd_stubs.c: remove #if BUILD_HTTPD Add httpd_stubs.c to provide no-op implementations of httpd_start()
	and httpd_stop().  Allows these routines to be called unconditionally and ensures the
	libocdserver ABI remains unchanged regardless of whether this
	feature was built-in or not.  Prints a DEBUG message when the stub implementation is included.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/ecosboard.c, src/helper/Makefile.am,
	src/helper/ioutil.h, src/helper/ioutil_stubs.c, src/openocd.c: 
	remove BUILD_IOUTIL symbol Add ioutil_stubs.c to provide an empty ioutil_init() routine.  Add
	ioutil.h to prevent applications from needing to declare it.  Allows unconditionally calling that function during startup, and the
	resulting libocdhelper library API is now more stable.  Prints a DEBUG message when the stub implementation is included.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/openocd.h, src/server/Makefile.am,
	src/server/server.h, src/server/server_stubs.c: remove #if logic for
	openocd_sleep_*lude Adds server_stubs.c to hold these routines, using automake logic to
	ensure it gets included under the right conditions.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/target/target.c: target: factor init to 'target
	init' Adds 'target init' command handler, called as part of 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: target: factor target_init() into pieces Moves body of target initialization loop into a helper function,
	cleaning up its visual flow in the process.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c, src/openocd.c: jtag: factor init into 'jtag init' Adds 'jtag init' command handler, which can be called as part of a
	fine-grained 'init' process.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/openocd.c: flash: factor init to 'flash
	init' Split flash initialiation into 'flash init', called from 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/openocd.c: mflash: factor init to 'mflash
	init' Splits mflash initialiation to 'mflash init', called from 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/openocd.c: nand: factor init to 'nand init' Split NAND initialization into 'nand init', which gets called from
	the main 'init' command.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/pld/pld.c: pld: factor init to 'pld init' Split PLD initialization into 'pld init', which gets called from
	'init'.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/armv7a.c,
	src/target/cortex_a8.c, src/target/cortex_a8.h: ARMv7a/Cortex-A8:
	report watchpoint trigger insn Save and display the address of the instruction which triggered the
	watchpoint.  Because of pipelining, that's well behind the PC value
	when debug entry completes.  (Example in a subroutine that had been
	returned from...) Remove unused A8 stuff, mostly watchpoint hooks from the header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c: ARM: label SP and LR correctly Except for USR/SYS mode, the labels for the shadowed SP and LR
	registers were reversed.  LR is r14; SP is r13.  Fix.  This would not affect GDB users; GDB references are positional.
	Only folk working directly with OpenOCD register values would have
	noticed this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: keep up with startup refactoring work.  keep up with server_init() introduction.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: basic watchpoint support Actually this should handle both breakpoints and watchpoints ... but
	the DPM framework only handles watchpoints for now.  Works on
	Beagle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm_dpm.c, src/target/arm_dpm.h,
	src/target/cortex_a8.c: ARM: core DPM support for watchpoints This is a NOP unless the underlying core exposes two new methods,
	and neither of the two cores using this (ARM11xx, Cortex-A8) do so
	yet.  This patch only updates those cores so they pass a flag saying
	whether or not to update breakpoint and watchpoint status before
	resuming; and removing some now-needless anti-segfault code from
	ARM11.  Cortex-A8 didn't have that code ... yes, it segfaulted when
	setting watchpoints.  NOTE:  this uses a slightly different strategy for setting/clearing
	breakpoints than the ARM7/ARM9/etc code uses.  It leaves them alone
	unless it's *got* to change something, to speed halt/resume cycles
	(including single stepping).  ALSO NOTE:  this under-delivers for Cortex-A8, where regions with
	size up to 2 GBytes can be watched ... it handles watchpoints which
	ARM11 can also handle (size 1/2/4 bytes).  Should get fixed later.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.h, src/target/cortex_a8.h: ARMv7a: move
	constants out of Cortex-A8 header These are architecturally defined, not core-specific.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, tcl/board/csb732.cfg,
	tcl/board/dm355evm.cfg, tcl/board/openrd.cfg,
	tcl/board/sheevaplug.cfg, tcl/target/c100helper.tcl,
	tcl/target/imx.cfg: Tcl and doc: update to match new 'arm mcr ...'
	etc Make them match the C code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/at91eb40a.cfg, tcl/target/at91eb40a.cfg: target:
	at91eb40a.cfg is a board, not a target.  Also updated to use target name when creating flash and set jtag_khz
	to 16000.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c, src/jtag/zy1000/zy1000.c: zy1000: keep up with
	latest changes to command handling Keep up with Jim Tcl interpreter creation cleanup.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c, src/helper/command.h, src/openocd.c: 
	command: the Jim interpreter can now be provided rather than created In embedded hosts, the Jim interpreter can come from the existing
	context rather than be created by OpenOCD.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: remove previous mcr()/mrc() methods We don't need this code, now that the DPM code handles it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.h, src/target/cortex_a8.c: Cortex-A8: remove
	previous mcr()/mrc() methods We don't need this code, now that the DPM code handles it.  Neither
	do we need the ARMv7-A CP15 operations; remove their remnants too.
	And disable a mostly-needless diagnostic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c: ARM: implement mrc()/mcr() as DPM ops Instead of having separate ARM11 and Cortex-A8 implementations of
	this code, have one shared implementation which just builds on the
	existing "run instruction via R0" support.  This enables followup patches to remove that now-unused code from
	those two drivers.  (Patches to move the "mrc" and "mcr" code into
	"struct arm" are due too ... MIPS and other cores do not support
	those ARM-specific concepts.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/cortex_a8.c, src/target/target.c,
	src/target/target_type.h: target: "mcr" and "mrc" are ARM-specific Switch "mrc" and "mcr" commands to be toplevel ARM operations, as
	they should initially have been.  Correct the usage message for both commands:  it matches ARM
	documentation (as one wants!) instead of reordering them to match
	the funky mrc() and mcr() method usage (sigh).  For Cortex-A8: restore a line that got accidentally dropped, so the
	secure monitor mode shadow registers will show again.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c: ARMv7-A: stop using CP15 ops The ARMv7-A code uses read_cp15() to access fault registers.
	Instead, use DPM operations directly, passing in the relevant MRC
	instructions.  This eliminates per-operation overhead (though it'll be hard to
	observe, this is uncommon) and helps eliminate read_cp15().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: stop using CP15 ops There were two chunks of Cortex-A8 code which called the ARMv7-A
	CP15 operations; get rid of them, helping prepare to remove those
	methods completely:  - post_debug_entry() can use the mrc() method to read    its two registers.   - write_memory() can use dpm->instr_write_data_r0() to    flush the ICache and DCache ... doing it this way is    actually faster since it reduces per-write overhead.  Note that the mrc() method parameters are re-ordered with respect to
	the ARM instruction documentation, so that part can be confusing.  Cleaned up the layout and comments in those areas a bit.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/openocd.c: main: invoke jtag_interface_quit() explicitly There is no particular reason to invoke jtag_interface_quit() on the
	atexit() handler, it just makes the code more obtuse and stops other
	legitimate usage of atexit().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: improve command prohibition error report Ensures that the correct information gets displayed, depending on
	the mode of the command being denied.  Fixes misreporting all
	commands as needing to run "before 'init'".

2009-11-30  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: restore_context() cleanup Clean up two aspects to this routine:  bad naming, since it doesn't
	restore the context, just the banked registers; and excess
	indentation for the bulk of the code.  Also make some of its call sites stash the function's return code;
	someday they should use it for error checking.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-30  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: context restore, cleanup/bugfix This "loop over all registers" routine shared the same mess as
	full_context() in terms of dozens of needless number_to_mode()
	calls.  Fix that, and comments, with related cleanup.  The misnamed xscale_restore_context() had a related bug.  It was
	restoring the *WRONG REGISTERS* ... always from whatever the current
	mode was, instead of using the copy from whichever register bank it
	was trying to restore.  (But it marked the intended register as
	having been restored...)  Fixed that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h, src/server/server.c: 
	remove interp global variable! Finish removing references to the 'interp' global variable from the
	command module, encapsulating all reference via command_context.  Eliminates use of the global entirely, so it can be removed.
	Hurrah!

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: command output capture: do not use interp
	global Adds a log_capture_state structure to pass to the log capture
	callback used by the command module.  Ensures that the capture
	occurs in the proper context.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h, src/jtag/core.c,
	src/openocd.c, src/server/httpd.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/tcl_server.h, src/target/target.c, src/target/target.h: 
	do not extern 'interp' from command.c Adds 'interp' field to command_context, chasing the few remaining
	references to the global variable outside of the command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c, src/target/target.h: target: avoid using
	interp global variable Adds 'interp' to target_event_action structure to avoid using the
	global variable of the same name.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jtag.h, src/jtag/tcl.c: jtag: avoid using interp global
	variable Adds 'interp' field to jtag_tap_event_action structure to avoid
	using the global variable of same name.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/hello.c: fix foo command group help messages Splits the old help strings to provide proper usage as well.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: make syntax errors
	respond with 'usage' The 'help' text will become more verbose, so its entire text will be
	far more than desired when you only borked your syntax.  The usage
	still allows the commands to be looked up for more help.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: move improperly located documentation Somehow, the comment block for command handlers ended up associated
	with the output_handler.  Move it to the command_handler_t
	declaration.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: improve command_done()
	API and docs command_done() does not need to return an error, but it needed
	Doxygen comment.  Provide some for copy_command_context as well.  Note: this audit revealed some potential bugs with the command
	context implementation.  There was a reason that commands were added
	at the end of the list.  Shallow copying of command_context means
	that the list is shared between them.  And commands added at the
	top-level before the pre-existing commands will not be available in
	the shared context as they were before.  Yikes! Fortunately, this does not seem to occur in general use, as
	'add_help_text' gets registered in startup.tcl and claims the first
	slot in my own test cases.  Thus, it seems that we have been masking
	the issue for now, but it shows the need for further architectural
	improvement in the core command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: only display usable commands in help With the ability to defer 'init', users can access the help system
	while still in CONFIG mode.  This patch omits commands from the help
	and usage list when they cannot be run in the current command mode,
	making it much easier to see what can be done at a given time.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: allow deferal of init Adds 'noinit' command to prevent OpenOCD from running 'init' at the
	end up startup, allowing it to be given from telnet or TCL.  This
	provides the old behavior by default, and users can add this command
	to their scripts to get the new behavior.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/server/server.c: move server_init()  to
	openocd_main() Moves the telnet and TCL server startup to server_init(), moving
	their respective command registration in to
	server_register_commands().  Adds proper error checking for these
	particular startup processes.  Moves the core server startup to openocd_main(), improving related
	error checking and preparing to defer 'init'.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/server/gdb_server.c, src/server/gdb_server.h: 
	improve gdb_init() sequence Rework gdb_init to create flexible APIs (gdb_target_add_{one,all})
	and static helper (gdb_target_start) for starting GDB services.
	Eliminates duplicated code and provides general mechanisms for
	adding GDB services.  The 'init' command is updated to call the new
	API, and later patches can decouple its policy of adding all targets
	therein.  Provides the new capability to use both piped and TCP servers when
	multiple targets are defined.  The first target fills the pipe, and
	others will be started on TCP ports (unless disabled, i.e.
	gdb_port=0).

2009-11-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: keep up with changes to command
	structure Add missing COMMAND_REGISTRATION_DONE.  For now the command syntax for zy1000 needs to be compatible across
	0.3/0.4, the world outside OpenOCD interfaces to zy1000 using the
	old syntax. Post 0.4 release(0.4.1 even) I'll switch to subcommand
	scheme.  Switch to subcommands post 0.3 lifecycle.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: clean up full_context() (#2) Streamline the loop by continuing as soon as we know there's no work
	to be done; this lets us un-indent almost everything.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: clean up full_context() (#1) When fetching all the registers, XScale was doing various stupid
	things like calling number_to_mode() a few dozen times instead of
	just once, and mapping access to each register three times (again,
	instead of just once).  Stop that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: debug entry uses new register mapping Use the new mapping interfaces in the debug entry path.  SPSR and
	the banked registers now have smaller and faster accessors ... use
	them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Marek Vasut <marek.vasut@gmail.com>

	* tcl/target/pxa3xx.cfg: create target/pxa3xx.cfg [dbrownell@users.sourceforge.net; remove pxa255 comment] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Marek Vasut <marek.vasut@gmail.com>

	* doc/openocd.texi, src/target/xscale.c, src/target/xscale.h: 
	XScale: initial PXA3xx support [dbrownell@users.sourceforge.net: user's guide; variant param is
	optional] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11_dbgtap.c: ARM11: fix warning on cygwin Previous version of JTAG_DEBUG() macro hid this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/openocd.c: bugfix: 'init' changes state, not main() Code other than main() may invoke "init".  When it does so,
	customized handlers may need to run ... so make sure the command
	context state is updated before they do so.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  lementec fabien <fabien.lementec@gmail.com>

	* src/flash/s3c24xx_nand.c: fix s3c24xx device command helper Returns the common structure for the s3c24xx device, which was
	somehow nuked during past cleaning efforts.

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: don't chain "struct arm"
	commands Those commands presume support for the "classic" set of CPU modes
	(FIQ, supervisor, IRQ, etc) ... which aren't supported by the
	ARMv7-M or ARMv6-M architectures.  They also presume a "struct arm"
	base type, which this code doesn't use.  We haven't cleaned up the register handling enough to be able to
	share any of those "base" methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/nand.c, src/flash/nonce_nand.c: 
	add 'nonce' nand driver The nonce NAND driver provides a no-op implementation useful for
	testing the system independently of any driver side-effects.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* src/target/testee.c: add more stub handlers to testee target Prevent everything from crashing when exercising various commands.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: explode tcl_target_func into many handlers Eliminate the monolithic tcl_target_func by registering each of its
	commands using the new chained command registration mechanism.  Also chains the target's commands under the CPU command, though
	these may not work properly without some further modification.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: split jim_target into multiple handlers The 'target' command group was implemented using its own command
	dispatching, which can be eliminated by using the new chained
	command registration mechanism.  This patch splits the jim_target()
	function into individual handlers, which makes them to be visible to
	the help and usage commands.  These one-trick handlers are much
	easier to understand.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: split jim_newtap_cmd into pieces Moves the ID and IR-related option parsing to static helpers,
	removing two levels of indent.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: improve jtag_tap_configure Splits bulk of the jtag_tap_configure into jtag_tap_configure_event,
	removing three or four levels of indentation in the process.  The
	resulting code was stylistically improved in other ways, but it
	should be functionally identical.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: improve jtag_tap_handle_event indentation Use 'continue' to reduce identation levels and superfluous logic.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: begin moving JTAG jim handlers/helpers Moves the tertiary jim handlers and required static helpers to the
	top of tcl.c, defining them in a new registration array that is
	chained in both the top-level context and under the jtag command.
	The top-level commands can be removed at some point in the future to
	reduce clutter.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: split jim_jtag_command into multiple handlers Explodes the 'jtag' into separate command handlers, which are easier
	to understand and extend.  Makes the code much easier to understand,
	though further simplifications are possible.  This patch tries to
	minimize the noise when viewed with 'git diff -w'.  Gives these commands improved built-in help and usage information.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/helper/ioutil.c: remove redundant 'rm' command handler Two 'rm' commands were implemented and registered.  This removes the
	version that would have never been called prior to refactoring the
	command registration.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: add error checking in command_new Adds checks for memory allocation failures.  Started to use calloc()
	instead of malloc()/memset(), but I got carried away.  This kind of
	work should be done throughout the tree, but it's almost hopeless at
	present.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: include mode information in help text.  Extends the help output to list the valid modes for each commands.
	Fixes a memory leak of the returned command_name() string.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: refactor command mode detection Splits the check for a command's ability to run into a helper.  This also fixes a bug whereby commands that specified COMMAND_EXEC
	were allowed to run during the configuration stage.  This allowed
	problematic commands to be called before 'init', defeating the
	intention of specifying that command mode.  With this change, the
	run_command() helper denies access to handlers that should run only
	after 'init' during the configuration stage.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add command private
	data setter/accessor Presently, commands registration taks a static handler data pointer.
	This patch adds support for commands that require a dynamic pointer,
	such as those registered in a dynamic context (e.g. subcommands for
	a user-created 'foo.cpu' command).  The command_set_handler_data
	will update a command (group) to use a new context pointer, while
	the CMD_DATA macro allows command handlers to access the value.  Jim
	handlers should find this value in interp->cmdPrivData.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: add 'command mode' introspective handler Allows scripts to behave different depending on the current mode.
	Also allows introspection of the mode required for commands.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: remove unknown
	handler Updates command registration to provide top-level handlers for all
	commands, rather than falling back onto the 'unknown' command.
	Instead, that same handler is registered for placeholders, providing
	the same functionality under the root verb command name instead.
	This permits users to implement their own 'unknown' function, and it
	resolves some mind-bending breakage related to function object
	lookup while recursing.  Changes 'ocd_bounce' to call 'ocd_command' and 'ocd_help' from the
	wrapper directly, rather than bouncing through their wrappers. This
	prevents endless recursion caused by the above changes, whereby the
	'command' wrapper's type check would blow the stack to hell and
	gone.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: improve command
	handler wrapper script Adds 'ocd_bouncer' in startup.tcl that is called as a helper for all
	command handlers, shrinking the embedded C wrapper to a mere stub.  Jim handlers are called directly, simple handlers get called with
	the wrapper to capture and discard their output on error, and
	placeholders call help directly (though the unknown handler still
	does this too).  It attempts to improve the quality of the error
	messages as well.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: add 'command type' introspective handler Adds the 'command' group handler, with the 'type' command producing
	a string that tells whether the given command is 'native' (for
	Jim-based command handlers), 'simple' (for simple built-in
	commands), 'group' for command group placeholders, and 'unknown' if
	not found in the command registration tables (e.g. core built-ins
	functions).

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11_dbgtap.c: ARM11: fix warning on amd64 Previous version of JTAG_DEBUG() macro hid this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11_dbgtap.c: ARM11: fix dbgtap JTAG_DEBUG There is no DEBUG() macro; don't call one!  Always at least *parse*
	debug code, to help prevent such errors.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/breakpoints.c,
	src/target/cortex_m3.c, src/target/target.c,
	src/target/target_type.h, src/target/xscale.c: target: uplevel
	add_{break,watch}point() error checks In target_type.h it's documented that the target must be halted for
	add_breakpoint() ... and with slight ambiguity, also for its
	add_watchpoint() sibling.  So rather than verifying that constraint
	in the CPU drivers, do it in the target_add_{break,watch}point()
	routines.  Add minor paranoia on the remove_*point() paths too:  save the
	return value, and print it out in in the LOG_DEBUG message in case
	it's nonzero.  Note that with some current cores, like all ARMv7 ones I've looked
	at, there's no technical issue preventing watchpoint or breakpoint
	add/remove operations on active cores.  This model seems deeply
	wired into OpenOCD though.  ALSO:  the ARM targets were fairly "good" about enforcing that
	constraint themselves.  The MIPS ones were relied on other code to
	catch such stuff, but it's not clear such code existed ...  keep an
	eye out for new issues on MIPS.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.h: target: remove unused TARGET_EVENT_OLD_*
	symbols Just two *_OLD_* symbols left...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: mention new reset-assert event Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap3530.cfg: omap3530.cfg: use new "reset-assert"
	event Replaces previous "reset-assert-pre" workaround.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: support "reset-assert" event Use the new "reset-assert" event; else SRST; else fail.  Tested on
	an OMAP3, using the event.  NOTE:  still doesn't handle "reset halt".  For some reason neither
	VCR nor PRCR seemed effective; they held the value that was written,
	but VCR didn't trigger debug entry when the reset vector fired
	(maybe the vector needs configuring?) and PRCR refused to hold the
	chip in reset until deassert() could force the core into debug
	state.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/target.c, src/target/target.h: 
	target: groundwork for "reset-assert" event This defines a "reset-assert" event and a supporting utility
	routine, and documents both how targets should implement it and how
	config scripts should use it.  Core-specific updates are needed to
	make this work.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: write_memory() avoids increment check When writing to a chip's "reset yourself" register, the ARM11 code
	was reporting a spurious failure.  Just don't bother checking for
	correctly incremented pointers given single-unit writes ... it's a
	bit faster that way too.  (Reads should likely do the same thing.
	For that matter, such checks are usually just a waste...) Shrink an overlong parameter name, and associated lines'o'code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: fix regression causing duplicated output The command refactoring caused subcommand handlers to produce
	duplicate output when run.  The problem was introduced by failing to
	ensure all such invocations went through a top-level "catcher"
	script, prefixing the command name with the 'ocd_' prefix and
	consuming its results.  The fix is to ensure such a top-level "catcher" script gets created
	for each top-level command, regardless of whether it has a handler.
	Indeed, this patch removes all command registrations for
	sub-commands, which would not have worked in the new registration
	scheme anyway.  For now, dispatch of subcommands continues to be handled by the new
	'unknown' command handler, which gets fixed here to strip the 'ocd_'
	prefix if searching for the top-level command name fails initially.
	Some Jim commands may be registered with this prefix, and that
	situation seems to require the current fallback approach.
	Otherwise, that prefix could be stripped unconditionally and the
	logic made a little simpler.  The same problem must be handled by
	the 'help' command handler too, so its lookup process works as
	intended.  Overall, the command dispatching remains more complicated than
	desired, but this patch fixes the immediate regressions.

2009-11-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: keep up with new command
	registration stuff jim and classic style commands are both supported.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/minidummy/minidummy.c: update minidummy interface driver
	command handling Changes the interface definition field reference from
	register_commands to commands, which allows the module to compile.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: fix 'nand info' command Move device argument parsing after check for number of arguments;
	otherwise, calling this command without any arguments would access
	argv[0] before checking whether it even existed.

2009-11-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: keep up with changes to log_init() fn's and return value for log_init() changed to void.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/minidummy/jtag_minidriver.h: minidummy: fix compilation
	error during refactoring a search and replace error crept in Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.h: ARM NAND I/O header documentation update.  Fixed the header file to properly specify the doxygen documentation
	for the items defined in it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.c: ARM NAND I/O documentation update.  This updates the functions in the file to all have doxygen comments
	describing what they do.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.c: ARM NAND I/O refactor code copying.  Created a function for copying code to the working area on a target.
	The NAND write and read functions are updated to include use of this
	function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/arm_nandio.c, src/flash/arm_nandio.h: ARM NAND I/O read
	function.  Implementation of the NAND read function for ARM NAND I/O that
	includes running a local algorithm on a device to increase the
	performance of block reads.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand.h: NAND Flash documentation update.  Updated doxygen comments for different interface structures for the
	NAND interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: add stub {read,write}_phys routines Just make these fail, instead of letting them write over potentially
	random memory.  Users should be able to work around the lack of real
	implementations by disbling the MMU by hand ... until someone
	provides a Real Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* doc/openocd.1: update bug reporting information The Berlios bug-tracker is disabled, bug reports go to the list.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* BUGS, ChangeLog, PATCHES, README, TODO: fix typos in documentation Fixes some minor typos in the top-level documentation files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* src/server/gdb_server.c, src/server/httpd.c, src/server/server.c: 
	fix typos in source files Correct some spelling errors in source comments and printed output.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/manual/style.txt: styleguide: add some embedded style rules.  Embedded and pthreads rely on modest and predictable stack usage.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-26  Eric Wetzel <thewetzel@gmail.com>

	* src/flash/flash.c: fix 'flash protect' and 'flash erase_sector' Command upgrading introduced two off-by-one bugs in the flash
	commands.  This patch fixes the 'flash {protect,erase_sector}'
	commands to check that they have been passed the correct number of
	arguments.  Ammended during commit to fix help text for 'erase_address' too.

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c, src/target/breakpoints.c,
	src/target/etm.c, src/target/target.c, src/target/target.h: target:
	create and use target_name() Several of the sites now using target_type_name() really ought to be
	using an instance-specific name.  Create a function called
	target_name(), accessing the instance's own (command) name.  Use it in several places that really should be displaying
	instance-specific names.  Also in several places which were already
	doing so, but which had no wrapper to call.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c, src/target/breakpoints.c,
	src/target/embeddedice.c, src/target/etm.c, src/target/target.c,
	src/target/target.h, src/target/target_type.h: target:
	target_get_name() --> target_type_name() There are two names that may matter on a per-target basis.  One is a
	per-instance name (for example, "at91sam7s.cpu").  The other is the
	name of its type (for example, "arm7tdmi"), which is shared among
	multiple targets.  Currently target_get_name() returns the type name, which is
	misleading and is rarely appropriate for target diagnostics.  Rename
	that as target_type_name().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap3530.cfg: omap3530.cfg: yes we have SRAM! Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c: ARM: minor armv4/armv5 cleanup Lines of 300+ characters are still bad; debug tweaks.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM: comment tweaks in ADIv5 "OptimoDE DESS" is ARM's semicustom DSPish stuff.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c: ARM7/9: shrink run_algorithm_inner()
	lines 300+ characters is unreasonable.  So is half that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS updates Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* NEWS: update NEWS with recent developments Mention changes to flash bank command syntax, 'nand verify' command,
	command error handling and reporting, and help/usage command
	upgrades.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/tms470.c, src/jtag/ft2232.c,
	src/jtag/rlink/rlink_speed_table.c, src/jtag/tcl.c,
	src/target/armv7m.c, src/target/avrt.c, src/target/mips32_pracc.c,
	src/target/mips_ejtag.c, src/target/xscale.c: use ARRAY_SIZE macro Search and destroy lingering cases where the ARRAY_SIZE macro should
	be used to convey more intrinsic meaning in the OpenOCD code.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c: support OPENOCD_DEBUG_LEVEL environment setting Detect the OPENOCD_DEBUG_LEVEL setting in log_init(), allowing the
	very early startup phases to be debugged.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c, src/helper/log.h, src/openocd.c: log: improve
	initialization Removes redundant assignment of start_ms from
	log_register_commands().  Eliminates command_context parameter and
	return value.  Adds Doxygen comment block for this API call.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* doc/manual/helper.txt, doc/manual/primer/commands.txt: update
	command handler documentation Adds sections on command registration and chaining, giving an
	overview to developers that want to use these features.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/target/Makefile.am, src/target/target.c, src/target/testee.c: 
	add 'testee' target type Alliteration aside, this should provide the final piece of the
	puzzle for developers that want to get started writing a new target
	type.  In this way, it also seeks to complement the 'dummy'
	interface driver and 'faux' NOR flash driver.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/flash/faux.c, src/hello.c, src/hello.h, src/jtag/dummy.c,
	src/openocd.c: improve command handling examples Removes hello and foo commands from top-level registration.
	Instead, the dummy interface driver and faux flash driver have been
	augmented to register these commands as sub-commands.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: add script_command_run helper Eliminates duplicated code in script_command and
	handle_unknown_command.  Fixes bug with duplicated help output
	generated by placeholder commands.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: encapsulate and re-use log capture, retval
	setup Factors log capture while running script commands, eliminating
	duplicated code between script_command and jim_capture.  Factors
	setting a command's Jim "retval" into a new helper as well.  Using these new helpers in the new unknown command handler's fixes
	possible regressions caused by these bits being missing.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: combine help and usage command handlers Remove duplicated handler code by checking the running command name.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: improve usage and
	help command output Rewrite formatting code in C, removing last remenants of TCL help
	code.  Sinificantly improves the readability by using smarter indent
	and wrap.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: allow scripts to
	update usage information The add_usage_text command uses the same C handler, which was
	updated to support its new polymorphic role.  This patch updates the
	two script commands that needed this support: 'find' and 'script'.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c, src/server/Makefile.am, src/server/httpd.c,
	src/server/httpd.h: httpd: use register_commands() Updates httpd_start() to use register_commands() for 'readform' and
	'writeform' commands.  Adds server/httpd.h to export the new
	signatures for this function (and httpd_stop), which allows removing
	the obsoleted declarations inside openocd.c.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/helper/command.c, src/helper/command.h,
	src/helper/ioutil.c, src/jtag/tcl.c, src/target/target.c: add
	jim_handler to command_registration Adding jim_handler field to command_registration allows removing the
	register_jim helper.  All command registrations now go through the
	register_command{,s}() functions.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: refactor command_new to use
	command_registration Save stack space: use a struct.  Makes it easier to add new
	parameters.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/etm_dummy.c, src/target/oocd_trace.c: remove
	register_commands from etm_capture_driver Converts callback to an array of command_registration records.
	Moves oocd_trace driver definition to end of file to eliminate
	useless forward declaration.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etm.c, src/target/etm.h,
	src/target/fa526.c, src/target/feroceon.c, src/target/mips32.c,
	src/target/mips_m4k.c, src/target/target.c,
	src/target/target_type.h, src/target/xscale.c: remove target_type
	register_command callback Uses chaining of command_registration structures to eliminate all
	target_type register_callback routines.  Exports the command_handler
	registration arrays for those target types that are used by others.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c: xscale: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/trace.c: trace: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/target_request.c: target_request: use
	register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: target: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/oocd_trace.c: oocd_trace: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm_dummy.c: etm_dummy: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm.c: etm: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c: etb: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_m3.c: cortex_m3: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.c: cortex_a8: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7m.c: armv7m: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.c: armv7a: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5.c: armv4_5: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm9tdmi.c: arm9tdmi: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm966e.c: arm966e: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm926ejs.c: arm926ejs: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c: arm920t: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm7_9_common.c: arm7_9_common: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.c: arm720t: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c: arm11: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/davinci_nand.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mx3_nand.c, src/flash/nand.c, src/flash/nand.h,
	src/flash/orion_nand.c, src/flash/s3c2410_nand.c,
	src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c, src/flash/s3c24xx_nand.c,
	src/flash/s3c24xx_nand.h: remove nand_controller->register_callbacks Replace flash_driver callback with pointer to command_registration.
	Eliminates all related routines and allows drivers to omit commands.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/ecos.c, src/flash/faux.c,
	src/flash/flash.c, src/flash/flash.h, src/flash/lpc2000.c,
	src/flash/lpc2900.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c: remove
	flash_driver->register_callbacks Replace flash_driver callback with pointer to command_registration.
	Eliminates all related routines and allows drivers to omit commands.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/tms470.c: tms470: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9xpec.c: str9xpec: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9x.c: str9x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str7x.c: str7x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stm32x.c: stm32x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stellaris.c: stellaris: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c: pic32mx: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: nand: use register_commands() Eliminates 'nand_cmd' global variable.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c: mflash: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc3180_nand_controller.c: lpc3180_nand_controller: use
	register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2900.c: lpc2900: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c: lpc2000: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c: flash: use register_commands() Eliminates 'flash_cmd' global variable.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ecos.c: ecos: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c: cfi: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c: avrf: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam7.c: at91sam7: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c: at91sam3: use register_commands()

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/dummy.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/interface.h, src/jtag/jlink.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/rlink/rlink.c, src/jtag/tcl.c,
	src/jtag/vsllink.c: remove register_callbacks from jtag interface Changes the jtag_interface->register_callbacks field to a list of
	commands to be registered.  Changes callback to invocation of
	register_commands() with that command registration list.  Removes
	all JTAG interface driver register_command callback functions, which
	the previous commits had converted into identical calls.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/vsllink.c: vsllink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: jtag: use register_commands() Use register commands with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/presto.c: presto: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/parport.c: parport: use register_commands() Use register_commands() with a command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jlink.c: jlink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/gw16012.c: gw16012: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/ft2232.c: ft2232: use register_commands() Use register_commands() with a command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/at91rm9200.c: at91rm9200: use register_commands() Use register_commands() with command registration array.  --- This
	module was broken by previous changes, but no one has complained.
	Are there still users for this modules?

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c: arm-jtag-ew: use register_commands() Uses register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c: amt_jtagaccel: use register_commands() Use register_commands() with command_registration array.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c: pld: use static
	registration instead of callback Remove register_callbacks from pld_device structure, using an array
	of command_registration records instead.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.c, src/pld/virtex2.c: pld: use register_commands() Updates core PLD and virtex2 commands to use register_commands().

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/svf/svf.c, src/xsvf/xsvf.c: {,x}svf: use register_commands() Use register_commands() for registering {,x}svf commands.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/tcl_server.c, src/server/telnet_server.c: server: use
	register_commands Converts server directory to use new command registration paradigm.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c: log: use register_commands() Use register_commands() for logging callbacks.  Improve help and add
	proper usage.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/ioutil.c: ioutil: use register_commands() Use table instead of individual calls.  Add proper usage
	information.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.c: openocd: use register_commands() Use register_commands() for top-level version and init command.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/hello.c: demonstrate chaining with foo commands Use the new command registration chaining capabilities to eliminate
	the foo_register_commands helper, folding its remaining command
	handler setup into the hello_command_handlers registration array.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/hello.c: hello: use register_commands() Use new register_commands() with command registration table.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: rewrite 'unknown'
	command dispatching in C Rewrite the magical 'unknown' command in C as a Jim handler,
	allowing it to dispatch commands to any level in the tree.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add public API for
	locating commands Allow other modules to find a command, primarily for the purpose of
	registering and unregistering subcommands.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: refactor script_command context grabbing Move command context acquisition to current_command_context() for
	re-use.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add command
	registration chaining Adds the ability to chain registration structures.  Modules can
	define a command with the 'chain' and 'num_chain' fields defined in
	their registration table, and the register_commands() function will
	initialize these commands.  If the registration record creates a new
	command, then the chained commands are created under it; otherwise,
	they are created in the same context as the other commands (i.e. the
	parent argument).

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: more command registration refactoring Split out the handler registration into its own function, and add a
	few obviously missing NULL pointer error checking.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: command: use register_commands for handlers Use register_commands() to register low-level command handlers,
	adding a builtin_command_handlers declaration that is easy to
	understand.  Splits help and usage information into their
	appropriate fields.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add command usage,
	separate from help Adds the usage command, to display usage information for commands.
	The output for this command will remain erronenously empty until
	commands are updated to use these new coventions.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add register_commands
	for batch registration The register_commands API takes multiple commands in one call,
	allowing modules to declare and pass a much simpler (and more
	explicit) array of command_registration records.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add struct
	command_registration Add a structure to encapsulate command registration information,
	rather than passing them all as parameters.  Enables further API
	changes that require additional required or optional parameters.  Updates the register_command API and COMMAND_REGISTER macro to use
	it, along with their documentation.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/at91sam3.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/nand.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c, src/hello.c,
	src/helper/command.c, src/helper/ioutil.c, src/helper/log.c,
	src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/tcl.c, src/jtag/vsllink.c, src/jtag/zy1000/zy1000.c,
	src/openocd.c, src/pld/pld.c, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/server.c,
	src/server/tcl_server.c, src/server/telnet_server.c, src/svf/svf.c,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/etm_dummy.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: use
	COMMAND_REGISTER macro Replaces direct calls to register_command() with a macro, to allow
	its parameters to be changed and callers updated in phases.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: add COMMAND_REGISTER macro Provides a migration path for the widely used register_command API,
	which needs to be updated to provide new functionality.  This macro allows the API to change without having to update all of
	its callers at the same time.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/helper/startup.tcl, src/jtag/startup.tcl,
	src/server/startup.tcl, src/target/startup.tcl: improve startup tcl
	scripts Fix a couple of layering violations missed in the last round.  Add
	missing comment headers.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: avoid DSCR reads There was a lot of needless handshaking overhead in the current
	Cortex-A8 DCC/ITR operations, since the status read by each step was
	discarded rather than letting the next step know it.  This shrinks the handshaking by:  (a) passing status along from
	previous steps, avoiding re-fetching; which enables the big win (b) relying on a useful invariant:  that the DSCR_INSTR_COMP bit is
	set after every call to a DPM method.  A "reg sp_usr" call previously took 17 flushes; now it takes just 9.
	This visibly speeds common operations like entry to debug state and
	stepping, as well as "arm reg" and so on.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: hook up DPM This replaces two versions of register access functions.  One was
	commented out, and seemed to have uncertain intent.  The other was
	fairly new, and helped motivate the DPM framework once I observed
	that the ARM11 was doing the very same ops.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_dpm.c, src/target/arm_dpm.h, src/target/armv7a.h,
	src/target/cortex_a8.c: Cortex-A8: implement DPM This implements the DPM interface for Cortex-A8 cores.  It also adds
	a synchronization operation to the DPM framework, which is needed by
	the Cortex-A8 after CPSR writes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: Cortex-A8: minor
	cleanup Make various functions static, add some comments, report vector
	catch as a flavor of DBG_REASON_BREAKPOINT, get rid of
	needless/undesirable ARMV4_5_CORE_REG_MODE, etc.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/log.c: improve alloc_vprintf The previous implementation was unnecessarily complex. Get rid of
	the loops, let vsnprintf() tell us directly how much storage we need
	and allocate that. A second pass writes the actual string. Also add
	a va_end() that was missing.  This should be much faster for large
	strings and less wasteful for small ones.  A quirk that has been retained is that some callers patch in a
	newline at the end of the returned string and depend on
	alloc_vprintf to allocate at least one byte extra.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* Makefile.am: fix doxygen build Update build rules to skip the PDF unless the TeX has been created.
	Also, fixes a warning regarding pattern rules being a GNU make
	trick.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jlink.c: jlink: rewrite to use jtag_usb_open Rewrite jlink_usb_open to use jtag_usb_open helper.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jlink.c: jlink: remove superfluous indentation Rewrite logic to remove indentation in jlink_usb_open, in prep for
	further surgery.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/rlink/rlink.c: rlink: use jtag_usb_open helper Rewrite rlink_init routine to use jtag_usb_open helper.  Eliminates
	some spurious calls to exit().  Wraps a tremendously long line of comment to fit 80 columns too.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/rlink/rlink.c: rlink: eliminate spurious indentation Rework rlink_init to use less indentation.  Best viewed with diff
	-w.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/vsllink.c: vsllink: rewrite to use jtag_usb_open Rewrite vsllink_usb_open to use jtag_usb_open helper.  Eliminates spurious calls to exit().

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/usbprog.c: usbprog: use jtag_usb_open Rewrite usbprob_jtag_open to use jtag_usb_open helper.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c: arm-jtag-ew: use jtag_usb_open Rewrite armjtagwe_usb_open to use jtag_usb_open.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* configure.in, src/jtag/Makefile.am, src/jtag/usb_common.c,
	src/jtag/usb_common.h: add jtag/usb_common.[ch] files Begins to consolidate code used by several USB JTAG interfaces.
	This first patch provides the required build system changes and a
	common jtag_usb_open routine, which will replace the guts for
	probing the busses and devices for possible VID/PID matches.  The
	following patches convert each driver to use it.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: remove old
	R0..R15/CPSR code This finishes the basic switchover to the new register code, for
	everything except the debug registers.  (And maybe we shouldn't have
	a cache for *those* which works this way...) The context save/restore code now uses the new code, but it's in a
	slightly different sequence.  That should be fine since the
	R0/PC/CPSR stuff is all that really matters (and if we can update
	those, we can update the rest).  Now there's no longer a way any code can be confused about which
	copy of "r1" (etc) to use.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: use standard run_algorithm() As with single stepping, the previous stuff was needed because the
	ARM11 code wasn't using the standard ARM base type and register
	access ... but now those mechanisms work, so we can switch out that
	special-purpose glue, in favor of the more thoroughly tested/capable
	"standard" code.  Fixes a bug in the resume() implementation:  it wasn't handling two
	of its arguments correctly, preventing the "flash erase_check"
	algorithm from working.  (This code needs a *subsequent* update for
	correct register handling, though... removing the confusion about
	which "r2", for example, to use.) This should resolve some "FIXME" comments too, for Thumb and
	processor mode support.  It also gets rid of a nasty exit() call;
	servers should only have *clean* shutdown paths.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, src/target/arm11.c: ARM11: use standard single step
	simulation The previous stuff was needed because the ARM11 code wasn't using
	the standard ARM base type and register access ... but now those
	mechanisms work, so we can switch out that special-purpose glue.  This should resolve all the "FIXME -- handle Thumb single stepping"
	comments too, and properly handle the processor's mode.  (Modulo the
	issue that this code doesn't yet handle two-byte breakpoints.) Clarify the comments about the the hardware single stepping.  When
	we eventually share breakpoint code with Cortex-A8, we can just make
	that be the default on cores which support it.  We may still want an
	override command, not just to facilitate testing but to cope with
	"instruction address mismatch" not quite being true single-step.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: partial support for standard ARM
	register interfaces.  This provides "standard" ARM register support -- with twenty or more
	shadow registers on top of what this code now handles, but properly
	associated with the various core modes -- parallel to the current
	register code.  That is, the current code is stilil managing the
	"current" registers; the new code shadows them.  You can see all the registers with "arm reg", modify the shadows
	like "r8_fiq" or "sp_abt" with "reg", and see them get properly
	written back when you step.  (Just don't do that with any of the
	registers managed by the "old" code ...) It also switches to using more standard code, relying on those
	standard registers, in two places:  (a) the poll status display,
	which now shows core state (ARM/Thumb/...) and mode (Supervisor,
	IRQ, etc); and (b) GDB register access.  So it's not a full migration, there are warts -- every place that
	touches the old register cache is a potential bug -- but it's a
	small more-or-less-comprehensible step that's even somewhat useful.
	Later patches complete the migration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: remove register
	"history" debug stuff This was a private mechanism to snapshot registers before leaving
	debug state, and then on reentry to optionally display what changed.
	It was coupled to the private register cache, which won't be
	sticking around in that form for much longer.  Remove (instead of
	teaching it how to handle *all* the registers).  (The idea is interesting, but we ought to be able to implement this
	in a generic way.  Ideally through Tcl scripts that can
	automatically be invoked following debug entry...) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.h, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h: ARM11: implement provider for new DPM
	interface This is a very thin layer over some of the current ARM11 debug TAP
	utilities.  The layer isn't yet hooked up.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/Makefile.am, src/target/arm_dpm.c,
	src/target/arm_dpm.h, src/target/armv4_5.c, src/target/armv4_5.h: 
	ARM: new DPM interface First version of interface for sharing code between ARMv6 and ARMv7a
	debug modules ... now the architecture includes debug support.  (Not
	the same as for the trimmed-down v7m or v6m though!)  This is a
	first version of an interface that will let the ARM11 and Cortex-A8
	support share code, features, and bugfixes.  Based on existing code
	from both of those cores.  The ARM v7-AR architecture specification calls this commonality the
	"Debug Programmer's Model (DPM)", which seemed to be an appropriate
	acronym -- a TLA even! -- for use in our code.  Made it so.  :) The initial scope of this just supports register access, and is
	geared towards supporting top level "struct arm" mechanisms.  Later,
	things like breakpoint and watchpoint support should be included.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/breakpoints.c: target: cope with *any* error setting a
	breakpoint It's wrong to map unrecognized failure codes to success.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* NEWS, doc/openocd.texi, src/helper/options.c: support for scripts
	in $HOME/.openocd Add $HOME/.openocd as the first default script search directory,
	allowing the user to override the standard scripts.  Update the user guide with information on where OpenOCD expects to
	find configuration files and scripts. Also fixed some minor
	formatting issues.  Add entry to NEWS as well.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-23  Jerry Ling <jerry_ling@draytek.com>

	* src/target/mips32_pracc.c: mips: fix gaffe when removing dynamic
	array allocation Classic sizeof() gaffe.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/dm355evm.cfg, tcl/board/openrd.cfg,
	tcl/board/sheevaplug.cfg: arm926ejs: fix gaffe when converting from
	arm926ejs cp15 to mcr the first arg is the register number 15 = cp15.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/arm926ejs.c, tcl/board/dm355evm.cfg,
	tcl/board/openrd.cfg, tcl/board/sheevaplug.cfg: arm926ejs: retire
	cp15 commands, handled by mrc/mcr.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: ARM11: remove
	unused state and exports For now there's no point in saving this stuff after examine() checks
	it out as OK.  Ditto exporting symbols that aren't used outside of
	the module which defines them.  In fact, those two things needlessly
	complicate the code...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: macro cleanup Make this code look more like the rest of the OpenOCD code.   - Use calloc() directly, not NEW() ... and fix some potential    memory leaks while we're at it.   - Remove FNC_INFO ... it's a NOP that just clutters things,    and it's trivial for developers to add tracing as needed.   - Replace FNC_INFO_NOTIMPLEMENTED with LOG_WARNING calls;    ditto.  And stop having those call sites wrongly succeed!  - Waste less space with the CHECK_RETVAL() macro.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c: mips: remove dynamic arrays - reduces
	stack usage Allocate working memory dynamically.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/mips32_pracc.c, src/target/mips32_pracc.h: mips: use
	const for code sequences This will allow data to be allocated in read only memory instead of
	on the stack. Speeds things up and reduces stack usage.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO, src/target/arm11_dbgtap.c: arm11: do not use dynamic arrays Allocate working memory dynamically, caught by checkstack.pl Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm926ejs.c: arm926ejs: fix warnings buf_set_u32() operated on an uninitialized stack variable with
	non-byte boundaries, which led to warnings about reading
	uninitialized stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* TODO: TODO: ref 'checkstack.pl' not 'checkpatch.pl' Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/cortex_a8.c: ARM: use arm_reg_current() Start using the arm_reg_current() call.  This shrinks and speeds the
	affected code.  It can also prevent some coredumps coming from
	invalid CPSR values ... the ARMV4_5_CORE_REG_MODE() macro returns
	bogus registers if e.g. "Secure Monitor" mode isn't supported by the
	current CPU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	ARM11: remove needless string format #ifdeffery We don't need to use size_t in these places; so it's easy to be rid
	of the need for this #ifdef and its MS-derived portability problems.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/register.h: target: make register flags "bool" Mostly for clarity, but it also saves code and data space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/cortex_a8.c,
	src/target/xscale.c: ARM: remove 'armv4_5_common_s' migration
	#define Finish migrating from the old symbol to the new one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/flash.c: flash: dynamically allocate working storage Allocate working memory rather than using stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: reduce stack usage 4096 byte buffer allocated dynamically. Better for embedded OS's.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO: todo: add tip on how to identify excessive stack usage Use dynamic allocations for working memory rather than stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: un-break uart command after command
	handler refactoring Switched it to jim command to insulate it from command refactoring.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/configuration.c: embedded: reduce stack usage Allocate working structures on stack to avoid issues with path
	lengths + reduce stack usage.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/image.c: embedded: do not allocate large temporary
	structures on stack With -O3 when inlining aggressively the total stack usage will be
	the sum of many fn's, which can easily get out of hand.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/image.c: embedded: save stack and also do not recaluate the crc32_table upon every invocation.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix breakage in command parsing
	code for power command Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/Makefile.am: build: fix breakage in building bin2char bin2char build relied on $(builddir) which is not defined for
	arm-elf X builds at least.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/cortex_a8.c, src/target/xscale.c: ARM: arm_set_cpsr()
	handles T and J bits Have arm_set_cpsr() handle the two core state flags, updating the
	CPU state.  This eliminates code in various debug_entry() paths, and
	marginally improves handling of the J bit.  Catch and comment a few holes in the handling of the J bit on
	ARM926ejs cores ... it's unlikely our users will care about Jazelle
	mode, but we can at least warn of Impending Doom.  If anyone does
	use it, these breadcrumbs may help them to find the right path
	through the code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/cortex_a8.c, src/target/xscale.c: 
	ARM: define two register utilities Define arm_reg_current() ... returning handle to a given register,
	and encapsulating the current mode's register shadowing.  It's got
	one current use, for reporting the current register set to GDB.
	This will let later patches clean up much ARMV4_5_CORE_REG_MODE()
	nastiness, saving a bit of code.  Define and use arm_set_cpsr() ... initially it updates the cached
	CPSR and sets up state used by arm_reg_current(), plus any SPSR
	handle.   (Later: can also set up for T and J bits.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/cortex_a8.c, src/target/xscale.c: ARM: simplify CPSR
	handling Stash a pointer to the CPSR in the "struct arm", to help get rid of
	the (common) references to its index in the register cache.  This removes almost all references to CPSR offsets outside of the
	toplevel ARM code ... except a pair related to the current ARM11
	"simulator" logic (which should be removable soonish).  This is a net minor code shrink of a few hundred bytes of object
	code, and also makes the code more readable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: remove disabled
	register hooks Minor cleanup of ARM11 register handling:  remove disabled register
	hooks.  This should all be handled by shared code, and this stuff is
	just clutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c, src/jtag/dummy.c, src/jtag/jlink.c,
	src/jtag/presto.c, src/jtag/usbprog.c: jtag: remove useless forward
	declarations Removes some more useless forward declarations from a few JTAG
	drivers.  Moves interface and bit-bang structure defitions below
	their callbacks.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: allow jtag interfaces to lack commands Allow JTAG interface drivers to skip registering an
	register_commands callback when it will just be empty.

2009-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* src/helper/configuration.c: show script search dirs in debug log Add this to ease debugging why the standard scripts aren't found on
	the default script search path in some build/install enviroments.
	Especially on Windows it's not straight forward where openocd
	actually looks for the scripts.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/cortex_a8.c, src/target/xscale.c: 
	ARM: pass 'struct reg *' to register r/w routines Implementations need to access the register struct they modify; make
	it easier and less error-prone to identify the instance.  (This
	removes over 10% of the ARMV4_5_CORE_REG_MODE nastiness...) Plus some minor fixes noted when making these updates:  ARM7/ARM9
	accessor methods should be static; don't leave CPSR wrongly marked
	"dirty"; note significant XScale omissions in register handling; and
	have armv4_5_build_reg_cache() record its result.  Rename "struct armv4_5_core_reg" as "struct arm_reg"; it's used for
	more than those older architecture generations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm7_9_common.c: ARM7/ARM9: remove
	old "debug commands" Remove two commands that were documented as "debug commands" and
	where "you probably don't want to use this".   We never intended to
	support them, and at least one problem report boiled down to using
	this when it shouldn't have been used.  Update the docs on the existing register commands to talk a bit more
	about register access and cache behavior.  (Those debug commands
	existed largely to *bypass* the cache.)  And fix some minor doc
	goofs that snuck in with recent changes, renaming "armv4_5" as "arm"
	and "arm9tdmi" as "arm9".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: maintain command lists in sorted order Use insertion sort to the command link lists.  The only practical
	effect of this is to order the output of the new 'help' command.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/startup.tcl: add add_help_text
	command handler Rewrite means for scripts to register help text for commands.  These
	cause the new commands to be stored in the command heirarchy, with
	built-in commands; however, they will never be invoked there because
	they do not receive a command handler.  The same trick is used for
	the Jim commands.  Remove the old helpers that were used to register commands.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: provide command context during cmd_init For the startup.tcl code to use built-in commands, the context must
	be associated with the interpreter temporarily.  This will be
	required to add help text.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h,
	src/helper/startup.tcl: improve 'help' command Rewrites 'help' command in C, using new 'cmd_help' for display.
	Adds the built-in 'help' COMMAND_HANDLER to provide better output
	than the TCL-based script command (e.g. heirarchical listing of
	commands).  The help string is stored in the command structure, though it
	conitnues to be pushed into the Jim environment.  The current
	idiomatic usage suggests the addition of a usage field as well, to
	provide two levels of detail for users to consume (i.e. terse usage
	list, or verbose help).

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/helper/startup.tcl: factor help script command into parts Creates a helper function, cmd_help, which displays the help string
	for a single command.  Presently, it is called from the loop in
	help.  The routine has been extended to allow indentation of command
	groups, so an improved help command can improve the display of
	information.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h, src/openocd.c: 
	refactor command registration Refactors the command registration to use helpers to simplify the
	code.  The unregistration routines were made more flexible by
	allowing them to operate on a single command, such that one can
	remove all of a commands children in one step (perhaps before adding
	back a 'config' subcommand that allows getting the others back).
	Eliminates a bit of duplicated code and adds full API documentation
	for these routines.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: change command_find helper interface Avoid requiring double pointers where a single would suffice.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: factor script_command argv allocation Splits argument allocation out from script command, reusing free()
	code.

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* NEWTAPS, tcl/target/netx500.cfg: target.cfg: TAP id for Hilscher
	netX 500 Based on email from "Martin Kaul <martin.kaul@leuze.de>".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* src/flash/common.c: fix flash/nand name parsing Start driver.num check from end, and make sure the numeric part is
	actually a number.  Fix problems trying to parse bank names.

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: better context restore The previous version never wrote dirty registers for non-current CPU
	modes ... fix that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: mode support We *should* be able to read and write registers in any core mode,
	instead of being stuck with whatever mode the core was when we
	entered debug state.  This patch makes them work.  Note that the current restore_context() only handles the current
	mode; writing to other-mode registers is a NOP without a followup
	patch fixing that.  Also, that SPSR access needed some bugfixes; it
	was confused with CPSR.  Secure monitor mode also seems dubious; there's probably more to be
	done before that's sufficiently understood by the debugger.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etm.c, src/target/mips32.c,
	src/target/mips32.h, src/target/mips_m4k.c, src/target/register.c,
	src/target/register.h, src/target/target.c, src/target/xscale.c: 
	target: create/use register_cache_invalidate() Create a generic register_cache_invalidate(), and use it to replace
	three all-but-identical core-specific routines:  - armv4_5_invalidate_core_regs()  - armv7m_invalidate_core_regs  - mips32_invalidate_core_regs() too.  Make cache->num_regs be unsigned, avoiding various errors.  Net code shrink and simplification.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand.c: NAND verify doesn't advance.  Fix to move the device address up as the contents are verified.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* doc/openocd.texi: document new flash syntax Updates the user documentation with the new syntax for defining
	flash and nand banks.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* tcl/board/dm355evm.cfg, tcl/board/openrd.cfg,
	tcl/board/sheevaplug.cfg: update 'nand device' usage in scripts Add $_FLASHNAME variable to update 'nand device' command syntax.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: add support for naming NAND
	banks Requires users to name their nand banks, allowing them to be used
	instead of bank numbers in script commands.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: refactor handle_nand_device_command Move bulk of for-loop to a new static command helper function.  Adds handle_nand_list_drivers command handler, registered as 'nand
	drivers'.  Improves command help text and error reporting.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* tcl/board/balloon3-cpu.cfg, tcl/board/crossbow_tech_imote2.cfg,
	tcl/board/csb337.cfg, tcl/board/digi_connectcore_wi-9c.cfg,
	tcl/board/hammer.cfg, tcl/board/hitex_lpc2929.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/lubbock.cfg,
	tcl/board/omap2420_h4.cfg, tcl/board/osk5912.cfg,
	tcl/board/pxa255_sst.cfg, tcl/board/str910-eval.cfg,
	tcl/board/telo.cfg, tcl/board/topas910.cfg,
	tcl/board/topasa900.cfg, tcl/board/unknown_at91sam9260.cfg,
	tcl/board/x300t.cfg, tcl/board/zy1000.cfg, tcl/target/aduc702x.cfg,
	tcl/target/at91eb40a.cfg, tcl/target/at91r40008.cfg,
	tcl/target/at91sam3u1c.cfg, tcl/target/at91sam3u1e.cfg,
	tcl/target/at91sam3u2c.cfg, tcl/target/at91sam3u2e.cfg,
	tcl/target/at91sam3u4c.cfg, tcl/target/at91sam3u4e.cfg,
	tcl/target/at91sam7sx.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/epc9301.cfg, tcl/target/faux.cfg,
	tcl/target/lm3s1968.cfg, tcl/target/lm3s3748.cfg,
	tcl/target/lm3s6965.cfg, tcl/target/lm3s811.cfg,
	tcl/target/lm3s9b9x.cfg, tcl/target/lpc1768.cfg,
	tcl/target/lpc2103.cfg, tcl/target/lpc2124.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/lpc2378.cfg,
	tcl/target/lpc2478.cfg, tcl/target/lpc2900.cfg,
	tcl/target/mega128.cfg, tcl/target/pic32mx.cfg,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg,
	tcl/target/smdk6410.cfg, tcl/target/stm32.cfg,
	tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg, tcl/target/telo.cfg,
	tcl/target/xba_revA3.cfg, tcl/test/syntax1.cfg: update 'flash bank'
	usage in scripts Sets $_FLASHNAME to "$_CHIPNAME.flash" and passes it as the first
	argument to 'flash bank'.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/flash.h: add support for naming flash
	banks Requires users to name their flash banks, allowing them to be used
	instead of bank numbers in script commands.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c: refactor handle_flash_bank_command Move variables to point of first use, reducing their scope.  Add
	driver_name temporary to help arguments be changed later.  Eliminates the useless 'found' variable, changing the code to
	terminate the loop immediate and return its success.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/lpc2900.c, src/flash/nand.c,
	src/flash/nand.h, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c: rename flash and nand command helpers After adding support for referencing banks by name, renames the
	COMMAND_HELPERs appropriately: flash_command_get_bank_by_num  ->
	flash_command_get_bank nand_command_get_device_by_num ->
	flash_command_get_device

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/flash/common.c, src/flash/common.h,
	src/flash/flash.c, src/flash/flash.h, src/flash/nand.c,
	src/flash/nand.h: allow flash/nand banks commands to accept names Add get_flash_bank_by_name (and get_nand_device_by_name) helpers to
	retrieves struct flash_bank * (struct nand_device *) given a driver
	name and an (optional) driver-specific bank index.  These are used to extend flash_command_get_bank_by_num (and
	nand_command_get_device_by_num) to allow all flash (nand) commands
	to reference defined banks by name, not just by number.  To avoid some code duplication, add the flash/common.[ch] files to
	hold functionality common to both types driver.  The first two
	methods are helpers for the above routines to find a bank specified
	by a "name" or "name.index" string.  get_flash_name_index() finds
	the '.index' portion, while flash_driver_name_matches() performs the
	string portion matching.

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv4_5.h: ARM: remove
	per-register malloc Just pre-allocate memory for the cached register value.  Shrinks
	heap overhead; increases locality-of-reference.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c: ARM: streamline register init Combine register names with other per-register data into a single
	template structure.  This saves space, and makes it easier to change
	how registers get handled (by shrinking the number of places that
	care about cache indices).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: parts of examine() run just
	once The examine() method has some conceptual breakage.  Cope with it by
	manually splitting out the run-once parts from the after-each-reset
	parts ... this gets rid of memory leaks and speeds up resets after
	the first one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Dean Glazeski <dnglaze@gmail.com>

	* src/flash/nand.c: nand_fileio_parse_args parses wrong param for
	size This changes the size parameter from argv[2] to argv[3], which is
	what it's supposed to be.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7a.c,
	src/target/armv7a.h, src/target/cortex_a8.c: ARMv7-A: use standard
	ARM core states We don't want an ARMv7-specific core state enumeration just to add
	ThumbEE state.  Update the generic stuff to handle that, and replace
	the V7-specific bits with it.  For Cortex-A8:  on debug entry, check both the T and J bits instead
	of just the T bit.  When the J bit is set, set the right state and
	warn appropriately.  (And while we're at it, move the generic arm struct to the front of
	the v7a structure, for somewhat better code generation.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c, src/target/armv7a.h: ARMv7-A: use standard
	ARM core_mode symbols The only way ARMv7-A modes differ from ARMv4/ARMv5 flavors is that
	v7-A is allowed to include "Secure monitor" support.  That's now
	handled by our standard top-level ARM code ... so phase out the
	stuff that's specific to ARMv7-A.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/zy1000/zy1000.c: fix zy1000 command handler Rewrite ZY1000 power command handler to use new macros, simplify
	logic.  Remove unused port command handler declaration.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h,
	src/target/arm7_9_common.c: remove fast command and jim_global_long Removing the fast command eliminates the fast_and_dangerous global,
	which was used only by arm7_9_common as an initializer.  The command
	is not called in the tree; instead, more explicit commands are used.  The jim_global_long function was not used anywhere in the tree.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/hello.c: update src/hello.c with parsing examples Adds the foo/bar commands to provide more working examples of
	command argument parsing, including the new
	handle_command_parse_bool helper.  Updates hello command help text to provide useful information.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: change all bool
	parsers to accept any value This patch changes the behavior of all boolean parsing callers to
	accept any one of "true/enable/on/yes/1" or
	"false/disable/off/no/0".  Since one particular pair will be most appropriate in any given
	situation, the specific macros should continue to be used in order
	to display the most informative error messages possible.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h, src/target/arm11.c: 
	add handle_command_parse_bool command helper Rewrite arm11_handle_bool to provide a generic on/off command
	helper.  Refactors COMMAND_PARSE_BOOL to use new command_parse_bool helper,
	which gets reused by the new command_parse_bool_any helper.  This
	later helper is called by the new command helper function to accepts
	any on/off, enable/disable, true/false, yes/no, or 0/1 parameter.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/jtag/tcl.c, src/server/gdb_server.c,
	src/target/arm7_9_common.c, src/target/etm.c, src/target/xscale.c: 
	use COMMAND_PARSE_ENABLE macro where appropriate Updates all command parsing of simple "enable" and "disable"
	arguments.  A few case in the tree use a tri-state or extended
	arguments, which cannot use this simple macro.  Simlifies the xscale icache/dcache command handler logic.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/jtag/parport.c, src/jtag/zy1000/zy1000.c,
	src/target/cortex_m3.c, src/target/target.c: use
	COMMAND_PARSE_ON_OFF where appropriate Updates all command parsing of "on" and "off" arguments.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: add COMMAND_PARSE_BOOL macro and friends Adds several macros similar to COMMAND_PARSE_NUMBER, but for parsing
	boolean command arguments.  Two flavors are provided to provide
	drop-in compatibility with existing code, allow for the elimination
	of a lot of code bloat while improving the error checking and
	reporting.  COMMAND_PARSE_ON_OFF parses "on"/"off" command parameters.
	COMMAND_PARSE_ENABLE parses "enable"/"disable" command parameters.  Both print the error and return an error out of the calling
	function.

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c: ARM: rework "arm reg" output for new mode Change the layout to show the "Secure Monitor" registers too, when
	they're present.  Instead of lining registers for each of six (or seven) modes up in
	adjacent vertical columns, display each mode's registers (or
	shadows) in a single block, avoiding duplicate value displays.  This also lets us shrink the line length to fits in standard 80
	character lines ... six or seven 18-character columns can't fit.  Relabel "r13" as "sp", so it's more meaningful.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: xPSR handling updates When we read the CPSR on debug entry, update the CPSR cache in all
	cases, not just when the current processor state is User or System.  Plus minor cleanup of how the (too-many) other registers' cache
	entries get updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/cortex_a8.c: ARM: add a default
	full_context() method If the core doesn't provide an optimized version of this method,
	provide one without core-specific optimizations.  Use this to make
	Cortex-A8 support the "arm reg" command.  Related: make the two register access methods properly static, have
	the "set" log a "not halted" error too, and make sure that the
	"valid" flag is set on successful reads.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c, src/target/armv7a.h, src/target/cortex_a8.c: 
	ARM: simplify ARMv7-A register handling ARMv7-A doesn't need to duplicate all the standard ARM code for
	register handling.   - Switch Cortex-A8 to use the standard register code  - Remove duplicated infrastructure from ARMv7-A  - Have ARMv7-A arch_state() show CPSR, like other ARMs Add comments to show where the Cortex-A8 isn't actually doing the
	right thing for register reads/writes, unless core happens to be in
	the right mode to start with.  (Looks like maybe there may be
	generic confusion between saved/current PSR values in all the ARM
	code ...) Make related ARMv7-A and Cortex-A8 symbols properly static.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv4_5.h: ARM: setup "secure
	monitor mode" shadow regs Teach the "armv4_5" register code to understand about the secure
	monitor mode:  - Add the other three shadowed registers to the arrays  - Support another internal mode number (sigh) in mappings  - Catch malloc/calloc failures building that register cache This should kick in for Cortex-A8 and ARM1176.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/cortex_a8.c: ARM: add "core_type" field to "struct arm" It's used to flag cores with the "TrustZone" extension, and is used
	in subsequent patches to set up support for the registers shadowed
	by its new secure monitor mode.  The ARM1176 and Cortex-A8 both support this new mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/openocd.h: fix segfault at startup The previous changes to move the startup TCL code resulted in
	segfaults during startup.  This seemingly innocuous patch fixes the
	problem.  I would explain why changing from 'foo[]' to '*foo' caused
	this issue, but the difference seems superficial.  For now, this hot
	fix will do, but this issue might bear further scrutiny.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/helper/command.c, src/helper/command.h,
	src/openocd.c, src/openocd.h: pass startup_tcl to command_init Removes external linkage from helper module, making the startup code
	a parameter to a new command context's initialization routine.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/flash/Makefile.am, src/flash/startup.tcl,
	src/helper/Makefile.am, src/helper/startup.tcl,
	src/jtag/Makefile.am, src/jtag/startup.tcl, src/server/Makefile.am,
	src/server/startup.tcl, src/target/Makefile.am,
	src/target/startup.tcl: split startup.tcl file across modules Moves definitions for each layer into their own file, eliminating
	layering violations in the built-in TCL code.  Updates
	src/Makefile.am rules to include all files in the final startup.tcl
	input file, and others Makefile.am rules to distribute the new files
	in our packages.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* .gitignore, src/Makefile.am, src/helper/Makefile.am: move
	startup.c to libopenocd Moves the creation of startup_tcl.c from src/helper/ to src/.
	Prepares to split the startup.tcl file into its per-module parts.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: fix regression in md/mw commands The recent migration broke them, the fixes broken them in a new way,
	but this should restore them to working order.  Eliminates the
	temporary variable, as the CMD_NAME macro can once again be use in
	routines that increment CMD_ARGV without nasty side-effects.

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/embeddedice.c: jtag-api: get rid of unecessary
	buf_set_u23() that make code obtuse.  Also, this is on the path to increasing the word size for bit
	vectors from 8 to something wider(32? natural host machine width?) Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/xscale.c: ARM: add is_arm_mode() Add a new is_arm_mode() predicate, and use it to replace almost all
	calls to current armv4_5_mode_to_number().  Eventually those internal mode numbers should vanish... along with
	their siblings in the armv7a.c file.  Remove a handful of superfluous checks ... e.g. the mode number was
	just initialized, or (debug entry methods) already validated.  Move one of the macros using internal mode numbers into the only
	file which uses that macro.  Make the tables manipulated with those
	numbers be read-only and, where possible, static so they're not
	confused with part of the generic ARM interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/xscale.c: ARM: add arm_mode_name() Add and use arm_mode_name() to map from PSR bits to user meaningful
	names.   It uses a new table which, later, can be used to hold other
	mode-coupled data.  Add definitions for the "Secure Monitor" mode, as seen on some ARM11
	cores (like ARM1176) and on Cortex-A8.  The previous mode name
	scheme didn't understand that mode.  Remove the old mechanism ... there were two copies, caused by
	Cortex-A8 needing to add "Secure Monitor" mode support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/lpc2000.c, src/target/arm11.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m3.c, src/target/cortex_m3.h: 
	ARM: only use one set of dummy FPA registers All ARM cores need to provide obsolete FPA registers in their GDB
	register dumps.  (Even though cores with floating point support now
	generally use some version of VFP...) Clean up that support a bit by sharing the same dummy registers, and
	removing the duplicate copies.  Eventually we shouldn't need to
	export those dummies.  (This makes the ARMv7-M support include the armv4_5 header, and
	cleans up related #includes, but doesn't yet use anything from there
	except those dummies.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* Doxyfile.in, Makefile.am, README, configure.in: allow
	documentation to be configured Add --disable-doxygen-html and --enable-doxygen-pdf options to the
	configure script, allowing user to change the defaults.  These
	update the proess of munging the Doxygen configuration file to use
	the settings thusly provided.  Add options in README.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* Doxyfile.in, Makefile.am: update doxygen configuration to produce
	a PDF A single PDF file for the developer manual allows accessing a single
	index, browsing, and searching.  It takes significantly more time to
	build this way, but this patch allows others to look at the results.  Migration Tip: If you have previously built the HTML Doxygen
	documentatation, rename your 'doxygen' directory to 'doxygen/html'
	to prevent needlessly rebuilding those files.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* doc/manual/helper.txt, doc/manual/primer/commands.txt: update
	command_handler documentation Improve the developer manual and primer sections which talk about
	writing command handlers.  Notably, it documents the new CMD_*
	macros.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: remove unused variable from run_command

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add CMD_NAME variable
	in command_invocation Update CMD_NAME from its migratory home in CMD_ARGV[-1] to
	cmd->name.  Allows CMD_ARGV++ idiom to be used safely in command
	handlers.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add struct
	command_invocation for COMMAND_HANDLER Adds the command_invocation structure to encapsulate parameters for
	all COMMAND_HANDLER routines.  Rather than passing several arguments
	to each successive subroutine, a single pointer may be passed
	around.  Changes the CMD_* macros to reference the new fields.  Updates run_command to create an instance and pass it to the
	handler.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/flash.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/nand.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9xpec.c,
	src/flash/tms470.c, src/hello.c, src/helper/command.h,
	src/helper/ioutil.c, src/helper/log.c, src/jtag/amt_jtagaccel.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/parport.c,
	src/jtag/tcl.c, src/openocd.c, src/pld/pld.c, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/server.c, src/svf/svf.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/armv4_5.c, src/target/armv7a.c, src/target/armv7m.c,
	src/target/cortex_a8.c, src/target/cortex_m3.c, src/target/etb.c,
	src/target/etm.c, src/target/etm_dummy.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	command_handler: change 'cmd_ctx' to CMD_CTX Convert all command handler 'cmd_ctx' parameter usage with CMD_CTX.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/cfi.c,
	src/flash/davinci_nand.c, src/flash/ecos.c, src/flash/faux.c,
	src/flash/flash.c, src/flash/flash.h, src/flash/lpc2000.c,
	src/flash/lpc288x.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/mx3_nand.c, src/flash/nand.c, src/flash/orion_nand.c,
	src/flash/pic32mx.c, src/flash/s3c24xx_nand.c, src/flash/stm32x.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/flash/tms470.c, src/hello.c, src/helper/command.c,
	src/helper/ioutil.c, src/helper/log.c, src/jtag/amt_jtagaccel.c,
	src/jtag/at91rm9200.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/tcl.c, src/jtag/vsllink.c, src/pld/pld.c,
	src/pld/virtex2.c, src/server/gdb_server.c, src/server/httpd.c,
	src/server/server.c, src/svf/svf.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/armv4_5.c, src/target/armv7a.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/etm_dummy.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	command_handler: change 'args' to CMD_ARGV This patch converts all instances of 'args' in COMMAND_HANDLER
	routines to use CMD_ARGV macro.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/davinci_nand.c, src/flash/ecos.c,
	src/flash/faux.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/lpc288x.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/mx3_nand.c, src/flash/nand.c, src/flash/ocl.c,
	src/flash/orion_nand.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c, src/hello.c,
	src/helper/command.c, src/helper/ioutil.c, src/helper/log.c,
	src/jtag/amt_jtagaccel.c, src/jtag/at91rm9200.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/tcl.c, src/jtag/vsllink.c,
	src/openocd.c, src/pld/pld.c, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/server.c, src/svf/svf.c,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/armv4_5.c, src/target/armv7a.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/oocd_trace.c, src/target/target.c,
	src/target/target_request.c, src/target/trace.c,
	src/target/xscale.c, src/xsvf/xsvf.c: command_handler: change to
	'argc' to CMD_ARGC This patch converts all instances of 'argc' in COMMAND_HANDLER
	routines to use CMD_ARGC.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: add more command_handler conversion macros Add additional macros to allow command handling to be migrated
	easily: CMD_CTX, CMD_ARGC, and CMD_ARGV.  Updates CMD_NAME to use
	CMD_ARGV.  In addition to making the remaining patches of this series cleaner,
	this introduces easily sed-able symbols that could allow us to
	retire these once the command handler infrastructure matures (i.e.
	pre-1.0).

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c, src/target/arm11.c,
	src/target/armv4_5.c, src/target/armv7a.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/mips32.c, src/target/register.c,
	src/target/register.h, src/target/target.c, src/target/xscale.c: 
	target: simplify register get/set ops No need to indirect from registered integers to pointers.  Just
	stash the pointers directly in the register struct, and don't even
	bother registering.  This is a small code shrink, speeds register access just a smidgeon,
	and gets rid of another rude exit() path.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h: jtag_registers: Avalon bridge
	flushing tweaks The code is now much more explicit. It flushes every N writes. For
	now flush every time, but tinkering with the bridge FIFO size and
	how often we flush clearly points in the direction of the Avalon
	write FIFO full being the culprit.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: zy1000: revC UART forwarding Name of serial device differs between revB/C.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: add version command to print
	FPGA version and timestamps Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: zy1000: fix bug when running on non-arm
	CPU Shifting by more than 32 is undefined for 32 bit integers according
	to the C standard. Robust solution is conditional code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/jtag_minidriver.h: zy1000: fix trivial syntax
	error introduced by latest refactorings Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/fa526.c: ARM9TDMI: remove
	now-needless "struct arm9tdmi" And move the rest of the vector_catch stuff into the C file; it's
	not part of the module interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm720t.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h: ARM7TDMI: remove
	now-needless "struct arm7tdmi" Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/cortex_a8.c, src/target/xscale.c: target: remove some
	more duplicate includes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c, src/target/armv7a.h: ARMv7-A: no exit() calls Also, switch integrity check over to the correct magic number, and
	remove duplicate v4/v5 #define.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: no exit() calls, add missing
	v7-A init Eventually there should be a v7a init routine, but for now all that
	is inlined here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: XScale: fewere exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/mips32.c, src/target/mips_m4k.c: MIPS: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c: ARMv7-M: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c: ARMv4/ARMv5: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c: ARM11: fewer exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: don't exit() Get rid of undesirable and needless exit() calls from the Cortex-M3
	support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/armv7a.c: ARMv7A: use standard
	disassembler We no longer need v7A-specific code for this.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/armv4_5.c: ARM11: register (most)
	standard ARM commands Have ARM11 register the "standard" ARM commands.  For now, only
	disassembly really works.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, doc/openocd.texi, src/helper/startup.tcl,
	src/target/armv4_5.c, tcl/board/mini2440.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg: ARM: "armv4_5"
	command prefix becomes "arm" Rename the "armv4_5" command prefix to straight "arm" so it makes
	more sense for newer cores.  Add a simple compatibility script.  Make sure all the commands give the same "not an ARM" diagnostic
	message (and fail properly) when called against non-ARM targets.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c: JTAG: fix autoprobe failure.  Fix bug noted by Øyvind: terminate the IR length autoscan when the
	IR is too long, or otherwise broken.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/lpc2900.c,
	src/flash/mflash.c, src/flash/nand.c, src/helper/fileio.c,
	src/helper/fileio.h, src/target/etm.c, src/target/image.c,
	src/target/image.h, src/target/target.c, src/target/xscale.c: 
	fileio: improve API types Use size_t instead of uint32_t when specifying file sizes.  Update
	all consumers up through the layers to use size_t when required.
	These changes should be safe, but the higher-levels will need to be
	updated further to receive the intended benefits (i.e. large file
	support).  Add error checking for fileio_read and file_write.  Previously, all
	errors were being silently ignored, so this change might cause some
	problems for some people in some cases.  However, it gives us the
	chance to handle any errors that do occur at higher-levels, rather
	than burying our heads in the sand.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/mflash.c, src/flash/nand.c,
	src/helper/fileio.c, src/helper/fileio.h, src/target/target.c: 
	struct fileio: improve member types Add const keyword to file url and cast to free().  Make size an ssize_t and chase all format strings that use it.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c, src/helper/log.h: helper/log: improve API
	parameter types Uses unsigned type to pass line numbers.  Use uint64_t to pass sleep routines their milliseconds.  Updates
	sleep routines to use this type and improve whitespace.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: use Jim_CmdProc in
	jim_register The jim_register command just needed to use the type defined by
	jim.h.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/helper/configuration.c, src/helper/configuration.h: improve
	constness of open_file_from_path

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/helper/options.c: make command line options const The getopt_long call allows a const struct option, so mark ours
	const too.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_disassembler.c, src/target/armv4_5.c: ARM: standard
	disassembler uses Thumb2 entry Tweak "standard" ARM disassembler diagnostics to fail if the target
	is not "an ARM" (vs. not "an ARMV4/5"), so it makes more sense for
	cores inheriting this as the "generic" disassembler.  Also, to use the Thumb2 entry instead of the original Thumb entry.
	This makes it work better for both newer cores (which support those
	added instructions) and for BL and BLX instructions on older cores.
	(Those instructions are 32-bits, which requires curious state-aware
	code to go through a 16-bit decode interface...) Plus minor cleanups, notably to have fewer exit paths and to make
	sure they all return failure codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_simulator.c, src/target/armv4_5.h: target: don't
	include "log.h" from "armv4_5.h" No point in multiple includes, and that file doesn't use its
	functions any more.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.c, src/target/armv4_5.h: ARM: move mode
	functions out of header They're really too big to inline, at least for code that's not in
	any performance-critical loops.  Also move the associated string table to the rodata section.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c: JTAG: no LOG_WARNING() for taps without IDCODE Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/binarybuffer.h: binarybuffer: regression fix The "improve inline binarybuffer helpers" mis-handled bytes with the
	high bit set; treat them as unsigned, not signed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/types.h: "types.h" doxygen fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/etb.c,
	src/target/etm.c, src/target/trace.h: target: less implicit
	inclusion of "etm.h" Don't include it in more headers than necessary; just use it in the
	few files that actually need it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/helper/types.h, src/jtag/core.c, src/jtag/interface.c,
	src/jtag/jtag.h, src/svf/svf.c, src/target/arm11.c,
	src/target/arm11.h, src/target/arm11_dbgtap.c,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/cortex_m3.c,
	src/target/embeddedice.c, src/target/etm.c, src/xsvf/xsvf.c: move
	ARRAY_SIZE macro to types.h The ARRAY_SIZE macro was defined in several target files, so move it
	to types.h.  This patch also removes two other identical macros: DIM (from
	jtag.h) and asizeof (from arm11.h).

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7m.c, src/target/armv7m.h: armv7m: make core reg
	read/write use unsigned Eliminate redundant check that gets covered by using unsigned type.
	Created to eliminate noise from subsequent patches, but this kind of
	conversion will be beneficial in similar ways throughout the tree.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/interface.c, src/jtag/jlink.c, src/jtag/jtag.h,
	src/jtag/minidriver.h: remove TAP_SCAN_BYTES macro Use DIV_ROUND_UP(n, 8) instead of TAP_SCAN_BYTES macro.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam7.c, src/flash/lpc2000.c, src/flash/str9xpec.c,
	src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/types.h, src/jtag/commands.c, src/jtag/core.c,
	src/jtag/driver.c, src/jtag/ft2232.c, src/jtag/jtag.h,
	src/jtag/tcl.c, src/pld/virtex2.c, src/server/gdb_server.c,
	src/target/algorithm.c, src/target/etb.c, src/target/target.c,
	src/target/target_request.c, src/xsvf/xsvf.c: rename CEIL as
	DIV_ROUND_UP Improves the name of this macro, moves it to types.h, and adds a
	block of Doxygen comments to describe what it does.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/helper/types.h, src/target/target.h: move container_of to
	types.h The container_of macro is useful as a general solution.  It belongs
	in types.h, rather than target.h where it was introduced.  Requires
	the offsetof macro, which comes from <stddef.h> (moved as well).

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: 
	nand_command_get_device_by_num: make COMMAND_HELPER Use COMMAND_HELPER macro to define nand_command_get_device_by_num.
	Use CALL_COMMAND_HANDLER to invoke it.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/lpc2900.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c: 
	flash_command_get_bank_by_num: make COMMAND_HELPER Use COMMAND_HELPER macro to declare flash_command_get_bank_by_num.
	This is required for COMMAND_PARSE_NUMBER macro.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/minidummy/minidummy.c, src/jtag/zy1000/zy1000.c: cleanup
	jtag minidrivers Remove two vestigial externs from our JTAG minidriver source files.
	Also, removes many extra blank lines from the minidummy driver.

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* doc/openocd.texi, src/flash/nand.c: Add 'nand verify' command Add the 'nand verify' command to perform a dump and fake-write
	simultaneously, checking the read bits against those generated by
	the write process.  Appropriate user documentation for this command
	has been added to the user guide as well.  The algorithm presently makes a relatively naive comparison.  Some
	chips that use ECC may not verify correctly using this
	implementation, but the new documentation provides details about
	this limitation.

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* src/helper/fileio.h: Add FILEIO_NONE access mode.  In some cases, the FILEIO_NONE access mode may be useful as a
	parameter to indicate that file access should be disabled.
	High-level routines can use it to skip file access calls, as
	'fileio_open' will fail presently if called to open a file using
	this mode.

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: Use nand_fileio_* in write/dump commands.  This patch eliminates duplicated code in the the NAND 'dump' and
	'write' by using the new static helper functions.  These changes also fix a possible memory leak in nand dump command,
	in the case that the dump file failed to open.  Overall, the changes should be functionally equivalent, but the
	resulting code will be easier to improve and extend further.

2009-11-08  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: Add nand_fileio_* helper APIs.  This patch provides helpers APIs that will eliminate duplicated code
	in the the NAND 'dump' and 'write' commands by factoring their
	common code into static helper functions.  These helpers may be
	useful for creating new commands, as shown in the final patch to
	'verify' flash from a file.  Several previously unreported error conditions now generate messages
	and propogate the return codes, such as when the file fails to open
	and bad arguments are given.  These changes will fix a possible
	memory leak in nand dump command, in the case that the dump file
	failed to open.  Overall, the changes should be functionally equivalent, but the
	resulting code will be easier to improve and extend consistently.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.h: binarybuffer: add API documentation Adds Doxygen documentation for a number of the binarybuffer APIs,
	including "unexpected" behavior exposed during review on the list.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.h: improve inline binarybuffer helpers Use void*, unsigned, and bool types with inline helpers.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: improve
	buf_set_buf helper Use void * and unsigned types for buffer and their sizes.  Allows it
	to be used with more than uint8_t * without casts.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: improve
	buf_set_ones Use memset instead of loop. Improve types, using void * and
	unsigned.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: improve
	buf_cpy helper Use memcpy for bulk of copy, improve final byte handling.  Improve
	types by using void * for buffers and unsigned for size.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: improve
	buf_cmp and buf_cmp_mask helpers Rewrite buf_cmp to use memcpy for bulk of comparison.  Add static
	helper to perform comparison of trailing byte, which uses another
	static helper to perform a maksed comparison.  The masked comparison
	helper is used by the buf_cmp_mask to simplify its loop.  Improve
	types to use void *, unsigned, and return bool.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: improve
	str_to_buf and buf_to_str helpers Improve types: use void * and unsigned.  Move all variables to point
	of first use.  Move radix guessing logic to new str_radix_guess
	helper.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: 
	binarybuffer: move variables to point of first use Reduce some noise from subsequent patches.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: 
	binarybuffer: fix whitespace related issues Add inter-operator whitespace.  Improve existing documentation.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/ecosboard.c, src/flash/at91sam3.c,
	src/flash/lpc3180_nand_controller.h, src/flash/mflash.c,
	src/flash/mflash.h, src/openocd.c, src/server/gdb_server.c,
	src/server/gdb_server.h, src/target/arm_adi_v5.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/cortex_a8.h, src/target/target_request.c,
	src/target/target_request.h: #include "target.h" less wildly Don't include "target.h" from more headers than necessary.  This
	avoids needless interdependencies and duplicated include paths.  Don't needlessly include it in source files, either.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.h,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7a.h, src/target/armv7m.c,
	src/target/cortex_a8.c, src/target/cortex_a8.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_m4k.c, src/target/register.c,
	src/target/register.h, src/target/xscale.c: target: no implicit
	#includes of "register.h" Same deal:  "register.h" got needlessly included all over the place
	because of being in a few widely included headers.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also, don't need that extra "types.h" inclusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/ecosboard.c, src/flash/at91sam3.c, src/helper/log.c,
	src/helper/options.c, src/openocd.c, src/target/arm_simulator.c,
	src/target/armv4_5.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/target.h: target: less implicit inclusion of "command.h" Lots of files still include it, often through needless duplicate
	inclusion of "log.h"; sigh.  This cleans up the inclusion graph a bunch, so there are fewer
	inclusion paths, but it doesn't change much otherwise.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/aduc702x.c, src/flash/arm_nandio.c, src/flash/cfi.c,
	src/flash/ecos.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/target/algorithm.h, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/target.h: target: don't implicitly
	include "algorithm.h" Most files in the tree seem to have ended up including this, and
	*quite* needlessly ... only code implementing or using downloadable
	algorithms actually needs these declarations.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also: "algorithm.h" doesn't need to include "types.h" again; it
	already comes from a different header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* src/server/gdb_server.c, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/target.h, src/target/xscale.c: target: don't implicitly
	include "breakpoint.h" Most files in the tree seem to have ended up including this, and
	*quite* needlessly ... only code implementing or using breakpoints
	actually needs these declarations.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/target/arm11.c: ARM11: use now-generic memory utils Now the ARM11 cores can use the renamed arm_checksum_memory() and
	arm_blank_check_memory() routines ... do so.  Sanity checked with "flash erase_check" of both NOR banks on an
	OMAP2420 ... the algorithm code dumped four lines of of "poll"
	status after each of almost 520 blocks (yes, *very* annoying) but
	gave plausible results after producing that spam.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: fixup method table Three changes:  remove ARM11_HANDLER() in favor of normal structure
	initialization syntax; fix goofy indentation in that structure; and
	don't needlessly export arm11_register_commands(), it's only called
	through that method table.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/cortex_a8.c, src/target/cortex_a8.h, src/target/fa526.c,
	src/target/feroceon.c, src/target/xscale.c: ARM: memory utils aren't
	ARM7/ARM9 dependent The arm7_9_checksum_memory() and arm7_9_blank_check_memory()
	routines are not actually specific to the ARM7 and ARM9 core
	generations ... they can work for any core which can run algorithms
	using basic ARM (not Thumb) instructions.  Rename them; move the declarations to a more generic site; likewise
	move the code (and tidy it a bit in the process).  NOTE:  the blank_check() method falsely returned a success status
	(0) on one error path, when the algorithm failed.  Fixed this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/cortex_a8.c, src/target/target.c,
	src/target/target.h, src/target/target_type.h: target: make
	"examined" flag be per-target Previously this flag was stored in "target_type", so that for
	example if there were two ARM7TDMI targets in a scan chain, both
	would claim to have been examined although only the first one
	actually had its examine() method called.  Move this state to where it should have been in the first place, and
	hide a method that didn't need exposure ... the flag is write-once.  Provide some doxygen.  The examine() method is confusing, since it
	isn't separating one-time setup from the after-each-reset stuff.
	And the ARM7/ARM9 version is, somewhat undesirably, not leaving the
	debug state alone after reset ... probably more of an issue for
	trace setup than for watchpoints and breakpoints.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c, src/jtag/jlink.c: arm-jtag-ew,jlink:
	switch to COMMAND_HANDLER These drivers were overlooked during the recent upgrade.  Convert
	them, moving their registration routines to eliminate their
	declarations.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/rlink/rlink.c: rlink: fix overzealous sed Fix an instance where my cleanup when awry.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_jtag.c, src/target/arm_jtag.h: remove unused
	arm_jtag_buf_to_* helpers Removes unused arm_jtag_buf_* helpers from arm_jtag.[ch].  These
	could reappear if patches are provided to conver the tree to use
	them, but this code should not be in the master tree until that
	series is ready.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: remove
	unused buf_to_u32_handler Purge an unused routine from the tree and remove a layering
	violation.  If this code is needed, it should reappear somwhere in
	src/jtag/, where struct scan_field gets defined.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h: struct scan_field_s ->
	struct scan_field Remove obsolete suffix from struct scan_field.  Somehow, these
	definitions did not get updated but did not cause any errors.

2009-11-14  Krzysztof Dziuba <krzysztof.dziuba@gazeta.pl>

	* src/target/target.c: Fix for md* commands, similar to mw*.

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/Makefile.am: lpc2900.h -- remove from Makefile.am too Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/lpc2900.c, src/flash/lpc2900.h: flash: remove needless
	lpc2900.h header Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/openocd.c: remove annoying $URL$ startup message It's completely unused; the obnoxious "DANGER!!!" comments don't
	even explain what it was doing (shorthand SVN magic).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  Dean Glazeski <dnglaze@gmail.com>

	* src/target/target.c: Invalid command syntax errors with MWW.  This fixes an issue due to the new command handler syntax caused by
	the mw handler playing with the args pointer before using the
	CMD_NAME macro.  Fix is to move this call above the lines changing
	args.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/ecosboard.c, src/main.c, src/openocd.h,
	src/server/Makefile.am, src/server/server.c: add openocd.h for
	top-level declarations Create src/openocd.h to hold declarations previously made internally
	by src/main.c and src/server/server.c.  This ensures all functions
	are verified to be in-sync at compile time (rather than at link),
	making it easier to track down bugs.

2009-11-12  Ferdinand Postema <ferdinand@postema.eu>

	* src/jtag/ft2232.c, src/target/arm966e.c,
	src/target/breakpoints.c, src/target/target.c: compile with cygwin
	(32-bit) Changed some printf format strings..  [dbrownell@users.sourceforge.net: shrink lines, fix indents] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, tcl/target/imx31.cfg, tcl/target/imx35.cfg,
	tcl/target/omap2420.cfg, tcl/target/samsung_s3c6410.cfg: ARM11: ETM
	+ ETB support Kick in ETM (and ETB) support for ARM11.  Tested on OMAP 2420, so
	update that configuration.  (That's an ARM1136ejs, ETB, OpenGL
	ES1.1, C55x DSP, etc.) Also update the other ARM11 ETM + ETB targets in the tree to set up
	these modules.  (Not tested.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	ARM11: revert etmr/etmw commands These aren't desirable, given "standard" ETM support.  Also remove
	the now-unused arm11_find_target().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/imx25.cfg, tcl/target/imx27.cfg: iMX2* + ETB targets:
	hook up ETM and ETB ARM9 cores with an ETB will have a matching ETM.  Hook them both up
	by default.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h, src/target/fa526.c,
	src/target/feroceon.c: ARM7/ARM9: use shared examine() method No point in having two identical examine methods for the ARM7TDMI
	and ARM9TDMI drivers; move, rename, shrink, share.  Add a bit of doxygen; stop needlessly exporting a method.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/target/etm.c: 
	ETM: simplify ETM initialization code paths Return NULL from etm_build_reg_cache() not ERROR_OK; and share code
	on that fault path.  Let ETM code handle any tracking of its cache -- not callers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	ARM11: switch to new "arm" base type This will enable reusing many common ARM utilities, in particular
	the ETM and ETB support.  The ARM11 support can still be much
	simplified after this patch, though.  Note:  none of those common utilities kick in yet...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm11.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/mips32.c, src/target/register.h, src/target/xscale.c: 
	target: remove unused "bitfield" infrastructure We have too many different registers, and too many version and
	context dependent interpretations, for this type of bitfield
	management to be scalable.  (Anyone who really wants bitfield interpretation *can* do that in
	Tcl code...) There are ... quite a few copies of the same ARM dummy registers.
	There should eventually be one copy; this many is craziness.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/imx25.cfg, tcl/target/imx27.cfg, tcl/target/imx31.cfg,
	tcl/target/imx35.cfg, tcl/target/samsung_s3c6410.cfg: target.cfg:
	label ETBs correctly Various cores with an ETB have its TAP misnamed ... either as a
	boundary scan TAP or as the iMX "Secure JTAG Controller" (which is,
	among other things, a JRC that could be used to shorten scan
	chains).  Use the correct name for these TAPs, which we can recognize since
	their IDs were assigned by ARM and these chips all document the
	presence of an ETB.  The 0x2b900f0f is ETB11; the 0x1b900f0f is an
	older module, just called "ETB".  Also shrink the ETB's IR configuration; the default IR-Capture value
	is fine, and the mask can specify that all four bits are safe to
	check (per ARM documentation).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/ocl.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h: ARM7/9: rm arm7_9_get_arch_pointers() Remove the last external user of arm7_9_get_arch_pointers(), and
	that annoying downcast utility.  Add an is_arm7_9() predicate.  Stop returning specious success codes on various failure paths in
	the ARM7/ARM9 commands which used that downcast utility.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* doc/manual/helper.txt, doc/manual/style.txt: update developer
	manual for new types Update the style guide and chase obvious references to structures
	that have been renamed.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/flash.c, src/flash/lpc2000.c,
	src/flash/lpc2900.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mflash.c, src/flash/nand.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c,
	src/hello.c, src/helper/command.c, src/helper/command.h,
	src/jtag/minidummy/minidummy.c, src/jtag/rlink/rlink.c,
	src/jtag/zy1000/zy1000.c, src/pld/pld.c, src/pld/virtex2.c,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/etm_dummy.c, src/target/oocd_trace.c,
	src/target/target_request.c, src/target/trace.c,
	src/target/xscale.c: command_t -> struct command Remove misleading typedef and redundant suffix from struct command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/at91sam3.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/davinci_nand.c,
	src/flash/ecos.c, src/flash/faux.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/mflash.h, src/flash/mx3_nand.c, src/flash/nand.c,
	src/flash/nand.h, src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c,
	src/hello.c, src/helper/command.c, src/helper/command.h,
	src/helper/configuration.c, src/helper/configuration.h,
	src/helper/ioutil.c, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/jtag/amt_jtagaccel.c,
	src/jtag/arm-jtag-ew.c, src/jtag/at91rm9200.c, src/jtag/core.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/interface.h, src/jtag/jlink.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c, src/jtag/zy1000/zy1000.c, src/openocd.c,
	src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/server.c, src/server/server.h, src/server/tcl_server.c,
	src/server/tcl_server.h, src/server/telnet_server.c,
	src/server/telnet_server.h, src/svf/svf.c, src/svf/svf.h,
	src/target/arm11.c, src/target/arm11.h, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm920t.h, src/target/arm926ejs.c,
	src/target/arm926ejs.h, src/target/arm966e.c, src/target/arm966e.h,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv4_5_cache.c, src/target/armv4_5_cache.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/etm.h, src/target/etm_dummy.c, src/target/feroceon.c,
	src/target/mips32.c, src/target/mips32.h, src/target/mips_m4k.c,
	src/target/oocd_trace.c, src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_request.h,
	src/target/target_type.h, src/target/trace.c, src/target/trace.h,
	src/target/xscale.c, src/xsvf/xsvf.c, src/xsvf/xsvf.h: 
	command_context_t -> struct command_context Remove misleading typedef and redundant suffix from struct
	command_context.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/rlink/rlink.c, src/jtag/rlink/rlink.h,
	src/jtag/rlink/rlink_speed_table.c: remove rlink structure typedefs Remove useless typedefs from the rlink driver.  Improve whitespace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/at91sam3.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/ecos.c, src/flash/faux.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc2900.c, src/flash/non_cfi.c, src/flash/non_cfi.h,
	src/flash/ocl.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c, src/server/gdb_server.c: 
	flash_bank_t -> struct flash_bank Remove misleading typedef and redundant suffix from struct
	flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/davinci_nand.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mx3_nand.c, src/flash/nand.c, src/flash/nand.h,
	src/flash/nand_ecc.c, src/flash/nand_ecc_kw.c,
	src/flash/orion_nand.c, src/flash/s3c2410_nand.c,
	src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c, src/flash/s3c24xx_nand.c,
	src/flash/s3c24xx_nand.h: nand_device_t -> struct nand_device Remove misleading typedef and redundant suffix from struct
	nand_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/arm_nandio.c,
	src/flash/arm_nandio.h, src/flash/at91sam3.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/davinci_nand.c,
	src/flash/ecos.c, src/flash/faux.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc2900.c, src/flash/lpc3180_nand_controller.c,
	src/flash/lpc3180_nand_controller.h, src/flash/mflash.c,
	src/flash/mflash.h, src/flash/mx3_nand.c, src/flash/mx3_nand.h,
	src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/tms470.c,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/zy1000/jtag_minidriver.h, src/openocd.c,
	src/server/gdb_server.c, src/server/gdb_server.h,
	src/target/arm11.c, src/target/arm11.h, src/target/arm720t.c,
	src/target/arm720t.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/arm_disassembler.c,
	src/target/arm_disassembler.h, src/target/arm_simulator.c,
	src/target/arm_simulator.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/armv7a.c, src/target/armv7a.h,
	src/target/armv7m.c, src/target/armv7m.h, src/target/avrt.c,
	src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_a8.c, src/target/cortex_a8.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/etm_dummy.c, src/target/fa526.c, src/target/feroceon.c,
	src/target/image.c, src/target/image.h, src/target/mips32.c,
	src/target/mips32.h, src/target/mips_m4k.c, src/target/mips_m4k.h,
	src/target/oocd_trace.c, src/target/register.h,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_request.h,
	src/target/target_type.h, src/target/trace.c, src/target/trace.h,
	src/target/xscale.c, src/target/xscale.h: target_t -> struct target Remove misleading typedef and redundant suffix from struct target.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7a.c,
	src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etm.c, src/target/feroceon.c,
	src/target/mips32.c, src/target/mips32.h, src/target/register.c,
	src/target/register.h, src/target/target.c, src/target/target.h,
	src/target/target_type.h, src/target/xscale.c: reg_t -> struct reg Remove misleading typedef and redundant suffix from struct reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/fa526.c, src/target/feroceon.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target_type.h, src/target/xscale.c: target_type_t ->
	struct target_type Remove misleading typedef and redundant suffix from struct
	target_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips32_pracc.c: improve mips32_pracc_context Use struct mips32_pracc_context instead of a typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2900.c, src/server/gdb_server.c,
	src/server/gdb_server.h, src/target/etm.c, src/target/etm.h,
	src/target/image.c, src/target/image.h, src/target/target.c,
	src/target/xscale.c, src/target/xscale.h: image_t -> struct image Remove misleading typedef and redundant suffix from struct image.  Also removes the typedef from enum image_type, as it is used in
	image.h only.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/arm_nandio.c, src/flash/ocl.c, src/flash/str9xpec.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm9tdmi.c, src/target/arm_simulator.c,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7a.h,
	src/target/cortex_a8.c, src/target/feroceon.c, src/target/xscale.c,
	src/target/xscale.h: armv4_5_common_t -> struct arm Remove misleading typedef and just use struct arm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5.h, src/target/etb.c, src/target/etb.h,
	src/target/etm.c, src/target/etm.h, src/target/etm_dummy.c,
	src/target/oocd_trace.c, src/target/oocd_trace.h: etm_context_t ->
	struct etm_context Remove misleading typedef and redundant suffix from struct
	etm_context.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c, src/target/etb.h, src/target/etm.c: etb_t ->
	struct etb Remove misleading typedef and redundant suffix from struct etb.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c, src/target/target.h, src/target/trace.c,
	src/target/trace.h: trace_t -> struct trace Remove misleading typedef and redundant suffix from struct trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_elf_t -> struct
	image_elf Remove misleading typedef and redundant suffix from struct
	image_elf.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: 
	cortex_m3_dwt_comparator_t -> struct cortex_m3_dwt_comparator Remove misleading typedef and redundant suffix from struct
	cortex_m3_dwt_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: 
	cortex_m3_fp_comparator_t -> struct cortex_m3_fp_comparator Remove misleading typedef and redundant suffix from struct
	cortex_m3_fp_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: cortex_a8_wrp_t ->
	struct cortex_a8_wrp Remove misleading typedef and redundant suffix from struct
	cortex_a8_wrp.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: cortex_a8_brp_t ->
	struct cortex_a8_brp Remove misleading typedef and redundant suffix from struct
	cortex_a8_brp.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/breakpoints.c,
	src/target/breakpoints.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/mips_m4k.c,
	src/target/mips_m4k.h, src/target/target.c, src/target/target.h,
	src/target/target_type.h, src/target/xscale.c: breakpoint_t ->
	struct breakpoint Remove misleading typedef and redundant suffix from struct
	breakpoint.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.h: xscale_trace_t -> struct xscale_trace Remove misleading typedef and redundant suffix from struct
	xscale_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c, src/target/xscale.h: xscale_trace_entry_t ->
	struct xscale_trace_entry Remove misleading typedef and redundant suffix from struct
	xscale_trace_entry.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c, src/target/target.h: target_event_action_t ->
	struct target_event_action Remove misleading typedef and redundant suffix from struct
	target_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv7a.c, src/target/cortex_m3.c, src/target/etm.c,
	src/target/xscale.c: arm_instruction_t -> struct arm_instruction Remove misleading typedef and redundant suffix from struct
	arm_instruction.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm9tdmi.c, src/target/arm9tdmi.h: arm9tdmi_vector_t ->
	struct arm9tdmi_vector Remove misleading typedef and redundant suffix from struct
	arm9tdmi_vector.  Renames enum arm9tdmi_vector as enum arm9tdmi_vector_bit.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c, src/target/xscale.h: xscale_reg_t -> struct
	xscale_reg Remove misleading typedef and redundant suffix from struct
	xscale_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c, src/target/xscale.h: xscale_common_t ->
	struct xscale_common Remove misleading typedef and redundant suffix from struct
	xscale_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c, src/target/xscale.h: xscale_trace_data_t ->
	struct xscale_trace_data Remove misleading typedef and redundant suffix from struct
	xscale_trace_data.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/trace.c, src/target/trace.h: trace_point_t -> struct
	trace_point Remove misleading typedef and redundant suffix from struct
	trace_point.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.h, src/target/target_request.c,
	src/target/target_request.h: debug_msg_receiver_t -> struct
	debug_msg_receiver Remove misleading typedef and redundant suffix from struct
	debug_msg_receiver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c, src/target/target.h: target_timer_callback_t
	-> struct target_timer_callback Remove misleading typedef and redundant suffix from struct
	target_timer_callback.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c, src/target/target.h: target_event_callback_t
	-> struct target_event_callback Remove misleading typedef and redundant suffix from struct
	target_event_callback.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/arm_nandio.h, src/flash/cfi.c,
	src/flash/cfi.h, src/flash/ecos.c, src/flash/lpc2000.c,
	src/flash/lpc2000.h, src/flash/lpc2900.c, src/flash/pic32mx.c,
	src/flash/pic32mx.h, src/flash/stellaris.c, src/flash/stm32x.c,
	src/flash/stm32x.h, src/flash/str7x.c, src/flash/str7x.h,
	src/flash/str9x.c, src/flash/str9x.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/armv7m.c,
	src/target/cortex_a8.c, src/target/target.c, src/target/target.h: 
	working_area_t -> struct working_area Remove misleading typedef and redundant suffix from struct
	working_area.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/target/register.c,
	src/target/register.h, src/target/target.c: reg_arch_type_t ->
	struct reg_arch_type Remove misleading typedef and redundant suffix from struct
	reg_arch_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv7a.h, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_a8.c, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etb.h,
	src/target/etm.c, src/target/etm.h, src/target/mips32.c,
	src/target/mips32.h, src/target/register.c, src/target/register.h,
	src/target/target.c, src/target/target.h, src/target/xscale.c,
	src/target/xscale.h: reg_cache_t -> struct reg_cache Remove misleading typedef and redundant suffix from struct
	reg_cache.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5.c, src/target/armv7a.c, src/target/register.h: 
	bitfield_desc_t -> struct bitfield_desc Remove misleading typedef and redundant suffix from struct
	bitfield_desc.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/oocd_trace.c, src/target/oocd_trace.h: oocd_trace_t ->
	struct oocd_trace Remove misleading typedef and redundant suffix from struct
	oocd_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips_m4k.c, src/target/mips_m4k.h: mips_m4k_common_t ->
	struct mips_m4k_common Remove misleading typedef and redundant suffix from struct
	mips_m4k_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: mips_ejtag_t -> struct mips_ejtag Remove misleading typedef and redundant suffix from struct
	mips_ejtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips32.c, src/target/mips32.h: mips32_core_reg_t ->
	struct mips32_core_reg Remove misleading typedef and redundant suffix from struct
	mips32_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h: mips32_common_t ->
	struct mips32_common Remove misleading typedef and redundant suffix from struct
	mips32_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/mips32.c, src/target/mips32.h, src/target/mips_m4k.c: 
	mips32_comparator_t -> struct mips32_comparator Remove misleading typedef and redundant suffix from struct
	mips32_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_mot_t -> struct
	image_mot Remove misleading typedef and redundant suffix from struct
	image_mot.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_memory_t -> struct
	image_memory Remove misleading typedef and redundant suffix from struct
	image_memory.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_ihex_t -> struct
	image_ihex Remove misleading typedef and redundant suffix from struct
	image_ihex.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_binary_t -> struct
	image_binary Remove misleading typedef and redundant suffix from struct
	image_binary.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/image.c, src/target/image.h: image_section_t -> struct
	image_section Remove misleading typedef and redundant suffix from struct
	image_section.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/oocd_trace.c: etmv1_trace_data_t -> struct
	etmv1_trace_data Remove misleading typedef and redundant suffix from struct
	etmv1_trace_data.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h, src/target/etm_dummy.c, src/target/etm_dummy.h,
	src/target/oocd_trace.c, src/target/oocd_trace.h: 
	etm_capture_driver_t -> struct etm_capture_driver Remove misleading typedef and redundant suffix from struct
	etm_capture_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm.c, src/target/etm.h: etm_reg_t -> struct etm_reg Remove misleading typedef and redundant suffix from struct etm_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/etb.c, src/target/etb.h: etb_reg_t -> struct etb_reg Remove misleading typedef and redundant suffix from struct etb_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm7_9_common.c, src/target/embeddedice.c,
	src/target/embeddedice.h: embeddedice_reg_t -> struct
	embeddedice_reg Remove misleading typedef and redundant suffix from struct
	embeddedice_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: cortex_m3_common_t
	-> struct cortex_m3_common Remove misleading typedef and redundant suffix from struct
	cortex_m3_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: cortex_a8_common_t
	-> struct cortex_a8_common Remove misleading typedef and redundant suffix from struct
	cortex_a8_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/breakpoints.c,
	src/target/breakpoints.h, src/target/cortex_m3.c,
	src/target/mips_m4k.c, src/target/mips_m4k.h, src/target/target.c,
	src/target/target.h, src/target/target_type.h, src/target/xscale.c: 
	watchpoint_t -> struct watchpoint Remove misleading typedef and redundant suffix from struct
	watchpoint.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/target/avrt.c, src/target/avrt.h: 
	avr_common_t -> struct avr_common Remove misleading typedef and redundant suffix from struct
	avr_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/avrt.h: mcu_jtag_t -> struct mcu_jtag Remove misleading typedef and redundant suffix from struct mcu_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7m.c, src/target/armv7m.h: armv7m_core_reg_t ->
	struct armv7m_core_reg Remove misleading typedef and redundant suffix from struct
	armv7m_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/target/armv7m.c, src/target/armv7m.h: 
	armv7m_algorithm_t -> struct armv7m_algorithm Remove misleading typedef and redundant suffix from struct
	armv7m_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h: armv7m_common_t -> struct armv7m_common Remove misleading typedef and redundant suffix from struct
	armv7m_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.c, src/target/armv7a.h: armv7a_core_reg_t ->
	struct armv7a_core_reg Remove misleading typedef and redundant suffix from struct
	armv7a_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.h: armv7a_algorithm_t -> struct armv7a_algorithm Remove misleading typedef and redundant suffix from struct
	armv7a_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.c, src/target/armv7a.h, src/target/cortex_a8.c,
	src/target/cortex_a8.h: armv7a_common_t -> struct armv7a_common Remove misleading typedef and redundant suffix from struct
	armv7a_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.h, src/target/arm920t.h,
	src/target/arm926ejs.h, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h, src/target/armv7a.h, src/target/xscale.h: 
	armv4_5_mmu_common_t -> struct armv4_5_mmu_common Remove misleading typedef and redundant suffix from struct
	armv4_5_mmu_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5_cache.c, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.h: armv4_5_cache_common_t -> struct
	armv4_5_cache_common Remove misleading typedef and redundant suffix from struct
	armv4_5_cache_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5_cache.h: armv4_5_cachesize_t -> struct
	armv4_5_cachesize Remove misleading typedef and redundant suffix from struct
	armv4_5_cachesize.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm7_9_common.c, src/target/armv4_5.c,
	src/target/armv4_5.h: armv4_5_core_reg_t -> struct armv4_5_core_reg Remove misleading typedef and redundant suffix from struct
	armv4_5_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/arm_nandio.c, src/flash/cfi.c,
	src/flash/ecos.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/str7x.c, src/flash/str9x.c, src/target/arm7_9_common.c,
	src/target/armv4_5.c, src/target/armv4_5.h: armv4_5_algorithm_t ->
	struct armv4_5_algorithm Remove misleading typedef and redundant suffix from struct
	armv4_5_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ocl.c, src/flash/str9xpec.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h,
	src/target/cortex_a8.h, src/target/cortex_m3.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etm.c, src/target/etm.h, src/target/fa526.c,
	src/target/feroceon.c: arm_jtag_t -> struct arm_jtag Remove misleading typedef and redundant suffix from struct arm_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_disassembler.h: arm_load_store_multiple_instr_t ->
	struct arm_load_store_multiple_instr Remove misleading typedef and redundant suffix from struct
	arm_load_store_multiple_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_disassembler.h: arm_load_store_instr_t -> struct
	arm_load_store_instr Remove misleading typedef and redundant suffix from struct
	arm_load_store_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_disassembler.h: arm_data_proc_instr_t -> struct
	arm_data_proc_instr Remove misleading typedef and redundant suffix from struct
	arm_data_proc_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_disassembler.h: arm_b_bl_bx_blx_instr_t -> struct
	arm_b_bl_bx_blx_instr Remove misleading typedef and redundant suffix from struct
	arm_b_bl_bx_blx_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv7a.c, src/target/armv7a.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_a8.c, src/target/cortex_m3.c: 
	swjdp_common_t -> struct swjdp_common Remove misleading typedef and redundant suffix from struct
	swjdp_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_adi_v5.h: swjdp_reg_t -> struct swjdp_reg Remove misleading typedef and redundant suffix from struct
	swjdp_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/fa526.c: arm9tdmi_common_t ->
	struct arm9tdmi_common Remove misleading typedef and redundant suffix from struct
	arm9tdmi_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm966e.c, src/target/arm966e.h, src/target/feroceon.c: 
	arm966e_common_t -> struct arm966e_common Remove misleading typedef and redundant suffix from struct
	arm966e_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/feroceon.c: arm926ejs_common_t -> struct arm926ejs_common Remove misleading typedef and redundant suffix from struct
	arm926ejs_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c, src/target/arm920t.h: arm920t_tlb_entry_t ->
	struct arm920t_tlb_entry Remove misleading typedef and redundant suffix from struct
	arm920t_tlb_entry.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c, src/target/arm920t.h: arm920t_cache_line_t
	-> struct arm920t_cache_line Remove misleading typedef and redundant suffix from struct
	arm920t_cache_line.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.c, src/target/arm720t.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h: arm7tdmi_common_t ->
	struct arm7tdmi_common Remove misleading typedef and redundant suffix from struct
	arm7tdmi_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ocl.c, src/flash/str9xpec.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/fa526.c, src/target/feroceon.c: arm7_9_common_t -> struct
	arm7_9_common Remove misleading typedef and redundant suffix from struct
	arm7_9_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.c, src/target/arm720t.h: arm720t_common_t ->
	struct arm720t_common Remove misleading typedef and redundant suffix from struct
	arm720t_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h: arm11_sc7_action_t -> struct
	arm11_sc7_action Remove misleading typedef and redundant suffix from struct
	arm11_sc7_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11.h: arm11_reg_state_t ->
	struct arm11_reg_state Remove misleading typedef and redundant suffix from struct
	arm11_reg_state.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: arm11_common_t
	-> struct arm11_common Remove misleading typedef and redundant suffix from struct
	arm11_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c: arm11_reg_defs_t -> struct arm11_reg_defs Remove misleading typedef and redundant suffix from struct
	arm11_reg_defs.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/arm_nandio.c, src/flash/cfi.c,
	src/flash/ecos.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/target/algorithm.c, src/target/algorithm.h,
	src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7m.c, src/target/armv7m.h,
	src/target/mips32.c, src/target/mips32.h, src/target/target.c,
	src/target/target.h, src/target/target_type.h: reg_param_t -> struct
	reg_param Remove misleading typedef and redundant suffix from struct
	reg_param.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c, src/target/algorithm.c,
	src/target/algorithm.h, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7m.c,
	src/target/armv7m.h, src/target/mips32.c, src/target/mips32.h,
	src/target/target.c, src/target/target.h, src/target/target_type.h: 
	mem_param_t -> struct mem_param Remove misleading typedef and redundant suffix from struct
	mem_param.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c, src/target/arm920t.h, src/target/fa526.c: 
	arm920t_common_t -> struct arm920t_common Remove misleading typedef and redundant suffix from struct
	arm920t_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.h: arm11_register_history_t -> struct
	arm11_register_history Remove misleading typedef and redundant suffix from struct
	arm11_register_history.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/svf/svf.c: remove typedef keyword from svf structures Removes all misleading typedef keywords from structures in svf.c.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c: pld_device_t ->
	struct pld_device Remove misleading typedef and redundant suffix from struct
	pld_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/pld/virtex2.c, src/pld/virtex2.h: virtex2_pld_device_t ->
	struct virtex2_pld_device Remove misleading typedef and redundant suffix from struct
	virtex2_pld_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/pld/virtex2.c, src/pld/xilinx_bit.c, src/pld/xilinx_bit.h: 
	xilinx_bit_file_t -> struct xilinx_bit_file Remove misleading typedef and redundant suffix from struct
	xilinx_bit_file.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.c, src/pld/pld.h, src/pld/virtex2.c: pld_driver_t ->
	struct pld_driver Remove misleading typedef and redundant suffix from struct
	pld_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c: connection_t -> struct connection Remove misleading typedef and redundant suffix from struct
	connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/telnet_server.c, src/server/telnet_server.h: 
	telnet_connection_t -> struct telnet_connection Remove misleading typedef and redundant suffix from struct
	telnet_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/tcl_server.c: tcl_connection_t -> struct tcl_connection Remove misleading typedef and redundant suffix from struct
	tcl_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/server.c, src/server/server.h: service_t -> struct
	service Remove misleading typedef and redundant suffix from struct service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/telnet_server.c, src/server/telnet_server.h: 
	telnet_service_t -> struct telnet_service Remove misleading typedef and redundant suffix from struct
	telnet_service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/gdb_server.h: gdb_service_t ->
	struct gdb_service Remove misleading typedef and redundant suffix from struct
	gdb_service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/gdb_server.h: gdb_connection_t
	-> struct gdb_connection Remove misleading typedef and redundant suffix from struct
	gdb_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c: remove unused aduc702x structure.  The ADUC702x_FLASH_MMIO structure was completely used, so it must
	die.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c: aduc702x_flash_bank_t -> struct
	aduc702x_flash_bank Remove misleading typedef and redundant suffix from struct
	aduc702x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/tms470.c, src/flash/tms470.h: tms470_flash_bank_t ->
	struct tms470_flash_bank Remove misleading typedef and redundant suffix from struct
	tms470_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.h: pic32mx_mem_layout_t -> struct
	pic32mx_mem_layout Remove misleading typedef and redundant suffix from struct
	pic32mx_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/non_cfi.c, src/flash/non_cfi.h: non_cfi_t -> struct
	non_cfi Remove misleading typedef and redundant suffix from struct non_cfi.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: nand_block_t -> struct
	nand_block Remove misleading typedef and redundant suffix from struct
	nand_block.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9xpec.c, src/flash/str9xpec.h: 
	str9xpec_flash_controller_t -> struct str9xpec_flash_controller Remove misleading typedef and redundant suffix from struct
	str9xpec_flash_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9x.c, src/flash/str9x.h: str9x_flash_bank_t -> struct
	str9x_flash_bank Remove misleading typedef and redundant suffix from struct
	str9x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str7x.c, src/flash/str7x.h: str7x_mem_layout_t -> struct
	str7x_mem_layout Remove misleading typedef and redundant suffix from struct
	str7x_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str7x.c, src/flash/str7x.h: str7x_flash_bank_t -> struct
	str7x_flash_bank Remove misleading typedef and redundant suffix from struct
	str7x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stm32x.h: stm32x_mem_layout_t -> struct
	stm32x_mem_layout Remove misleading typedef and redundant suffix from struct
	stm32x_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stm32x.c, src/flash/stm32x.h: stm32x_flash_bank_t ->
	struct stm32x_flash_bank Remove misleading typedef and redundant suffix from struct
	stm32x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stm32x.h: stm32x_options_t -> struct stm32x_options Remove misleading typedef and redundant suffix from struct
	stm32x_options.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stellaris.c, src/flash/stellaris.h: 
	stellaris_flash_bank_t -> struct stellaris_flash_bank Remove misleading typedef and redundant suffix from struct
	stellaris_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h: 
	s3c24xx_nand_controller_t -> struct s3c24xx_nand_controller Remove misleading typedef and redundant suffix from struct
	s3c24xx_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c, src/flash/pic32mx.h: pic32mx_flash_bank_t ->
	struct pic32mx_flash_bank Remove misleading typedef and redundant suffix from struct
	pic32mx_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/orion_nand.c: orion_nand_controller_t -> struct
	orion_nand_controller Remove misleading typedef and redundant suffix from struct
	orion_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ocl.c: ocl_priv_t -> struct ocl_priv Remove misleading typedef and redundant suffix from struct ocl_priv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: nand_info_t -> struct
	nand_info Remove misleading typedef and redundant suffix from struct
	nand_info.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: nand_manufacturer_t -> struct
	nand_manufacturer Remove misleading typedef and redundant suffix from struct
	nand_manufacturer.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c, src/flash/nand.h: nand_ecclayout_t -> struct
	nand_ecclayout Remove misleading typedef and redundant suffix from struct
	nand_ecclayout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/davinci_nand.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mx3_nand.c, src/flash/nand.c, src/flash/nand.h,
	src/flash/orion_nand.c, src/flash/s3c2410_nand.c,
	src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c: nand_flash_controller_t -> struct
	nand_flash_controller Remove misleading typedef and redundant suffix from struct
	nand_flash_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mx3_nand.c, src/flash/mx3_nand.h: mx3_nf_controller_t ->
	struct mx3_nf_controller Remove misleading typedef and redundant suffix from struct
	mx3_nf_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/flash/mflash.h: mflash_bank_t -> struct
	mflash_bank Remove misleading typedef and redundant suffix from struct
	mflash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/flash/mflash.h: mg_drv_info_t -> struct
	mg_drv_info Remove misleading typedef and redundant suffix from struct
	mg_drv_info.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/flash/mflash.h: mflash_gpio_drv_t ->
	struct mflash_gpio_drv Remove misleading typedef and redundant suffix from struct
	mflash_gpio_drv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c, src/flash/mflash.h: mflash_gpio_num_t ->
	struct mflash_gpio_num Remove misleading typedef and redundant suffix from struct
	mflash_gpio_num.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc3180_nand_controller.c,
	src/flash/lpc3180_nand_controller.h: lpc3180_nand_controller_t ->
	struct lpc3180_nand_controller Remove misleading typedef and redundant suffix from struct
	lpc3180_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2900.c: lpc2900_flash_bank_t -> struct
	lpc2900_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc2900_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc288x.c, src/flash/lpc288x.h: lpc288x_flash_bank_t ->
	struct lpc288x_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc288x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c, src/flash/lpc2000.h: lpc2000_flash_bank_t ->
	struct lpc2000_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc2000_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/ecosboard.c, src/flash/aduc702x.c, src/flash/at91sam3.c,
	src/flash/at91sam3.h, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/ecos.c, src/flash/faux.c,
	src/flash/flash.c, src/flash/flash.h, src/flash/lpc2000.c,
	src/flash/lpc288x.c, src/flash/lpc2900.c, src/flash/ocl.c,
	src/flash/pic32mx.c, src/flash/stellaris.c, src/flash/stm32x.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/flash/tms470.c: flash_driver_t -> struct flash_driver Remove misleading typedef and redundant suffix from struct
	flash_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/ecos.c, src/flash/faux.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc2900.c, src/flash/ocl.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c: 
	flash_sector_t -> struct flash_sector Remove misleading typedef and redundant suffix from struct
	flash_sector.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/faux.c: faux_flash_bank_t -> struct faux_flash_bank Remove misleading typedef and redundant suffix from struct
	faux_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/ecos.c: ecosflash_flash_bank_t -> struct
	ecosflash_flash_bank Remove misleading typedef and redundant suffix from struct
	ecosflash_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h: cfi_fixup_t -> struct cfi_fixup Remove misleading typedef and redundant suffix from struct
	cfi_fixup.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h: cfi_unlock_addresses_t -> struct
	cfi_unlock_addresses Remove misleading typedef and redundant suffix from struct
	cfi_unlock_addresses.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c: 
	cfi_spansion_pri_ext_t -> struct cfi_spansion_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_spansion_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h: cfi_atmel_pri_ext_t -> struct
	cfi_atmel_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_atmel_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h: cfi_intel_pri_ext_t -> struct
	cfi_intel_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_intel_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c: 
	cfi_flash_bank_t -> struct cfi_flash_bank Remove misleading typedef and redundant suffix from struct
	cfi_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/avrf.h: avrf_flash_bank_t -> struct
	avrf_flash_bank Remove misleading typedef and redundant suffix from struct
	avrf_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/avrf.h: avrf_type_t -> struct
	avrf_type Remove misleading typedef and redundant suffix from struct
	avrf_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam7.c, src/flash/at91sam7.h: at91sam7_flash_bank_t
	-> struct at91sam7_flash_bank Remove misleading typedef and redundant suffix from struct
	at91sam7_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/commands.c,
	src/jtag/commands.h, src/jtag/driver.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c: jtag_command_t -> struct jtag_command Remove useless typedef from struct jtag_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h: jtag_command_container_t -> union
	jtag_command_container Remove misleading typedef from union jtag_container.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h, src/jtag/driver.c: sleep_command_t -> struct
	sleep_command Remove misleading typedef from struct sleep_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h: end_state_command_t -> struct
	end_state_command Remove misleading typedef from struct end_state_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h, src/jtag/driver.c: reset_command_t -> struct
	reset_command Remove misleading typedef from struct reset_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h, src/jtag/driver.c: stableclocks_command_t ->
	struct stableclocks_command Remove misleading typedef from struct stableclocks_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h, src/jtag/driver.c: runtest_command_t ->
	struct runtest_command Remove misleading typedef from struct runtest_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/commands.h,
	src/jtag/driver.c, src/jtag/gw16012.c, src/jtag/rlink/rlink.c,
	src/jtag/usbprog.c: pathmove_command_t -> struct pathmove_command Remove misleading typedef from struct pathmove_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.h, src/jtag/driver.c: statemove_command_t ->
	struct statemove_command Remove misleading typedef from struct statemove_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/commands.c: cmd_queue_page_t -> struct cmd_queue_page Remove misleading typedef from struct cmd_queue_page.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c, src/jtag/bitq.c, src/jtag/commands.c,
	src/jtag/commands.h, src/jtag/driver.c, src/jtag/ft2232.c,
	src/jtag/jlink.c, src/jtag/vsllink.c: scan_command_t -> struct
	scan_command Remove misleading typedef on struct scan_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/vsllink.c: more vsllink typedef cleanup Remove useless typedef for struct insert_insignification_operation.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/vsllink.c: vsllink_jtag_t -> struct vsllink Remove misleading typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/presto.c: presto_t -> struct presto Remove useless typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/ft2232.c: ft2232_device_t -> struct ft2232_device Remove misleading typedef from ft2232_device; it was barely used.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jlink.c: jlink_jtag_t -> struct jlink Remove misleading typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/parport.c: cable_t -> struct cable Remove useless typedef and redundant suffix from parport struct
	cable.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c, src/jtag/jlink.c, src/jtag/vsllink.c: 
	pending_scan_result_t -> struct pending_scan_result Remove misleading typedef from struct struct pending_scan_result.
	Future patches need to remove these duplicated types and code.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/arm-jtag-ew.c: armjtagew_jtag_t -> struct armjtagew Remove useless typedef and redundant suffix from struct
	armjtatew_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/jtag.h, src/jtag/tcl.c: use struct jtag_tap_event_action Remove useless typedef and redundant suffix from
	jtag_tap_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/core.c: jtag_event_callback_t -> struct
	jtag_event_callback Remove useless typedef and redundant suffix from
	jtag_event_callback.  Add documentation for the structure.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/core.c, src/jtag/dummy.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/interface.h, src/jtag/interfaces.c, src/jtag/interfaces.h,
	src/jtag/jlink.c, src/jtag/minidummy/minidummy.c,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/rlink/rlink.c,
	src/jtag/tcl.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000/zy1000.c: jtag_interface_t -> struct jtag_interface Remove useless typedef and redundant suffix from struct
	jtag_interface.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitbang.h,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/parport.c: 
	bitbang_interface_t -> struct bitbang_interface Removes another useless typedef and suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/bitq.c, src/jtag/bitq.h, src/jtag/presto.c: 
	bitq_interface_t -> struct biq_interface Remove useless typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/bitq.c, src/jtag/bitq.h: encapsulate bitq_state structure Move the bitq_state structure from the header to source file, as it
	is used internally.  Also removes its silly typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9xpec.c, src/jtag/bitq.c, src/jtag/commands.h,
	src/jtag/core.c, src/jtag/driver.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/minidummy/minidummy.c,
	src/jtag/tcl.c, src/jtag/zy1000/zy1000.c, src/pld/virtex2.c,
	src/svf/svf.c, src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm11_dbgtap.h, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/avrt.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/feroceon.c,
	src/target/mips_ejtag.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	scan_field_t -> struct scan_field Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c, src/flash/str9xpec.c, src/flash/str9xpec.h,
	src/helper/types.h, src/jtag/core.c, src/jtag/driver.c,
	src/jtag/jtag.h, src/jtag/minidriver.h,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/tcl.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/pld/virtex2.c, src/pld/virtex2.h, src/svf/svf.c,
	src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/avrt.c, src/target/avrt.h,
	src/target/cortex_a8.c, src/target/cortex_a8.h,
	src/target/cortex_m3.c, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etb.h,
	src/target/fa526.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale.c, src/xsvf/xsvf.c: jtag_tap_t -> struct jtag_tap Search and destroy the jtag_tap_t typedef.  This also cleans up a
	layering violation, removing the declaration from types.h.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/lpc2900.c, src/flash/mflash.c,
	src/flash/nand.c, src/helper/fileio.c, src/helper/fileio.h,
	src/target/etm.c, src/target/image.c, src/target/image.h,
	src/target/target.c, src/target/xscale.c: fileio_t -> struct fileio Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c, src/helper/log.h: log_callback_t -> struct
	log_callback Removes useless and confusing typedef for log callback structure.
	Types with _t should be suitable for passing by-value as arguments.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* .gitignore, src/target/avrt.o.RcaTm5: remove accidental artifact Somehow I managed to slip a temporary build file into the tree.
	Remove it and update the .gitignore file so it doesn't happen again.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* doc/manual/helper.txt, doc/manual/main.txt,
	doc/manual/primer/commands.txt: add documention for writing built-in
	commands This documentation update provides an introduction to the command
	handling facilities provided by command.[ch].  A primer walks the
	user through the elements of a pointedly pedantic module:
	src/hello.c.  A summary of the API is provided in the OpenOCD Architecture
	section.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/Makefile.am, src/hello.c, src/openocd.c: add src/hello.c to
	augment new command tutorial The hello module provides the 'hello' command, printing a greetings
	to the command console.  It can grow to serve as pedagogical example
	of services that OpenOCD developers should use: a runnable style
	guide.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: command_handler_t:
	make cmd an indirect parameter This patch removes 'cmd' from the list of direct parameters, moving
	that pointer to args[-1] (by way of the new CMD_NAME macro).

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: command_handler_t:
	make args parameter const This patch prevents command handlers from modifying the strings
	passed in the 'args' array.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: command_handler_t: make cmd parameter const Prevents the command name from being modified in command handlers.
	Again, this has cascading effects, but the patches are fairly
	minimal.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/nand.c, src/helper/command.h,
	src/helper/ioutil.c, src/jtag/ft2232.c, src/svf/svf.c,
	src/target/arm9tdmi.c: command_handler_t: make argc unsigned The number of command arguments will always be 0 or more, so use the
	right type in handlers.  This has a cascading effect up through the
	layers, but the new COMMAND_HANDLER macros prevented total chaos.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/helper/command.h, src/jtag/tcl.c,
	src/target/arm720t.c, src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm966e.c, src/target/cortex_m3.c, src/target/target.c,
	src/target/xscale.c: add CMD_NAME macro for command handlers By introducing the CMD_NAME macro, this parameter may be integrated
	as args[-1] in command.[ch], without touching any other call sites.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/nand.c, src/jtag/tcl.c,
	src/pld/pld.c, src/server/gdb_server.c, src/server/tcl_server.c,
	src/server/telnet_server.c, src/target/arm11.c, src/target/etm.c,
	src/target/target.c: use CALL_COMMAND_HANDLER instead of direct
	calls By using CALL_COMMAND_HANDLER, parameters can be reordered, added,
	or even removed in inherited signatures, without requiring
	revisiting all of the various call sites.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.h, src/pld/virtex2.c: add PLD_DEVICE_COMMAND_HANDLER
	macro Update virtex module to use abstracted PLD command handling.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/davinci_nand.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mx3_nand.c, src/flash/nand.h, src/flash/orion_nand.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c: nand: add
	NAND_DEVICE_COMMAND_HANDLER macro Abstracts the extended NAND command handling to allow the function
	signature to be controlled by __COMMAND_HANDLER.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/at91sam3.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/faux.c, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc2900.c, src/flash/ocl.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c: use
	FLASH_BANK_COMMAND_HANDLER macro Defines all flash_bank_command handlers using the new macro.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h: add FLASH_BANK_COMMAND_HANDLER macro The FLASH_BANK_COMMAND_HANDLER provides an extended command handler
	using the __COMMAND_HANDLER macro, whereby changing that macro is
	sufficient to update flash handlers with the new signature.  It also
	enforces uniform style and scope when implementing this handler.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/target/avrt.o.RcaTm5: s3c24xx: use COMMAND_HANDLER with command
	helper Add S3C24XX_DEVICE_COMMAND macros to abstract common command handler
	conventions.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv7a.c, src/target/armv7m.c: arm_adi,armv7[am]: use
	COMMAND_HELPER for helpers Rewrites the dap_* command helpers to use the COMMAND_HELPER
	paradigm.  Uses CALL_COMMAND_HELPER to hide inherited calling
	conventions.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/parport.c, src/server/server.c, src/server/server.h,
	src/target/arm11.c, src/target/etm.c, src/target/target.c: use
	COMMAND_HELPER for command helper functions Define the numerous helpers that inherit command handler parameters
	using the COMMAND_HELPER macro.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/flash.c, src/flash/lpc2000.c, src/flash/lpc2900.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/nand.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c, src/helper/command.c,
	src/helper/ioutil.c, src/helper/log.c, src/jtag/amt_jtagaccel.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/tcl.c, src/jtag/vsllink.c,
	src/openocd.c, src/pld/pld.c, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/server.c,
	src/server/tcl_server.c, src/server/telnet_server.c, src/svf/svf.c,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv7a.c,
	src/target/armv7m.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/etb.c, src/target/etm.c,
	src/target/etm_dummy.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: use
	COMMAND_HANDLER macro to define all commands

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add command_handler_t
	type This patch adds new typedefs for command handler callback functions.
	Users of this type signature were updated to use these new types.
	It uses the new __COMMAND_HANDLER macro to prevent duplication.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: add COMMAND_HANDLER and COMMAND_HELPER
	macros The COMMAND_HANDLER and COMMAND_HELPER macros allow commands to be
	defined in a manner that decouples them from the exact order and
	type of their parameters.  Once converted, incremental changes to
	the command handler type can be addressed in incremental patches
	that do not need to touch the entire tree.  These macros' implementation, __COMMAND_HANDLER, is used to define
	the new command_handler_t type, and additional patches will use it
	to derive new macros to define extended command types (e.g. flash,
	nand, pld).  The CALL_COMMAND_HANDLER provides a means of calling
	helpers or nested handlers from withing a command handler.  This patch uses C99 varadic macro expansion.  Please report
	compilers that cannot handle this code.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add
	command_output_handler_t Add a typedef for command output handler function type, simplifying
	the appearance of functions that use it and eliminating duplicate
	code.

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_a8.c: Cortex-A8: fix indent The "remove (forward) declarations" patch goofed indentation on the
	"cortexa8_target" struct; fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc3180_nand_controller.c, src/flash/mx3_nand.c,
	src/flash/nand.c, src/flash/nand.h, src/flash/nand_ecc.c,
	src/flash/nand_ecc_kw.c, src/flash/orion_nand.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h: nand: rename
	device to nand To be more informative (and consistent with flash and pld trees),
	change 'device' parameter name to 'nand' in NAND source files.  This
	change eliminates confusing 'device->device->' instance from the
	code, and it simplifies the forthcoming command handler patches.

2009-11-12  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/etm.c, src/target/etm.h: ETM: start
	support for ETMv2+ ARM11 and newer cores include updated ETM modules.  Recognize their
	version codes and some key config differences.  Sanity checked on an
	OMAP2, with an ETM11RV r0p1 (ETMv3.1).  This still handles only scan chain 6, with at most 128 registers.
	Newer cores (mostly, Cortex) will need to use the DAP instead.  Note that the newer ETM modules don't quite fit the quirky config
	model of the older ones ... having more port widths is easy, but the
	modes aren't the same.  That still needs to change.  Fix a curious bug ... how did the register cache NOT get saved?? Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  Liam Redmond <info@rock-software.com>

	* configure.in: WinXP-x64: find right D2XX libraries This trivial patch allows the config script to find the correct
	FTDI2xx libraries under Windows XP x64 using msys.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  Jonas Horberg <jhorberg@sauer-danfoss.com>

	* doc/openocd.texi, src/jtag/parport.c: parport: add support for the
	jtag_khz command.  Add the khz and speed_div functions to the parport interface driver.
	Add the parport_toggling_time function that tells the parport driver
	how long (in nanoseconds) it takes for the hardware to toggle TCK.  [dbrownell@users.sourceforge.net: tweak doc for clarity, mention
	multimeter, and whitespace fixes] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.h, src/target/armv4_5.h,
	src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/etm_dummy.c, src/target/oocd_trace.c: ETM: remove old
	mid-level ETM handle Now that nothing uses the old ETM handle any more, remove it.  Add
	minimal header tweaks, letting non-ARM7 and non-ARM9 cores access
	ETM facilities.  Now ARM11 could support standard ETM (and ETB) access as soon as it
	derives from "struct arm" ... its scanchain 6 is used access the
	ETM, just like ARM7 and ARM9.  The Cortex parts (both M3 and A8) will need modified access methods
	(via ETM init parameters), so they use the DAP.  Our first A8 target (OMAP3) needs that for both ETM and ETB, but the M3 ETM isn't very
	useful without SWO trace support (it's painfully stripped down), so
	that support won't be worth adding for a while.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/etm.c: ETM: use new toplevel ETM handle Make ETM itself use the new toplevel ETM handle, instead of the
	to-be-removed lower level one.  As of this patch, nothing should be
	using the old ARM7/ARM9-specific handle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/etb.c, src/target/etm_dummy.c, src/target/oocd_trace.c: 
	ETM: update port drivers Make both useful ETM port drivers (etb, etm_dummy) use the new
	toplevel ETM handle, instead of the to-be-removed lower level one.  Do the same for the "oocd-trace" prototype too; and fix its error
	reporting paths:  return failure codes, don't exit(), etc Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: ETM: update
	arm[79]tdmi_examine() Make ARM7 and ARM9 cores use the new toplevel ETM handle to trigger
	ETM setup, not the to-be-removed lower level one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv4_5.h, src/target/etm.c: ARM: start generalized
	base type Rename "struct armv4_5_common_s" as "struct arm".  It needs a bit
	more work to be properly generic, and to move out of this header,
	but it's the best start we have on that today.  Add and initialize an optional ETM pointer, since that will be the
	first thing that gets generalized.  The intent being:  all ARMs should eventually derive from this
	"struct arm", so they can reuse the current ETM logic.  (And later,
	more.)  Currently the ARM cores that *don't* so derive are only
	ARMv7-M (and thus Cortex-M3) and ARM11.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/tcl.c: fix 'jtag interface' behavior Without this patch, running "openocd -c 'jtag interface'" segfaults.
	Now, it returns the string "undefined" when the interface is unset.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: improve command registration Eliminate duplicate code for linking commands into a list.  Adds a check to ensure the command does not already exist; if it
	does, return that one instead of creating a duplicate.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: add help regardless of callback Add help for commands regardless of whether a handler is involved.
	With this, all sorts of new commands can be found in 'help' text.
	Hopefully, all of them have been documented....  Sadly, the lsort function appears to handle nested lists poorly,
	such that sub-commands do not group with their parents.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: eliminate duplicate helptext management Add helpers to manage adding entries to the helptext list.  Adds
	support for arbitrarily nested commands.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: add command_name
	helper The command_name function returns a malloced string for a given
	command and its parents.  This can be used to display a message to
	the user, but it is used internally to handle registration and
	syntax errors.  This helps permit arbitrary command nesting.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/helper/startup.tcl: wrap help command Use continuation characters to wrap the help command into 80
	columns.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h, src/flash/lpc2900.c: remove obsolete doxygen
	comments Documenting command handler parameters is redundant and pointless.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc288x.c, src/flash/mx3_nand.c, src/pld/pld.c,
	src/pld/virtex2.c, src/target/etb.c: remove more useless
	declarations Removes forward declarations by moving command registration after
	defintion of the command handlers.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: cortex_a8: remove
	declarations, use static keyword

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/flash.h, src/flash/lpc2900.c,
	src/flash/nand.c, src/flash/nand.h, src/pld/pld.h,
	src/pld/virtex2.c, src/pld/xilinx_bit.c, src/pld/xilinx_bit.h,
	src/target/image.c, src/target/image.h, src/target/register.c,
	src/target/register.h, src/target/target.c, src/xsvf/xsvf.c: add
	const keyword to some APIs Add 'const' keyword to 'char *' parameters to allow command handlers
	to pass constant string arguments.  These changes allow the 'args'
	command handler to be changed to 'const' in a subsequent patch.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/davinci_nand.c,
	src/target/cortex_m3.c: change argv to args in command handlers Subsequent patches expect all command handlers to use a uniform
	parameter naming scheme.  In the entire tree, these two files used
	standard 'argv' instead of our non-standard 'args'.  This patch opts
	to reduces the noise required to unify the command handlers, using
	dominant 'args' form.  A future patch may be used to convert us back to the standard argv,
	but that requires coordination with all developers to minimize
	disruptions.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/command.h: script_debug():
	improve types Use unsigned type for number of arguments.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: command.c: make private routines static This patch also improves the signature of run_command function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c, src/helper/log.h, src/server/gdb_server.c,
	src/server/telnet_server.c: log: improve log_callback_fn signature Use unsigned type for line number in log_callback_fn signature.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/time_support.c, src/helper/time_support.h: 
	time_support: improve use of types Update timeval_add_time to use long int; implement timeval_add with
	it.  Update timeval_ms to check gettimeofday return value, return
	int64_t.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/flash/Makefile.am, src/target/Makefile.am: makefiles: improve
	build order Separates various groups of files to be built in logical succession.
	In each layer, the core module (target.c, nand.c, etc.) is built
	_after_ their helper modules (e.g. image.c, nand_ecc.c) but _before_
	any of their drivers (e.g. arm966e.c, mx3_nand.c).  This allows problems introduced at the bottom of the stack to result
	in build failures as soon as possible, as the helpers and core
	should wrap portions of them.

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h: ETM cleanup Various cleanups of ETM related code.   - Saner error return paths  - Simplify arm7_9 init ... no need for extra zeroing!  - Shrink some lines  - Tweak some diagnostics  - Use shorter name for ETM struct type.   - Don't exit() and similar.  The diagnostics look forward to having this ETM code
	work with more than just ARM7/ARM9.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.c: fix bug in ARM720: bugfix

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c: ARM720: bugfix The "ARM720 uses the new inheritance/nesting scheme" patch wrongly
	scrubbed a calloc() from arm720t_target_create().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/target.c: target: MMU-aware init for
	memory read/write Start switching MMU handling over to a more sensible scheme.  Having
	an mmu() method enables MMU-aware behaviors.  Not having one kicks
	in simpler ones, with no distinction between virtual and physical
	addresses.  Currently only a handful of targets have methods to read/write
	physical memory:  just arm720, arm920, and arm926.  They should all
	initialize OK now, but the arm*20 parts don't do the "extra" stuff
	arm926 does (which should arguably be target-generic).  Also simplify how target_init() loops over all targets by making it
	be a normal "for" loop, instead of scattering its three parts to the
	four winds.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/atmel_sam3u_ek.cfg, tcl/target/aduc702x.cfg,
	tcl/target/at91sam3uXX.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg: target.cfg: (re)move some bogus reset_config
	lines General rule, this is all board-specific and doesn't belong in
	target config files.  Some of these were just cosmetic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Thomas Kindler <mail+ocd@t-kindler.de>

	* tcl/target/stm32.cfg: stm32.cfg: remove reset_config Here's a patch for the double-reset problem on STM32.  I've tested
	downloading and debugging with GDB and Eclipse, and everything seems
	to work fine.  This effectively sets reset_config to none. trst_only would also be
	ok, but that's better left to a board configuration file since not
	all boards wire it up.  The NVIC is used to trigger reset, which at least on this chip also
	pulses nSRST so the whole system does get rest -- exactly once.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Michael Bruck <mbruck@digenius.de>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	arm11: add etmr/etmw registers to access ETM via DBGTAP scan chain First cut of these commands. Øyvind tinkered a bit with the number
	parsing to bring it up to speed + rebased it.  Ready for testing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/arm11.c, tcl/board/csb732.cfg,
	tcl/target/c100helper.tcl, tcl/target/imx.cfg: ARM11: remove old
	mrc/mcr commands Switch to new commands in config scripts Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/telo.cfg, tcl/target/telo.cfg: telo.cfg: fix search
	paths Add the missing "target/" prefix for scripts in the target folder.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/avrt.c, src/target/target.c: Target: minor cleanup  - improve some names -- a "default" prefix is not descriptive  - add doxygen @todo entries for some issues  - avr8 isn't ever going to need those MMU hooks Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c: ARM920: implement basic MMU ops mmu() works; virt2phys() fails and logs an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c: ARM720: implement basic MMU ops mmu() works; virt2phys() fails and logs an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c: Target: fix bad error messages And shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/httpd.c: httpd: fix warnings, more robust error
	handling, improved MIME handling The httpd is work in progress...  No mime type set by default. Let the browser guess.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/command.c: tcl: HostOs now picks up eCos as well during
	compile time Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/svf/svf.c, src/target/arm7_9_common.c, src/xsvf/xsvf.c: 
	svf,xsvf,arm7_9_common: trim forard declarations Remove forward declarations by reordering command registration.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.c: command.c: make commands static Removes useless declarations, moving the handler functions to appear
	before their use in the (much bigger) command registriation
	function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/server.c,
	src/server/tcl_server.c, src/server/telnet_server.c: server: remove
	useless declarations Remove server command declarations, make handler routines static.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/parport.c, src/jtag/tcl.c, src/jtag/vsllink.c: jtag: remove
	useless declarations Contrary to my previous assessment, some opportunities to remove
	forward declarations were overlooked.  Remove them by moving the
	definitions of the command registration and interface structure to
	the end of files.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: target.c: remove useless declarations This patch removes the last batch of forward references from the
	tree, moving the target command registration routines to the end of
	the file.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c, src/flash/stm32x.c: {pic32m,stm32}x.c: remove
	useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c: 
	str{7,9}x*.c: remove useless forward declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c, src/flash/ecos.c, src/flash/faux.c: 
	flash/<various>.c: remove useless declarations Remove useless forward declarations.  Moves flash structure
	definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/aduc702x.c, src/flash/avrf.c, src/flash/ocl.c,
	src/flash/stellaris.c, src/flash/tms470.c: flash/<assorted>.c:
	remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c, src/flash/at91sam7.c: flash/at91sam[37].c:
	remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of file.  Moves flash structure definitions to end of files.  Changes a few references to global flash structure to local refs.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c, src/flash/lpc288x.c, src/flash/lpc2900.c: 
	flash/lpc2???.c: remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c: flash/*nand*.c:
	remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of files.  Moves flash structure definition to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c: flash/flash.c: remove forward declarations Remove useless forward declarations.  Moves command registration to
	end of file.  Moves flash structure definition to end of file.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/target.c,
	src/target/target_type.h: Revert "target: add target->type->has_mmu
	fn" This patch introduced a bug preventing flash writes from working on
	Cortex-M3 targets like the STM32.  Moreover, it's the wrong approach
	for handling no-MMU targets.  The right way to handle no-MMU targets is to provide accessors for
	physical addresses, and use them everywhere; and any code which
	tries to work with virtual-to-physical mappings should use a
	identity mapping (which can be defaulted).  And ... we can tell if a target has an MMU by seeing if it's got an
	mmu() method.  No such methood means no MMU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/target.c,
	tcl/board/topas910.cfg, tcl/board/topasa900.cfg,
	tcl/interface/calao-usb-a9260.cfg, tcl/interface/openocd-usb.cfg,
	tcl/interface/parport.cfg, tcl/interface/parport_dlc5.cfg: finish
	removing deprecated/obsolete commands It's been about a year since these were deprecated and, in most
	cases, removed.  There's no point in carrying that documentation, or
	backwards compatibility for "jtag_device" and "jtag_speed", around
	forever.  (Or a few remnants of obsolete code...) Removed a few obsolete uses of "jtag_speed":  - The Calao stuff hasn't worked since July 2008.  (Those Atmel    targets need to work with a 32KHz core clock after reset until    board-specific init-reset code sets up the PLL and enables a    faster JTAg clock.)  - Parport speed controls don't actually work (tops out at about    1 MHz on typical HW).   - In general, speed controls need to live in board.cfg files (or    sometimes target.cfg files), not interface.cfg ...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: Flash/NAND doc tweaks Rename the "Drivers, Options, and Commands" sections to be just
	"Driver List" matching the earlier reference.  Add an example of
	parallel CFI flash.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/target/algorithm.h, src/target/arm926ejs.h,
	src/target/arm966e.h, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.h, src/target/arm_disassembler.h,
	src/target/arm_jtag.h, src/target/arm_simulator.h,
	src/target/armv4_5.h, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.h, src/target/armv7m.h,
	src/target/breakpoints.h, src/target/cortex_a8.h,
	src/target/embeddedice.h, src/target/etb.h, src/target/etm.h,
	src/target/image.h, src/target/mips32.h,
	src/target/mips32_dmaacc.h, src/target/mips32_pracc.h,
	src/target/mips_ejtag.h, src/target/mips_m4k.h,
	src/target/register.h, src/target/target_request.h,
	src/target/trace.h: src/target: remove 'extern' and wrap headers Remove extern keywords from function prototypes and wrap long lines.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.h: target.h: remove extern keyword and wrap Removes 'extern' keyword from function prototypes and wraps long
	lines.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.h, src/server/gdb_server.h, src/server/server.h,
	src/server/tcl_server.h, src/server/telnet_server.h, src/svf/svf.h,
	src/xsvf/xsvf.h: src/{server,pld,svf,xsvf}: remove 'extern' keyword Removes 'extern' keyword from function declarations in header
	filess.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.h, src/flash/mflash.h, src/flash/nand.h,
	src/flash/non_cfi.h, src/flash/ocl/at91sam7x/dcc.h,
	src/flash/ocl/at91sam7x/samflash.h, src/flash/s3c24xx_nand.h: 
	src/flash: remove 'extern' and wrap headers Removes 'extern' keywords from function prototypes in the flash
	headers.  Wraps long lines to fit into 80 columns.  Adds multiple inclusion protection for s3c2xx_nand.h.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/bitbang.h, src/jtag/bitq.h, src/jtag/jtag.h,
	src/jtag/minidriver.h: src/jtag: remove 'extern' and wrap headers.  Removes the 'extern' keyword from function declarations.  Wraps long
	prototypes to fit into 80 columns.  Fixes documentation for jtag_tap_s::{,has}idcode fields.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* src/helper/binarybuffer.h, src/helper/command.h,
	src/helper/configuration.h, src/helper/fileio.h, src/helper/log.h,
	src/helper/replacements.h: src/helper: wrap and clean headers.  Remove all useless 'extern' keywords from function prototypes.
	Wraps long lines for readability.

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/helper/command.c: User's Guide: bugfix
	global state info The "$ocd_HOSTOS" variable was wrongly documented.  Fix its
	documentation, and its value on Linux.  Shrink a few of the too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/embeddedice.c: EmbeddedICE: minor cleanups Add comments (Doxygen and normal), remove unused code, shrink some
	overlong lines.  Get rid of a forward decl.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/mflash.c, src/flash/nand.c,
	src/helper/time_support.c, src/helper/time_support.h,
	src/target/target.c: Overhaul time support API This patch changes the duration_* API in several ways.  First, it
	updates the API to use better names.  Second, string formatting has
	been removed from the API (with its associated malloc).  Finally, a
	new function added to convert the time into seconds, which can be
	used (or formatted) by the caller.  This eliminates hidden calls to
	malloc that require associated calls to free().  This patch also removes the useless extern keyword from prototypes,
	and it eliminates the duration_t typedef (use 'struct duration').
	These API also allows proper error checking, as it is possible for
	gettimeofday to fail in certain circumstances.  The consumers have all been chased to use this new API as well, as
	there were relatively few cases doing this type of measurement.  In
	most cases, the code performs additional checks for errors, but the
	calling code looks much cleaner in every case.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm11_dbgtap.h: Add private
	header for ARM11 internals.  Reduces confusion about location of associated routines and reduces
	clutter in the arm11 header.  Removes extra whitespace around the lines touched by these changes.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c, src/target/arm11.h: ARM11: remove exports and
	forward decls Unneeded exports cause confusion about the module interfaces.  Make
	almost everything static in the arm11.c module.

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_simulator.c: ARM: minor simulator cleanup Make several functions be static.  Shrink some of the overlong
	lines.  Use pure tab indents in some places that mixed in spaces.
	This gives a minor object code shrink (about 2% on amd64).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: fix (debug) message priority Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, tcl/board/at91sam9g20-ek.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/linksys_nslu2.cfg,
	tcl/board/mini2440.cfg, tcl/board/pxa255_sst.cfg,
	tcl/board/str910-eval.cfg, tcl/board/zy1000.cfg,
	tcl/target/at91eb40a.cfg, tcl/target/at91r40008.cfg,
	tcl/target/at91rm9200.cfg, tcl/target/at91sam3uXX.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/cs351x.cfg, tcl/target/epc9301.cfg,
	tcl/target/imx27.cfg, tcl/target/is5114.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg,
	tcl/target/mega128.cfg, tcl/target/omap5912.cfg,
	tcl/target/pic32mx.cfg, tcl/target/pxa270.cfg,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg,
	tcl/target/samsung_s3c2410.cfg, tcl/target/samsung_s3c2440.cfg,
	tcl/target/stm32.cfg, tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg,
	tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg,
	tcl/target/xba_revA3.cfg, tcl/test/syntax1.cfg: target.cfg: remove
	"-work-area-virt 0" The semantics of "-work-area-virt 0" (or phys) changed with the
	patch to require specifying physical or virtrual work area
	addresses.  Specifying zero was previously a NOP.  Now it means that
	address zero is valid.  This patch addresses three related issues:  - MMU-less processors should never specify work-area-virt;    remove those specifications.  Such processors include    ARM7TDMI, Cortex-M3, and ARM966.   - MMU-equipped processors *can* specify work-area-virt...     but zero won't be appropriate, except in mischievous    contexts (which hide null pointer exceptions).     Remove those specs from those processors too.  If any of    those mappings is valid, someone will need to submit a    patch adding it ... along with a comment saying what OS    provides the mapping, and in which context.  Example,    say "works with Linux 2.6.30+, in kernel mode".  (Note    that ARM Linux doesn't map kernel memory to zero ...)  - Clarify docs on that "-virt" and other work area stuff.  Seems to me work-area-virt is quite problematic; not every operating
	system provides such static mappings; if they do, they're not in
	every MMU context...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/vsllink.c: Fix vsllink bulk out endpoint parsing.

2009-11-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit a9abfa7d06dbcfded97b7fb41f50d3581c24fbae Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Fri Nov 6
	14:57:21 2009 -0800

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: Simplify nand indentation.  Removes check covered by new nand_command_get_device_by_num helper.
	Reverses logic of probe check to further reduce indentation.

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c: Improve flash indentation.  Removes redundant tests and reverses backwards logic to reduce the
	indentation level in flash.c.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c: Fix arm11 vcr command parsing.

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.h, src/target/arm7_9_common.h,
	src/target/arm920t.h, src/target/arm926ejs.h, src/target/arm966e.h,
	src/target/xscale.h: ARM: shrink offsets Move various embedded target structs to the beginnings of their
	containers ... pretty much the way C++ or Obj-C would for single
	inheritance.  This shrinks code that accesses those embedded structs by letting
	common offsets use smaller instructions.  Sample before/after sizes
	(on amd64):   17181	    312	      0	  17493	   4455	arm920t.o   16810	    312	      0	  17122	   42e2	arm920t.o Where the "after" is the smaller number, with this patch over the
	ones leveraging that embedding knowledge.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/embeddedice.c, src/target/etm.c: ARM: other code uses the
	new inheritance/nesting scheme Remove most remaining uses of target->arch_info from ARM
	infrastructure, where it hasn't already been updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7a.c, src/target/armv7a.h, src/target/cortex_a8.c,
	src/target/cortex_a8.h: Cortex-A8: use the new inheritance/nesting
	scheme Use target_to_armv7a() etc, replacing needless pointer traversals.
	Stop using X->arch_info scheme in most ARMv7-A and Cortex-A8 code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm7tdmi.h: ARM7TDMI uses the
	new inheritance/nesting scheme Use target_to_arm7_9(), replacing needless pointer traversals.  Also:  remove now-useless contents of arm7tdmi struct; it's almost
	ready to be removed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c: ARM720 uses the new inheritance/nesting
	scheme Use target_to_arm720(), replacing needless pointer traversals and
	simplifying a bunch of nasty code.  Stop setting arch_info for
	arm720 type parts, it's not used any longer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c, src/target/xscale.h: XScale uses the new
	inheritance/nesting scheme Use target_to_xscale(), replacing needless pointer traversals and
	simplifying a bunch of code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm9tdmi.c, src/target/arm9tdmi.h: ARM9TDMI uses the
	new inheritance/nesting scheme Replace needless pointer traversals and simplify.  Also remove most
	remaining contents from arm9tdmi struct; it's almost removable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm966e.c: ARM966 uses the new inheritance/nesting
	scheme Use target_to_arm966(), replacing needless pointer traversals.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm926ejs.c: ARM926 uses the new inheritance/nesting
	scheme Use target_to_arm926(), replacing needless pointer traversals and
	simplifying a bunch of code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/fa526.c: FA526 uses the new inheritance/nesting scheme Replace needless pointer traversals, simplify.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c, src/target/fa526.c: ARM920 uses the new
	inheritance/nesting scheme Use target_to_arm920(), replacing needless pointer traversals and
	simplifying.  Stop setting arm9tdmi->arch_info for arm920 type
	parts, it's not used any longer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h: Cortex-M3: use the new inheritance/nesting
	scheme Use new target_to_cm3() and target_to_armv7m() inlines, instead of a
	series of x->arch_info conversions.  Remove arch_info, since nothing
	uses it.  Also fix an omission:  the Cortex-M3 commands didn't verify that
	they were operating on that kind of target.  Add comment about the
	ARMv7M version of that omission.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.h, src/target/arm7_9_common.h,
	src/target/arm920t.h, src/target/arm926ejs.h, src/target/arm966e.h,
	src/target/armv4_5.h, src/target/armv7a.h, src/target/armv7m.h,
	src/target/cortex_a8.h, src/target/cortex_m3.h,
	src/target/target.h, src/target/xscale.h: target: provide
	container_of() Provide a cleaner way to handle single inheritance of targets in C,
	using the same model Linux does:  structs containing other structs,
	un-nested via calls to a "container_of()" macro that are packaged in
	typesafe inline functions.  Targets already use this containment idiom, but make it much more
	complicated because they un-nest using embedded "void *" pointers
	... in chains of up to five per target, which is all pure needless
	complication.  (Example: arm92x core, arm9tdmi, arm7_9, armv4_5 ...
	on top of the base "target" class.) Applying this scheme consistently simplifies things, and gets rid of
	many error-prone untyped pointers.  It won't change any part of the
	type model though -- it just simplifies things.  (And facilitates
	more cleanup later on.) Rule of thumb:  where there's an X->arch_info void* pointer, access
	to that pointer can and should be removed.  It may be convenient to
	set up pointers to some of the embedded structs; and shrink their
	current "*_common" names (annoyingly long).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm7tdmi.c, src/target/arm7tdmi.h: ARM7TDMI: remove
	forward decls The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also shrink a few overly-long lines with function declarations or
	definitions;  get rid of arm7tdmi_register_commands(), it's not
	needed (just delegated); minor whitespace declutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm720t.c: ARM720: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	all functions static.  Add a short header comment.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Remove unneeded indirection for the write_memory() method.  Make a
	table static, remove a can't-happen case with nasty exit().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/fa526.c: FA526: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm9tdmi.c, src/target/arm9tdmi.h: ARM9TDMI: remove
	forward decls The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also shrink a few overly-long lines with function declarations or
	definitions.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm966e.c, src/target/arm966e.h: ARM966: remove exports
	and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also remove needless arm966e_init_target(), in favor of the arm9tdmi
	routine to which it delegates its work.  This saved over 100 bytes of code on x86_32.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm926ejs.c: ARM926: more cleanup An init_target() wrapper isn't needed, and target_create() can
	shrink a bit.  Add a header comment and some doxygen.  Remove arm926ejs_catch_broken_irscan() which has been a NOP for
	quite a few months now, and in any case duplicates logic in the JTAG
	core to validate IR capture data.  But force the capture mask to
	0x0f, so those tests are most effective.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm920t.c, src/target/arm920t.h: ARM920: remove exports
	and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  Add a short header comment.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  This saved almost 900 bytes of code on x86_32; it seems the compiler
	can leverage its knowledge that these functions are not called from
	the outside world...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9xpec.c: Improve str9xpec command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str9x.c: Improve str9x config command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/str7x.c: Improve str7x config command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stm32x.c: Improve stm32x.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/stellaris.c: Improve stellaris.c erase argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/pic32mx.c: Improve pic32mx.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/mflash.c: Improve mflash.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc3180_nand_controller.c: Improve
	lpc3180_nand_controller.c parsing.  This fixes a memory leak in lpc3180_nand_device_command by
	reordering the malloc to occur after all parsing has completed.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2900.c: Improve lpc2900.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc288x.c: Improve lpc288x.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/lpc2000.c: Improve lpc2000.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/cfi.c: Improve cfi.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/avrf.c: Improve avrf.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/orion_nand.c: Improve orion_nand.c command argument
	parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/davinci_nand.c: Improve davinci_nand.c command argument
	parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam7.c: Improve at91sam7.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/at91sam3.c: Improve at91sam3.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/nand.c: Improve nand.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c: Improve flash.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* src/flash/flash.c, src/flash/flash.h, src/flash/nand.c,
	src/flash/nand.h: Add Flash/NAND bank command argument helpers.  This eliminates redundant code for parsing and retreiving the bank
	specified from a script command argument.  This patch was written to
	replace existing functionality; however, the parsing logic can be
	updated later to allow flash commands to accept bank names as well
	as their numbers.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm.c: Improve ETM tracemode update command.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/target/etm.c: Improve etm command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/trace.c: Improve trace command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm_adi_v5.c: Improve arm_adi_v5 command argument
	parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/cortex_m3.c: Improve cortex_m3 command argument
	parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c: Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm11.c: Improve arm11 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm966e.c: Improve arm966e command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm926ejs.c: Improve arm926ejs command argument
	parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm920t.c: Improve arm920t command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm720t.c: Improve arm720t command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/target/arm7_9_common.c: Improve arm7_9_common command argument
	parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7m.c: Improve armv7m command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv7a.c: Improve armv7a command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/armv4_5.c: Improve armv4_5 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/target/xscale.c: Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/pld/pld.c, src/pld/virtex2.c: Improve pld command argument
	parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/server/gdb_server.c, src/server/tcl_server.c,
	src/server/telnet_server.c: Update all server port command to use
	new helper.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* src/server/server.c, src/server/server.h: Add server port command
	helper function.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/target/target.c: Improve target.c command argument parsing.  Passes cmd_ctx into parse_load_image_command_args for reporting the
	parsing errors therein.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/jtag/amt_jtagaccel.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/parport.c, src/jtag/tcl.c, src/jtag/vsllink.c: Improve jtag
	command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/helper/log.c: Improve debug_level command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/helper/command.h: Add macro for parsing numeric command
	arguments.  This helper eliminates significant amount of redundant code in
	command handler functions throughout the system.  It wraps the
	lower-level parse_* macros to implement a policy for reporting parse
	errors to the active command context (cmd_ctx).  If errors do occur,
	this macro causes the calling function to abort with the proper
	return code.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* src/helper/types.h: Add stringify macros in src/helper/types.h.

2009-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm920t.c: arm920t: add mrcmcr interface fn's.  The arm920t has a concept of read modify write cycles that may have
	to be represented in the mrcmcr interface eventually.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c: arm11: check if target is halted before
	executing mrc/mcr commands.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: fix ordering of arguments to mcr and
	mrc commands Now matches machine code syntax and old arm11 syntax.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: check args to mrc/mcr.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO, src/target/arm11.c: ARM11: added mrc/mcr support to arm11
	code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO: TODO: Wrote up list of remaining tasks for
	target->type->mrc/mcr Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: target: Only register mrc mcr commands when
	one of the targets support them.  This avoids polluting help for targets that can never support
	mrc/mcr Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_a8.c: cortex_a8: add mrc mcr interface.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: TAP setup tweakage Highlight that the "-expected-id" probably comes from vendor
	documentation, and that it *should* be used where possible.  Don't use ircapture/irmask in examples, to help discourage use of
	those params when they're not required.  Explain a bit better about
	why/when those params get used.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_m3.c, src/target/target.c: watchpoint_add()
	cleanup Fail watchpoint_add() if it's the same address but the parameters
	are different ... don't just assume having the same address means
	the same watchpoint!  (Note that overlapping watchpoints aren't
	detected...) Handle unrecognized return codes more sanely; don't exit()! And
	describe command params right.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: Cortex-M3: expose
	most DWT registers Expose most DWT registers via Tcl; there are a few more, but those
	are mostly for profiling along with the ITM.  Having this set
	available enables operations which aren't possible with just the
	standard watchpoint operations.  The cycle counter may be interesting.  Turn it on after reset by
	setting the LSB of the dwt_ctrl register, and it counts CPU clocks.
	You can program the comparator 0 watchpoint to trigger on a given
	cycle count, rather than a data address.  Likewise, comparator 1 may be able to match data values given
	address matches from one or two other comparators.  (Not all
	hardware supports this capability though; try it.  That is something
	the standard watchpoint methods should eventually handle, for the
	single address case.) Minor cleanup:  remove needless functional indirection for exposing
	the v7m architctural registers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: Cortex-M3: minor
	cleanup There's no reason to read which interrupts are enabled from the
	NVIC; that state isn't used.  Plus, it's highly dynamic since
	firmware can change it at any time; remove the support for those
	state records.  Remove duplicate definition of DWT_CTRL address; shrink a line.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c: Cortex-M3: DWT cleanup/fixes Fix the watchpoint error checks, and do them in add(), not later in
	set() when it's mostly too late.  Support the full range of
	watchpoint sizes (1 to 32K bytes each), and check alignments.  Minor cleanup of DWT access:  shrink lines, use "+" for address
	calculations, comment a few issues.  Add debug message reporting DWT
	capabilities, matching the message for FBP, and some minor code and
	spec review comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/armv7m.c, src/target/armv7m.h: ARMv7M: add docs, remove
	exports Add Doxygen for the exported ARMv7-M interfaces.  Make the non-exported stuff static.  Remove functions and data which
	are now observably unused.  Add comment about a small speedup that the run_algorithm() logic
	could use.  Shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/cortex_m3.c, src/target/target.c,
	src/target/target_type.h: target: add target->type->has_mmu fn.  improve default target->read/write_phys_memory, produce more
	sensible error messages if the mmu interface functions have not been
	implemented yet vs. will not be implemented(e.g. cortex m3).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: Make default implementation of mdw/mmw phys
	return error 'not implemented'

2009-10-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/fa526.c, src/target/feroceon.c,
	src/target/mips_m4k.c, src/target/target_type.h,
	src/target/xscale.c: target: remove unused interface fn that
	clutters code The quit entry point was not being invoked. Just a source of
	confusion at this point. XScale ran 100x reset upon quit, but that
	code made no sense, wasn't commented and never invoke.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/target/armv7a.h,
	src/target/armv7m.h, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/fa526.c: debug interface: get rid
	of unused pre_debug fn Removing unused code makes it much less mysterius.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: warnings: remove Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/ft2232.c: ft2232: cleanup Previous patch somehow made GCC lose some of its cookies; work
	around, zero-init that struct.  Clean up code from the previous patch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  Krzysztof Kajstura <support@kristech.eu>

	* NEWS, src/jtag/ft2232.c, tcl/interface/kt-link.cfg: JTAG: support
	KT-LINK adapter Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/lubbock.cfg: PXA255: support Intel "Lubbock" platform Config for Intel's "Lubbock" PXA255 development board.  Even more so
	than the PXA255 itself, this is obsolete.  AFAIK this was the first
	generally available development platform for PXA255.  Intel stopped
	providing these after other devel boards became available.  One interesting thing about this board from the OpenOCD perspective
	is probably its flash configuration.  Each bank is 32 bits wide,
	built from two 16-bit StrataFlash chips wired in parallel.  This
	doubles throughput ... it reads/writes 32 bits in the time a single
	chip takes to write just 16 bits.  This conf mostly works, given XScale bugfixes, but has some issues
	(notably: no access to the on-board SDRAM) flagged by FIXMEs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, NEWS-0.3.0, configure.in: Version 0.4.0-dev Add "-dev" tag.  Update minor version number.  Archive old NEWS
	file, start a new one.

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in: Version 0.3.0 Remove -dev tag, remove -rc tag.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/release.txt: Release docs: fix notes We currently do something unusual:  version codes in config.in get
	updated after the release, which means that "git describe" won't
	match up to development version labels.  Comment that trouble spot.  We can fix this by switching away from the major/minor/micro type
	release numbering, as various other projects have done.  The major
	numbers basically don't tend to change, and doing a good job with
	micro versions is so annoying that they rarely change either.

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/release.txt: Doc: fix broken link Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: mention switch to git!

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/release.txt, tools/release.sh: Other files: stop
	referring to ChangeLog too The ChangeLog idiom is redundant given any decent SCM.  Time to
	phase it out here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS refs repository history, not ChangeLog Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* doc/manual/release.txt: Tweak release docs Contrast releases to git snapshot tarballs.  Mention that releases
	have some quality-improvement focus, with special non-"dev" version
	IDs.  Explain more about version IDs, using "openocd -v" to see
	them, etc; Make release milestone info be less specific about timing, and
	presume we have both a merge window and an RC stage.  Rework the release process information to match reality a bit more
	closely.  Reference the version.sh script (in one place the wrong
	script was referenced).  Bugfix branches get special treatment,
	while non-bugfix releases are more or less what *defines* being the
	mainline branch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* tools/release.sh, tools/release/version.sh: Release scripts:
	comments, run on Ubuntu The "source" command isn't accepted by ASH; easy to fix.  Failures
	with "-e" are harder to fix.  Remove the "-e" (for now) and force
	bash, for safety.  Un-obfuscate the release steps, by using names instead of numbers.
	Comment the version-number manipulation.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* configure.in: configure: fix build problems with eCos Various include files require some other include files to be
	included first. Copied solution from net/if.h.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* BUGS: docs: add reference to git bisect docs on BUGS page Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm7_9_common.c: target: 20 second timeout/megabyte for
	CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm920t.c: arm920t: memory writes were broken when MMU
	was disabled To support breakpoints, flush data cache line and invalidate
	instruction cache when 4 and 2 byte words are written.  The previous code was trying to write directly to the physical
	memory, which was buggy and had a number of other situations that
	were not handled.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c, src/target/target.h: target: require working
	area for physical/virtual addresses to be specified Fixed bug: if virtual address for working memory was not specified
	and MMU was enabled, then address 0 would be used.  Require working address to be specified for both MMU enabled and
	disabled case.  For some completely inexplicable reason this fixes the regression in
	svn 2646 for flash write in arm926ejs target. The logs showed that
	MMU was disabled in the case below:
	https://lists.berlios.de/pipermail/openocd-development/2009-November/011882.htmlSigned-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-30  Dimitar Dimitrov <dinuxbg@gmail.com>

	* src/jtag/ft2232.c: FT2232: increase read retry counts This change is necessary to debug AT91SAM9260 on my PC with a
	FT2232H dongle.  Signed-off-by: Dimitar Dimitrov <dinuxbg@gmail.com> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-11-01  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: User's Guide: more init info, autoprobing, etc Mention the autoprobing as a tool that may be useful when figuring
	out how to set up; and add a section showing how to use that
	mechanism (with an example).  Strengthen the differences between config and run stage
	descriptions; add a section for the latter.  Mention Dragonite.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-01  David Brownell <dbrownell@users.sourceforge.net>

	* Doxyfile.in: doxygen: avoid most internals For some reason, all the interals are documented by default.  This
	is wrong for two basic reasons:  - We need to focus on public interfaces, since those are    the architectural interfaces and relationships.   - Since virtually nothing has doxygen support yet, this  
	    maximizes the noise, and minimizes the usefulness of doxygen
	output.  So don't expose so much by default.

2009-11-01  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/stm32.cfg: remove "-ircapture 0x1 -irmask 0x1" from
	stm32.cfg Gets rid of the runtime warning "stm32.bs: nonstandard IR mask" [dbrownell@users.sourceforge.net: line lengths, note issue, section
	ref] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-31  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm9tdmi.c: arm9tdmi: more correct fix for vector_catch Just use the array of names we're given, ignoring indices.  The
	"reserved means don't use" patch missed that change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  Freddie Chopin <freddie_chopin@op.pl>

	* tcl/target/at91r40008.cfg, tcl/target/epc9301.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg,
	tcl/target/smdk6410.cfg, tcl/target/stm32.cfg,
	tcl/target/xba_revA3.cfg: target.cfg: use $_TARGETNAME for flash This gets rid of runtime warnings from the use of numbers.  STM32
	and LPC2103 were tested.  Other LPC updates are the same, and so are
	safe.  The CFI updates match other tested changes now in the tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS: NEWS: more info There were a few more changes worth mentioning, including support
	for more JTAG adapters, boundary scan improvements, another NAND
	driver, and the Win64 stuff.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm926ejs.c: ARM926: fix arm926ejs_mmu() reading from
	bad pointer I'm suspecting this code can never have worked, since the original
	commit (svn #335) in early 2008.  Fix is just copy/paste from another (working) function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  Spencer Oliver <ntfreak@users.sourceforge.net>

	* src/helper/bin2char.c: bin2char: for win32 set stdin/stdout to
	binary mode Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-10-29  Michael Roth <mroth@nessie.de>

	* src/svf/svf.c: SVF: fix checking bit pattern against length The code works like follow (N = bit_len): 	N	-1	%4	2<<	-1	~ (binary) 	-------------------------------------------------- 	1	0	0	2	1	1111 1110 	2	1	1	4	3	1111 1100 	3	2	2	8	7	1111 1000 	4	3	3	16	15	1111 0000 	5	4	0	2	1	1111 1110 	6	5	1	4	3	1111 1100 	7	6	2	8	7	1111 1000 	8	7	3	16	15	1111 0000 	...	...	...	...	...	...  Addresses a bug reported by FangfangLi <ffli@syntest.com.cn>.  [dbrownell@users.sourceforge.net: fix spelling bug too] Signed-off-by: Michael Roth <mroth@nessie.de> Cc: FangfangLi
	<ffli@syntest.com.cn> Signed-off-by: David Brownell
	<dbrownell@users.sourceforge.net>

2009-10-29  Dimitar Dimitrov <dinuxbg@gmail.com>

	* tcl/interface/olimex-arm-usb-ocd-h.cfg,
	tcl/interface/olimex-arm-usb-tiny-h.cfg: Olimex FT2232H JTAG
	adapters Add interface configs for two new high speed JTAG adapters from
	Olimex.  They need some other speed related tweaks to work well at
	high speed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  David Brownell <dbrownell@users.sourceforge.net>

	* src/xsvf/xsvf.c: XSVF: bugfix handling state paths Implement XSVF support for detailed state path transitions, by
	collecting sequences of XSTATE transitions into paths and then
	calling pathmove().  It seems that the Xilinx tools want to force state-by-state
	transitions instead of relying on the standardized SVF paths.  Like
	maybe there are XSVF tools not implementing SVF paths, which are all
	that we support using svf_statemove().  So from IRPAUSE, instead of just issuing "XSTATE DRPAUSE" they will
	issue XSTATES for each intermediate state: first IREXIT2, then
	IRUPDATE, DRSELECT, DRCAPTURE, DREXIT1, and finally DRPAUSE.  This
	works now.  Handling of paths that go *through* reset is a trifle dodgey, but it
	should be safe.  Tested-by: Wookey <wookey@wookware.org> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Zachary T Welch <zw@superlucidity.net>

	* configure.in: Bump rc version and add -dev tag.  Bump rc package version number: 0.3.0-rc0 -> 0.3.0-rc1 Add '-dev'
	version tag: 0.3.0-rc1 -> 0.3.0-rc1-dev

2009-10-28  Zachary T Welch <zw@superlucidity.net>

	* configure.in: The openocd 0.3.0-rc0 release.  Remove '-dev' version tag: 0.3.0-rc0-dev -> 0.3.0-rc0

2009-10-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: Cortex-M3: remove
	exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static, and fix some line-too-long issues.  Delete
	some now-obviously-unused code.  The forward decls are just code clutter; move their references
	later, after the normal declarations.  (Or vice versa.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm926ejs.c: ARM926: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Only
	the Feroceon code builds on this, so only routines it reuses should
	be public..  Make most remaining functions static, and fix some of
	the line-too-long issues.  The forward decls are just code clutter; move their references
	later, after the normal declarations.  Turns out we don't need even
	one forward declaration in this file.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Franck HÉRÉSON <franck.hereson@secad.fr>

	* src/target/image.c, src/target/image.h: bugfix: stack corruption
	loading IHex images The Hex parser uses a fixed number of sections.  When the number of
	sections in the file is greater than that, the stack get corrupted
	and a CHECKSUM ERROR is detected which is very confusing.  This checks the number of sections read, and increases
	IMAGE_MAX_SECTIONS so it works on my file.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* tools/release/test.sh: Add script to test the release process.  Runs the release.sh script in a freshly cloned repository, charting
	one hypothetical future of OpenOCD's lineage.

2009-10-20  Zachary T Welch <zw@superlucidity.net>

	* doc/manual/release.txt, tools/release.sh: Rewrite release script
	to use GIT.  Update documentation to reflect GIT methodology.  Rewrite release.sh
	script to use appropriate process.  With this update,
	tools/release.sh can be used for producing private release tags on
	local branches.  The documentation still needs work, but their use
	for v0.3.x should help rectify the deficiences.

2009-10-20  Zachary T Welch <zw@superlucidity.net>

	* tools/release/version.sh: Factor version munging capabilities out
	of release.sh.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* tools/release/helpers.sh: Factor release version functions into
	new script.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* .gitmodules, tools/git2cl: Add git2cl from repo.or.cz as a
	submodule in tools/git2cl.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* .gitignore: Improve .gitignore rules.  A '.*' rule prevents the 'git submodule add' from correctly adding
	the first submodule, because it creates the .gitmodule file.  This
	file will not be added (without -f) result in incomplete submodule
	commits.  The new rules mask the specific files present in my own
	build tree, but additional rules may be needed to hide other types
	of temporary files.

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_simulator.c: ARM: fix single-step of Thumb
	unconditional branch Only type 1 branch instruction has a condition code, not type 2.
	Currently they're both tagged with ARM_B which doesn't allow for the
	distinction.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_disassembler.c: ARM: fix target address when
	disassembling Thumb BLX A Thumb BLX instruction is branching to ARM code, and therefore the
	first 2 bits of the target address must be cleared.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Oleg Seiljus <oleg@signalyzer.com>

	* src/jtag/ft2232.c, tcl/interface/signalyzer.cfg: Signalyzer: H2
	and H4 support This patch includes partial support for these new JTAG adapters.
	More complete support will require updates to the libftdi code, for
	EEPROM access.  [dbrownell@users.sourceforge.net: fix whitespace, linelen, etc ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Oleg Seiljus <oleg@signalyzer.com>

	* tcl/interface/signalyzer-h2.cfg, tcl/interface/signalyzer-h4.cfg,
	tcl/interface/signalyzer-lite.cfg: Signalyzer: new config files Add configs for H2, H4, LITE.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_simulator.c: ARM: fix Thumb mode handling when
	single-stepping register based branch insns Currently, OpenOCD is always caching the PC value without the T bit.
	This means that assignment to the PC register must clear that bit
	and set the processor state to Thumb when it is set.  And when the
	PC register value is transferred to another register or stored into
	memory then the T bit must be restored.  Discussion: It is arguable if OpenOCd should have preserved the
	original PC value which would have greatly simplified this code.
	The processor state could then be obtained simply by getting at bit
	0 of the PC.  This however would require special handling elsewhere
	instead since the T bit is not always relevant (like when PC is used
	with ALU insns or as an index with some addressing modes).  It is
	unclear which way would be simpler in the end.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_simulator.c: ARM: allow proper single stepping of
	Thumb BL and BLX instructions Whenever an unconditional branch with the H bits set to 0b10 is met,
	the offset must be combined with the offset from the following
	opcode and not ignored like it is now.  A comment in evaluate_b_bl_blx_thumb() suggests that the Thumb2
	decoder would be a simpler solution.  That might be true when
	single-stepping of Thumb2 code is implemented.  But for now this
	appears to be the simplest solution to fix Thumb1 support.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_simulator.c: ARM: call
	thumb_pass_branch_condition() only for actual branch opcodes Calling it first with every opcodes and then testing if the opcode
	was indeed a branch instruction is wasteful and rather strange.  If
	ever thumb_pass_branch_condition() has side effects (say, like
	printing a debugging traces) then the result would be garbage for
	most Thumb instructions which have no condition code.  While at it, let's make the nearby code more readable by reducing
	some of the redundant brace noise and reworking the error handling
	construct.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/ft2232.c: ft2232: less noise with _DEBUG_JTAG_IO_ Don't log "Yes, I'm *still* in TAP_IDLE" every seven runtest clocks.

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/tcl.c: JTAG: "jtag newtap ..." cleanup Get rid of needless variable, improve and shrink diagnostic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/pxa255.cfg: PXA255: force reset config These chips need both SRST and TRST when debugging, and SRST doesn't
	gate JTAG.

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap3530.cfg: omap3530: target reset/init improvements Now I can issue "reset halt" and have everything act smoothly; the
	vector_catch hardware is obviously not kicking in, but the rest of
	the reset sequence acts sanely.   - TAP "setup" event enables the DAP, not omap3_dbginit    (resolving a chicken/egg bug I noted a while back)  - Remove stuff from omap3_dbginit which should never be    used in event handlers  - Cope better with slow clocking during reset Also, stop hard-wiring the target name: use the input params in the
	standard way, and set up $_TARGETNAME as an output param.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/arm_adi_v5.c: ARM ADIv5: "dap info" gets more readable Make the "dap info" output more comprehensible:  - Don't show CIDs unless they're incorrect (only four bits matter)  - For CoreSight parts, interpret the part type  - Interpret the part number  - Show all five PID bytes together  - Other minor cleanups Also some whitespace fixes, and shrink a few overlong source lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* tcl/test/selftest.cfg,
	testing/examples/AT91R40008Test/test_ram.hex,
	testing/examples/AT91R40008Test/test_ram.map,
	testing/examples/LPC2148Test/test_ram.hex,
	testing/examples/LPC2148Test/test_ram.map,
	testing/examples/LPC2148Test/test_rom.hex,
	testing/examples/LPC2148Test/test_rom.map,
	testing/examples/LPC2294Test/test_ram.hex,
	testing/examples/LPC2294Test/test_ram.map,
	testing/examples/LPC2294Test/test_rom.hex,
	testing/examples/LPC2294Test/test_rom.map,
	testing/examples/SAM7S256Test/test_ram.hex,
	testing/examples/SAM7S256Test/test_ram.map,
	testing/examples/SAM7S256Test/test_rom.hex,
	testing/examples/SAM7S256Test/test_rom.map,
	testing/examples/SAM7X256Test/test_ram.hex,
	testing/examples/SAM7X256Test/test_ram.map,
	testing/examples/SAM7X256Test/test_rom.hex,
	testing/examples/SAM7X256Test/test_rom.map,
	testing/examples/STR710JtagSpeed/test.hex,
	testing/examples/STR710JtagSpeed/test.map,
	testing/examples/STR710Test/test_ram.hex,
	testing/examples/STR710Test/test_ram.map,
	testing/examples/STR710Test/test_rom.hex,
	testing/examples/STR710Test/test_rom.map,
	testing/examples/STR912Test/test_ram.hex,
	testing/examples/STR912Test/test_ram.map,
	testing/examples/STR912Test/test_rom.hex,
	testing/examples/STR912Test/test_rom.map, testing/profile_stm32.txt: 
	Fix incorrect line endings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : commit eaebc6cd699bcf414dc307dc65354a9f991dba59 Author: Wookey
	<wookey@wookware.org> Date:   Mon Oct 26 17:06:05 2009 +0000

2009-10-26  Michael Roth <mroth@nessie.de>

	* src/svf/svf.c: SVF: fix parsing hex strings containing leading '0'
	characters Ignore leading '0' characters on hex strings.  For example a bit
	pattern consisting of 6 bits could be written as 3f, 03f or 003f and
	so on.  Signed-off-by: Michael Roth <mroth@nessie.de> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO: Idea for adding watchpoint masks.

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, src/jtag/core.c: JTAG: simple autoprobing This patch adds basic autoprobing support for the JTAG scan chains
	which cooperate.  To use, you can invoke OpenOCD with just:  - interface spec: "-f interface/...cfg"  - possibly with "-c 'reset_config ...'" for SRST/TRST  - possibly with "-c 'jtag_khz ...'" for the JTAG clock Then set up config files matching the reported TAPs.  It doesn't
	declare targets ... just TAPs.  So facilities above the JTAG and
	SVF/XSVF levels won't be available without a real config; this is
	almost purely a way to generate diagnostics.  Autoprobe was successful with most boards I tested, except ones
	incorporating C55x DSPs (which don't cooperate with this scheme for
	IR length autodetection).  Here's what one multi-TAP chip reported,
	with the "Warn:" prefixes removed:  clock speed 500 kHz  There are no enabled taps.  AUTO PROBING MIGHT NOT WORK!!  AUTO auto0.tap - use "jtag newtap auto0 tap -expected-id 0x2b900f0f
	 ..." AUTO auto1.tap - use "jtag newtap auto1 tap -expected-id
	 0x07926001 ..." AUTO auto2.tap - use "jtag newtap auto2 tap
	 -expected-id 0x0b73b02f ..." AUTO auto0.tap - use "... -irlen 4"  AUTO auto1.tap - use "... -irlen 4"  AUTO auto2.tap - use "... -irlen 6"  no gdb ports allocated as no target has been specified The patch tweaks IR setup a bit, so we can represent TAPs with
	undeclared IR length.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* TODO: minor fixes to TODO list

2009-10-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/atmel_at91sam9260-ek.cfg, tcl/board/mini2440.cfg,
	tcl/board/olimex_sam9_l9260.cfg, tcl/board/unknown_at91sam9260.cfg,
	tcl/target/davinci.cfg: fix syntax of mww phys.

2009-10-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm926ejs.c: check if mmu is enabled before using mmu
	code path

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, TODO, doc/openocd.texi, src/target/arm9tdmi.c: ARM: rename
	"arm9tdmi vector_catch" to "arm9 ..." And update doc accordingly.  That EmbeddedICE register was
	introduced for ARM9TDMI and then carried forward into most new chips
	that use EmbeddedICE.

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c: JTAG: jtag_tap_init() bugfixes Stop allocating three bytes per IR bit, and cope somewhat better
	with IR lengths over 32 bits.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c, src/target/xscale.h: xscale: always reload
	handler after reset Remove needless debug handler state.   - "handler_installed" became wrong as soon as the second TRST+SRST    reset was issued ... so the handler was never reloaded after the    reset removed it from the mini-icache.     This fixes the bug where subsequent resets fail on PXA255 (if the    first one even worked, which is uncommon).  Other XScale chips    would have problems too; PXA270 seems to have, IXP425 maybe not.   - "handler_running" was never tested; it's pointless.  Plus a related bugfix: invalidate OpenOCD's ARM register cache on
	reset.  It was no more valid than the XScale's mini-icache.  (Though
	... such invalidations might be better done in "SRST asserted"
	callbacks.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO: vector_catch and watchpoint TODO items.

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/target/arm9tdmi.c, src/target/arm9tdmi.h: 
	arm9tdmi vector_catch:  reserved means "don't use" Bit 5 shouldn't be used.  Remove all support for modifying it.
	Matches the exception vector table, of course ... more than one
	bootloader uses that non-vector to help distinguish valid boot
	images from random garbage in flash.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm9tdmi.c: Improve help for arm9 vector_catch.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: Remove debug output that could cause compile
	warnings.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm926ejs.c,
	src/target/armv4_5.h, src/target/target.c, src/target/target.h,
	src/target/target_type.h: mcr/mrc interface work. Implemented for
	arm926ejs and arm720t. mcr/mrc commands added.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/embeddedice.c: Embedded ICE version is now dumped with
	debug_level 1

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/interface.c, src/jtag/jtag.h, src/jtag/tcl.c: jtag: clean
	up TAP state name handling Some cosmetic cleanup, and switch to a single table mapping between
	state names and symbols (vs two routines which only share that state
	with difficulty).  Get rid of TAP_NUM_STATES, and some related knowledge about how TAP
	numbers are assigned.  Later on, this will help us get rid of more
	such hardwired knowlege.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, src/jtag/interface.c, src/jtag/interface.h,
	src/jtag/jtag.h, src/svf/svf.c: SVF: clean up, mostly for TAP state
	name handling  - Use the name mappings all the other code uses:     + name-to-state ... needed to add one special case     + state-to-name  - Improve various diagnostics:     + don't complain about a "valid" state when the issue       is actually that it must be "stable"     + say which command was affected  - Misc:     + make more private data and code be static     + use public DIM() not private dimof()     + shorten the affected lines Re the mappings, this means we're more generous in inputs we accept,
	since case won't matter.  Also our output diagnostics will be a
	smidgeon more informative, saying "RUN/IDLE" not just "IDLE"
	(emphasizing that there can be side effects).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Nicolas Pitre <nico@fluxnic.net>

	* src/target/feroceon.c: Ferocion: fix corruption of r0 when
	resuming Thumb mode The wrong variable (pc instead of r0) was used.  Furthermore,
	someone did cover this error by stupidly silencing the compiler
	warning that occurred before a dummy void reference to r0 was added
	to the code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/target.c: have "reg" command print cache names too When dumping over 100 registers (as on most ARM9 + ETM cores), aid
	readability by splitting them into logical groups.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in, doc/openocd.texi, src/target/etm.c: ETM: rename
	registers, doc tweaks The register names are perversely not documented as zero-indexed, so
	rename them to match that convention.  Also switch to lowercase
	suffixes and infix numbering, matching ETB and EmbeddedICE usage.  Update docs to be a bit more accurate, especially regarding what the
	"trigger" event can cause; and to split the issues into a few more
	paragraphs, for clarity.  Make "configure" helptext point out that "oocd_trace" is prototype
	hardware, not anything "real".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c: disable ZY1000's UART forwarding test code.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, tcl/board/atmel_at91sam9260-ek.cfg,
	tcl/board/mini2440.cfg, tcl/board/olimex_sam9_l9260.cfg,
	tcl/board/unknown_at91sam9260.cfg, tcl/target/davinci.cfg: mww_phys
	retired. Replaced by generic mww phys in target.c

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi: virt2phys is now implemented by target.c
	globally, retire target specific documentation.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c,
	src/target/armv4_5_mmu.h: retire obsolete mXY_phys commands. Handled
	by generic memory read/modify commands and target read/write
	physical memory callbacks.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c: read/write physical
	target fn's

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm926ejs.c: add support for
	target_read/write_phys_memory callbacks.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/target.c, src/target/target_type.h: 
	Added target_read/write_phys_memory() fn's. mdX/mwX commands updated
	to support phys flag to specify bypassing of MMU.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : commit 69a6037ce6e76dca4117689208358231dffa0929 Author: Øyvind
	Harboe <oyvind.harboe@zylin.com> Date:   Wed Oct 21 13:10:32 2009
	+0200

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5_mmu.c: Retire obsolete
	and superfluous implementations of virt2phys in each target. This is
	done in a polymorphic implementation in target.c

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm926ejs.c: First cut at implementing software
	breakpoints for mmu read only memory

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.h: Defined target_write_memory() to be able to
	handle implementing breakpoints for read only ram(e.g. MMU write
	protected.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/ecosboard.c, src/helper/types.h: eCos synthetic target
	updates.

2009-10-20  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/jtag.h, src/svf/svf.c, src/svf/svf.h,
	src/xsvf/Makefile.am, src/xsvf/xsvf.c: XSVF: use svf_add_statemove() XSVF improvements:  - Layer parts of XSVF directly over SVF, calling
	   svf_add_statemove() instead of expecting jtag_add_statemove() to
	   conform to the SVF/XSVF requirements (which it doesn't).     This should improve XSTATE handling a lot; it removes most users
	   of jtag_add_statemove(), and the comments about how it should
	   really do what svf_add_statemove() does.   - Update XSTATE logic to be a closer match to the XSVF spec.  The
	   main open issue here is (still) that this implementation doesn't
	   know how to build and submit paths from single-state transitions ...
	   but now it will report that error case.   - Update the User's Guide to mention the two utility scripts for    working with XSVF, and to mention the five extension opcodes.  Handling of state transition paths is, overall, still a mess.  I
	think they should all be specified as paths not unlike SVF uses, and
	compiled to the bitstrings later ... so that we can actually make
	sense of the paths.  (And see the extra clocks, detours through RUN,
	etc.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO, src/jtag/minidriver.h, src/jtag/minidummy/minidummy.c,
	src/jtag/zy1000/zy1000.c: Removed unused
	interface_jtag_set_end_state and wrote down some notes on TCP/IP
	client/server scheme.

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/Makefile.am, src/flash/ecos.c, src/flash/faux.c,
	src/flash/flash.c, tcl/target/faux.cfg: Added the faux flash driver
	and target. Used for testing.

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/flash/flash.c: Added 'unlock' option to
	flash write_image

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/jtag/zy1000/zy1000.c: More svn to git version string fixes.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/svf/svf.c: SVF: better spec conformance for STATE switch Don't add extra TCK in current state; exit from RESET had four
	extras.  Only IDLE --> IDLE needs such an extra clock.  (At least
	one TCK must be issued.) Allow entry to RESET; SVF allows it, so must we (despite those
	entries being commented out of the statemove table).  When entering RESET, always use TLR ... we might end up with extra
	clocks in reset that way, which is harmless, but we'll never end up
	in any other state than RESET, which is useful paranoia.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/davinci.cfg: davinci: add watchdog reset method Lightly tested on dm365.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c: jtag_add_statemove() always uses TLR to get to
	RESET As decided a while back, this isn't a transition we want to chance.
	Whenever someone wants to got to RESET, force it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* src/svf/svf.c, src/xsvf/xsvf.c: SVF/XSVF: comment and whitespace
	fixes SVF: comment the predefined/default paths; make them static const SVF, XSVF: whitespace fixes, mostly so copyrights display sanely Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  Zachary T Welch <zw@superlucidity.net>

	* src/target/Makefile.am: Improve Makefile rules for XScale debug
	handler; fixes 'make distcheck'.

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* configure.in: MinGW: always use "-D__USE_MINGW_ANSI_STDIO" This is unfortunately needed to make stdio work like OpenOCD expects
	-- matching the ANSI-C standard, instead of MS-Windows.  I tested it in both MinGW-W64 on Vista 64 and MinGW-W32 on XP, and I
	don't see any adverse effects to enabling it for all MinGW versions.

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* src/Makefile.am: MinGW: use WinSock2 After reading a bit further, it appears that ws2_32 (Windows Sockets
	2) is included in all versions of Windows and backwards compatible
	with wsock32, at least according to  http://msdn.microsoft.com/en-us/library/ms740673%28VS.85%29.aspx.  Only Win95 seems to require a manual installation; is not a big
	deal.  So I think we can drop this whole business of detecting 64 bit MinGW
	and just use -lws2_32 for all MinGW platforms.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: Doc: jtag_init must validate scan chain too Same requirement as like init_reset, and for the same reason: we
	need to start with a known and working state.

2009-10-19  Nicolas Pitre <nico@fluxnic.net>

	* src/target/arm_simulator.c: fix single step of bx instruction
	going into Thumb mode Without this fix, the following code cannot be single stepped: 	add	ip, pc, #1 	bx	ip 	[thumb code here]

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* .gitignore: Ignore openocd.exe for "git status"

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* src/helper/command.h, src/helper/log.h: corrective fix for MinGW
	GNU C99 printf compliance Compilation on cygwin, using gcc v3 with option -mno-cygwin,
	currently produces a large number of the following warnings:    warning: `gnu_printf' is an unrecognized format function type These have been introduced with the recent MinGW GNU C99 printf
	compliance patch, as gnu_printf was only introduced with gcc v4.4
	and is not recognized with earlier versions.  The attached fix adds gcc version detection to the previous patch to
	avoid the problem.

2009-10-19  oyvind <oyvind@titan.(none)>

	* src/helper/jim-eventloop.c, src/helper/jim.c, src/helper/jim.h: 
	Sync with official Jim Tcl repository.

2009-10-19  oyvind <oyvind@titan.(none)>

	* src/jtag/zy1000/zy1000.c: Switch from svn to git version string
	handling.

2009-10-18  Dean Glazeski <dnglaze@gmail.com>

	* tcl/board/olimex_sam9_l9260.cfg: SDRAM and clock configuration for
	the SAM9-L9260 board from Olimex

2009-10-17  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* src/helper/replacements.c: safer conversion to HANDLER on
	MinGW-W64 Assign to "intptr_t", which on some versions of MS-Windows will
	widen the variable; then cast to HANDLE.

2009-10-17  David Brownell <dbrownell@users.sourceforge.net>

	* .gitignore: Ignore two more generated files On Windows the name is "bin2char.exe".  All operating systems now
	have "xscale_handler.h".

2009-10-17  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* src/helper/command.h, src/helper/log.h, src/target/arm11.h: More
	MinGW C99 printf compliance Passing "--std=gun99" is unfortunately not sufficient to make
	current MinGW compilers conform with respect to checking printf
	format strings.  (The C runtime seems not to have problems.) Fix by using a "gnu_printf" format specifier not "printf".

2009-10-17  Redirect \"Slash\" NIL <redirect.slash.nil@gmail.com>

	* src/helper/jim-eventloop.c, src/helper/jim.h: jim-eventloop for
	MinGW-w64 Use JIM_WIDE_MODIFIER for the sscanf format, and apply it for
	MINGW32 as well as other Windows environments.  (Microsoft doesn't
	conform to the C99 standard, and uses "%I64d" not "%lld" for "long
	long".) NB: __MINGW32__ should work on both w32 and w64,.

2009-10-17  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/Makefile.am: build tweak for bin2char Work better when building outside the source tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-16  David Brownell <dbrownell@users.sourceforge.net>

	* configure.in, src/helper/Makefile.am, src/target/Makefile.am,
	src/target/xscale.c, src/target/xscale.h, src/target/xscale_debug.S: 
	xscale: better fix for debug_handler.bin Generate a C struct with the data, and use that, instead of an
	assembly language file.  The assembly language causes issues on
	Darwin and MS-Windows, which don't necessarily use GNU AS; or if
	they do, don't necessarily use its ELF syntax.  It's also better in two other ways:  fewer global symbols; and the
	init-time size check gets optimized away at compile time.  (Unless
	it fails, in which case bigger chunks of the file vanish.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/mflash.c: another portability update Just use "%p" instead of consing up some integral type for pointer
	printf.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* src/helper/jim.c, src/jtag/core.c, src/target/arm11.c,
	src/target/armv4_5.h: portability updates Based on some patches from <redirect.slash.nil@gmail.com> for
	preliminary Win64 compilation.  More such updates are needed, but
	they need work.  Compile tested on 64 and 32 bit Linuxes, and
	Cygwin.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/helper/startup.tcl: doc updates to match
	"help" better This makes the documentation a closer match to "help" output:  - "pathmove" somehow was not documented in the User's Guide  - "jtag_nsrst_assert_width" and "jtag_ntrst_assert_width"    are new; both needed descriptions.   - Removed two undocumented and fairly useless script mechanisms:     * production/production_info/production_test ... using it,       requires replacing everything; so having it adds no value.      * cpu ... way out of date; hopeless to keep that current Note that anyone using that "production" stuff already defines their
	own procedures, and can keep using them with no change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  Wookey <wookey@wookware.org>

	* tcl/board/openrd.cfg, tcl/interface/openrd.cfg: Fw: [PATCH] OpenRD
	board configuration Ofrwarded from Ron, who's not subscribed.  ----- Forwarded message from Ron <ron@debian.org> ----- From: Ron <ron@debian.org> Date: Wed, 14 Oct 2009 04:50:17 +1030 To:
	wookey@debian.org Subject: [PATCH] OpenRD board configuration
	X-Spam-Status: No, score=-3.6 required=4.5
		tests=BAYES_00,RCVD_IN_DNSWL_LOW autolearn=ham version=3.2.5 This piggybacks on the 'sheevaplug' layout which uses the same
	Kirkwood SoC.  Signed-off-by: Ron Lee <ron@debian.org>

2009-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/flash/cfi.c: S29WS-N CFI query fix is to try 0x555 if 0x55
	fails.

2009-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c: Work in progress on arm11 reset. Assert srst.

2009-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/imx31pdk.cfg, tcl/board/imx35pdk.cfg,
	tcl/target/imx.cfg: iMX target config script's ported from Freescale
	BSP.

2009-10-14  David Brownell <david-b@pacbell.net>

	* src/target/Makefile.am: Fix problems building xscale_debug.S

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap2420.cfg: omap2420.cfg updates Remove ircapture/mask attributes.  Add "srst_nogate".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  Lennert Buytenhek <buytenh@wantstofly.org>

	* src/target/arm_disassembler.c: fix detection of PLD instructions Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  Lennert Buytenhek <buytenh@wantstofly.org>

	* src/target/arm_simulator.c: fix pass_condition() LE condition code
	check The LE check is obviously buggy (as easily triggered during some
	testing), but I didn't audit the rest of the cases.  Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/interface.c: cosmetic cleanup in TMS tables Cleanup comments and layout/whitespace in the TMS tables.  Table
	contents stayed the same (ignoring whitespace).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  Yauheni Kaliuta <y.kaliuta@gmail.com>

	* contrib/libdcc/dcc_stdio.c, contrib/libdcc/example.c,
	ecosflash/flash.c, src/flash/lpc2900.c, src/target/arm11.c,
	src/target/armv7a.c, src/target/cortex_a8.c: Cleanup: nuke trailling
	whitespaces Signed-off-by: Yauheni Kaliuta <y.kaliuta@gmail.com>

2009-10-11  Yauheni Kaliuta <y.kaliuta@gmail.com>

	* src/target/target.c: Do not replace virt2phys with the default one
	if it was assigned Signed-off-by: Yauheni Kaliuta <y.kaliuta@gmail.com>

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/server/gdb_server.c: Retired gdb_attach.
	gdb-detach event covers this functionality.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/types.h: Missing type for eCos.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: Fix warning.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* TODO, src/target/arm11.c, src/target/arm11.h: Delete commented out
	code. Add a bit of error checking.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/imx31.cfg, tcl/target/imx35.cfg: arm11 seems to gate
	JTAG when srst is asserted

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/target.c: Propagate error from assert, deassert and
	halt on tcl target object.

2009-10-13  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: xscale: stackframe corruption bugfix Resolve a "FIX" comment; yes that was superfluous given that the
	JTAG core does that check by default.  It was also buggy since it
	wrote to a stack frame that went away before the write happened!! Other fixes:  remove pointless malloc(); zero-init scan_field_t
	values wherever they appear; whitespace scrub; spelling fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c, src/target/arm11_dbgtap.c: More error
	propagation fixes.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/arm11.c: arm11 burst writes are now
	only enabled for writes larger than 1 word. Single word writes are
	frequently used from reset init scripts to non-memory peripherals.

2009-10-12  Wookey <wookey@wookware.org>

	* tcl/cpld/xilinx-xcr3256.cfg: Xilinx xcr3256.cfg basic config
	script

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* doc/openocd.texi, src/target/arm11.c: Retire arm11 no_increment.
	Intended for future expansion to read/write to ports. New arm11
	commands would have to be added to exploit it.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c: Propagate wDTR/rDTR failure immediately,
	otherwise it's followed up by timeout errors.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: Fix warning and improve error message
	upon burst transfer failure

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/board/imx35pdk.cfg: burst writes work fine. clean up junk.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11_dbgtap.c: Fix bogus 'transfer errors' with arm11
	'memwrite burst enable'. A regression introduced in
	b8103660fa36a77158bd77379572c09913d85c00

2009-10-12  David Brownell <dbrownell@users.sourceforge.net>

	* TODO, configure.in, src/target/Makefile.am, src/target/xscale.c,
	src/target/xscale.h, src/target/xscale_debug.S: simplify XScale
	debug handler installation Load the XScale debug handler from the read-only data section
	instead of from a separate file that can get lost or garbaged.  This
	eliminates installation and versioning issues, and also speeds up
	reset handling a bit.  Plus some minor bits of cleanup related to loading that handler:
	comments about just what this handler does, and check fault codes
	while writing it into the mini-icache.  The only behavioral changes should be cleaner failure modes after
	errors during handler loading, and being a bit faster.  NOTE:  presumes GNU assembly syntax, with ".incbin"; and ELF,
	because of the syntax of the ".size" directive.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c, src/target/xscale.h: more xscale cleanup
	(mostly removing JTAG hooks) Streamline/shrink some needless JTAG stuff:  - Use #defines for the JTAG instructions; they can't ever change  - Remove an unused (!) shadow of tap->ir_length  - Stop using a copy of target->tap  - Don't bother saving the variant after sanity checking ir_length Also, make target_create() work as on other targets:  build the
	register cache later, making init_target() no longer be a NOP.
	Handle malloc failure; remove a comment that was obsoleted by the
	not-so-new target syntax.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge commit 'origin/master'

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* tcl/target/imx31.cfg, tcl/target/imx35.cfg: Supply default
	reset_config statement to make target scripts useful standalone and
	provide sensible default

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: xscale_load_ic cleanup Remove unused and deprecated (in the arch spec) mode for loading
	code into the *main* icache (vs the "mini" icache).  Disable some
	extremely noisy (and rarely useful) low-level debug messages Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: xscale.c cleanup Declare almost everything as static.  Move stuff to remove most
	forward references.  Remove most forward declarations.  Warn if the
	unimplemented register functions get called.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: xscale bugfix to handler loading Just fill out the rest of the cache line with NOPs; don't change the
	record of how much data we consumed.  Otherwise the count of how
	much data is left can roll over from positive to negative ("VERY
	positive") and skip the loop termination of zero.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* src/target/xscale.c: xscale minor cleanup Add a header comment referencing useful XScale specs.  Make most
	data static, and the tables readonly.  Scrub extra blank lines.
	Return fault codes from one routine.  Remove a needless NOP methood.  (BUGFIX) When we update R0, mark R0 as dirty/valid ... not R15/PC! Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* src/flash/flash.c, src/flash/lpc2900.c, src/flash/mx3_nand.c,
	src/jtag/core.c, src/target/arm11.c, src/target/etm.c: printf format
	warning fixes Observed on a Cygwin build.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-10  Wookey <wookey@wookware.org>

	* tcl/target/pxa270.cfg: Fix reset delays and tinker with ID's

2009-10-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi: tweak new "translating ..." text Fix formatting and layout bugs in the new "translating configuration
	files" bit.  Make it a section within the chapter about config
	files.  Add a crossreference.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  David Brownell <dbrownell@users.sourceforge.net>

	* doc/openocd.texi, src/jtag/core.c: add documentation about reset
	customization We added two overridable procedures; document them, and the two jtag
	arp_* operations they necessarily expose.  Update the comment about the jtag_init_reset() routine; it's been
	obsolete for as long as it's had SRST support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c: Stop debug session if halt fails

2009-10-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	ARM11 error checking

2009-10-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge commit 'origin/master'

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, tcl/target/pxa255.cfg: make PXA255 targets enumerate
	sort-of-OK Startup now mostly works, except that the initial target state is
	"unknown" ... previously, it refused to even start.  Getting that far required fixing the ircapture value (which can
	never have been correct!) and the default JTAG clock rate, then
	providing custom reset script.  The "reset" command is still iffy.  DCSR updates, and loading the
	debug handler, report numerous DR/IR capture failures.  But once
	that's done, "poll" reports that the CPU is halted (which it
	shouldn't be, this was "reset run"!), due to the rather curious
	reason "target-not-halted".  Summary:  you still can't debug these parts, but it's closer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* NEWS, src/helper/startup.tcl: add overridable Tcl "init_reset" This abstracts the "jtag arp_init-reset" call into a method called
	from OpenOCD startup and reset processing.  Platforms which have different requirements for how such hard resets
	must be performed can now override "init_reset" instead of needing
	to rebuild custom hacked versions of the server.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c: minor JTAG init messaging tweaks Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  Rabeeh Khoury <rabeeh@marvell.com>

	* tcl/board/sheevaplug.cfg: Function to flash SheevaPlug u-boot
	sectors This function is used by the SheevaPlug installer to flash the erase
	and re-flash the U-Boot environment in the NAND Flash.

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/board/osk5912.cfg: initial builds of OSK5912 boards need
	srst_pulls_trst This is clearly noted in the hardware spec (section 5.2.3); it works
	around a chip erratum:  "If the MPU_RESET signal is used, it may
	cause the EMIFS bus to lock." I seem to have a board with such an initial build.  The chip is
	labeled XOMAP.  Presumably, parts without that "X" prefix (eXperimental) resolve this.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c, src/jtag/jtag.h, src/target/target.c: prevent
	abort via polling during jtag_reset Observed:   openocd: core.c:318: jtag_checks: Assertion `jtag_trst == 0'
	  failed.  The issue was that nothing disabled background polling during calls
	from the TCL shell to "jtag_reset 1 1".  Fix by moving the existing
	poll-disable mechanism to the JTAG layer where it belongs, and then
	augmenting it to always pay attention to TRST and SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* src/jtag/core.c, src/jtag/jtag.h: Stop ignoring most scan chain
	validation errors Among other things this causes startup errors to kick in the
	fallback "reset harder" logic during server startup.  Comments are
	also updated a bit, explaining what the various error paths signify
	(in at least my observation).  There's one class of validation error that we can still plausibly
	ignore:  when wrong IDCODE values are observed.  This change seems to have helped make an OMAP5912 behave much more
	reliably.  There's still some post-reset flakiness, but it's
	unrelated to scan verification.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 4aacf01e194d09fb55dc759fc42ac42c8432c015 Author: Øyvind
	Harboe <oyvind.harboe@zylin.com> Date:   Thu Oct 8 15:43:51 2009
	+0200

2009-10-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* .gitignore: Add .project to .gitignore

2009-10-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: 
	Stop GDB when polling fails, srst assert or powerdropout is detected

2009-10-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* src/helper/jim.c: Update copyright statements. Make it easier to
	sync with Jim Tcl

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* tcl/target/omap5912.cfg: make OMAP5912 resets more reliable Without some extra delay after releasing SRST, we seemed to be
	trying to talk to the TAP before it was ready to respond.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-07  John Rigby <jcrigby@gmail.com>

	* tcl/target/imx25.cfg: iMX25 target support Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* README, doc/openocd.texi: Houston, we have Mirror!

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 03c9e48f88fa8b681b77c6c35d6da0a0e838a7e8 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Thu Oct 8 00:13:50 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Force sane SRST and TRST initialization At least some FT2232 based adapters don't necessarily come up in the
	expected state, with SRST and TRST disabled.  Since other adapters
	could suffer the same problem, let's avoid needing to patch every
	driver and just force *all* adapters to initialize those values
	properly at server startup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Better fix for TAPs violating the JTAG spec for
	IR-Capture.  Instead of just assuming all IDCODE-deprived TAPs violate the JTAG
	spec (they don't!), just require TAPs with such problems to be
	declared with proper ircapture/irmask values.  Example, with mask
	and value of zero.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/commands.c, src/jtag/ft2232.c, src/jtag/jtag.h: Remove
	much #ifdeffery around _DEBUG_JTAG_IO_ usage.  Have DEBUG_JTAG_IO()
	always trigger necessary warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: buildfix git-svn-id: svn://svn.berlios.de/openocd/trunk@2821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit f8c8d8bc72b2a87d2b2e3d583a052d8f0e5d22ea Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Wed Oct 7 16:15:21 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, doc/openocd.texi: Note bug in handling of variables through
	command line parameters.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/jtag.h, src/jtag/tcl.c,
	src/target/arm7_9_common.c: Updates for "reset_config":  - revert to previous default: don't talk JTAG during SRST  - add "srst_nogates" flag, the converse of "srst_gates_jtag"  - with no args, display the current configuration And update the User's Guide text with bullet lists to be a bit more
	clear.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/imx35pdk.cfg: first stab at imx35 reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@2817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/imx31pdk.cfg: remove recrusive reset invocation from
	reset init callback git-svn-id: svn://svn.berlios.de/openocd/trunk@2816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: add timeouts and fix syntax error handling of
	mrc/mcr commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: add timeouts and fix syntax error handling of
	mrc/mcr commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: increase pause before reboot so web interface
	remains responsive when issuing a reboot of zy1000 git-svn-id: svn://svn.berlios.de/openocd/trunk@2813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Do not check ir capture if there is no IDCODE git-svn-id: svn://svn.berlios.de/openocd/trunk@2812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: 1.55 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/manual/release.txt, guess-rev.sh,
	src/Makefile.am, src/openocd.c, tools/release.sh: Change version
	labels to work better with GIT  - The guess-rev.sh script is now a tweaked version of
	   "setlocalversion" as seen in Linux, U-Boot, and various other
	   projects.  When it finds source control support (git, hg, svn) it
	   uses IDs from there.  Else (specific to this project) it reports
	itself as "-snapshot", e.g. from gitweb.     I verified this new "guess-rev.sh" script runs under Cygwin.   - Also update the generic version strings to be like "0.3.0-dev"
	   (during development) instead of the very long
	   "0.3.0-in-development".  These also show up in the PDF docs.  For
	   better tracking, we might eventually change these strings to include
	the version IDs too.   - Change the startup banner version strings so they include the
	   guess-rev output.  Development and release versions with GIT will
	be like     Open On-Chip Debugger 0.3.0-dev-00282-g7191a4f-dirty
	    (2009-10-05-20:57) Open On-Chip Debugger 0.3.0
	(2009-10-05-20:57)    instead of the previous SVN-specific (even when using git-svn!)     Open On-Chip Debugger 0.3.0-in-development (2009-10-05-01:39)
	    svn:exported Open On-Chip Debugger 0.3.0 (2009-10-05-01:39)
	Release git-svn-id: svn://svn.berlios.de/openocd/trunk@2809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 0da2f750a1d437b50b21ac7ee766188a47b37fad Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Tue Oct 6 22:56:52 2009 +0000

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: Dragonite has the same EICE affliction
	as feroceon.  From: Nicolas Pitre <nico@fluxnic.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/dragonite.cfg: Dragonite target script From: Nicolas Pitre <nico@fluxnic.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 39b57471bfd92ef0d9a3aceb69f40c1335f5b62f Author: oharboe
	<oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:   Tue Oct 6
	08:10:57 2009 +0000

2009-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/zy1000.cfg: stop using targetnum git-svn-id: svn://svn.berlios.de/openocd/trunk@2804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* .gitignore: Take "patches" out of .gitignore ... Win32 is
	case-crazy git-svn-id: svn://svn.berlios.de/openocd/trunk@2803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 64ec7f66a896fc4de6b472cffb6ef5740a76f61d Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 23:45:14 2009 +0000

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 7a57c316196f93c7e31b7d00eb9b52177ae874c6 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 08:23:33 2009 +0000

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c, tcl/target/ti_dm355.cfg, tcl/target/ti_dm365.cfg,
	tcl/target/ti_dm6446.cfg: Add a new JTAG "setup" event; use for
	better DaVinci ICEpick support.  The model is that this fires after scanchain verification, when it's
	safe to call "jtag tapenable $TAPNAME".  So it will fire as part of
	non-error paths of "init" and "reset" command processing.  However
	it will *NOT* trigger during "jtag_reset" processing, which skips
	all scan chain verification, or after verification errors.  ALSO:  - switch DaVinci chips to use this new mechanism  - log TAP activation/deactivation, since their IDCODEs aren't
	 verified - unify "enum jtag_event" scripted event notifications  - remove duplicative JTAG_TAP_EVENT_POST_RESET git-svn-id: svn://svn.berlios.de/openocd/trunk@2800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: Minor cleanup to ARM926 debug entry:  - don't needlessly export this function  - handle "case 0" debug method-of-entry better (silent by default) The "case 0" is a valid debug entry mode so it doesn't deserve the
	warning int now gets.  But it probably means that OpenOCD confused
	itself somehow; or that it confused the ARM9EJS target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS: Update the NEWS file to cover more of the user-visible
	changes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap2420.cfg, tcl/target/omap5912.cfg,
	tcl/target/ti_dm355.cfg, tcl/target/ti_dm365.cfg,
	tcl/target/ti_dm6446.cfg: Get rid of needless OMAP and Davinci
	target config options so they provide better examples and are easier
	to maintain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap3530.cfg: Updated reset event handling in omap3530
	cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: It is not possible to invalidate I-Cache
	on memory writes while the target is running git-svn-id: svn://svn.berlios.de/openocd/trunk@2795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Make sure that DSCR_DTR_RX is not full
	before writing git-svn-id: svn://svn.berlios.de/openocd/trunk@2794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: More error reporting in Cortex_a8
	execute_opcode git-svn-id: svn://svn.berlios.de/openocd/trunk@2793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Added asser_reset and deassert_reset for
	cortex_a8 git-svn-id: svn://svn.berlios.de/openocd/trunk@2792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Added asser_reset and deassert_reset for
	cortex_a8 git-svn-id: svn://svn.berlios.de/openocd/trunk@2791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/etb.c, src/target/etm.c: Minor ETB
	and ETM bugfixes and doc updates  - ETB     * report _actual_ hardware status, not just expected status     * add a missing diagnostic on a potential ETB setup error     * prefix any diagnostics with "ETB"  - ETM     * make "etm status" show ETM hardware status too, instead of       just traceport status (which previously was fake, sigh)  - Docs     * flesh out "etm tracemode" docs a bit     * clarify "etm status" ... previously it was traceport status     * explain "etm trigger_percent" as a *traceport* option ETM+ETB tracing still isn't behaving, but now I can see that part of
	the reason is that the ETB turns itself off almost immediately after
	being enabled, and before collecting any data.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-01  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.c: ARMv7A: Report fault status registers when in
	Abort state git-svn-id: svn://svn.berlios.de/openocd/trunk@2789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/release.txt: Update release process documentation.  - Improve and clarify the wording of the introduction.  - Add section on version taggging.  - Some other minor corrections.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Improve release script version tag management
	commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Add numeric version tag support to release
	script.  The release process itself does not use this support yet, but it
	allows packagers to automate the process of managing their own tags,
	if they patch the source code before releasing binaries.  The
	release processes should be revised to incorporate this feature to
	support -rc packages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Improve release script version handling
	commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Add workaround to release script to update
	source code URL keyword.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/release.txt, tools/release.sh: Document and automate
	signature creation for the release archives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Fix release script bugs after experience from
	0.2.0: - The NEWS step failed due to an empty commit comment.  - The final release step would have failed, because the steps to
	  switch from the secure to insecure repository (and back again)
	  require both switch and a URL relocation steps git-svn-id: svn://svn.berlios.de/openocd/trunk@2782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/telo.cfg, tcl/board/topas910.cfg,
	tcl/board/topasa900.cfg, tcl/target/c100config.tcl,
	tcl/target/telo.cfg, tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: 
	Remove annoying EOL whitespace (again, sigh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.h: Add DSCR_DTR_RX_FULL bit define git-svn-id: svn://svn.berlios.de/openocd/trunk@2780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/mini2440.cfg, tcl/target/at91sam3uXX.cfg: strip gdb
	config options git-svn-id: svn://svn.berlios.de/openocd/trunk@2779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/telo.cfg, tcl/target/c100config.tcl,
	tcl/target/telo.cfg: michal smulski <michal.smulski@ooma.com> reset
	now works git-svn-id: svn://svn.berlios.de/openocd/trunk@2778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Streamline Capture-IR validation code  - Don't issue needless JTAG resets ... only do them after    errors. Normal exit now leaves every TAP in BYPASS.   - Fix an unlikely memory leak on one fault path.   - Remove the oddball limitation that invalid capture LSBs    trigger errors only for TAPs that support IDCODE.  Re the JTAG reset:  there are too many of them, and they can (and
	do!) change system state.  So the needless ones should get removed.
	This one was especially pointless.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/arm11.c: ARM11 command handling fixes  - Commands were supposed to have been "arm11 memwrite ..."    not "memwrite ..."  - Get rid of obfuscatory macros  - Re-alphabetize  - Add docs for "arm11 vcr" git-svn-id: svn://svn.berlios.de/openocd/trunk@2776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/core.c: Make "-expected-id 0" suppress
	warnings; not unlike it used to do.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Doc updates:  add section on target software
	changes, minor fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: ETM: fix build issue on MinGW.  The Win32 global namespace is rather cluttered...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c, src/target/etb.h: ETB: cleanup needless symbol
	exports and forward decls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c: handle single threading git-svn-id: svn://svn.berlios.de/openocd/trunk@2771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/driver.c: reentry assert git-svn-id: svn://svn.berlios.de/openocd/trunk@2770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/server.txt, src/server/httpd.c: httpd smoketest info git-svn-id: svn://svn.berlios.de/openocd/trunk@2769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: added
	t/nsrst_assert_width commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: if srst pulls trst, then set state to
	TAP_RESET.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/server.txt: spelling fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm9tdmi.c: Shrink symbols exported from arm9tdmi.c and
	remove a forward ref.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Add list of JTAG adapter drivers with TAP_RESET statemove
	bug.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Update FT2232 driver so that it reliably enters
	TAP_RESET.  When the OpenOCD server starts up it records its state as TAP_RESET,
	even though it could be anything.  Then when it starts to examine
	the scan chain, it calls jtag_add_tlr() which sees it doesn't have
	any work to do, and so it does nothing.  This can make the next
	operations fail because they start from the wrong TAP state...  Instead of caring about the current recorded state, always enter
	TAP_RESET by forcing five clocks with TMS high.  (NOTE:  it seems most other JTAG adapter drivers have this same
	bug.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap5912.cfg: Don't provide invalid OMAP5912 IR capture
	value/mask attributes git-svn-id: svn://svn.berlios.de/openocd/trunk@2762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/dm355evm.cfg: On DM355 EVM board, associate NAND chips
	with $_TARGETNAME instead of a target number.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Diagnostics tweaks for jtag_examine_chain()
	failure paths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.h, src/jtag/core.c: Updates to the initial
	  scanchain validation code: - minor bug fixes   - code cleanup   - update comments   - improve diagnostics   - etc git-svn-id: svn://svn.berlios.de/openocd/trunk@2759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/tcl.c: Streamline Capture-IR handling
	and integrity test.  Change the handling of the "-ircapture" and "-irmask" parameters to
	be slightly more sensible, given that the JTAG spec describes what
	is required, and that we already require that conformance in one
	place.  IR scan returns some bitstring with LSBs "01".   - First, provide and use default values that satisfy the IEEE spec.     Existing TAP configs will override the defaults, but those parms    are no longer required.   - Second, warn if any TAP gets set up to violate the JTAG spec.     It's likely a bug, but maybe not; else this should be an error.     Improve the related diagnostics to say which TAP is affected.  And associated minor fixes/cleanups to comments and diagnostics.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm355.cfg: Update DM355 target config to know about
	ICEpick.  Still defaults to nonstandard EMU0/EMU1 settings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/topas910.cfg, tcl/board/topasa900.cfg,
	tcl/target/tmpa900.cfg, tcl/target/tmpa910.cfg: Michael Hasselberg
	<mh@open-engineering.de> target configuration files for Toshiba TX09
	familiy git-svn-id: svn://svn.berlios.de/openocd/trunk@2756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h: Try/catch scheme. Typed up the
	functionality and regression tested.  Ready for discussion and tiny
	patches that tries out this scheme.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/gdb_server.h: When attaching
	GDB to OpenOCD, the target state is no longer affected.  Added
	gdb_sync feature that allows GDB to sync up to target state.  Issue
	"monitor gdb_sync" and the next stepi, will return immediately with
	updated register values to GDB.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: Start handling the (second) SRST stage of
	reset better: make sure that when there are two or more targets,
	their various pre/post event reports are correctly ordered.  Previously, only the first target always saw its "pre" method before
	SRST was asserted or deasserted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2753
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/etm.c, src/target/etm.h: When setting
	up an ETM, cache its ETM_CONFIG register.  Then only expose the
	registers which are actually present.  They could be missing for two
	basic reasons:  - This version might not support them at all; e.g. ETMv1.1    doesn't have some control/status registers.  (My sample of    ARM9 boards shows all with ETMv1.3 support, FWIW.)  - The configuration on this chip may not populate as many    registers as possible; e.g. only two data value comparators    instead of eight.  Includes a bugfix in the "etm info" command:  only one of the two
	registers is missing on older silicon, so show the first one before
	bailing.  Update ETM usage docs to explain that those registers need to be
	written to configure what is traced, and that some ETM configs are
	not yet handled.  Also, give some examples of the kinds of
	constrained trace which could be arranged.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c, src/target/etm.h: Start cleaning up ETM register
	handling.  On one ARM926 ETM+ETB system, removes 20 non-existent
	registers ... but still includes over 45 (!) ETM registers which
	don't even exist there ...   - Integrate the various tables to get one struct per register  - Get rid of needless per-register dynamic allocation  - Double check list of registers:     * Remove sixteen (!) non-registers for data comparators     * Remove four registers that imply newer ETM than we support     * Change some names to match current architecture specs  - Handle more register info     * some are write-only     * some are read-only     * record which versions have them, just in case  - Reorganize the registers to facilitate removing the extras     * group e.g. comparator/counter #N registers together     * add and use lookup-by-ID git-svn-id: svn://svn.berlios.de/openocd/trunk@2751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c, src/target/etm.h: Initial ETM cleanups.  Most of
	these are cosmetic:  - Add a header comment  - Line up the ETM context struct, pack it a bit  - Remove unused context_id (this doesn't support ETMv2 yet)  - Make most functions static  - Remove unused string table and other needless lines of code  - Correct "tracemode" helptext Also provide and use an etm_reg_lookup() to find entries in the ETM
	register cache.  This will help cope with corrected contents of that
	cache, which doesn't include entires for non-existent registers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/jim.c: Nico Coesel
	<ncoesel@dealogic.nl> fix warnings. . I'm wondering why these didn't
	turn up earlier. Is everyone still using gcc 3.x? Or is the x86
	version of gcc 4.x much more relaxed? git-svn-id: svn://svn.berlios.de/openocd/trunk@2749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - fix build issue under win32 (cygwin/msys) from svn r2746 git-svn-id: svn://svn.berlios.de/openocd/trunk@2748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2900.c, src/flash/lpc2900.h: - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@2747
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/flash.c: Make it easier to erase or
	protect through to the end of a (NOR) flash chip: allow passing
	"last" as an alias for the number of the last sector.  Improve several aspects of error checking while we're at it.  From: Johnny Halfmoon <jhalfmoon@milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Update presentation of TAP events and tap
	enable/disable.  Highlight that the "post-reset" event kicks in before the scan chain
	is validated, which limits what can be done in a post-reset handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2745
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/INSTALL.txt, doc/manual/flash.txt, doc/manual/jtag.txt,
	doc/manual/primer/autotools.txt, doc/manual/primer/docs.txt,
	doc/manual/primer/jtag.txt, doc/manual/primer/patches.txt,
	doc/manual/primer/tcl.txt, doc/manual/release.txt,
	doc/manual/scripting.txt, doc/manual/server.txt,
	doc/manual/style.txt, doc/manual/target/notarm.txt, doc/openocd.1,
	doc/openocd.texi: Remove annoying end-of-line whitespace from doc/*
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/bitsbytes.tcl, tcl/board/arm_evaluator7t.cfg,
	tcl/board/at91rm9200-dk.cfg, tcl/board/at91sam9g20-ek.cfg,
	tcl/board/atmel_at91sam9260-ek.cfg,
	tcl/board/crossbow_tech_imote2.cfg, tcl/board/csb732.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg, tcl/board/eir.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/imx27ads.cfg,
	tcl/board/imx27lnst.cfg, tcl/board/imx31pdk.cfg,
	tcl/board/mini2440.cfg, tcl/board/propox_mmnet1001.cfg,
	tcl/board/pxa255_sst.cfg, tcl/board/sheevaplug.cfg,
	tcl/board/str910-eval.cfg, tcl/board/telo.cfg,
	tcl/board/unknown_at91sam9260.cfg, tcl/board/x300t.cfg,
	tcl/board/zy1000.cfg, tcl/chip/atmel/at91/aic.tcl,
	tcl/chip/atmel/at91/rtt.tcl, tcl/chip/atmel/at91/usarts.tcl,
	tcl/chip/st/stm32/stm32_rcc.tcl, tcl/memory.tcl,
	tcl/mmr_helpers.tcl, tcl/readable.tcl, tcl/target/aduc702x.cfg,
	tcl/target/ar71xx.cfg, tcl/target/at91eb40a.cfg,
	tcl/target/at91r40008.cfg, tcl/target/at91rm9200.cfg,
	tcl/target/at91sam3uXX.cfg, tcl/target/at91sam7sx.cfg,
	tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg, tcl/target/c100.cfg,
	tcl/target/c100config.tcl, tcl/target/c100helper.tcl,
	tcl/target/c100regs.tcl, tcl/target/cs351x.cfg,
	tcl/target/epc9301.cfg, tcl/target/feroceon.cfg,
	tcl/target/imx21.cfg, tcl/target/imx27.cfg, tcl/target/imx31.cfg,
	tcl/target/imx35.cfg, tcl/target/is5114.cfg, tcl/target/ixp42x.cfg,
	tcl/target/lm3s1968.cfg, tcl/target/lm3s3748.cfg,
	tcl/target/lm3s6965.cfg, tcl/target/lm3s811.cfg,
	tcl/target/lm3s9b9x.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2129.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2294.cfg, tcl/target/netx500.cfg,
	tcl/target/omap3530.cfg, tcl/target/omap5912.cfg,
	tcl/target/pic32mx.cfg, tcl/target/pxa255.cfg,
	tcl/target/pxa270.cfg, tcl/target/readme.txt,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg,
	tcl/target/samsung_s3c2410.cfg, tcl/target/samsung_s3c2440.cfg,
	tcl/target/samsung_s3c2450.cfg, tcl/target/samsung_s3c4510.cfg,
	tcl/target/samsung_s3c6410.cfg, tcl/target/sharp_lh79532.cfg,
	tcl/target/stm32.cfg, tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg, tcl/target/telo.cfg,
	tcl/target/test_reset_syntax_error.cfg,
	tcl/target/test_syntax_error.cfg, tcl/target/xba_revA3.cfg,
	tcl/test/syntax1.cfg: Remove annoying end-of-line whitespace from
	tcl/* files git-svn-id: svn://svn.berlios.de/openocd/trunk@2743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/flash/ocl/at91sam7x/at91sam7x_ram.ld,
	src/flash/ocl/at91sam7x/crt.s, src/flash/ocl/at91sam7x/makefile,
	src/helper/Makefile.am, src/helper/startup.tcl, src/jtag/jlink.c,
	src/jtag/rlink/call.m4, src/server/gdb_server.c,
	src/target/Makefile.am, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/arm926ejs.c,
	src/target/breakpoints.c, src/target/cortex_a8.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale/debug_handler.S,
	src/target/xscale/debug_handler.cmd: Remove annoying end-of-line
	whitespace from most src/* files; omitted src/httpd git-svn-id: svn://svn.berlios.de/openocd/trunk@2742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/csb732.cfg: Ethan Eade <ethan@evolution.com> board
	config script for Cogent CSB732 i.MX35 (arm1136) git-svn-id: svn://svn.berlios.de/openocd/trunk@2741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm355.cfg, tcl/target/ti_dm365.cfg,
	tcl/target/ti_dm6446.cfg: Ensure that DaVinci chips can't start with
	a too-fast JTAG clock.  It can be sped up later, once it's known the
	PLLs are active.  Note that modern tools from TI all use adaptive clocking; and that
	if that's done with OpenOCD, "too fast" is also a non-issue.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Update the jtag-examine_chain() logic to verify
	that there's no garbage after the expected data (from the TAPs'
	BYPASS or IDCODE registers).  NOTE that there was previously some code that looked like it was
	trying to do this ... which didn't work, because it was looping over
	the list of expected TAPs, and never checked *after* that list
	completed!  That could hide some *nasty* reset issues...  Also replace a now-obsolete scanchain length test with one that
	behaves correctly; and update reporting of unexpected IDCODEs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: Enhancement: stm32 flash protection error
	message This patch modifies an error message which, in its original state, I
	find somewhat unhelpful. So a small hint was added.  Signed-off-by: Johnny Halfmoon <jhalfmoon at milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Update the User's Guide to cover the scan chain
	verification step done on exit from the config stage, how JTAG
	clocking issues can trigger errors there, and how to avoid such
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/tcl.c, src/target/target.c: Debug
	message updates:  - Shrink messaging during resets, primarily by getting rid of    "nothing happened" noise that hides *useful* information.   - Improve: the "no IDCODE" message by identifying which tap only    supports BYPASS; and the TAP event strings.  Related minor code updates:  - Remove two needless tests when examining the chain:  we know    we have a TAP, and that all TAPs have names.   - Clean up two loops, turning "while"s into "for"s which better    show what's actually being done.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2736
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: Minor regression bugfix for the
	jtag_tap_handle_event() case for disabling TAPs.  We don't actually
	know how to make any JRCs which do that yet; but when we do, this
	will matter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.h: Added  CPUDBG_WCR_BASE define git-svn-id: svn://svn.berlios.de/openocd/trunk@2734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Avoid cache invalidation when writing to
	hardware debug registers git-svn-id: svn://svn.berlios.de/openocd/trunk@2733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap3530.cfg: Reduced sleep time after reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Style cleanup for the updated
	ft2232_add_pathmove().  Indentation, whitespace, line lengths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/target/target.c: Minor behavior fixes for the
	two JTAG reset events (C/internal, and Tcl/external):  - Reorder so *both* paths (TCK/TMS or TRST) can enable TAPs with    ICEpick ... first C code flags TAPs that got disabled, then call    any Tcl code that might want to re-enable them.   - Always call the C/internal handlers when JTAG operations can be    issued; previously that wasn't done when TRST was used.  Plus some small cleanups (whitespace, strings, better messaging
	during debug and on some errors) to reset-related code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Minor tweaks to description of JTAG
	adapter/dongle issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c, tcl/target/omap3530.cfg: Move Cortex A8
	debug access initialisation from omap3530.cfg to cortex_a8.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: remove unused externs git-svn-id: svn://svn.berlios.de/openocd/trunk@2727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: Tweak TCL reset script ... mostly
	improving descriptions of the various steps, but also calling
	[target names] only once.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/tcl.c: Address codereview comment from
	Steve Grubb <sgrubb@redhat.com>: avoid a duplicate test.  Plus other cleanup in the same code: be "static", sane line lengths
	for source and diagnostics, and fix misleading variable names.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/nand.c: Minor fixes to NAND code and
	docs Erase logic:  - command invocation     + treat "nand erase N" (no offset/length) as "erase whole chip
	    N" + catch a few more bogus parameter cases, like length == 0
	 (sigh) - nand_erase() should be static  - on error     + say which block failed, and if it was a bad block     + don't give up after the first error; try to erase the rest  - on success, say which nand device was erased (name isn't unique) Device list ("nand list"):  - say how many blocks there are  - split summary into two lines  - give example in the docs Doc tweaks:  - Use @option{...} for DaVinci's supported hardware ECC options For the record, I've observed that _sometimes_ erasing bad blocks
	causes failure reports, and that manufacturer bad block markers
	aren't always erasable (even when erasing their blocks doesn't
	trigger an error report).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2724
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Fix coredump seen in some code paths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2723
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: michal smulski <michal.smulski@ooma.com> fix
	regression in jtag_add_pathmove() which broke arm11 in r1825. Other
	uses of jtag_add_pathmove are svn + xsvf + xscale...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2722
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: prefix zy1000_reboot command to avoid name
	conflicts git-svn-id: svn://svn.berlios.de/openocd/trunk@2721
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/jtag.h, src/jtag/tcl.c,
	src/target/arm7_9_common.c: srst_gates_jtag option. at91sam9260
	needs retesting, and possibly srst_gates_jtag added to reset_config.
	Could i.MX27 be a case where srst does not pull trst, but really
	srst gates jtag clock? git-svn-id: svn://svn.berlios.de/openocd/trunk@2720
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/arm9tdmi.c: The "arm9tdmi.c" file is
	more of a generic ARM9 support file:  - update comments to say so.   - update docs to clarify that the "arm9tdmi" command prefix    is a misnomer.   - bugfix some messages that wrongly assume only ARM9TDMI    based processors use this code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2719
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Doc update:  mention how ARM's WFI instruction
	affects JTAG clocking by gating the core clock, and workarounds.
	Most details are with the "halt" command, which is one of the first
	places this issue will be noticed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2718
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.h: Remove unused varables (moved to armv7a) git-svn-id: svn://svn.berlios.de/openocd/trunk@2717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Use a variable armv7a->debug_base instead
	of hardedcoded  OMAP3530_DEBUG_BASE git-svn-id: svn://svn.berlios.de/openocd/trunk@2716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/Makefile.am, src/flash/flash.c,
	src/flash/lpc2900.c, src/flash/lpc2900.h,
	tcl/board/hitex_lpc2929.cfg, tcl/target/lpc2900.cfg: Rolf Meeser
	<rolfm_9dq@yahoo.de> adds flash support for NXP's LPC2900 family
	(ARM968E).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.h: Define debug_base, debug_ap, memory_ap in
	armv7a_common_t git-svn-id: svn://svn.berlios.de/openocd/trunk@2714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.c: Updated mode string list.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.h: Definy symbolic values for VA to PA address
	translation operations git-svn-id: svn://svn.berlios.de/openocd/trunk@2712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c: fix bug when using 32 instead of 64 bit value
	in callback, caught by -Wall git-svn-id: svn://svn.berlios.de/openocd/trunk@2711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: added embedded ice programming while srst is asserted todo
	item git-svn-id: svn://svn.berlios.de/openocd/trunk@2710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Check return values to avoid infinite wait
	in loop on error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Cache invalidation when writing to memory git-svn-id: svn://svn.berlios.de/openocd/trunk@2708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: error message upon recursive invocation of
	reset from reset event handlers git-svn-id: svn://svn.berlios.de/openocd/trunk@2707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand_ecc_kw.c: fix email address git-svn-id: svn://svn.berlios.de/openocd/trunk@2706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Rolf Meeser <rolfm_9dq@yahoo.de> warning fix in
	previous commit was wrong. target_code_size needs the real value
	later.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@2704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap3530.cfg: Magnus Lundin <lundin@mlu.mine.nu>
	Disable poll while core register initialization git-svn-id: svn://svn.berlios.de/openocd/trunk@2703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.h: More CortexA8 debug register definitions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Fix argument passing in
	cortex_a8_write_cp.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Dirk Behme <dirk.behme@googlemail.com> document
	post TAP reset event git-svn-id: svn://svn.berlios.de/openocd/trunk@2700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/dm355evm.cfg, tcl/target/davinci.cfg,
	tcl/target/ti_dm355.cfg: David Brownell <david-b@pacbell.net> Update
	the board config for the DaVinci DM355 EVM so the reset-init event
	handler does the rest of the work it should do:  - minor PLL setup bugfixes  - initialize the DDR2 controller  - probe both NAND banks  - initialize UART0  - enable the icache git-svn-id: svn://svn.berlios.de/openocd/trunk@2699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/armv7m.c: David Brownell <david-b@pacbell.net> Cleanup
	some the downloaded ARM target algorithm code:  - Provide more complete disassembly of the DCC bulk write code  - Make code blocks "static const", in case GCC doesn't  - Fix some tabbing/layout issues  - Make some arm7_9_common.h flags be "bool" not "int"; and compact    the layout a bit (group most bools together) git-svn-id: svn://svn.berlios.de/openocd/trunk@2698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: David Brownell <david-b@pacbell.net> some early todo items
	on run_algorithm git-svn-id: svn://svn.berlios.de/openocd/trunk@2697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c, tcl/target/omap3530.cfg: tap post reset event added.
	Allows omap3530 to send 100 runtest idle tickle's after a TAP_RESET.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/interface/sheevaplug.cfg: - revert change made to sheevaplug.cfg in rev2573 git-svn-id: svn://svn.berlios.de/openocd/trunk@2695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: Nicolas Pitre <nico@cam.org> put feroceon
	target definition at the end so to avoid a bunch of useless forward
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c, src/target/arm966e.h,
	src/target/feroceon.c, src/target/target.c: Nicolas Pitre
	<nico@cam.org> Dragonite support git-svn-id: svn://svn.berlios.de/openocd/trunk@2693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: spelling mistake git-svn-id: svn://svn.berlios.de/openocd/trunk@2692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11_dbgtap.c: do not use dynamically sized stack
	arrays, not compatible with embedded OS's git-svn-id: svn://svn.berlios.de/openocd/trunk@2691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: registering a target event twice caused
	infinite loop. Same bug as in jtag/core.c copy & pasted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/c100helper.tcl: syntax error fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mx3_nand.c, src/flash/mx3_nand.h: Alexei Babich
	<a.babich@rez.ru>  cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: Nicolas Pitre <nico@cam.org> tighten error
	checking in bulk_write git-svn-id: svn://svn.berlios.de/openocd/trunk@2687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style:native git-svn-id: svn://svn.berlios.de/openocd/trunk@2686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Alexei Babich <a.babich@rez.ru> fix problems
	with unecessary tailend byte accesses. Use 16 bit access on tailend
	of a memory read if possible.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/telo.cfg, tcl/target/c100.cfg,
	tcl/target/c100config.tcl, tcl/target/c100helper.tcl,
	tcl/target/c100regs.tcl: michal smulski <michal.smulski@ooma.com>
	telo target/board scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@2683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/non_cfi.c: Rolf Meeser
	<rolfm_9dq@yahoo.de> This patch adds target algorithm support for
	those flash devices that do not support DQ5 polling. So far they
	could only be programmed with host algorithm, but this was way too
	slow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: - Fix bug-in-waiting when adding more than one TAP event type - Infinite loop bugfix when running tap configure a second time git-svn-id: svn://svn.berlios.de/openocd/trunk@2681
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/arm_nandio.c, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv4_5.h: 
	David Brownell <david-b@pacbell.net> Optionally shave time off the
	armv4_5 run_algorithm() code:  let them terminate using software
	breakpoints, avoiding roundtrips to manage hardware ones.  Enable this by using BKPT to terminate execution instead of "branch
	to here" loops.  Then pass zero as the exit address, except when
	running on an ARMv4 core.  ARM7TDMI, ARM9TDMI, and derived cores now
	set a flag saying they're ARMv4.  Use that mechanism in arm_nandwrite(), for about 3% speedup on a
	DaVinci ARM926 core; not huge, but it helps.  Some other algorithms
	could use this too (mostly flavors of flash operation).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Fix docs on
	ARM11 MCR and MRC coprocessor commands: correct read-vs-write; and
	describe the params.  (ARM920 and ARM926 have cp15-specific commands; this approach is
	more generic.  MCR2, MRC2, MCRR, MCRR2, MRRC, and MRRC2 instructions
	could also get exposed.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.c: Report correct core instruction state for
	ARMv/A targets git-svn-id: svn://svn.berlios.de/openocd/trunk@2678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Load PC with bit 0 set to 1 when resuming
	to say in Thumb instruction state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/armv7a.c: David Brownell
	<david-b@pacbell.net> Provide an "armv7a disassemble" command.
	Current omissions include VFP (except as coprocessor instructions),
	Neon, and various Thumb2 opcodes that are not available in ARMv7-M
	processors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> lean up some loose ends with the ARM
	disassembler  - Add a header comment describing its current state and uses    and referencing the now-generally-available V7 arch spec  - Support some mode switch instructions:     * Thumb to Jazelle (BXJ)     * Thumb to ThumbEE (ENTERX)     * ThumbEE to Thumb (LEAVEX)  - Improve that recent warning fix (and associated whitespace goof)  - Declare the rest of the internal code and data "static".  A    compiler may use this, and it helps clarify the scope of these    routines (e.g. what changes to them could affect).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-07  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Improved handling of instruction set
	state, helps for debugging Thumb state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_m4k.c: Mahr, Stefan <Stefan.Mahr@sphairon.com>
	removes the endianness swapping in mips_m4k.c Swapping is already
	done in target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/lpc1768.cfg, tcl/target/lpc2148.cfg,
	tcl/target/lpc2378.cfg: use "armv4_5 core_state arm" instead of
	soft_reset_halt, fewer side effects git-svn-id: svn://svn.berlios.de/openocd/trunk@2672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/interface/flyswatter.cfg: Dirk Behme
	<dirk.behme@googlemail.com> retire jtag_speed usage git-svn-id: svn://svn.berlios.de/openocd/trunk@2671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ti_beagleboard.cfg: Dirk Behme
	<dirk.behme@googlemail.com> Add default fall back freqency.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/lpc2478.cfg: set ARM mode using explicit command rather
	than soft_reset_halt which has lots of side effects.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org> This patch
	simply enables the halting debug mode.  By enabling this bit, the
	processor halts when a debug event such as breakpoint occurs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: more debug output for breakpoints git-svn-id: svn://svn.berlios.de/openocd/trunk@2667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: Matt Hsu
	<matt@0xlab.org> Tidy up the bit-offset operation for DSCR register git-svn-id: svn://svn.berlios.de/openocd/trunk@2666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/aduc702x.cfg, tcl/target/at91eb40a.cfg,
	tcl/target/at91r40008.cfg, tcl/target/at91sam3uXX.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg, tcl/target/c100.cfg,
	tcl/target/cs351x.cfg, tcl/target/epc9301.cfg,
	tcl/target/feroceon.cfg, tcl/target/imx21.cfg,
	tcl/target/imx27.cfg, tcl/target/imx31.cfg, tcl/target/imx35.cfg,
	tcl/target/is5114.cfg, tcl/target/ixp42x.cfg,
	tcl/target/lpc1768.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg,
	tcl/target/mega128.cfg, tcl/target/netx500.cfg,
	tcl/target/pic32mx.cfg, tcl/target/pxa270.cfg,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg,
	tcl/target/samsung_s3c2410.cfg, tcl/target/samsung_s3c2440.cfg,
	tcl/target/samsung_s3c2450.cfg, tcl/target/samsung_s3c4510.cfg,
	tcl/target/samsung_s3c6410.cfg, tcl/target/sharp_lh79532.cfg,
	tcl/target/smp8634.cfg, tcl/target/stm32.cfg,
	tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg,
	tcl/target/test_reset_syntax_error.cfg, tcl/target/xba_revA3.cfg: 
	David Brownell <david-b@pacbell.net> "set _TARGETNAME ..." cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ar71xx.cfg: David Claffey <dnclaffey@gmail.com> get rid
	of reset recursion git-svn-id: svn://svn.berlios.de/openocd/trunk@2664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/arm_nandio.c,
	src/flash/arm_nandio.h, src/flash/davinci_nand.c, src/flash/nand.h,
	src/flash/orion_nand.c: David Brownell Abstract the orion_nand_fast_block_write() routine into a separate
	routine -- arm_nandwrite() -- so that other ARM cores can reuse it.  Have davinci_nand do so.  This faster than byte-at-a-time ops by a
	factor of three (!), even given the slowish interactions to support
	hardware ECC (1-bit flavor in that test) each 512 bytes; those could
	be read more efficiently by on-chip code.  NOTE that until there's a generic "ARM algorithm" structure, this
	can't work on newer ARMv6 (like ARM1136) or ARMv7A (like Cortex-A8)
	cores, though the downloaded code itself would work just fine there.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ar71xx.cfg: David Claffey <dnclaffey@gmail.com> tested
	with the Atheros reference design "PB44" git-svn-id: svn://svn.berlios.de/openocd/trunk@2662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-02  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/chip/atmel/at91/at91sam7x128.tcl,
	tcl/chip/atmel/at91/at91sam7x256.tcl, tcl/chip/st/stm32/stm32.tcl: 
	Crusty Code fixes from the tcl directory re-arragements git-svn-id: svn://svn.berlios.de/openocd/trunk@2661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - fixes the incorrect info msg displayed during stellaris flash
	programming.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: - fix a regression when using cortex_m3 emulated dcc channel git-svn-id: svn://svn.berlios.de/openocd/trunk@2659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: Warning fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/at91sam9g20-ek.cfg: Gary Carlson
	<gcarlson@carlson-minot.com> config file git-svn-id: svn://svn.berlios.de/openocd/trunk@2657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/propox_mmnet1001.cfg: Ferdinand Postema
	<ferdinand@postema.eu> config script for the MMnet1001 module from
	Propox.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/davinci_nand.c: David Brownell <david-b@pacbell.net>
	Minor code bugfix: check right variable.  Via code review by Steve
	Grubb <sgrubb@redhat.com>  Almost innocuous; this is value is checked later, this check being
	wrong would make it check stack garbage.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: Dirk Behme <dirk.behme@googlemail.com> Fix
	typo in help text. It has to be 'production_test' instead of
	'production' here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: David Brownell <david-b@pacbell.net> Fix
	Sandstorm revision checking: right bits, right value! git-svn-id: svn://svn.berlios.de/openocd/trunk@2653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: David Brownell <david-b@pacbell.net> Remove
	duplicate check for flash write status.  Via code review by Steve
	Grubb <sgrubb@redhat.com>  Also minor fixes for the message from "fill":  the byte count is
	unsigned, not signed; and more importantly, print the real number of
	bytes written git-svn-id: svn://svn.berlios.de/openocd/trunk@2652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Minor doc
	updates:  - Itemize the list of private customization examples   for openocd.cfg  - Add "override defaults" as a customization, specifically   for the work area (back it up or relocate it)  - Highlight some work area location issues git-svn-id: svn://svn.berlios.de/openocd/trunk@2651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/at91sam7.c, src/flash/orion_nand.c,
	src/helper/startup.tcl, src/server/gdb_server.c,
	src/target/target.c, src/target/target.h: David Brownell
	<david-b@pacbell.net> start phasing out integers as target IDs git-svn-id: svn://svn.berlios.de/openocd/trunk@2650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/command.c,
	src/helper/configuration.h, src/helper/options.c: David Brownell
	<david-b@pacbell.net> Be sure the built-in search paths always go
	*after* ones provided on the command line ... matching comment in
	add_default_dirs().  Without this it's impossible to use a private config file which
	happens to have the same name as an installed one.  Say, because
	you're bugfixing a private copy...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11_dbgtap.c: David Brownell <david-b@pacbell.net>
	fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c: added arm11 timeout error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@2647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h: restore
	ICE watchpoint registers when the *last* software breakpoint is
	removed git-svn-id: svn://svn.berlios.de/openocd/trunk@2646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ek-lm3s1968.cfg, tcl/board/ek-lm3s3748.cfg,
	tcl/board/ek-lm3s811.cfg, tcl/board/ek-lm3s9b9x.cfg: David Brownell
	<david-b@pacbell.net> The Stellaris eval boards don't have TRST
	signals, so defining ntrst_delay is pointless; don't.  At least the LM3S3748 eval board doesn't need nsrst_delay either;
	remove that too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> ARM disassembly support for about five dozen
	non-Thumb instructions that were added after ARMv5TE was defined:  - ARMv5J "BXJ" (for Java/Jazelle)  - ARMv6 "media" instructions (for OMAP2420, i.MX31, etc) Compile-tested.  This might not set up the simulator right for the
	ARMv6 single step support; only BXJ branches though, and docs to
	support Jazelle branching are non-public (still, sigh).  ARMv6 instructions known to be mis-handled by this disassembler
	include:  UMAAL, LDREX, STREX, CPS, SETEND, RFE, SRS, MCRR2, MRRC2 git-svn-id: svn://svn.berlios.de/openocd/trunk@2644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS, src/target/arm11.c: arm11 hardware step using simulation +
	breakpoint. Use "hardware_step enable" command to revert to hardware
	stepping. Ideally we could retire the "hardware_step enable" command
	once we no longer believe it to be necessary.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: arm11 single stepping wip - at least we know
	the next PC now git-svn-id: svn://svn.berlios.de/openocd/trunk@2642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: arm11 single stepping wip git-svn-id: svn://svn.berlios.de/openocd/trunk@2641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_simulator.c, src/target/arm_simulator.h: refactor
	arm simulator to allow arm11 code to use it as well - no observable
	changes otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: some arm11 stuff that isn't done yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org> and Holger Hans
	Peter Freyther <zecke@selfish.org>  cortex-a8: Wait for the CPU to
	be halted/started With DCCR we are asking the CPU to halt, we should wait until the
	CPU has halted before proceeding with the operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.h: Matt Hsu <matt@0xlab.org> and Holger Hans
	Peter Freyther <zecke@selfish.org>  Print the value that the method
	didn't like git-svn-id: svn://svn.berlios.de/openocd/trunk@2637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org> and Holger Hans
	Peter Freyther <zecke@selfish.org> Only dap_ap_select when we are
	going to do a memory access in the fast reg case.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.h: Matt Hsu <matt@0xlab.org> cortex-a8: Copy
	some more registers from the documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@2635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org>
	cortex_a8_exec_opcode is writing the ARM instruction into the ITR
	register but it will only be executed when the DSCR[13] bit is set.
	The documentation is a bit weird as it classifies the DSCR as
	read-only but the pseudo code is writing to it as well. This is
	working on a beagleboard.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org> Wait for the
	DTRRX to be full before reading it. Remove the trans_mode change as
	it is done in the mem_ap_read_atomic_u32 function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c: Matt Hsu <matt@0xlab.org> and Holger Hans
	Peter Freyther <zecke@selfish.org> Before executing a new
	instruction wait for the previous instruction to be finished. This
	comes from the pseudo code of the cortex a8 trm.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: David Brownell <david-b@pacbell.net> Fix segv in
	jtag_examine_chain(): exit loop on no-tap.  Keep "next iteration"
	step with the rest of the loop overhead.  Cleanup:  remove spurious whitespace, and an overlong line; only
	assign "tap->hasidcode" once.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: added missing check on jtag_execute git-svn-id: svn://svn.berlios.de/openocd/trunk@2630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Remove bogus "BUG:". If the PC is
	pointing to an invalid instruction, then simulation will fail. This
	is expected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, src/jtag/core.c, src/jtag/jtag.h: reduce arm11 output noise git-svn-id: svn://svn.berlios.de/openocd/trunk@2628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS: Michael Schwingen <rincewind@discworld.dascon.de> news about
	xscale git-svn-id: svn://svn.berlios.de/openocd/trunk@2627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/flash/stellaris.h: David Brownell
	<david-b@pacbell.net> Clock updates/fixes for the Stellaris flash
	driver:  - Bugfixes:    * internal osc: it's *12* MHz (not 15 MHz) on _current_ chips       + except new Tempest parts where it's 16 MHz (and calibrated!)       + or some old Sandstorm ones, where 15 MHz was valid    * crystal config:       + read and use the crystal config, don't assume 6 MHz       + know when that field is 4 bits vs 5    * an RCC2 register may be overriding the original RCC       + more clock source options       + bigger dividers       + fractional dividers on Tempest (NYET handled)    * there's a 30 KHz osc on newer chips (for deep sleep)    * there's a 32768 Hz osc on newer chips (for hibernation)  - Cosmetic    * say "rev A0" not "vA.0", to match vendor docs    * don't always report master clock as an "estimate":       + give the error bound if it's approximate, like "±30%"       + else don't say anything    * fix whitespace and caps in some messages    * these are not AT91SAM chips!! Those clock issues might explain problems sometimes reported when
	writing to Stellaris flash banks; they affect write timings.  That 12-vs-15 MHz issue is problematic; there's no consolidated doc
	showing which chips (and revs!) have which internal oscillator
	speed.  It's clear that only older silicon had the
	faster-and-less-accurate flavor.  What's less clear is which chips
	are "old" like that.  Lightly tested, on a DustDevil part.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS: David Brownell <david-b@pacbell.net> Various updates to
	0.3.0 NEWS git-svn-id: svn://svn.berlios.de/openocd/trunk@2625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/armv4_5.c, src/target/cortex_m3.c: 
	David Brownell <david-b@pacbell.net> Tweak disassembly commands:  For ARMv4/ARMv5:   - better command parameter error checking   - don't require an instruction count; default to one   - recognize thumb function addresses   - make function static   - shorten some too-long lines  For Cortex-M3:   - don't require an instruction count; default to one With the relevant doc updates.  --- Nyet done:  invoke the thumb2
	disassembler on v4/v5, to better handle branch instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: David Brownell <david-b@pacbell.net> More
	jtag_add_reset() cleanup: Unify the handling of the req_srst parameter, and rip out a large
	NOP branch and its associated FIXME.  (There didn't seem to be
	anything that needs fixing; but that was unclear since the
	constraints were scattered all over the place not unified.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: David Brownell <david-b@pacbell.net> More
	jtag_add_reset() cleanup: Unify the handling of the req_tlr_or_trst parameter.  Basically,
	JTAG TMS+TCK ops ("TLR") is always used ... unless TRST is a safe
	option in this system configuration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: David Brownell <david-b@pacbell.net> Some
	jtag_add_reset() cleanup:  - Track whether TRST and/or SRST actually change:     * If they're not changing, don't ask the JTAG adapter to do
	      anything! (JTAG TCK/TMS ops might still be used to enter
	    TAP_RESET though.) * Don't change their recorded values until after the adapter says it       did so ... so fault paths can't leave corrupt state.      * Detect and report jtag_execute_queue() failure mode     * Only emit messages saying what really changed; this includes
	      adding an omitted "deasserted TRST" message.      * Only apply delays after deasserting SRST/TRST if we *DID*
	    deassert!  - Messages say "TLR" not "RESET", to be less confusing; there are
	   many kinds of reset.  (Though "TLR" isn't quite ideal either, since
	   it's the name of the TAP state being entered by TMS+TCK or TRST;
	   it's at least non-ambiguous in context.) So the main effect is to do only the work this routine was told to
	do; and to have debug messaging make more sense.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell <david-b@pacbell.net>
	Accomodate targets which don't support various target-specific reset
	operations.  Maybe they can't; or it's a "not yet" thing.  Note that the assert/deassert operations can't yet trigger for OMAP3
	because resets currently include JTAG reset in all cases, resetting
	the ICEpick and thus disabling the TAP for Cortex-A8.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Michael Schwingen
	<rincewind@discworld.dascon.de> fix previous doc patch git-svn-id: svn://svn.berlios.de/openocd/trunk@2619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.c, src/target/cortex_a8.c, src/target/xscale.c: - fix build warnings - add svn props to recently added files armv7a.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@2618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/non_cfi.c, src/flash/non_cfi.h: Michael
	Schwingen <rincewind@discworld.dascon.de> a small CFI cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7a.h: strange.... the code build and links w/Linux
	GCC target but fails w/arm-elf. The code was clearly broken as it
	was missing two extern's in the .h file...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Ferdinand Postema <ferdinand@postema.eu> fix
	warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/at91sam9260.cfg: Ferdinand Postema
	<ferdinand@postema.eu> increase reset delay to fix regression from
	2600 to 2604 git-svn-id: svn://svn.berlios.de/openocd/trunk@2614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/xscale.c: Michael Schwingen
	<rincewind@discworld.dascon.de> The attached patch adds a "xscale
	vector_table" command that allows to set the values that are written
	in the mini-IC (plus documentation updates that describe why this is
	needed).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Audrius Urmanavičius <didele.deze@gmail.com>
	Latest source (R2606) does not compile under Windows+Cygwin - fails
	with error about possibly uninitialized use of variable 'ch'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/mini2440.cfg: Brian Findlay <findlaybrian@gmail.com>
	finalize mini2440.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap3530.cfg: use cortex_a8 instead of cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@2610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_a8.c, src/target/cortex_a8.h: David Brownell The
	rest of the Cortex-A8 support from Magnus: replace the previous
	nonfunctional cortex_a8 code with something that at least basically
	works (for halt/step/resume, without MMU) even if it is incomplete.
	(With tweaks from Øyvind, and cleanup from Dave.) This code has mainly been developed and tested against R1606, it has
	been built and tested against R2294 where it runs but step and
	resume commands are broken due to regression (which should be fixed
	now).  This code is really written for OMAP3530.  It doesn't identify debug
	resources using generic DAP calls to scan the ROM table, or perform
	topology detection.  The OMAP3530 DAP exposes two memory access
	ports:  - Port #0 is connected to L3 interconnect (the main bus) with    passthrough to the L4 EMU bus ... so it will be used for most    memory accesses.   - Port #1 is connected to a dedicated debug bus (L4 EMU), with    access to L4 Wakeup, and holds the ROM table ... so it must    be used for most debug and control operations.  The are some defines to handle this in cortex_a8.c, which should be
	replaced with more general code.  Having access to another Cortex-A8
	implementation would help get that right.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/armv7a.c, src/target/armv7a.h: 
	David Brownell Subset of Cortex-A8 support from Magnus:  create an
	armv7a file and seed it with DAP access support using the current
	ADIv5 code.  (With tweaks and cleanup from Øyvind and Dave.) The ARMv7-AR architecture manual is not publicly available (even in
	subset form like the ARMv7-M spec), so it's hard to distinguish
	between the Cortex-A8 implementation and the ARMv7-A architecture.  The register set presumably is architectural, and so it's stored
	here; it's like earlier ARMs, with small additions.  Ditto the
	instruction set, though Thumb2 support is used (extending Thumb
	support from ARMv6 with more 32-bit instructions) and there's this
	ThumbEE thing too.  There is a new "debug monitor" mode, not yet
	fully addressed here, to support debugging in environments (like
	motor control) where halting debug mode is inadvisable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: add missing isblank() for eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/jtag/tcl.c, src/jtag/usbprog.c,
	src/server/telnet_server.c, src/svf/svf.c,
	src/target/embeddedice.c, src/target/etm.c: Steve Grubb
	<sgrubb@redhat.com> fix various and sundry leaks git-svn-id: svn://svn.berlios.de/openocd/trunk@2606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Jonas Horberg <jhorberg@sauer-danfoss.com> The
	trunk is currently broken for interfaces without the speed_div
	function (interface specific clock speed value to kHz conversion).
	Example: parport.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/at91sam7sx.cfg, tcl/board/at91sam9260.cfg,
	tcl/board/unknown-board-atmel-at91sam9260.cfg,
	tcl/target/at91sam7sx.cfg, tcl/target/at91sam9260.cfg: Pieter
	Conradie <Pieter.Conradie@psitek.com> shuffle things around to the
	right spots. Should have been done in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/at91sam7sx.cfg, tcl/board/at91sam9260.cfg,
	tcl/board/atmel_at91sam7s-ek.cfg,
	tcl/board/atmel_at91sam9260-ek.cfg,
	tcl/board/unknown_at91sam9260.cfg: native line endings git-svn-id: svn://svn.berlios.de/openocd/trunk@2603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/at91sam7sx.cfg, tcl/board/at91sam9260.cfg,
	tcl/board/atmel_at91sam7s-ek.cfg,
	tcl/board/atmel_at91sam9260-ek.cfg,
	tcl/board/unknown_at91sam9260.cfg: Pieter Conradie
	<Pieter.Conradie@psitek.com> Scripts for Atmel AT91SAM7S256 and
	AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@2602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c: Florian Boor <florian.boor@kernelconcepts.de>
	fixes a segfault executing commands from the web interface using the
	"Run Command" tab.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Piotr Ziecik <kosmo@semihalf.com> This patch adds
	handling blank characters between hex digits in SVF file, making
	OpenOCD compatible with files generated by Altera Quatrus II 9.0.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, configure.in, src/jtag/ft2232.c: - remove enable-ft2232-highspeed configure option, high speed ftdi
	support is now detected during the configure stage - warning now issued if high speed ftdi device found and openocd was
	built using an old driver git-svn-id: svn://svn.berlios.de/openocd/trunk@2599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>More Thumb2 disassembly:   ARMv7-M: A5.3.6 Load/store dual or exclusive, table branch GCC will generate the table branch instructions, usually with
	inlined tables that will confuse this disassembler.  LDREX and STREX
	are not issued by GCC without inline assembly.  This means all Thumb2 instructions implemented by Cortex-M3 can now
	be disassembled.  Cortex-A8 cores support more Thumb2 instructions,
	but most of those aren't yet publicly documented.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Jonas Horberg [jhorberg@sauer-danfoss.com]: Fix
	small typo in ftd2xx type detection git-svn-id: svn://svn.berlios.de/openocd/trunk@2597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell <david-b@pacbell.net>Fix some
	command helptext:  - spell "address" right  - list bp/wp params as optional And make those source lines wrap at sane margins.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: David Brownell <david-b@pacbell.net> Clean
	up some Cortex-M3 reset handling.   - AIRCR_SYSRESETREQ is generic; use it on any system where   SRST won't fly, not just on Stellaris-based ones.   - Reformat and improve comments about the Stellaris quirk; and   xref the only public docs (an email) about the issue.  It seems that *most* Stellaris chips have this problem.  Tempest
	parts aren't yet in general sampling; and if rev B silicon for
	earlier chips exists, it's not very visible yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell [david-b@pacbell.net]: Simplify dumping of register lists by only printing cached values if
	they are marked as valid.  Most of the time, they are invalid; so
	printing *any* value is just misleading.  Note that for ARM7 and ARM9 most EmbeddedICE registers (except for
	debug status) could be cached most of the time; and their register
	cache isn't maintained properly (many accesses seem to bypass that
	cache code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/mini2440.cfg: Brian Findlay <findlaybrian@gmail.com>
	Board support for mini2440 (friendlyARM) samsung s3c2440 based board git-svn-id: svn://svn.berlios.de/openocd/trunk@2593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, tcl/interface/jtagkey2.cfg: - add cfg file for Amontec JTAGKey2 jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@2592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, configure.in, src/jtag/ft2232.c: Jonas Horberg
	[jhorberg@sauer-danfoss.com]

	https://lists.berlios.de/pipermail/openocd-development/2009-August/009939.html1. It can only be built with the FTD2XX driver. libftdi supports
	FT2232H/FT4232H since version 0.16 2. A speed value of 0 is used as a RTCK request indicator. This
	clashes with the valid clock division value 0 that provide the
	highest fixed clock frequency.  3. The ft2232_speed_div function return the maximum selectable
	frequency (30MHz) when RTCK is activated. It should return 0.  4. The ft2232_khz function return ERROR_OK when RTCK is requested
	even for devices lacking RTCK support. It should return ERROR_FAIL
	so the upper driver layers can detect this and try to fallback to a
	fixed frequency.  5. FT2232H/FT4232H have a backward compatibility function that
	divide the clock by 5 to get the same frequency range as FT2232D.
	There is no code that disable this functionality. I can not find
	anything about if this is enabled or disabled by default.  I think
	it is safest to actively disable it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c: Jonas Horberg [jhorberg@sauer-danfoss.com] Change
	jtag_rclk behaviour so it can be called before the interface init
	function git-svn-id: svn://svn.berlios.de/openocd/trunk@2590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/lm3s1968.cfg, tcl/target/lm3s3748.cfg,
	tcl/target/lm3s6965.cfg, tcl/target/lm3s811.cfg,
	tcl/target/lm3s9b9x.cfg: David Brownell <david-b@pacbell.net>
	Cleanup the Stellaris target configs:  - remove endianness options; these chips hard-wire "little"  - $_TARGETNAME updates:     * don't pass $_TARGETNAME where a TAP label is required     * flash config uses $_TARGETNAME (it might not be target #0)     * simplify one $_TARGETNAME construction  - update work area setup:     * remove VM spec; these chips have no VM!     * fix some wrong sizes (0x4000 == 16K, not 4K)     * simplify: take defaults  - comment fixups git-svn-id: svn://svn.berlios.de/openocd/trunk@2589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/cortex_m3.c, src/target/cortex_m3.h: 
	David Brownell <david-b@pacbell.net> Add "cortex_m3 vector_catch"
	command and docs.  One minor issue with this is that the core debug
	support uses this mechanism, then trashes its state over reset.
	Users can Work around that (for now) by re-assigning the desired
	config after reset.  Also fixes "target halted due to target-not-halted" goof.  When we
	can't describe the reason using OpenOCD's limited vocabulary, say
	"reason undefined" instead of saying it's not halted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm9tdmi.c, src/target/embeddedice.c: David Brownell
	<david-b@pacbell.net> Clean up ARM7/ARM9 EmbeddedICE register
	handling ... don't use parallel arrays (error prone) or assume all
	registers are 32-bits wide (they can have fewer bits); don't use
	spaces in register names, so they can be passed more easily to the
	"reg" command.  Minor updates for ARM9 vector_catch support:  it's an 8-bit value.
	This seems to help this core's vector_catch command work a bit
	better; but its behavior wih the register cache is still goofy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: David Brownell <david-b@pacbell.net> Several
	of the ARMv7M registers are 8 bits or less; don't display them as 32
	bits unless that's their true size.  (Removes some confusion.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/davinci_nand.c: Piotr Ziecik <kosmo@semihalf.com> Due to
	errors in chipselect management in davinci_nand driver OpenOCD was
	able to access only to chips attached to first EMIF chipselect. This
	patch fixes chipselect management code and allows OpenOCD to access
	to NAND devices attached to any EMIF CS line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ek-lm3s811.cfg, tcl/target/lm3s811.cfg: Xiaofan Chen
	<xiaofanc@gmail.com> Split LM3S811 config file into target file and
	board file git-svn-id: svn://svn.berlios.de/openocd/trunk@2584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/c100.cfg, tcl/target/telo.cfg: michal smulski
	<michal.smulski@ooma.com> arm11 target config files git-svn-id: svn://svn.berlios.de/openocd/trunk@2583
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ek-lm3s1968.cfg, tcl/target/lm3s1968.cfg: Xiaofan Chen
	<xiaofanc@gmail.com> Add config file for TI-Luminary LM3S1968 chip
	and EK-LM3S1968 board git-svn-id: svn://svn.berlios.de/openocd/trunk@2582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: Ferdinand Postema
	<ferdinand@postema.eu> cygwin 32 bit warning git-svn-id: svn://svn.berlios.de/openocd/trunk@2581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11_dbgtap.c: added note w/reference to discussion on
	whether or not arm11 code is broken or not.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/lpc2000.c, src/flash/lpc2000.h,
	tcl/board/keil_mcb1700.cfg, tcl/target/lpc1768.cfg: Audrius
	Urmanavičius [didele.deze@gmail.com]: Add flash programming support
	for NXP LPC1700 cortex_m3 based family git-svn-id: svn://svn.berlios.de/openocd/trunk@2579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: David Brownell <david-b@pacbell.net>: Warn about
	anyone using "jtag_speed" commands; that command is obsolete, and
	will someday be removed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Better
	explanation for the TAP "-ircapture" parameter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Ferdinand Postema
	[ferdinand@postema.eu] - fix vector catch issues with certain ARM9 cores - AT91SAM9260 and
	STR9 git-svn-id: svn://svn.berlios.de/openocd/trunk@2576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: - fix segfault introduced during cortex reg cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Gary Carlson [gcarlson@carlson-minot.com]: - revert patch from rev1507 as it was causing reset issues with arm9
	cores git-svn-id: svn://svn.berlios.de/openocd/trunk@2574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/interface/arm-usb-ocd.cfg, tcl/interface/axm0432.cfg,
	tcl/interface/calao-usb-a9260-c01.cfg,
	tcl/interface/calao-usb-a9260-c02.cfg,
	tcl/interface/flyswatter.cfg,
	tcl/interface/hitex_str9-comstick.cfg, tcl/interface/icebear.cfg,
	tcl/interface/jtagkey.cfg, tcl/interface/luminary-lm3s811.cfg,
	tcl/interface/luminary.cfg, tcl/interface/olimex-arm-usb-ocd.cfg,
	tcl/interface/olimex-jtag-tiny.cfg, tcl/interface/oocdlink.cfg,
	tcl/interface/openocd-usb.cfg, tcl/interface/sheevaplug.cfg,
	tcl/interface/signalyzer.cfg, tcl/interface/stm32-stick.cfg,
	tcl/interface/turtelizer2.cfg: - Bring all the ftdi names inline in the cfg scripts. scripts will
	now work for either ftd2xx or libftdi drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: michal smulski <michal.smulski@ooma.com>: Fix ARM11 half-word bulk memory read and write.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-31  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - add configure error if building parport interface under cygwin and
	sys/io.h missing git-svn-id: svn://svn.berlios.de/openocd/trunk@2571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: Fix NPE in GDB_EVENT_END as logforwarding
	was not disabled early enough git-svn-id: svn://svn.berlios.de/openocd/trunk@2570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS: add "dummy" interface trick to the BUGS reporting
	suggestions git-svn-id: svn://svn.berlios.de/openocd/trunk@2569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> More testcase work:        A5.3.11 Data processing (shifted register) The usual kinds of problems; the most noteworthy were that the "S"et
	flags bit was mis-handled in these instructions.  --- This is the
	last patch from a quickie set of tests covering all encodings of the
	instructions with 32-bit opcodes.  There may be some corner cases
	left, plus the instructions that aren't yet handled, but the Thumb2
	disassembler is no longer just "lightly" tested with GCC output ...
	the new code paths have mostly been verified.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: More instruction decoding fixes:        A5.3.5 Load/store multiple        A5.3.7 Load word There was a longstanding bug in Thumb-1 LDM; the rest of the LDM/STM
	fixes are just using width specs to match UAL syntax, except for two
	opcode name typos.  Load word had two bitmask goofs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> More fixes from test cases:        A5.3.8 Load halfword, unallocated memory hints It's mostly the usual sort of bitmasking goofage and getting the
	width specs right.  In one case an older x86 GCC generated bad code
	unless I structred a conditional differently (sigh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> More instruction decoding fixes:        A5.3.5 Load/store multiple        A5.3.7 Load word There was a longstanding bug in Thumb-1 LDM; the rest of the LDM/STM
	fixes are just using width specs to match UAL syntax, except for two
	opcode name typos.  Load word had two bitmask goofs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> More instruction decoding fixes based on test
	cases, covering ARMv7-M arch manual:  A5.3.1 Data processing (modified immediate)  A5.3.3 Data processing (plain binary immediate)  A5.3.4 Branches and miscellaneous control and other (immediate) encodings referenced there.  Several of these
	just tweak the new syntax ("Unified" ARM/Thumb: UAL) but there were
	a few bugs too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> Bugfix some instruction decoding ... I've
	crafted asm files with testcases covering several new encodings in
	these sections of the ARMv7-M arch manual:  A5.3.12 Data processing (register)  A5.3.13 Miscellaneous operations  A5.3.14 Multiply, and multiply accumulate  A5.3.15 Long multiply, long multiply accumulate, and divide The issues were mostly in '12 and '13; some new related 16-bit
	opcodes had issues too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> I noticed there are a few checks for
	(rt == 0xf) even though that case is handled with an early return at
	the top of the function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>  thumb2 disassembly for Load halfword git-svn-id: svn://svn.berlios.de/openocd/trunk@2561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> thumb2 disassembly for Load byte, memory hints git-svn-id: svn://svn.berlios.de/openocd/trunk@2560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c,
	src/target/arm_adi_v5.c: Ferdinand Postema <ferdinand@postema.eu>
	fix cygwin warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/crossbow_tech_imote2.cfg: Jonathan Cameron
	<jic23@cam.ac.uk> fix regression from 1836 when the reset_config
	command was removed from pxa270.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/samsung_s3c2450.cfg: Stefano Voulaz
	<s.voulaz@projecktstudio.com> first cut samsung_s3c2450 git-svn-id: svn://svn.berlios.de/openocd/trunk@2556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: David Brownell <david-b@pacbell.net>: Dump SP on poll, and show whether it's MSP or PSP.  Thread mode can use either stack pointer, so this is part of the
	state that's not yet displayed.  Shrink some lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c: 
	David Brownell <david-b@pacbell.net>: Clean up treatment of registers in ARMv7-M and Cortex-M3.   - At the arch level:     * Just list registers and names; don't impose core-specific       policy about how they are accessed.      * Each register has a symbol.      * Remove the register mode field (irrelevant to debugger)  - At the core/implementation level:     * Just map the registers to their relevant access methods;       don't require the arch level to say how that should work       (cores other than Cortex-M3 could do it differently).      * Don't use undefined bits from register 20.      * Use register IDs that are part of the ARMv7-M interface.  In short, there's now a real distinction between the arch and core
	layers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Minor updates to the Thumb2 disassembly:  - Bugfixes:     * Distinguish branch from misc via "!=" not "=="     * MRS register shift is 8 bits (vs MSR being 16)  - Format tweaks:     * CPS needed tab (not space)     * add commma before some shifts     * add space after comma in LDM/STM     * use ".W" width spec on various instructions git-svn-id: svn://svn.berlios.de/openocd/trunk@2553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h: David Brownell <david-b@pacbell.net>: Revert parts of the previous ARMv7-M register patch.  It turns out
	that part of the issue is a documentation problem for the Cortex-M3
	r1 parts. So for the rest, simpler fixes are possible (in followup
	patch).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - fix issue with reading device id, bug appeared when flash_address
	code was added - fix issue when multiple flash chips are connected, eg. x16 x 2 on
	32bit mcu bus git-svn-id: svn://svn.berlios.de/openocd/trunk@2551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: aduc flash problems have been resolved git-svn-id: svn://svn.berlios.de/openocd/trunk@2550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, doc/manual/scripting.txt, ecosflash/Makefile,
	ecosflash/flash.S, ecosflash/flash.c, src/ecosboard.c,
	src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc288x.c, src/helper/binarybuffer.c,
	src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/command.h, src/helper/configuration.c,
	src/helper/configuration.h, src/helper/fileio.c,
	src/helper/fileio.h, src/helper/ioutil.c,
	src/helper/jim-eventloop.c, src/helper/jim-eventloop.h,
	src/helper/jim.c, src/helper/jim.h, src/helper/log.c,
	src/helper/log.h, src/helper/options.c, src/helper/replacements.c,
	src/helper/replacements.h, src/helper/time_support.c,
	src/helper/time_support.h, src/helper/types.h, src/jtag/bitbang.c,
	src/jtag/bitbang.h, src/jtag/core.c, src/jtag/dummy.c,
	src/jtag/interface.c, src/jtag/jtag.h,
	src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/parport.c,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/openocd.c, src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/httpd.c, src/server/server.c, src/server/server.h,
	src/server/telnet_server.c, src/server/telnet_server.h,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/armv7m.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/image.c, src/target/image.h, src/target/mips32.c,
	src/target/register.c, src/target/register.h, src/target/target.c,
	src/target/target.h, src/target/target_request.c,
	src/target/target_request.h, src/target/xscale.c,
	src/target/xscale.h, src/xsvf/xsvf.c: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> UTF8 fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: added item to come up with slick new 32 bit jtag_add_xxx()
	API git-svn-id: svn://svn.berlios.de/openocd/trunk@2548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: microscopic whitespace cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.c: microscopic white space fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - disable using parport ppdev under win32 hosts git-svn-id: svn://svn.berlios.de/openocd/trunk@2545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/armv7m.c: Magnus Lundin <lundin@mlu.mine.nu>, Oyvind
	Harboe <oyvind.harboe@zylin.com>, David Brownell
	<david-b@pacbell.net>: Move the dap command handler implementations to arm_adi_v5.c,
	leaving just thin wrappers in armv7m.c.  There should be no change
	in functionality here.  (From Magnus.) Minor style cleanup:  whitespace, line length, etc.  Update spec
	references to use docs which are currently available.  (From Dave.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h: Magnus Lundin <lundin@mlu.mine.nu>, Oyvind
	Harboe <oyvind.harboe@zylin.com>, David Brownell
	<david-b@pacbell.net>: Some cleanup of the ARMv7-M support:  - Reference the relevant ARMv7-M ARM doc (DDI 0405C to
	   non-Vendors), and update the Cortex-M3 doc refs (DDI 0337C is no
	longer available).   - Those registers aren't actually general, and some are incorrect
	   (per all public docs anyway).  Update comments and code
	accordingly.       * What the Core Debug facility exposes is
	       *implementation-specific* not architectural.  These values
	       aren't fully portable.  They match Cortex-M3 ... so no current
	       implementation will make trouble, but the next v7m implementation
	might.       * Four of the registers are actually not exposed that way.
	       Before Cortex-M3 r2p0 they are read/written through MRS/MSR
	       instructions.  In that newest silicon, they are four bytes in one
	       register, not four separate registers.   - Update the CM3 code to report when that one register is
	   available, and not try to access it when it isn't.  Also declare
	   the register numbers that an eventual MRS/MSR solution will need to
	be using.   - Stop line wrapping the exception labels.  So for parts before r2p0 OpenOCD behavior is effectively unchanged,
	and still buggy; but for those newer parts a few things might now be
	correct.  Most current Cortex-M3 parts use r1p1 (or earlier); this seems to
	include most LM3S parts and all STM32 parts.  Parts using r2p0 are
	available, and include fourth generation LM3S parts ("Tempest") plus
	AT91SAM3 and LPC17xx parts which are now sampling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More 32-bit Thumb2 instruction decoding: 	A5.3.7 Load word git-svn-id: svn://svn.berlios.de/openocd/trunk@2542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More 32-bit Thumb2 instruction decoding: 	A5.3.12 Data processing (register) git-svn-id: svn://svn.berlios.de/openocd/trunk@2541
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More 32-bit instruction decoding: 	A5.3.11 Data processing (shifted register) git-svn-id: svn://svn.berlios.de/openocd/trunk@2540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More instructions decoded: 	A5.3.5 Load/store multiple The preferred PUSH/POP syntax is shown when appropriate.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More instructions decoded: 	A5.3.14 Multiply, and multiply accumulate 	A5.3.15 Long multiply, long multiply accumulate, divide The EABI requires *adjacent* register pairs, but the long multiply
	ops can use any pair of registers; interesting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: More Thumb2 32-bit opcode support: 	 A5.3.10 Store single data item Byte, word, halfword.  Offset, pre-index, post-index.  And a "make
	like you're unprivileged" option when using small immediate offsets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Print old-style Thumb NOP instructions as such.  (GCC uses "mov r8,
	r8" instead of the architected NOP which is new in Thumb2.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Make disassembly of the Thumb load-literal instruction show the
	address of the literal being loaded (so users can avoid doing that
	math themselves).  Add and use an Align(PC,4) utility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Make the Thumb2 disassembler handle more 32-bit instructions:   A5.3.3 Data processing (plain binary immediate) These use mostly twelve bit literals, but there are also bitfield
	and saturated add primitives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Make the Thumb2 disassembler handle more 32-bit instructions:   A5.3.1 Data processing (modified immediate) My small sample shows GCC likes to use many of these instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Make the Thumb2 disassembler handle a bunch of 32-bit instructions:   A5.3.4 Branches and miscellaneous control Note that this shifts some responsabililty out of helper functions,
	making the code and layout simpler for 32-bit decoders:  they only
	need to know how to format the instruction and its parameters.  Also, technical note:  with this patch, Thumb1 decoders could now
	call the Thumb2 decoder if they wanted to get nicer treatment of the
	exiting 32-bit B/BLX instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: David Brownell
	<david-b@pacbell.net>: Change layout of Thumb disassembly to work better with Thumb2:  - Move opcode to the left, allowing space for four hex bytes:     * after address, two spaces not one tab (taking 6 spaces)     * after 2-byte opcode, four spaces before tab  - Also, after opcode mnemonic use a tab not a space, to make    operands line up Sample output (after some patches decoding a few 32-bit
	instructions): 0x00003e5a  0xf4423200	ORR	r2, r2, #131072	; 0x20000 0x00003e5e
	0x601a    	STR 	r2, [r3, #0x0] 0x00003e60  0x2800    	CMP	r0, #0x00
	0x00003e62  0xd1f3    	BNE	0x00003e4c 0x00003e64  0xf008fa38	BL
	0x0000c2d8 The affected lines of code now wrap at sane margins too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/arm_disassembler.c,
	src/target/arm_disassembler.h, src/target/cortex_m3.c: David
	Brownell <david-b@pacbell.net>: Initial support for disassembling Thumb2 code.  This works only for
	Cortex-M3 cores so far.  Eventually other cores will also need
	Thumb2 support ... but they don't yet support any kind of
	disassembly.   - Update the 16-bit Thumb decoder:      * Understand CPS, REV*, SETEND, {U,S}XT{B,H} opcodes added        by ARMv6.  (It already seems to treat CPY as MOV.)      * Understand CB, CBNZ, WFI, IT, and other opcodes added by        in Thumb2.   - A new Thumb2 instruction decode routine is provided.       * This has a different signature:  pass the target, not the        instruction, so it can fetch a second halfword when needed.         The instruction size is likewise returned to the caller.       * 32-bit instructions are recognized but not yet decoded.   - Start using the current "UAL" syntax in some cases.  "SWI" is    renamed as "SVC"; "LDMIA" as "LDM"; "STMIA" as "STM".   - Define a new "cortex_m3 disassemble addr count" command to give    access to this disassembly.  Sanity checked against "objdump -d" output; a bunch of the new
	instructions checked out fine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/parport.c: print errno when parport fails to open.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* .settings/org.eclipse.core.resources.prefs: retire Eclipse
	settings, charset will be set elsewhere.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* .settings/org.eclipse.core.resources.prefs: Eclipse settings
	include charset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: David Brownell <david-b@pacbell.net> mention udev, and
	correct D2XX speed mentions git-svn-id: svn://svn.berlios.de/openocd/trunk@2526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix small typo in documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@2525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: 1.54 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS, NEWS-0.2.0: Archive released NEWS file: NEWS -> NEWS-0.2.0
	Create new NEWS file from release script template.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Bump minor version and add tag: Bump minor package
	version number: 0.2.0 -> 0.3.0 Add '-in-development' version tag:
	0.3.0 -> 0.3.0-in-development git-svn-id: svn://svn.berlios.de/openocd/trunk@2521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Remove '-in-development' version tag:
	0.2.0-in-development -> 0.2.0 git-svn-id: svn://svn.berlios.de/openocd/trunk@2517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Improve the release script before 0.2.0: 1) Only archive NEWS file on major and minor relesae, not bug-fixes.  2) Switch back to correct development branch during final release
	step.  3) Add do_svn_switch helper to ensure package variables are
	reloaded.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, README.Win32: Split Windows README instructions into new
	file, with a few fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Make the parport-ppdev option enabled by default.
	This may require giving --disable-parport-ppdev to configure on some
	platform(s).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Gary Carlson <gcarlson@carlson-minot.com>
	Spencer Oliver <spen@spen-soft.co.uk> - fix jlink win32/linux/darwin startup issues - see

	https://lists.berlios.de/pipermail/openocd-development/2009-July/009438.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@2513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: Xiaofan Chen <xiaofanc@gmail.com> document my experiment
	with MinGW cross build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libftdi/README, contrib/libftdi/libftdi-0.12_win32.patch: 
	Xiaofan Chen <xiaofanc@gmail.com> retire obsolete patch. OpenOCD
	only supports 0.14 and newer and the patch was for 0.14.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: Magnus Lundin  Thc cortex_m3_poll function
	does not identify that a target is running unless we transition from
	RESET.  This patch correctly identifies a running target.  Patch made a tad more palatable by David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/interface/usbprog.cfg: Peter Denison <openwrt@marshadder.org>
	workaround for broken USBprog w/short tms sequences git-svn-id: svn://svn.berlios.de/openocd/trunk@2509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Mention how
	parallel clock voting implementations of RTCK work, and reference
	TI's free VHDL code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c: Simple warning fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: wrote up workaround for xscale/debug_handler.bin bug git-svn-id: svn://svn.berlios.de/openocd/trunk@2506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: noted XScale (or USBProg) problem git-svn-id: svn://svn.berlios.de/openocd/trunk@2505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ek-lm3s3748.cfg, tcl/target/lm3s3748.cfg: David Brownell
	<david-b@pacbell.net> split EK board support out from the target CPU
	support .  git-svn-id: svn://svn.berlios.de/openocd/trunk@2504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/style.txt: Add style rule to avoid combining assignment
	and logical tests.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: Add section to provide some documentation for
	cross-compiling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/patches.txt: Add microscopic style guide at the
	end of the PATCH primer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS, PATCHES, TODO: Add comments to top-level files to "excuse"
	their Doxygen markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c: Fix SEGFAULTs and broken error handling for
	flash programming w/working area git-svn-id: svn://svn.berlios.de/openocd/trunk@2499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: fix formatting of xscale bug entry(learning every day) git-svn-id: svn://svn.berlios.de/openocd/trunk@2498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Xscale installation regression entered git-svn-id: svn://svn.berlios.de/openocd/trunk@2497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: typo in comment git-svn-id: svn://svn.berlios.de/openocd/trunk@2496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: some TODO notes on aduc702x which clearly needs more work &
	testing git-svn-id: svn://svn.berlios.de/openocd/trunk@2495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: i.MX27 reset problems fixed & update remaining reset
	problems notes git-svn-id: svn://svn.berlios.de/openocd/trunk@2494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/imx21.cfg, tcl/target/imx27.cfg: sharpen reset_config
	for imx27 - use both trst & srst. srst pulls trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/imx27.cfg: srst pulls trst according to Freescale docs
	for i.mx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@2492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Zach Welch: move bugs into the right section git-svn-id: svn://svn.berlios.de/openocd/trunk@2491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Use reference to mailing list for known arm926ejs bugs
	rather fill The List with lots of details git-svn-id: svn://svn.berlios.de/openocd/trunk@2490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: fixed a small typo in howto create doxygen docs git-svn-id: svn://svn.berlios.de/openocd/trunk@2489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: fix return value for "reset" and "runtest"
	command. Found by code inspection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: delete long retired commented out code
	(daemon_startup) git-svn-id: svn://svn.berlios.de/openocd/trunk@2487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: more arm926ejs bugs git-svn-id: svn://svn.berlios.de/openocd/trunk@2486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: added known arm926ejs regressions git-svn-id: svn://svn.berlios.de/openocd/trunk@2485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, tcl/target/ti_dm355.cfg,
	tcl/target/ti_dm365.cfg, tcl/target/ti_dm6446.cfg: David Brownell
	<david-b@pacbell.net> Update docs to say that "arm7_9 dbgrq enable"
	is the default on ARM9 cores, and update the DaVinci config files so
	they no longer explicitly specify it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - change sleep to usleep - fixes issue under win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@2483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/replacements.h: - fix build when using a cross compiler - do not try and run any
	host tools - add missing types.h when platform does not contain elf.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.h: more debug output for translation of arm
	mode number to enum git-svn-id: svn://svn.berlios.de/openocd/trunk@2481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.h: a bit more debug output for translation of
	invalid mode numbers git-svn-id: svn://svn.berlios.de/openocd/trunk@2480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: Fix certain arm926ejs targets(e.g. i.MX27)
	which report an unknown MOE(method of entry) - interpret this as
	dbgrq. "reset run" + "halt" + "step" now works.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Fix regression in "step" command introduced
	in 2190 git-svn-id: svn://svn.berlios.de/openocd/trunk@2478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: revert svn 1679 - fixes cp15 read/write
	timeout. Single stepping still broken.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/release.txt: Update Release Script documentation to
	reflect current implementation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/release.txt: The late birth of the NEWS file also
	caused me to revisit the release process once again and reconsider
	it in some detail.  In doing so, some further revisions to the
	process were required: 1) The URL of the repository is embedded in the released code.     - The packages need to be created from the tagged branch.     - The URL then points to where to get the tagged code.  2) Improve the instructions for NEWS handling.     - NEWS file must be updated for each release; describe that
	   process.  - The NEWS file should be archived an recreated for each release.  3) Add detail steps for the berliOS release process.  4) Minor cleanups to release process doxygen markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS: Add NEWS file for the 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/release.sh: Add script to automate most of the release
	process.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c: Ferdinand Postema
	<ferdinand@postema.eu>: Updates to private TAP state tables in amtjtagaccel interface
	driver.  The first change is the neccesary one to correct a long-standing bug
	that caused the IDCODE to be shifted by one bit too many.  This was
	caused by an incorrect path from state RESET to state DRSHIFT.  The value of those 2 bytes were 0x8a and 0x04. This means that the
	bitstream to do this transition is 0b 00100 01010 (send LSB first).
	This will bring you from the reset state to the shift state;
	however, you enter the shift-state twice, which explains why the
	ID-CODE that will be read next will be shifted 1 bit.  The fix
	changes these to 0x05 and 0x00.  This will send the bitstream 0b
	00101 (send LSB first).  This will bring the TAP controller from the
	RESET state to the DRSHIFT state directly, without entering the
	DRSHIFT state twice.  After checking the whole table, two other transitions were found
	that could be optimized (5 bits in stead of 10 bits).  Summary off all changes:   From   To       Old values  Old Bitstream  New values  New
	  Bitstream  Remarks ----   -------  ----------  -------------
	  ----------  -------------  ------- RESET  DRSHIFT  0x8a 0x04
	  0b00100 01010  0x05 0x00   0b00101        1,2 IDLE   DRSHIFT  0x85
	  0x08   0b01000 00101  0x04 0x00   0b00100        2 IDLE   IRSHIFT
	0x8b 0x08   0b01000 01011  0x06 0x00   0b00110        2 [1] Fixes the IDCODE bug [2] Optimization git-svn-id: svn://svn.berlios.de/openocd/trunk@2472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Gary Carlson <gcarlson@carlson-minot.com>: Fix intermittent J-Link interface startup failures: - Use usb_reset to ensure selected dongle is in known good state.  - Assert emulator reset durning status check to prevent supurious
	failures.  - Eliminate status check loop; not needed due to other fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: 10ms timeout check on cp15 read/write git-svn-id: svn://svn.berlios.de/openocd/trunk@2470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: simplify debug_reason check git-svn-id: svn://svn.berlios.de/openocd/trunk@2469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/Makefile.am: Fix maintainer-clean target in doc directory.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/digi_connectcore_wi-9c.cfg: bitrot: fix numerous syntax
	errors added correct jtag device id git-svn-id: svn://svn.berlios.de/openocd/trunk@2467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: added known problem w/line number's being off in syntax
	errors for target reset events git-svn-id: svn://svn.berlios.de/openocd/trunk@2466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: try to use tabs instead of spaces git-svn-id: svn://svn.berlios.de/openocd/trunk@2465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: human readable error message upon invalid
	arguments git-svn-id: svn://svn.berlios.de/openocd/trunk@2464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: zy1000 now listens for port 1234. Upon accepting
	connection reboot zy1000.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/release.txt: Major update to release process
	documentation: - Provide overview of OpenOCD versioning schema.  - Outline responsibilities and authority of the release manager.  - Explain the need for flexibility in the release schedule.  - Add and refine the release process steps.  - Include tutorials for using new release script.  - Many more improvements, too numerous to list.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more files to svn:ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@2460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS.ChangeLog: Add AUTHORS.ChangeLog file suitable to be
	passed to 'svn2cl --authors'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS: Add AUTHORS for 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, configure.in: Remove --enable-release option; if
	guess-rev.sh is missing, it is a release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/csb337.cfg, tcl/board/omap2420_h4.cfg,
	tcl/target/icepick.cfg, tcl/target/omap2420.cfg,
	tcl/target/ti_dm6446.cfg: Remove vim editor commands from TCL files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Fix FTD2XX build for CygWin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt, doc/manual/release.txt: Commit first draft of
	release process documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add svn:ignore to INSTALL file (it's generated) git-svn-id: svn://svn.berlios.de/openocd/trunk@2452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Fix two
	texinfo formatting bugs.  The first was visible by reading the
	output, and both were reported in openocd.log after making the PDF.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: David Brownell <david-b@pacbell.net>: More minor improvements to README to help polish the 0.2.0 release: - Add note about Ubuntu 8.04 (in lieu of starting a README.Linux
	file).  - Fix introductory paragraph to Bulding OpenOCD - Remove some vestigial texinfo markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/dm355evm.cfg, tcl/target/davinci.cfg: David Brownell
	<david-b@pacbell.net>: Prepare the DaVinci PLL code to support the version 0x0E module used
	in newer chips (e.g. dm365):  rename the original code so it's
	specific to version 0x02 PLL modules, and update the dm355evm code
	to use that new name.  Fix two minor bugs in that version 2 code:  sysclk3 setup used the
	sysclk2 divider address (affecting video processing on dm355, no
	worry for now) and sysclk2 setup had a syntax error.  Also minor fixups to dm355evm, mostly to permit use of RTCK.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/davinci_nand.c: David Brownell <david-b@pacbell.net>: Restore some whitespace that got clobbered by over-aggressive
	whitepace eradication patches a while back.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt: Minor fixes to Developer Manual pages.  - Fix cosmetic bug on main page - Add missing JTAG list item.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target_type.h: Add missing copyright header to
	target_type.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/membuf.h: Add missing copyright header and fix @page
	direction in membuf.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Update TODO list to relect 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: Add comments to README about compiler and library
	dependencies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/stm32.cfg: - add stm32 connectivity line tapid to stm32.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - correct stm32 connectivity line programming as per latest manual git-svn-id: svn://svn.berlios.de/openocd/trunk@2439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Remove at91sam3.h from flash.c; use extern like
	other drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Extend 'make dist' to produce both .tar.bz2 and .zip
	archives, to complement to the standard .tar.gz package.  Now, pick
	your poison! git-svn-id: svn://svn.berlios.de/openocd/trunk@2437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, doc/openocd.texi: Provide some useful information in
	README file, rather than punting.  Add some text to introduce the
	project to new users.  Move packaging, configuration, and compilation of OpenOCD out of the
	User's Guide and into README, where it can be used by users before
	configuring and compiling the documentation.  Improve notes about required Subversion repository build steps.  Add
	reference to the standard GNU INSTALL file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* INSTALL, Makefile.am, bootstrap: Switch automake handling to use
	--gnu mode, not --foreign.  Remove INSTALL file; automake generates
	a copy of the latest version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: - remove cygwin build warnings in at91sam3.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/atmel_sam3u_ek.cfg, tcl/target/cs351x.cfg: Add
	svn:eol-style native property to TCL files that are missing it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/atmel_sam3u_ek.cfg, tcl/target/at91sam3u1c.cfg,
	tcl/target/at91sam3u1e.cfg, tcl/target/at91sam3u2c.cfg,
	tcl/target/at91sam3u2e.cfg, tcl/target/at91sam3u4c.cfg,
	tcl/target/at91sam3u4e.cfg, tcl/target/at91sam3uXX.cfg: Remove
	executable bits from at91sam3 configuration files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/olimex_stm32_h103.cfg, tcl/target/stm32.cfg: 
	freddie_chopin@op.pl fix handling of workarea git-svn-id: svn://svn.berlios.de/openocd/trunk@2431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style properties missed in last commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/tcl.c: David Brownell
	<david-b@pacbell.net>: Add "jtag names" command, mirroring "target names" but returning TAP
	names instead of target names.  This starts letting TAPs be
	manipulated in scripts ... much like what works now for targets.  It's a bit limited just yet, since "jtag cget $TAPNAME" doesn't
	expose all TAP attributes.  "$TARGETNAME cget" is more functional.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS: Improve BUGS file wording and layout.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/membuf.h: Fix doxygen 'undocumented parameter' warnings
	in membuf.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.h: Fix search and replace casualty in flash.h
	doxygen block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Fix doxygen warning in jtag.h caused by a changed
	parameter name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: Fix doxygen warnings in new at91sam3 source
	file; normalize style.  Remove editor configuration from end of
	file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interfaces.c, src/jtag/interfaces.h: Fix @file
	documentation blocks in new interfaces source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Make bug reporting output at program start-ups use
	fewer new lines: - Move repository URL output associate it with the version; they
	relate.  - 'openocd --version' output now appears much more terse, as
	expected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/logger.pl: Fix logger.pl script to avoid spurious empty line
	in some cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/olimex_stm32_h103.cfg, tcl/target/stm32.cfg: Kevin
	Bortis <stm32@bortis.ch> fix worksize git-svn-id: svn://svn.berlios.de/openocd/trunk@2419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm6446.cfg: David Brownell <david-b@pacbell.net>: Minor bugfix ... previous version was tested *with* ICEpick active.
	The "-disable" can swap with "-enable"; but not with an empty
	string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm926ejs.c: David Brownell
	<david-b@pacbell.net>: Remove some bogus warnings during server startup for ARM926ejs
	targets that were already halted for debug ... e.g. started up a
	freshly built instance.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/pxa255_sst.cfg, tcl/target/pxa255.cfg: David Brownell
	<david-b@pacbell.net>: Improve the PXA255 target config:  move all that board-specific
	setup to the pxa255_sst board.cfg, to which it evidently belongs
	(it's the only PXA255 board now included).  Provide the PXA255 JTAG id from Intel docs, and add a comment about
	how this chip is now EOL'd (last orders taken).  Note that I still can't get my old PXA255 board to work.  There's
	something broken in the reset sequence, which is preventing the TAP
	from coming up at all.  Old mailing list posts suggest this is a
	longstanding bug...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/str9xpec.c, src/jtag/core.c,
	src/jtag/jtag.h: David Brownell <david-b@pacbell.net>: Warn when people (or scripts) use numeric identifiers for TAPs,
	instead of dotted.name values.  We want this usage to go away, so
	that for example adding more TAPs doesn't cause config scripts to
	break because some sequence number changed.  It's been deprecated since late 2008, but putting a warning on this
	should help us remove it (say, in June 2010) by helping to phase out
	old (ab)usage in config scripts.  Other than in various config files, the only code expecting such a
	number was the almost unused str9xpec driver.  This code was changed
	to use the TAP it was passed, instead of making its own dubious
	lookup and ignoring that TAP.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Minor fixup to the User's Guide, primarily related to the handful of
	commands defined in "startup.tcl"; "help" was not previously
	documented.  Also, be more consistent about "Config Command" definitions (and to
	be explicit about that doc convention).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/interfaces.c,
	src/jtag/interfaces.h, src/jtag/tcl.c: Move JTAG interface list to
	new files.  - Adds new source files to encapsulate static/dynamic module
	handling.  - Further work should implement the jtag_interface_modules_load
	  routine, to populate the jtag_interfaces list from shared libraries
	in a path.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> various
	missing commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Remove extra newline from debug log message git-svn-id: svn://svn.berlios.de/openocd/trunk@2411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: A bit more log detail about connections
	comming and going git-svn-id: svn://svn.berlios.de/openocd/trunk@2410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/cortex_m3.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/target.h, src/target/xscale.c: Refactor code, create
	target_state_name() git-svn-id: svn://svn.berlios.de/openocd/trunk@2409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/breakpoints.c,
	src/target/breakpoints.h, src/target/cortex_m3.c,
	src/target/mips_m4k.c: Add Breakpoint/Watchpoint unique ID to help
	debug hardware debug register leakage git-svn-id: svn://svn.berlios.de/openocd/trunk@2408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: Change from alloca() to malloc() git-svn-id: svn://svn.berlios.de/openocd/trunk@2407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/membuf.c: Switch to strotk() grr....  git-svn-id: svn://svn.berlios.de/openocd/trunk@2406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: zy1000 rev C work git-svn-id: svn://svn.berlios.de/openocd/trunk@2405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Add a short
	chapter on boundary scan support, which currently just documents the
	SVF and XSVF commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - fix issue when using gdb_port cmd - bug introduced in r2240 git-svn-id: svn://svn.berlios.de/openocd/trunk@2403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.h, src/target/mips_m4k.c: Oleksandr
	Tymoshenko <gonzo@bluezbox.com> simple watchpoint support for
	MIPS32/EJTAG (no value comparation yet).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: Fixes from Oleksandr
	Tymoshenko "gonzo@bluezbox.com" git-svn-id: svn://svn.berlios.de/openocd/trunk@2401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net> Fix
	formatting bug in at91sam7 doc added with the at91sam3 support; and
	some formatting issues with sam7 and stm32 keyword params.  Tweak at91sam3 docs.  Remove ninth nibble from flash bank addresses,
	clarify "at91sam3 show" variants and that the flash bank layout is
	not needed as a parameter (unlike with sam7); formatting fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: Minor fixes to new at91sam3 files for
	x86-32/64 compilation problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c, src/helper/membuf.h: 
	Remove whitespace at end of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: - Replace '){' with ') {'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c, src/helper/membuf.h: 
	Remove whitespace that occurs before ')'.  - Replace '[ \t]*[)]' with ')'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c, src/helper/membuf.h: 
	Remove whitespace that occurs after '('.  - Replace '([ \t]*' with '('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/membuf.h: - Fixes '[<>]' whitespace - Replace '\(\w\)\([<>]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: - Fixes '[|]' whitespace - Replace '\(\w\)\([|]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: - Fixes '+' whitespace - Replace '\(\w\)\(+\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.h: - Fixes '=' whitespace - Replace '\(\w\)\(=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: - Fixes '==' whitespace - Replace '\(\w\)\(==\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: - Replace 'for(' with 'for ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: - Replace 'switch(' with 'switch ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c: - Replace 'while(' with 'while ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/helper/membuf.c: - Replace 'if(' with 'if ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - correct configure ftd2xx highspeed test git-svn-id: svn://svn.berlios.de/openocd/trunk@2385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam3.c, src/flash/at91sam3.h, src/helper/membuf.c,
	src/helper/membuf.h: Fix end-of-line style properties on newly added
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/Makefile.am, src/flash/at91sam3.c,
	src/flash/at91sam3.h, src/flash/flash.c,
	tcl/board/atmel_sam3u_ek.cfg, tcl/target/at91sam3u1c.cfg,
	tcl/target/at91sam3u1e.cfg, tcl/target/at91sam3u2c.cfg,
	tcl/target/at91sam3u2e.cfg, tcl/target/at91sam3u4c.cfg,
	tcl/target/at91sam3u4e.cfg, tcl/target/at91sam3uXX.cfg: Add support
	for ATMEL AT91SAM3U - CortexM3 Family git-svn-id: svn://svn.berlios.de/openocd/trunk@2383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am: Add quick target - full cygwin builds take a long
	long long time, this shortens the edit/build/debug cycle git-svn-id: svn://svn.berlios.de/openocd/trunk@2382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/membuf.c, src/helper/membuf.h: 
	Add a growable sprintf memory buffer library git-svn-id: svn://svn.berlios.de/openocd/trunk@2381
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/fileio.c, src/helper/jim-eventloop.c,
	src/helper/jim-eventloop.h, src/helper/jim.c, src/helper/jim.h,
	src/helper/log.h, src/helper/options.c, src/helper/replacements.c,
	src/helper/time_support.c, src/jtag/arm-jtag-ew.c, src/jtag/core.c,
	src/jtag/ft2232.c, src/jtag/minidriver.h, src/jtag/presto.c,
	src/server/server.c, src/server/tcl_server.c, src/svf/svf.c,
	src/xsvf/xsvf.c, testing/examples/AT91R40008Test/inc/typedefs.h,
	testing/examples/AT91R40008Test/src/main.c,
	testing/examples/LPC2148Test/inc/typedefs.h,
	testing/examples/LPC2148Test/src/main.c,
	testing/examples/LPC2294Test/inc/typedefs.h,
	testing/examples/LPC2294Test/src/main.c,
	testing/examples/PIC32/BlinkingLeds.c,
	testing/examples/SAM7S256Test/inc/typedefs.h,
	testing/examples/SAM7S256Test/src/main.c,
	testing/examples/SAM7X256Test/inc/typedefs.h,
	testing/examples/SAM7X256Test/src/main.c,
	testing/examples/STR710JtagSpeed/inc/typedefs.h,
	testing/examples/STR710JtagSpeed/src/main.c,
	testing/examples/STR710Test/inc/typedefs.h,
	testing/examples/STR710Test/src/main.c,
	testing/examples/STR912Test/inc/typedefs.h,
	testing/examples/STR912Test/src/main.c,
	testing/examples/cortex/test.c,
	testing/examples/ledtest-imx27ads/test.c,
	testing/examples/ledtest-imx31pdk/test.c: Remove whitespace at end
	of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/cfi.c,
	src/flash/flash.c, src/flash/flash.h, src/flash/mflash.c,
	src/flash/nand.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/pic32mx.c, src/flash/stellaris.c, src/flash/str7x.c,
	src/flash/tms470.c, src/target/algorithm.h, src/target/arm11.c,
	src/target/arm926ejs.h, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.h, src/target/arm_disassembler.c,
	src/target/arm_disassembler.h, src/target/arm_jtag.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/armv7m.h, src/target/breakpoints.c,
	src/target/cortex_m3.h, src/target/feroceon.c, src/target/mips32.c,
	src/target/mips32.h, src/target/mips32_dmaacc.c,
	src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/trace.c,
	src/target/xscale.h, src/target/xscale/protocol.h: Remove whitespace
	at end of lines, step 1.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c, src/flash/str9xpec.c, src/helper/command.c,
	src/helper/jim.c, src/helper/jim.h, src/jtag/core.c,
	src/jtag/interface.c, src/jtag/tcl.c, src/pld/xilinx_bit.c,
	src/server/gdb_server.c, src/target/target.c: - Replace '){' with ') {'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/flash/aduc702x.c, src/flash/at91sam7.c,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/davinci_nand.c,
	src/flash/ecos.c, src/flash/flash.c, src/flash/mflash.c,
	src/flash/nand.c, src/flash/ocl/at91sam7x/dcc.c,
	src/flash/pic32mx.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/helper/binarybuffer.c,
	src/helper/command.c, src/helper/ioutil.c, src/helper/jim.c,
	src/helper/jim.h, src/helper/log.h, src/helper/replacements.h,
	src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/commands.c, src/jtag/core.c, src/jtag/driver.c,
	src/jtag/dummy.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/interface.c, src/jtag/interface.h, src/jtag/parport.c,
	src/jtag/rlink/dtc_cmd.h, src/jtag/rlink/rlink.c, src/jtag/tcl.c,
	src/jtag/vsllink.c, src/jtag/zy1000/jtag_minidriver.h,
	src/openocd.c, src/pld/virtex2.c, src/server/gdb_server.c,
	src/server/httpd.c, src/server/server.c, src/svf/svf.c,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm966e.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/arm_disassembler.c,
	src/target/armv4_5.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/etb.c, src/target/image.c, src/target/mips32.c,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_m4k.c,
	src/target/register.c, src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_type.h,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: Remove
	whitespace that occurs before ')'.  - Replace '[ \t]*[)]' with ')'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/flash.c, src/flash/non_cfi.c,
	src/flash/ocl/at91sam7x/samflash.c, src/flash/pic32mx.c,
	src/flash/stm32x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/helper/command.c, src/helper/fileio.c, src/helper/ioutil.c,
	src/helper/jim-eventloop.c, src/helper/jim.c, src/helper/jim.h,
	src/helper/log.h, src/helper/replacements.h,
	src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c, src/jtag/bitq.c,
	src/jtag/core.c, src/jtag/driver.c, src/jtag/dummy.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/interface.c,
	src/jtag/interface.h, src/jtag/parport.c, src/jtag/rlink/dtc_cmd.h,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c, src/jtag/vsllink.c,
	src/jtag/zy1000/jtag_minidriver.h, src/openocd.c,
	src/pld/virtex2.c, src/server/gdb_server.c, src/server/httpd.c,
	src/server/server.c, src/svf/svf.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.h,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_a8.c, src/target/cortex_m3.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/image.c,
	src/target/mips32.c, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h, src/target/mips_m4k.c,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_type.h,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: Remove
	whitespace that occurs after '('.  - Replace '([ \t]*' with '('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/flash.h, src/flash/ocl.c,
	src/flash/ocl/at91sam7x/main.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/stellaris.c, src/flash/str9x.c,
	src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/fileio.c, src/helper/jim.c, src/helper/log.c,
	src/helper/replacements.h, src/jtag/bitq.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/tcl.c, src/jtag/zy1000/jtag_minidriver.h,
	src/jtag/zy1000/zy1000.c, src/server/gdb_server.c,
	src/server/httpd.c, src/server/telnet_server.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm_adi_v5.c,
	src/target/arm_disassembler.c, src/target/image.c,
	src/target/mips32_dmaacc.c, src/target/target.c, src/xsvf/xsvf.c,
	testing/examples/cortex/test.c: - Fixes '[<>]' whitespace - Replace ')\([<>]\)(' with ') \1 ('.  - Replace ')\([<>]\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\([<>]\)(' with '\1 \2 ('.  - Replace '\(\w\)\([<>]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/flash/at91sam7.c, src/flash/flash.c,
	src/flash/lpc2000.c, src/flash/nand.c, src/flash/non_cfi.c,
	src/flash/ocl/at91sam7x/main.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/pic32mx.c, src/flash/stellaris.c, src/flash/stellaris.h,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9xpec.c,
	src/flash/tms470.c, src/helper/binarybuffer.h,
	src/helper/command.c, src/helper/jim-eventloop.c,
	src/helper/jim-eventloop.h, src/helper/jim.c, src/helper/jim.h,
	src/jtag/jlink.c, src/jtag/parport.c, src/jtag/tcl.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/target/arm7_9_common.c, src/target/arm_adi_v5.c,
	src/target/armv4_5.c, src/target/cortex_m3.c, src/target/etm.c,
	src/target/mips32.h, src/target/target.c, src/target/xscale.c: - Fixes '[|]' whitespace - Replace ')\([|]\)(' with ') \1 ('.  - Replace ')\([|]\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\([|]\)(' with '\1 \2 ('.  - Replace '\(\w\)\([|]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/mflash.c, src/flash/mflash.h,
	src/flash/nand.c, src/flash/ocl.c, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/samflash.c, src/flash/pic32mx.c,
	src/flash/pic32mx.h, src/flash/stellaris.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/tms470.c, src/helper/binarybuffer.h,
	src/helper/command.c, src/helper/configuration.c,
	src/helper/ioutil.c, src/helper/jim-eventloop.c, src/helper/jim.c,
	src/helper/jim.h, src/helper/log.c, src/helper/log.h,
	src/helper/replacements.c, src/jtag/arm-jtag-ew.c,
	src/jtag/ft2232.c, src/jtag/jlink.c, src/jtag/jtag.h,
	src/jtag/presto.c, src/jtag/tcl.c, src/jtag/vsllink.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/server/gdb_server.c, src/server/telnet_server.c,
	src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/armv4_5.c, src/target/etb.c,
	src/target/fa526.c, src/target/image.c, src/target/mips32_dmaacc.c,
	src/target/mips32_pracc.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/xscale.c, src/xsvf/xsvf.c: - Fixes '+' whitespace - Replace ')\(+\)(' with ') \1 ('.  - Replace ')\(+\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(+\)(' with '\1 \2 ('.  - Replace '\(\w\)\(+\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/flash/at91sam7.c, src/flash/cfi.c,
	src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/mflash.c, src/flash/ocl.c,
	src/flash/ocl/at91sam7x/main.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/pic32mx.c, src/flash/stm32x.c, src/flash/str9x.c,
	src/flash/tms470.c, src/helper/binarybuffer.h,
	src/helper/command.c, src/helper/configuration.c,
	src/helper/ioutil.c, src/helper/jim.c, src/helper/jim.h,
	src/helper/log.c, src/helper/options.c, src/helper/time_support.c,
	src/jtag/bitbang.c, src/jtag/commands.c, src/jtag/commands.h,
	src/jtag/core.c, src/jtag/driver.c, src/jtag/dummy.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/interface.h,
	src/jtag/jlink.c, src/jtag/minidummy/minidummy.c,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/rlink/rlink.c,
	src/jtag/tcl.c, src/jtag/usbprog.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/openocd.c, src/pld/virtex2.c, src/server/gdb_server.c,
	src/server/httpd.c, src/server/server.c,
	src/server/telnet_server.c, src/target/arm11_dbgtap.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/arm_jtag.h,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/image.c, src/target/mips32_dmaacc.c,
	src/target/mips32_pracc.c, src/target/mips_m4k.c,
	src/target/target.c, src/target/target.h, src/target/xscale.c,
	src/xsvf/xsvf.c, testing/examples/cortex/test.c: - Fixes '=' whitespace - Replace ')\(=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/flash.c, src/flash/ocl.c,
	src/flash/ocl/at91sam7x/dcc.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/str9x.c, src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/configuration.c, src/helper/ioutil.c, src/helper/jim.c,
	src/helper/jim.h, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/core.c, src/jtag/driver.c, src/jtag/dummy.c,
	src/jtag/ft2232.c, src/jtag/jlink.c, src/jtag/presto.c,
	src/jtag/tcl.c, src/jtag/usbprog.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/server/gdb_server.c, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_disassembler.c, src/target/arm_jtag.c,
	src/target/breakpoints.c, src/target/etb.c, src/target/image.c,
	src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/target.c, src/target/xscale.c: - Fixes '==' whitespace - Replace ')\(==\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(==\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/non_cfi.c,
	src/flash/ocl.c, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/samflash.c, src/flash/pic32mx.c,
	src/flash/pic32mx.h, src/flash/s3c24xx_regs_nand.h,
	src/flash/stellaris.c, src/flash/stellaris.h, src/flash/stm32x.c,
	src/flash/stm32x.h, src/flash/str7x.c, src/flash/str9x.c,
	src/helper/binarybuffer.h, src/helper/jim.c,
	src/jtag/arm-jtag-ew.c, src/jtag/bitbang.c, src/jtag/dummy.c,
	src/jtag/ft2232.c, src/jtag/interface.c, src/jtag/usbprog.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/server/gdb_server.c, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h, src/target/arm_disassembler.c,
	src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_ejtag.c: - Fixes '<<' whitespace - Replace ')\(<<\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(<<\)(' with '\1 \2 ('.  - Replace '\(\w\)\(<<\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/flash.c,
	src/flash/ocl/at91sam7x/samflash.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/helper/binarybuffer.h, src/helper/jim.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/target/arm_adi_v5.c, src/target/arm_disassembler.h,
	src/target/target.c: - Fixes '>>' whitespace - Replace ')\(>>\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(>>\)(' with '\1 \2 ('.  - Replace '\(\w\)\(>>\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/helper/jim.c, src/jtag/bitq.c,
	src/target/arm7_9_common.c: - Fixes '<=' whitespace - Replace '\(\w\)\(<=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ocl/at91sam7x/samflash.c, src/helper/jim.c,
	src/jtag/bitq.c, src/jtag/presto.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/etm.h, src/target/target.c,
	src/target/xscale.c: - Fixes '>=' whitespace - Replace ')\(>=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(>=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/helper/binarybuffer.h,
	src/helper/ioutil.c, src/jtag/core.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/server/gdb_server.c, src/target/arm7_9_common.c,
	src/target/arm_adi_v5.c, src/target/image.c, src/target/target.c: - Fixes '&&' whitespace - Replace ')\(&&\)(' with ') \1 ('.  - Replace '\(\w\)\(&&\)(' with '\1 \2 ('.  - Replace '\(\w\)\(&&\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - Fixes '[*]=' whitespace - Replace '\(\w\)\([*]=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/ecos.c, src/flash/mflash.c,
	src/flash/ocl/at91sam7x/main.c, src/flash/ocl/at91sam7x/samflash.c,
	src/helper/log.c, src/helper/time_support.c, src/jtag/tcl.c,
	src/jtag/zy1000/zy1000.c, src/server/gdb_server.c,
	src/target/arm7_9_common.c, src/target/image.c,
	src/target/mips32_pracc.c, src/target/target.c: - Fixes '[+]=' whitespace - Replace '\(\w\)\([+]=\)(' with '\1 \2 ('.  - Replace '\(\w\)\([+]=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/lpc2000.c,
	src/flash/ocl/at91sam7x/main.c, src/flash/ocl/at91sam7x/samflash.c,
	src/flash/pic32mx.c, src/flash/stm32x.c, src/flash/str9x.c,
	src/helper/command.c, src/helper/configuration.c,
	src/helper/ioutil.c, src/helper/jim.c, src/helper/log.c,
	src/helper/replacements.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/core.c, src/jtag/driver.c, src/jtag/ft2232.c,
	src/jtag/jlink.c, src/jtag/jtag.h, src/jtag/presto.c,
	src/jtag/tcl.c, src/jtag/zy1000/jtag_minidriver.h,
	src/jtag/zy1000/zy1000.c, src/openocd.c, src/server/gdb_server.c,
	src/server/httpd.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/arm_disassembler.c,
	src/target/armv4_5.c, src/target/armv7m.c,
	src/target/breakpoints.c, src/target/cortex_m3.c,
	src/target/embeddedice.c, src/target/etm.c, src/target/feroceon.c,
	src/target/image.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/xscale.c: - Fixes '!=' whitespace - Replace ')\(!=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(!=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(!=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/target/image.c,
	src/target/target.c: - Fixes '-=' whitespace - Replace '\(\w\)\(-=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(-=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c, src/flash/lpc288x.c: - Replace 'do{' with 'do {'.  - Replace '}while' with '} while'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/flash.c, src/flash/nand_ecc.c,
	src/flash/pic32mx.c, src/helper/jim.c, src/helper/options.c,
	src/jtag/core.c, src/jtag/interface.c, src/jtag/rlink/rlink.c,
	src/jtag/tcl.c, src/jtag/zy1000/jtag_minidriver.h,
	src/jtag/zy1000/zy1000.c, src/server/gdb_server.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/xscale.c,
	src/xsvf/xsvf.c, testing/examples/PIC32/BlinkingLeds.c: - Replace 'for(' with 'for ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/ecos.c, src/flash/flash.c,
	src/flash/mflash.c, src/flash/stm32x.c, src/helper/jim.c,
	src/helper/jim.h, src/jtag/interface.c, src/jtag/rlink/rlink.c,
	src/jtag/tcl.c, src/jtag/vsllink.c, src/server/gdb_server.c,
	src/svf/svf.c, src/target/arm_disassembler.c, src/target/image.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/xscale.c,
	src/xsvf/xsvf.c: - Replace 'switch(' with 'switch ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/helper/command.c, src/helper/jim-eventloop.c, src/helper/jim.c,
	src/helper/jim.h, src/jtag/core.c, src/jtag/interface.c,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c, src/server/server.c,
	src/target/arm11_dbgtap.c, src/target/cortex_m3.c,
	src/target/mips32_dmaacc.c, src/target/mips_m4k.c,
	src/target/target.c, src/xsvf/xsvf.c,
	testing/examples/PIC32/BlinkingLeds.c,
	testing/examples/ledtest-imx27ads/test.c,
	testing/examples/ledtest-imx31pdk/test.c: - Replace 'while(' with 'while ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/mflash.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/helper/command.c, src/helper/fileio.c, src/helper/ioutil.c,
	src/helper/jim.c, src/helper/jim.h, src/helper/log.c,
	src/helper/options.c, src/jtag/arm-jtag-ew.c, src/jtag/bitbang.c,
	src/jtag/core.c, src/jtag/dummy.c, src/jtag/interface.c,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c, src/jtag/zy1000/zy1000.c,
	src/server/gdb_server.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm_jtag.c, src/target/arm_simulator.c,
	src/target/armv7m.c, src/target/cortex_m3.c, src/target/feroceon.c,
	src/target/image.c, src/target/mips32_pracc.c,
	src/target/mips_ejtag.c, src/target/mips_m4k.c,
	src/target/oocd_trace.c, src/target/target.c, src/target/xscale.c,
	src/xsvf/xsvf.c: - Replace 'if(' with 'if ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: update w/missing eCos definitions after latest
	round of compiler formatting warnings fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Move the short chapter about JIM-Tcl earlier, so that we can
	reasonably assume it's been introduced before we start presenting
	things that presume such an introduction.  Plus a few minor
	typo-level fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2355
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: This should be my last significant update of the User's Guide for
	this release.  Mostly it's a rework of the config file chapter's
	presentation of board and target config files.   - Give the new path for scripts!  - Move board-config material out of the target-config section  - Add more board-config info, notably for reset-init events  - Link out of the board-config section to NAND, NOR, and Reset
	 chapters - Emphasize target input vs. output naming conventions  - Other textual improvements Plus some other updates, like adding my copyright (now that I've
	basically rewritten much of this).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm365.cfg: fix eol native git-svn-id: svn://svn.berlios.de/openocd/trunk@2353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/hitex_stm32-performancestick.cfg: David Brownell
	<david-b@pacbell.net> Make the Hitex STM32-PerformanceStick board
	config behave better: source the STM32 target config instead of
	using a private clone git-svn-id: svn://svn.berlios.de/openocd/trunk@2352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm365.cfg: David Brownell <david-b@pacbell.net>
	target config file for newish DM365 chip.  Think of this as an
	improved DM355, integrating much better HD video support, Ethernet,
	and other goodies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: - fix break caused by r2208 when using --pipe option - issue is gdb stdin buffer gets full before we redirect openocd
	output git-svn-id: svn://svn.berlios.de/openocd/trunk@2350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/cs351x.cfg: Paulius Zaleckas
	<paulius.zaleckas@gmail.com> Add config for CS351x CPUs git-svn-id: svn://svn.berlios.de/openocd/trunk@2349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Oleksandr Tymoshenko <gonzo@bluezbox.com>: Resume command works only if resume address is provided.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ocl.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/pic32mx.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc288x.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc3180_nand_controller.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/davinci_nand.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/trace.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2327
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target_request.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2326
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2325
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_m4k.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32_pracc.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32_dmaacc.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/fa526.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/breakpoints.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5_mmu.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm9tdmi.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm920t.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/virtex2.c, src/pld/xilinx_bit.c: C99 printf() -Werror
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: C99 Type updates, include inttypes.h - it is
	catagorically required git-svn-id: svn://svn.berlios.de/openocd/trunk@2296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-20  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Set default for want_ftd2xx_highspeed to "no"
	instead of "maybe" git-svn-id: svn://svn.berlios.de/openocd/trunk@2295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/helper/jim.h, src/jtag/arm-jtag-ew.c,
	src/jtag/tcl.c: Remove editor preferences from source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/arm-jtag-ew.c, src/jtag/core.c, src/jtag/ft2232.c,
	src/jtag/jlink.c, src/jtag/presto.c, src/jtag/tcl.c: printf()
	warning fixes due to uint32_t change-over git-svn-id: svn://svn.berlios.de/openocd/trunk@2293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/Makefile.am, src/target/arm920t.c,
	src/target/arm920t.h, src/target/arm9tdmi.h, src/target/fa526.c,
	src/target/target.c: Paulius Zaleckas <paulius.zaleckas@gmail.com>: This is minimal patch to support FA526 ARMv4 compatible core.  Since
	it is very similar to ARM920T I tried to reuse as much code as
	possible.  CPU and board configs will follow soon.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/driver.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/pld/virtex2.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.h, src/target/embeddedice.c, src/target/etb.c,
	src/target/xscale.c: fix jtag_add_callback() args. The first
	argument is nothing special, it's just another generic argument.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: commit test from Duane git-svn-id: svn://svn.berlios.de/openocd/trunk@2289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/zy1000.c: less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Oyvind Harboe <oyvind.harboe@zylin.com>: Ecos uses sys/types.h not stdint.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/trace.c: Cast 64-bit trace hit_counter to long long;
	fixes format warning.  What is the correct way to handle this? git-svn-id: svn://svn.berlios.de/openocd/trunk@2285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/style.txt: Update Style Guide documentation to explain
	basic type rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Remove redundant typedefs in types.h; include
	stdint.h unconditionally.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h, src/target/trace.h: Transform 'u64' to
	'uint64_t' - Replace '\([^_]\)u64' with '\1uint64_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/fileio.c, src/helper/fileio.h, src/helper/types.h,
	src/jtag/at91rm9200.c, src/jtag/commands.h, src/jtag/core.c,
	src/jtag/driver.c, src/jtag/dummy.c, src/jtag/ep93xx.c,
	src/jtag/ft2232.c, src/jtag/jlink.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/minidummy/jtag_minidriver.h,
	src/jtag/minidummy/minidummy.c, src/jtag/presto.c,
	src/jtag/rlink/rlink.c, src/jtag/tcl.c,
	src/jtag/zy1000/jtag_minidriver.h, src/jtag/zy1000/zy1000.c,
	src/pld/virtex2.c, src/pld/xilinx_bit.c, src/pld/xilinx_bit.h,
	src/server/gdb_server.c, src/svf/svf.c, src/xsvf/xsvf.c: Finish
	transforming 'u32' to 'uint32_t'.  - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/at91sam7.h,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/davinci_nand.c, src/flash/ecos.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc2000.h,
	src/flash/lpc288x.c, src/flash/lpc288x.h,
	src/flash/lpc3180_nand_controller.c,
	src/flash/lpc3180_nand_controller.h, src/flash/mflash.c,
	src/flash/mflash.h, src/flash/nand.c, src/flash/nand.h,
	src/flash/non_cfi.h, src/flash/ocl.c, src/flash/orion_nand.c,
	src/flash/pic32mx.c, src/flash/pic32mx.h, src/flash/s3c2440_nand.c,
	src/flash/s3c24xx_nand.h, src/flash/stellaris.c,
	src/flash/stellaris.h, src/flash/stm32x.c, src/flash/stm32x.h,
	src/flash/str7x.c, src/flash/str7x.h, src/flash/str9x.c,
	src/flash/str9x.h, src/flash/str9xpec.c, src/flash/str9xpec.h,
	src/flash/tms470.c, src/flash/tms470.h: Transform 'u32' to
	'uint32_t' in src/flash.  - Replace '\([^_]\)u32' with '\1uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/algorithm.c, src/target/algorithm.h,
	src/target/avrt.c, src/target/breakpoints.c,
	src/target/breakpoints.h, src/target/cortex_a8.c,
	src/target/cortex_a8.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etb.h,
	src/target/etm.c, src/target/etm.h, src/target/feroceon.c,
	src/target/image.c, src/target/image.h, src/target/mips32.c,
	src/target/mips32.h, src/target/mips32_dmaacc.c,
	src/target/mips32_dmaacc.h, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c,
	src/target/mips_m4k.h, src/target/oocd_trace.c,
	src/target/register.h, src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_request.h,
	src/target/target_type.h, src/target/trace.c, src/target/trace.h,
	src/target/xscale.c, src/target/xscale.h: Transform 'u32' to
	'uint32_t' in src/target - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm720t.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm920t.h, src/target/arm926ejs.c,
	src/target/arm926ejs.h, src/target/arm966e.c, src/target/arm966e.h,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h,
	src/target/arm_simulator.c, src/target/arm_simulator.h,
	src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv4_5_cache.c, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/armv7m.c, src/target/armv7m.h: Transform 'u32' to
	'uint32_t' in src/target/arm* - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/at91sam7.h, src/flash/avrf.c,
	src/flash/avrf.h, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/davinci_nand.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mflash.c, src/flash/nand.c, src/flash/nand.h,
	src/flash/nand_ecc_kw.c, src/flash/non_cfi.h,
	src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c2410_nand.c, src/flash/s3c24xx_nand.c,
	src/flash/s3c24xx_nand.h, src/flash/stellaris.c,
	src/flash/stellaris.h, src/flash/stm32x.c, src/flash/stm32x.h,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/tms470.c,
	src/helper/types.h, src/jtag/amt_jtagaccel.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/parport.c, src/jtag/rlink/rlink.h,
	src/jtag/vsllink.c, src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_jtag.c, src/target/arm_simulator.c,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/avrt.c,
	src/target/cortex_a8.c, src/target/cortex_m3.c, src/target/etm.h,
	src/target/feroceon.c, src/target/image.c,
	src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale.h: Transform 'u16' to 'uint16_t' - Replace '\([^_]\)u16' with '\1uint16_t'.  - Replace '^u16' with 'uint16_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/fileio.c, src/helper/fileio.h, src/helper/types.h,
	src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/commands.c,
	src/jtag/commands.h, src/jtag/core.c, src/jtag/driver.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/interface.c, src/jtag/jlink.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/minidummy/minidummy.c,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/rlink/rlink.c,
	src/jtag/rlink/rlink.h, src/jtag/rlink/rlink_speed_table.c,
	src/jtag/usbprog.c, src/jtag/vsllink.c, src/jtag/zy1000/zy1000.c,
	src/pld/virtex2.c, src/pld/xilinx_bit.c, src/pld/xilinx_bit.h,
	src/server/gdb_server.c, src/svf/svf.c, src/xsvf/xsvf.c: Transform
	'u8' to 'uint8_t' - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/at91sam7.h,
	src/flash/avrf.c, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/davinci_nand.c, src/flash/ecos.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/mflash.h, src/flash/nand.c, src/flash/nand.h,
	src/flash/nand_ecc.c, src/flash/nand_ecc_kw.c, src/flash/non_cfi.h,
	src/flash/ocl.c, src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/stellaris.c, src/flash/stellaris.h, src/flash/stm32x.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/flash/str9xpec.h, src/flash/tms470.c: Transform 'u8' to
	'uint8_t' in src/flash - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/algorithm.h, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm9tdmi.c,
	src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/armv7m.c, src/target/avrt.c, src/target/breakpoints.h,
	src/target/cortex_a8.c, src/target/cortex_a8.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h, src/target/feroceon.c, src/target/image.c,
	src/target/image.h, src/target/mips32.c,
	src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_m4k.c,
	src/target/mips_m4k.h, src/target/oocd_trace.c,
	src/target/register.c, src/target/register.h, src/target/target.c,
	src/target/target.h, src/target/target_request.c,
	src/target/target_type.h, src/target/xscale.c, src/target/xscale.h: 
	Transform 'u8' to 'uint8_t' in src/target - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: The PLD stuff hasn't been documented yet.  It's just Virtex2 for
	now, but it looks like adding others would be easy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/pld.c, src/pld/virtex2.c, src/pld/xilinx_bit.c: David
	Brownell <david-b@pacbell.net>: Clean up the PLD files:  - Get rid of some extraneous whitespace  - Make various functions static  - Wrap overlong lines git-svn-id: svn://svn.berlios.de/openocd/trunk@2272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Various bits of cleanup, mostly to match the style hints I just got
	around to writing up.   - Various @cindex improvements  - Cross reference the command line options in a few spots,    notably for @command{debug_level}  - Clean the config file guidelines a bit:     * They're for all users, not just integrators     * Reference the interface config chapter     * Don't emphasize command line usage here     * Tweak board and target config introductory text Plus two minor bits of cleanup:  remove most date references, and
	refer to the reader as "you" not "the user".  git-svn-id: svn://svn.berlios.de/openocd/trunk@2271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/docs.txt, doc/manual/style.txt: David Brownell
	<david-b@pacbell.net>: Take a whack at providing some texinfo style docs.  Mostly it's just
	basic "how 2 write sane dox" stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/lpc2478.cfg: Freddie Chopin <freddie_chopin@op.pl>
	makes lpc2478.cfg file more "standard" and - what is most important
	- correct (it's working [; ). I've also added some comments which
	try to clarify the meaning of all that's in there.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2269
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/ecosboard.c, src/jtag/Makefile.am,
	src/jtag/jtag.h, src/jtag/tcl.c, src/jtag/zy1000/zy1000.c: dummy
	driver now works under eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/ti_beagleboard.cfg, tcl/target/icepick.cfg,
	tcl/target/omap3530.cfg: David Brownell <david-b@pacbell.net>: Update the Beagle setup:  - OMAP3530 updates:     * split ICEpick TAP enable support to its own file, for       reuse and eventually for storing other utility code       like emulation reset     * clean up, including labeling the tap as for DAP not       for the Cortex-A8 and making endianness non-variable     * add a few FIXMEs  - BeagleBoard cleanup:  there's no SRST, "endstate" is gone, etc I'm not sure I'd say it's further than "barely limping" just yet.
	Key issues remain lack of Cortex-A8 support, and more complete
	support for resetting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/crossbow_tech_imote2.cfg: David Brownell
	<david-b@pacbell.net>: Fix for a goofy "board" config ... reuse target/pxa270.cfg instead
	of using a private copy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2266
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/ti_dm6446.cfg: David Brownell <david-b@pacbell.net>: DM6446 config updates:  - List two more TAPs, as disabled, mostly for doc purposes  - Included basic ICEpick support, still disabled by default  - Shorten line lengths  - Use $_TARGETNAME to configure the ETM and ETB  - This ARM core don't support endianness overriding For now, boards that can't jumper EMU0/EMU1 will need to tweak a
	variable's setting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: David Brownell <david-b@pacbell.net>: Let jtag_call_event_callbacks() behave when the callback removes
	itself.  Oddly, this crashed on x86_32 but not x86_64.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2264
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell <david-b@pacbell.net>: Fix parsing bugs for "$target_name mww addr data [count]" ... it was
	always requiring the count, instead of just defaulting it to one.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2263
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c, src/server/httpd.c: Fix compilation for
	Ubuntu 9.04 on x86-64 when using --enable-httpd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2262
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000/jtag_minidriver.h: Set svn:eol-style native on
	ZY1000 minidriver header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Ensure range errors are reported only when
	errno indicates one occurred.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Change parse_type
	macros to be sed-friendly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Add argument parsing
	errors in command.h, use in parse_type routines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Move definition of
	parse_type helpers to command.c: - Add declarations in header file.  - Improve wrapper implementations to check for underflow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Convert core parse_type implementations to
	check for underflow errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Add improved support
	for parsing signed integers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.h: Update parse_type macro definitions to allow
	re-use with signed types.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Improve definitions of parse_ulong and
	parse_ullong: - Use macro to eliminate duplicate body definitions.  - Rename okay as is_okay; add parenthesis to help "clarify" logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2253
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: David Brownell <david-b@pacbell.net>: Fix a bug preventing ICEpick "enable that TAP" code from working:
	the "runtest" command wrongly finished with a JTAG reset, discarding
	the work the TAP enable handler just finished!  Instead, JTAG should
	stay in RUN/IDLE state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2252
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c,
	src/target/target.c: David Brownell <david-b@pacbell.net>: Extend the internal JTAG event handlers to cover enable/disable, and
	use those events to make sure that targets get "examined" if they
	were disabled when the scan chain was first set up:  - Remove "enum jtag_tap_event", merge with "enum jtag_event",    so C code can now listen for TAP enable/disable events.   - Report those events so they can trigger callbacks.   - During startup, make target_examine() register a handler to    catch ENABLE events for any then-disabled targets.  This fixes bugs like "can't halt target after enabling its TAP".  One class of unresolved bugs:  if the target has an ETM hooked up to
	an ETB, nothing activates the ETB.  But starting up the ETM without
	access to the ETB registers fails...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: David Brownell <david-b@pacbell.net>: Tighten error handling on TAP enable/disable paths a bit:  - Don't enable/disable unless it's necessary.  Those event    handlers could have nasty side effects...   - Don't *succeed* enables/disables if there was no code which    could have implemented that action.  This prevents bugs like    wrongly acting as if the scan chain changed.   - Minor whitespace cleanup in enable/disable command code.  The big problem is still the lack of code to verify scan chains were
	actually updated as requested; this adds a comment on that.  I
	suspect the best we can do near term will be to verify IDCODE.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: David Brownell <david-b@pacbell.net>: Fix bug in a warning.  It warned about "huge IRlength" for an older
	JRC with a two bit instruction register ... wrong! git-svn-id: svn://svn.berlios.de/openocd/trunk@2249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Distributing FTDI's "ftd2xx" library with OpenOCD violates the
	OpenOCD license (GNU GPLv2 with no exceptions).  Make that clear where that build option is presented, and don't
	describe the FTDI libraries as an option for any packager.  (It's
	fine for personal use, of course.) Plus some related clarifications:  libftdi version 0.16 for the new
	FT2232H chips (for RTCK and high speed USB); the Amontec drivers are
	just ftd2xx variants.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell <david-b@pacbell.net>: Fix some polling issues:  - Don't background-poll disabled TAPs ... this was just a bug    waiting to happen.  (And then it happened!)  - Don't fail command line polls of disabled taps; that's not any    kind of error, it's just that you can't do much.  But do show    that tap-disabled status.   - Spell "continuous" correctly in the variable name.  ;) Not resolved by this patch:  the need for an interlock whereby other
	code (like the JTAG layer) can block all other access to the JTAG
	layer, e.g. while enabling or disabling TAPs.  And that interlock
	needs to be timer-safe...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/core.c, src/jtag/jtag.h,
	src/jtag/tcl.c: David Brownell <david-b@pacbell.net>: Doc update:  say "jtag newtap ... -disable" records the state after
	exiting the RESET state, matching the only implementation we're
	working with so far (TI ICEpick-C).  Matching code updates.  Now we can be sure that the "enabled" flag
	value is correct after JTAG resets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: David Brownell
	<david-b@pacbell.net>: Fix a memory leak in jtag_tap_free():  unregister the event callback
	too.  Also fix the associated conceptual bug in unregistering JTAG event
	callbacks:  since the same callback procedure is used many times
	with different callback data (a TAP handle), that data must be
	considered when unregistering any callback.  This could fix some crashes after TAP registration errors, by making
	sure the reset event handler doesn't scribble over memory that's now
	used by something else.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: David Brownell
	<david-b@pacbell.net>: Minor jtag cleanup:  - remove hidden assumption about JTAG event numbering  - move function declarations to a header  - some end'o'line whitespace  - use "calloc" not "malloc + memset" git-svn-id: svn://svn.berlios.de/openocd/trunk@2244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Minor updates to the text about reset configuration:  - Mention a new point that it interacts with JTAG routers;  - Talk about a "user" config file not a "system" one;  - Remove text from the "reset_config" description; instead,    cross-reference the more extensive text earlier.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/omap2420_h4.cfg, tcl/target/omap2420.cfg: David Brownell
	<david-b@pacbell.net>: Add another board ... OMAP2420 "H4" board.  This won't be very
	widely used with OpenOCD, but with mainline support in both U-Boot
	and Linux it at least makes for a more complete set (and another
	testcase).  This is incomplete support in several respects.  The ARM11 support
	is not very deep yet; most registers aren't available, and the ETM
	can't be hooked up.  Plus, there's no script for OMAP-specific stuff
	like setting up the SDRAM controller.  Eventually the same NAND
	controller driver should work with OMAP2 and OMAP3.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: fix eCos build problems w/latest parse_ulong()
	stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@2241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/server/gdb_server.c,
	src/server/tcl_server.c, src/server/telnet_server.c: David Brownell
	<david-b@pacbell.net>: OpenOCD doesn't actually *need* to be keeping all TCP ports active
	... creating security issues in some network configs.  Instead, let config file specify e.g. "tcl_port 0" (or gdb_port,
	telnet_port) to disable that particular remote access method.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Factor load_image argument parsing to
	parse_load_image_command_args: - Make fast_load_image use the helper coverage the standard
	load_image.  - Improve whitespace in the moved lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_profile_command argument
	parsing: - Use parse_uint to ensure timeout value parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_virt2phys_command argument
	parsing: - Use parse_u32 to ensure virtual address parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Cleanup and improve handle_wp_command and
	handle_rwp_command: - Simplify argument parsing logic using switch statement.  - Use parse_u32 to ensure all values parse properly.  - Return syntax error when mode argument fails to parse.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2236
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve and simplify handle_bp_command and
	handle_rbp_command: - Bug fix: return syntax error if remove called without one
	argument.  - Use parse_u32 to ensure address and length arguments parse
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_verify_image_command_internal
	command argument handling: - Use parse_u32 to ensure address parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2234
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_dump_image_command argument
	parsing: - Use parse_u32 to ensure address and size parse properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2233
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_load_image_command argument
	parsing: - Use parse_u32 to ensure base/min/max addresses parse properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_mw_command argument handling: - Change: All local variable types are now unsigned.  - Use parse_u32 to ensure address and value parse properly.  - Use parse_uint to ensure count parses properly.  - Move variables to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Improve handle_md_command argument handling: - Use parse_u32 and parse_uint for address and count, respectively.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2230
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Use parse_u32 in handle_resume_command and
	handle_step_command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Cleanup and improve handle_halt_command: - Make argument check use parse_uint to ensure value parses
	properly.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Cleanup and fi handle_wait_halt_command: - Use unsigned type for delay variable.  - Use parse_uint to ensure delay argument parses properly.  - Bug fix: Return syntax error if more than one argument is given.  - Bug fix: Return syntax error when argument fails to parse.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Use parse_uint in handle_reg_command to
	ensure reg number parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Use parse_uint in get_target to ensure target
	id is parsed properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h, src/jtag/tcl.c: David
	Brownell <david-b@pacbell.net>: Currently the "debug_level 3" command tracing ignores commands that
	could return values to TCL scripts (by plugging in to a slightly
	lower level of the interpreter stack).  Fix that by abstracting the tracing command and starting to make
	some of those previously-untraced commands use this new mechanism.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Move the discussion of the "scan_chain" command up to go with the
	presentation of that topic in the TAP declaration chapter.  This makes the presentation of the TAP and target lists be parallel,
	which will be something of an aid to understanding that they are
	different (and how).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/tcl.c: David Brownell
	<david-b@pacbell.net>: Partial fix to the "long IR length" problems.   - Current code could handle up to 32 bit IR lengths with    full functionality, if it didn't just reject may of them    out of hand.  So only reject clear errors, where the IR    mask (or capture instruction) needs more than IrLen bits.   - Longer IR lengths can only be handled in BYPASS mode    for now.  Example:  TI's DSPs use 38-bit IR lengths.     So we can't issue their IDCODE instructions...  A more complete fix would be able to issue longer instructions; or
	minimally, would fail cleanly for the non-BYPASS case.  Note that this *could* make some currently broken scripts fail,
	since the previous code accepted garbage values so long as they
	didn't use more than 16 bits.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c, src/flash/mflash.h: unsik Kim
	<donari75@gmail.com>: Improve error handling in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2221
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_m4k.c: Further cleanup to MIPS target read/write
	memory function: - Move the mips32_..._read_mem calls to top-level of read_mem
	function.  - Change: Only perform mips_m4k_read_mem conversion when retval ==
	   ERROR_OK.  - Prevents pointless conversions of bogus read values after
	failures.  - Eliminate retval variable from mips_m4k_write_mem; return
	directly.  - Move declaration of retval variable to point of first use.  - Remove the now redundant switch statements testing size:   - argument sanitizing already covers these cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.c, src/target/mips_m4k.c: David Claffey
	<dnclaffey@gmail.com>: This patch helps fix MIPS big endian (elf32-tradbigmips) targets.
	If "-endian big" is not set in target create, the endianess defaults
	to little.  mw and md commands will still work, but binary file
	loads will have the incorrect word order loaded into memory.  The EJTAG processor access data register (PrAcc) is little endian
	regardless of the CPU endianness; it is always loaded LSB first.
	This is confirmed by the fact that mips_ejtag_drscan_32() uses
	buf_set_u32() to load the scan field; buf_set_u32() is a
	little-endian formatter. For big endian targets, data buffers have
	to be modified so the LSB of each u32 or u16 is at the lower (first)
	memory location.  If the drscan out_value word order is set using
	buf_set_u32() then it makes sense to also fixup the in_value with
	buf_get_u32(); a symmetry argument. This has no affect on little
	endian hosts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2219
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: Fix unitialized use of cur_speed in
	handle_jtag_khz_command: - Use the default KHz speed setting, in case interface is not
	initialized.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: Improve vsllink command argument handling: - Bug fix: Always clear high bit of USB bulk out endpoint.  - Use parse_ulong helpers to ensure numeric strings are parsed
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2217
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: Improve handle_runtest_command: - Use parse_uint helper to ensure argument is parsed properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2216
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Improve VID/PID command argument handling in
	FTDI driver: - Bug fix: Return a syntax error when less than two arguments are
	given.  - Bug fix: Use parse_u16 helper to ensure vales are parsed properly.  - Simplify loop termination logic by ensuring argc is always even.  - Move loop induction variable declaration to where it is used.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2215
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: Improve handle_irscan_command: - Use parse_u32 helper to ensure scan values are parsed properly.  - Clear the fields buffer to ensure partial cleanup occur correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: Improve JTAG reset, speed, and khz handlers to use
	parse_uint helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Use parse_uint helper to replace strtoul call in
	jtag_tap_by_string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/gw16012.c: Simplify and improve
	gw16012_handle_parport_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the parport_port has already been set.  - Use parse_u16 helper to ensure the parport_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c: Simplify and improve
	amt_jtagaccel_handle_parport_port_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the amt_jtagaccel_port has already been set.  - Use parse_u16 helper to ensure amt_jtagaccel_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2210
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/parport.c: Simplify and improve
	parport_handle_parport_port_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the parport_port has already been set.  - Use parse_u16 helper to ensure the parport_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2209
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Simplify and improve handle_debug_level_comamnd: - Bug fix: Return a syntax error if more than one argument is given.  - Bug fix: Use new parse_uint helper ensure debug_level parses
	correctly.  - Change: Display the debug_level after it has been set.  - Simplify bounds checking of debug_level.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2208
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Simplify handle_sleep_command: - Use new parse_ulong to ensure duration parses as a valid number.  - Rework logic to improve readability and seliminate uperfluous
	braces.  - Change whitespace to improve style.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2207
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Add new parse_uinttype
	wrappers for strtoul in src/helper/command.[ch].  - Used to improve command argument parsing of unsigned integers
	values.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: David Brownell
	<david-b@pacbell.net>: Minor bugfix:  command_print_sameline() is what the headers declare;
	make the code match.  Minor improvement:  make the printf format params always be const.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Rework the "Simple Configuration Files" chapter so it's more of a
	quick-start "how to set up your project" tutorial:  - Say how to hook up the JTAG adapter.  This will help new    users, and in any case is worth spelling out somewhere.   - Streamline the previous rather haphazard presentation,    filling in some missing holes along the way:      * Suggest "project directory" structure      * Introduce new term, "user config" file (openocd.cfg)      * Talk about more options for openocd.cfg contents      * ... and about creating new config files      * Add new topic, project-specific utilities (+examples)  - Remove too-short, yet duplicative, chapter 19 Nudge packagers a bit more strongly to send patches (including
	config files) upstream.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Update "arm9tdmi vector_catch" command description to highlight both
	use cases (display configuration, or first change that config) and
	to explain a bit more about what this is:  an alternative to using
	hardware breakpoint resources.  Note that I tried this on an arm920t, but it didn't work.  Set bits,
	then examined them and they weren't set.  And it didn't seem to act
	as if vector triggering was noticed, either.  Also some minor unrelated tweaks:  @ignore some unused or don't-use
	event names; fix a few typos; tweak chip-specific reset
	descriptions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c: - fix bug introduced during r1962 - Original patch submitted by David Claffey [dnclaffey@gmail.com].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: embedded host: launch telnet server even if
	configuration fails git-svn-id: svn://svn.berlios.de/openocd/trunk@2198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c, src/target/target.c: fix ordering of
	arguments to fwrite() git-svn-id: svn://svn.berlios.de/openocd/trunk@2197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Factor handle_bp_command into pieces: - Bug fix: return a syntax error if the wrong number of arguments
	are given.  - Add handle_bp_command_list() and handle_bp_command_set().  - Use temporary addr variable to eliminate redundant strtoul()
	calls.  - Place variable declarations at their point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Factor target_timer_callbacks_check_time into
	pieces: - Add target_timer_callback_periodic_restart and
	target_call_timer_callback.  - Clean up and simplify logic that determines whether to call each
	callback.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify and clean handle_virt2phys_command: - Add a doxygen block to simplify logic.  - Move declarations to point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify and fix target handle_rwp_command
	routine: - Return syntax error unless exactly one argument is passed.  - Move variable declaration to point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify and fix handle_reset_command: - Return syntax error if more than one argument is given.  - Move variables to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify handle_resume_command: - Eliminate redundant calls to target_resume with addr temp
	variable.  - Place variables at location of first use.  - Fix minor whitespace issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify and fix handle_step_command: - Bug fix: return syntax error when more than one argument is given.  - Eliminate redundant calls to step callback with addr temp
	variable.  - Place variables at location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Move jtag_get_flush_queue_count near
	jtag_execute_queue (fix its docs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Improve grouping of JTAG KHz and verification
	accessors in header file.  Add some quick Doxygen comments for these
	routines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Group JTAG reset configuration and accessor APIs
	together in header file.  Remove unused reset_line_mode enumerated
	type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Move jtag_error helper declarations to the end of
	the header.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Out-of-line
	jtag_tap_next_enabled and simplify its logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Move jtag_add_statemove
	decl/body nearer jtag_add_pathmove.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: disable polling continuous polling during
	reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2183
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - update openocd online doc url's git-svn-id: svn://svn.berlios.de/openocd/trunk@2182
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix texi/pdf issue created in svn r2039 git-svn-id: svn://svn.berlios.de/openocd/trunk@2181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/tcl.c: added pathmove command git-svn-id: svn://svn.berlios.de/openocd/trunk@2180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/csb337.cfg: David Brownell <david-b@pacbell.net>: Tweak the csb337 code so that it doesn't enable alignment traps when
	it completes the "reset init" sequence.  It turns out that the
	current CFI code reliably triggers such traps.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target.c: Move the documentation for
	the "poll" command up with other server configuration.  Explain what
	it's about; reference the related "$target_name curstate" method.  Update "poll" output to report whether background polling is enabled
	or not.  Also fix a small typo; PC's have "complementary" tools.  Some have
	also "complimentary" ones; but not all.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am: Improve use of automake
	conditionals for FTDI-based JTAG drivers: - Remove once-used XXX_FTD2XX symbols; replace with XXX_DRIVER
	symbols.  - Enabled when either libftdi or FTD2xx driver should be built.  - Eliminates redundant DRIVERSFILE assignment in JTAG automake
	input.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am: Simplify JTAG automake input file: - Consolidate all individual driver variables into DRIVERFILES.    - Eliminates all empty 'else' conditional clauses.  - Move minidriver files to top of file.  - Use MINIDRIVER conditional to build only driver(s) that will be
	linked.  - Eliminate superfluous whitespace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/driver.c, src/jtag/jtag_driver.c: 
	Rename jtag_driver.c as driver.c to remove duplicate name component.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, configure.in: Add a rule to rebuild libtool if
	ltmain.sh changes (from libtool docs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset to eol native for now. guess-rev.sh was broken by eol
	native, but it was a red herring that these two files were affected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: Encapsulate the
	core jtag interface pointer: - Add new jtag_config_khz to increase encapsulation of jtag->khz
	call.  - Add new jtag_get_speed_readable to encapsulate of jtag->speed_div
	call.  - Make definition of jtag static in core.c, remove extern from
	tcl.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: dos2unix git-svn-id: svn://svn.berlios.de/openocd/trunk@2170
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Continue encapsulation of JTAG
	event callback sub-API: - Move jtag_event_callbacks struct to core.c; it's an implementation
	detail.  - Move jtag_*_event_callbacks next to the definition of the new
	function type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Add jtag_event_handler_t: - Define the function signature used by the JTAG event callback
	mechanism.  - Provide Doxygen block for new type, including TODO for its return
	value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2168
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Expose jtag_unregister_event_callback with
	related API declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: Improve
	encapsulation of JTAG event handling: - Move nvp_jtag_tap_event and jtag_tap_handle_event to tcl.c.  - Change both to be static; remove declaration of function from
	jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2166
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/tcl.c: Properly encapsulate core hasKHZ
	variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/jtag/tcl.c: Cleanup and
	encapsulate IR Capture verification: - Add accessors for setting the jtag_verify_capture_ir flag.  - Use them in handle_verify_ircapture_cpmmand - Change variable type to bool; make it static.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2164
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c: Add missing static keywords to a few variables in
	JTAG core module.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2163
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Move the jtag_error helper
	routines out of header file: - Makes jtag_error static, add new get helper function for
	completeness.  - Improve and add documentation and style for these helpers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2162
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/core.c, src/jtag/dummy.c, src/jtag/ft2232.c,
	src/jtag/jtag.h, src/jtag/rlink/rlink.c, src/jtag/tcl.c,
	src/jtag/zy1000/zy1000.c, src/target/arm7_9_common.c,
	src/target/cortex_m3.c, src/target/mips_m4k.c: Encapsulate
	jtag_reset_config using accessors: - Update handle_reset_config_command in tcl.c to use new helpers.  - Replace direct accesses in JTAG interface and target drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2161
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove superfluous extern for non-existant global
	variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2160
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/core.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.h,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/rlink/rlink.c,
	src/jtag/tcl.c, src/jtag/zy1000/zy1000.c: Add get and set accessors
	for jtag_speed: - Setter calls the interface driver callback to improve core
	encapsulation.  - Use getter in standard JTAG interface drivers and ZY1000
	minidriver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h: Encapsulate the
	jtag_event_callback list; add helper functions if needed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2158
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/jtag.h, src/target/cortex_m3.c,
	src/target/mips_m4k.c: Encapsulate the jtag_trst and jtag_srst
	variables: - Add accessor functions to return their value.  - Use new SRST accessor in cortex_m3.c and mips_m4k.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/jtag/tcl.c: Move extern of nvp_jtag_tap_event
	from jtag.h to tcl.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove superfluous extern of jtag_event_strings
	from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2155
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: remove native line style git-svn-id: svn://svn.berlios.de/openocd/trunk@2154
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed native line end style - breaks cygwin git-svn-id: svn://svn.berlios.de/openocd/trunk@2153
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/core.c, src/jtag/tcl.c: Remove accidental duplicate of
	hasKHz; fixes pre-init speed setup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2151
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/jtag.txt: Provide brief description of newly factored
	TCL layer in The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2150
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/core.c, src/jtag/jtag.c,
	src/jtag/tcl.c: Split main jtag.c file into two layers: - src/jtag/core.c: contains the low-level JTAG TAP and scanning
	routines.  - src/jtag/tcl.c: contains high-level JTAG TCL commands that use the
	core.  - Remove static keywords from routines in core.c, extern from tcl.c:   - jtag, jtag_interface global variables   - jtag_{examine,validate}_chain and jtag_tap_{init,free} functions - Added myself to the copyright header in both of these files.  - Used 'svn cp' to add files, so versioning was preserved for both.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Merge documentation for
	jtag_add_statemove from source into header block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2148
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Move Doxygen documentation for
	IR/DR scan routines to header file.  - Move plain IR scan declaration closer to the other IR scan
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h: - Replace 'jtag_tap_by_abs_position' with 'jtag_tap_by_position'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2146
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove non-existant jtag_tap_by_position API
	declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Use unsigned type for
	jtag_tap_count and jtag_tap_by_abs_position.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Cleanup jtag_tap_by_abs_position: - Remove unused orig_n local variable.  - Merge variable declaration with first use.  - Update code to use current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_tap_by_jim_object: - Merge declarations of temporary variables with first use.  - Restructure logic to simplify conditional logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify and fix bug in jtag_tap_by_string: - Bug fix: Use unsigned type and strtoul when parsing for position
	number.  - Simplify logic by returning directly when a tap is found by name.  - Reduce scope: declare temporary variables with first use.  - Bring code up to current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Allow jtag_tap_add to be called from other JTAG
	code modules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Cleanup jtag_tap_count_enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Change jtag_add_pathmove to set
	jtag_error rather than call exit(): - Add new error codes to encode the possible failure conditions.  - Add documentation to describe the routine's possible error codes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Reduce scope or eliminate temporary variables in
	jtag_add_statemove: - Change types of tms_bits and tms_count to unsigned, eliminates a
	cast.  - Use moves[] only if needed; a single move can use goal_state
	directly.  - Declare loop induction variable inside its control statement.  - Remove retval in favor of direct returns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Move documentation in jtag_add_statemove body to
	Doxygen block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/str912.cfg: Revert changes from r2134 that snuck into
	the commit.  Mea culpa.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/csb337.cfg, tcl/target/str912.cfg: David Brownell
	<david-b@pacbell.net>: Add configuration for an old AT91rm9200 board, the Cogent CSB 337.
	Worth noting from the OpenOCD perspective:  - It got a real hardware trace port connector; wired up here as    much as we can, lacking inexpensive trace-aware dongles.   - This is the first in-tree use of the "arm920t cp15" command.     It adjusts the CPU clocking and enables i-cache, which gives    more than 4x speedup after booting Linux; it's visible even    just running U-Boot.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix eol-style on guess-rev.sh git-svn-id: svn://svn.berlios.de/openocd/trunk@2133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch wrote a fix for configure problems under
	Cygwin.  ltmain.sh is added to svn ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@2131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Add documentation for new interface_list command
	to user guide.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factor interface list to its own command: - Add handle_interface_list_command, used by
	handle_interface_command.  - Display output of new list to command console.  - Change first index of displayed drivers to 1; it's only cosmetic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Cleanup and simplify handle_interface_command: - Reduce indent: invert logic of strcmp test.  - Reduce scope: declare variables upon first use in loops.  - Reduce unsaid: compare end of table with NULL.  - Remove superfluous braces around blocks with one statment.  - Improve language that introduces the list of built-in drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_sleep: - Add todo for removing keep_alive: is this a layering violation? - Use jtag_set_error instead of accessing jtag_error directly.  - Remove superfluous retval temporary variable and empty return.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_reset: - Use jtag_set_error instead of accessing jtag_error directly.  - Remove superfluous retval temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_clocks: - Use jtag_set_error instead of accessing jtag_error directly.  - Improve error language and whitespace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2125
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_runtest: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous comment and temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_pathmove: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous retval temporary variable.  - Reduce scope of loop induction variable.  - Wrap to fit within 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_tlr: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_plain_dr_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2121
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_dr_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2120
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_plain_ir_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2119
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_add_ir_scan_noverify: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap and rename function arguments to fit everything in 80
	columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2118
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Simplify jtag_execute_queue: - Add static inline jtag_error_clear helper to return and clear
	jtag_error.  - Use new helper to shrink body of function to two lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify jtag_execute_queue_noclear: - Replace jtag_error logic with equivalent call to jtag_set_error.  - Remove superfluous comment and temporary return variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Cleanup handle_runtest_command: - Make command argument require exactly one argument; do not allow
	extras.  - Remove superfluous whitespace at end of function.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2115
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Clean up handle_jtag_reset_command: - Make command require exactly two arguments; do not allow more than
	two.  - Move temporary variable declarations closer to point of first use.  - Remove superfluous braces around single statments.  - Wrap to 80 column width.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2114
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Extend handle_jtag_n{s,t}rst_delay_command
	routines: - Add support to display the reset delays too, like the other
	commands.  - Always show the values, so users can see if they are being
	redundant.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add accessors to retrieve values
	of jtag_n{s,t}rst_delay variables.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2112
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Update JTAG reset delay command handlers: - Fixes for error handling:   - Return a syntax error instead of calling exit(-1).    - Return error when more than one argument is provided too.  - Remove useless braces and indent after the if/return statements.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Cleanup the handle_jtag_khz_command routine: - Separate retval assignments from logical tests.  - Simplify logical tests.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Simplify logic in handle_jtag_speed_command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: David Brownell <david-b@pacbell.net> Bugfix:
	$target_name cget/configure -work-area-backup commands should return
	the "is it backed up?" flag, not the work area size.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2108
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target.c: David Brownell
	<david-b@pacbell.net> - Don't let disabled TAPs be set as the current target  - Improve "targets" output:     * Remove undesirable "chain position" number; we discourage
	    using them * TAP and Target column updates:        + make them long enough for current usage        + improve labels, removing guesswork        + "TapName" label patches scan_chain output     * Highlight the "current" target     * Display "tap disabled" as a new pseudo-state     * Update docs accordingly git-svn-id: svn://svn.berlios.de/openocd/trunk@2107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Adjust whitespace in configure script: use two
	spaces for indent.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Reorder configure script macros: - Check for a compiler before looking for libraries or header files.  - Initialize automake before calling other AM_ macros.  - Disable libtool shared libraries by default.  - Remove checks for unused C++, Fortran, and Java compilers.  - Remove redundant AC_CANONICAL_HOST; called by AC_PROG_LIBTOOL.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Rework parallel port configure script option
	handling: - Move AC_ARG_ENABLE for secondary parallel port options:   - These macros cause their configure options to appear
	    unconditionally, so they should not be placed inside conditional
	  logic.  - Groups them with primary parallel port driver option.  - Update these options to show '-' instead of '_'; both still work.  - Update command help text to show host architecture/OS
	requirements.  - Display a warning when these options have been provided and the   configure script will ignore the setting that the user specified.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/minidummy.c,
	src/jtag/minidummy/minidummy.c: Move minidummy source file, as was
	supposed to happen in last commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am, src/jtag/jtag.c: Finish off
	the dummy minidriver integration: - Try to disambiguates minidriver options from "standard" driver
	  options.  - Make minidummy symbols more explict about being a minidriver.    - Move minidummy.c into minidummy directory to put it with its
	  header.  In configure.in: - Improve configuration option to allow new minidriver
	  implementations: - Change option from --enable-minidummy to
	  --enable-minidriver-dummy.  - Move it to the end of the list of options.    - Provides a clear pattern for future minidrivers.  - Update handling of HAVE_JTAG_MINIDRIVER_H:   - Check for external jtag_minidriver.h only with
	  --enable-ecosboard.  - Otherwise, define it when --enable-minidriver-dummy is provided.  - Add check to ensure only one minidriver is enabled.  - When a minidriver is enabled, warn user that standard drivers are
	not built.  - Use proper AC_DEFINE semantics with MINIDRIVER_DUMMY.  In src/jtag/Makefile.am: - Restructure handling of minidummy source files.  - Include minidummy driver header in the distribution.  In src/jtag/jtag.c: - Restructure preprocessor logic to include:   - only one minidriver, or   - all configured standard drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/jtag.txt: Fix reference warning in JTAG primer,
	add another external reference.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target.c: David Brownell
	<david-b@pacbell.net>: Let disabled targets be ignored during normal operation:  - In target_examine(), ignore disabled TAPs  - Reset handling must not poke at them either:      * fail $target_name arp_* operations on disabled TAPs      * in startup.tcl, don't even issue the arp_* wait ops ZW: removed superfluous braces from the patch to target.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2100
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Clarify docs for the evb_lm3s811 layout:  works in two modes, not
	just one.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2099
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Fix regression in mdw output; identified by
	Magnus Lundin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2098
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Rework chapter 12 (CPU configuration) to use @deffn, match the code
	more closely, and present things more clearly.  Includes the *current* list of targets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2097
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Various minor tweaks for the User's guide.   - Fix various minor (but repeated) typographic goofs;  - Talk about TAP "declaration" not "creation" (they exist    even if OpenOCD never learns about their board);  - Encourage board.cfg for reset config, not target.cfg  - Fill in some missing information (e.g. x16_as_x8)  - Add a cross reference to the FAQ on TAP ordering;  - Unclutter the concept index a bit (re core-specific commands)  - Provide a bit more info about TAP states git-svn-id: svn://svn.berlios.de/openocd/trunk@2096
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/jtag.c: retire endstate command git-svn-id: svn://svn.berlios.de/openocd/trunk@2095
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/minidummy.c, src/jtag/minidummy/jtag_minidriver.h: Set
	svn:eol-style properties on new minidummy driver files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2094
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Fix regressions in previous series of cleanp,
	caused by r2092.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2093
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am, src/jtag/jtag.c,
	src/jtag/minidummy.c, src/jtag/minidummy/jtag_minidriver.h: 
	minidriver build test driver "minidriver" git-svn-id: svn://svn.berlios.de/openocd/trunk@2092
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Factoring of jtag_examine_chain
	for maintainability: - Improve variable type: change device_count to unsigned.  - Improves jtag_tap_count_enabled() API too (now returns unsigned).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2091
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Limit scope: move tap and bit_count variables to point of first
	use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2090
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Factor TAP ID matching into new helper function.  - Simplifies the main jtag_examine_chain loop logic considerably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2089
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Minor whitespace and style cleanups in body of jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2088
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Add helper to check for the terminating ID during
	jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2087
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Factor end-of-chain verfication into new helper routine.  - Change 'unexpected' local variable name to 'triggered' and type to
	bool.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2086
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Factor output of accepted/incorrect/expected TAP IDs into static
	helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2085
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Factor initial chain examination check into new static helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2084
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Factor JTAG chain examination into static helper function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2083
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Reduce indent: invert logical test of expected_id count.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2082
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Reduce indent: invert logic test for unexpected TAP (no IDs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Reduce indent: invert logic test for tap in jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2080
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Move definition of maximum JTAG chain size closer to its only
	uses.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Factoring of jtag_examine_chain for
	maintainability: - Move JTAG EXTRACT macros out from the middle of
	jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2078
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Clean up handle_endstate_command(): - Merge declaration of state with first use.  - Unindent and remove unnecessary 'else' block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2077
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/at91rm9200.cfg: David Brownell <david-b@pacbell.net>
	target/at91rm9200.cfg cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2075
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/system.h: remove hacks no longer required to build
	OpenOCD w/eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2074
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: remove unused include file: strings.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2073
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/nand.c, src/helper/ioutil.c,
	src/target/trace.c: remove unused include file: inttypes.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2072
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: remove unused include file: inttypes.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2071
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/jtag_driver.c,
	src/jtag/zy1000.c: Eliminate MixedCaps symbol from public JTAG TAP
	API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NextEnabledTap' as 'jtag_tap_next_enabled.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/jtag_driver.c: 
	Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NumEnabledTaps' as 'jtag_tap_count_enabled.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2068
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Eliminate MixedCaps symbol from
	public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NumTotalTaps' as 'jtag_tap_count.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/target.c: Eliminate
	MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByJimObj' as 'jtag_tap_by_jim_obj.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2066
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/pld/virtex2.c,
	src/target/arm11.c, src/target/etb.c, src/xsvf/xsvf.c: Eliminate
	MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByString' as 'jtag_tap_by_string.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h: Eliminate
	MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByAbsPosition' as 'jtag_tap_by_abs_position.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2064
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Eliminate MixedCaps symbol from public JTAG TAP
	API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByPosition' as 'jtag_tap_by_position.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Eliminate MixedCaps symbol from
	public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_AllTaps' as 'jtag_all_taps.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2062
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Eliminate MixedCaps symbol from public JTAG TAP
	API: - Purely mechanical transformations to the source files.  - Rename 'jtag_all_taps' as '__jtag_all_taps.' - Frees original symbol name to rename the accessor function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add accessors for jtag_verify;
	use them in jim command handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2060
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add accessors for reset delays;
	use them in jim command handlers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add accessors for speed_khz; use
	them in jim command handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2058
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add jtag_get_flush_queue_count
	accessor to help future factoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2057
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Clean up the JTAG TAP creation handler: - Factor jtag_tap_init() helper out of the end of jim_newtap_cmd.  - Factor jtag_tap_free() helper out of the error case in
	jim_newtap_cmd.  - Invert test to improve indentation at the end of jim_newtap_cmd.  - Improve whitespace in the newly factored functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2056
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Clean up the core JTAG TAP APIs: - Move jtag_tap_name to same location as other TAP functions; export
	it.  - Factor new jtag_tap_add() from jim_newtap_cmd(); appends TAP to
	global list.  - Move static chain position counter to global; use in
	jtag_NumTotalTaps().  - Use jtag_AllTaps for reading tap list, instead of accessing global
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2055
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Change hasKHz to use bool type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2054
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add missing static keywords in JTAG source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2053
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.h: unbreak arm11. TAP_INVALID is used to
	communicate inband that a special state should be used to lower
	level fn's in ARM11 code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2052
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h,
	src/target/cortex_m3.c: - add support for different TAR autotincrement sizes as per ARM ADI
	spec.  - set TAR size to 12 bits for Cortex-M3.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2051
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/minidriver.h, src/jtag/zy1000.c, src/pld/virtex2.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c, src/target/avrt.c,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/mips_m4k.c, src/target/xscale.c, src/xsvf/xsvf.c: Rename
	jtag_add_end_state to jtag_set_end_state since "add" implies that
	this fn has something to do with the queue, which it does not as
	such.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2050
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/zy1000.c, src/target/arm11.h, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c, src/target/xscale.c: 
	Introduce jtag_get_end_state() fn to clarify code a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2049
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/jtag/zy1000.c: tiny bit of encapsulation of
	global end state. No longer expose it as a global variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2048
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/zy1000.c: do not modify global end state
	from jtag_add_xxx() git-svn-id: svn://svn.berlios.de/openocd/trunk@2047
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: remove unused code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2046
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/virtex2.c, src/target/arm11_dbgtap.c,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/xsvf/xsvf.c: no
	longer use jtag_add_xxx() to set end state to TAP_DRPAUSE git-svn-id: svn://svn.berlios.de/openocd/trunk@2045
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/pld/virtex2.c,
	src/target/arm11_dbgtap.c, src/target/arm7_9_common.c,
	src/target/arm_adi_v5.c, src/target/avrt.c, src/target/xscale.c: no
	longer use jtag_add_xxx() to set end state to TAP_IDLE. Same must be
	done for TAP_DRPAUSE git-svn-id: svn://svn.berlios.de/openocd/trunk@2044
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: use assert() to catch TAP_INVALID passed to
	jtag_add_xxx() fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2043
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/target/arm11.h,
	src/target/arm720t.c, src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c, src/target/xscale.c: 
	remove TAP_INVALID as argument to jtag_add_xxx() fn's git-svn-id: svn://svn.berlios.de/openocd/trunk@2042
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: jtag_add_end_state() now returns
	the value of the global variable and does not modify the global
	variable if passed TAP_INVALID. This patch has no effect on the
	current code and is just to prepare upcoming patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2041
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: JTAG_TRST_ASSERTED event
	cleanup. More clear where and when it is invoked and some
	duplicate(harmless) invocations avoided.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2040
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Update the "General Commands" (a.k.a. "random stuff") chapter, and
	associated chunks of other text:  - Switch to @deffn and review everything that's documented  - Improve descriptions of reset events, with reference to    the setup.tcl code which issues them.   - Move one zy1000-specific command to that driver's doc.   - There is no "script" command; remove its doc.  NOTE:  Some things missing from this bit of work are:  1- Reviewing the code to catch various *missing* functions,     mostly from "target.c"  2- Alphabetizing and organizing.  This chapter is a real     grab-bag with no evident focus or structural principle.   3- Hole-filling and bugfixing with respect to messaging/logging.      Example, what principle could possibly justify the tcl command     output going into the server output/log instead of just the     telnet session?  4- Not just for this chapter ... but there should be a section     with descriptions of all the supported image file formats,     so every image command can just reference that section.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2039
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: David Brownell <david-b@pacbell.net>: Remove pernicious whitespace from ft2232 driver; as usual,
	end-of-line noise, but here also much line-internal stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2038
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: David Brownell <david-b@pacbell.net>: Minor cleanup of FT2232:   - make Olimex glue warn about Olimex issues instead of JTAGkey
	  issues; - make some data static+const;   - don't export some internal symbols.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2037
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/arm-jtag-ew.c, src/jtag/bitbang.c, src/jtag/ep93xx.c,
	src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/vsllink.c: David Brownell
	<david-b@pacbell.net>: Remove pernicious whitespace from src/jtag/*c files; mostly the
	end-of-line flavor for now, although there's more.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2036
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Convert the Interface/Dongle Config chapter's section on drivers to
	use the @deffn syntax, and integrate the presentation of the
	driver-specific commands with the relevant driver.  Alphabetize.  Cross-checked against the code ... several adapters were not listed,
	and a few commands weren't.  (Maintainers for the versaloon and zy1000 drivers would be good
	candidates to add the commands missing from those sections...) git-svn-id: svn://svn.berlios.de/openocd/trunk@2035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Convert the str9xpec driver info to use @deffn; alphabetize; add the
	missing part_id command.  Convert the mflash support to use @deffn; alphabetize.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2034
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: use assert() for obscure check on illegal
	arguments upon trst being asserted while commands are queued git-svn-id: svn://svn.berlios.de/openocd/trunk@2033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitq.c: remove unused code path.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2032
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/zy1000.c: catchup with jtag refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/commands.c, src/jtag/jtag.c: Move
	JTAG command handling implementation into its own source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2030
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/bitq.h, src/jtag/dummy.c, src/jtag/ep93xx.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/jlink.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/jtag_driver.c,
	src/jtag/minidriver.h, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000.c: Finish JTAG header file modularization; command
	factoring follows.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/commands.h: added missing extern to jtag_command_queue
	definition.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2028
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/commands.h, src/jtag/jtag.h: Move
	JTAG command APIs into new jtag/commands.h header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, doc/manual/primer/patches.txt, doc/manual/scripting.txt: 
	Improve remaining documentation that was causing Doxygen warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2026
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.h, src/jtag/ft2232.c, src/jtag/jtag.h,
	src/target/target.h: Improve in-source documentation that was
	causing Doxygen warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/jtag.txt, doc/manual/main.txt: Add architectural
	introduction to the JTAG module in The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2024
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/logger.pl: Improve logger script to expose warnings and
	errors in the output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* PATCHES: Improve doxygen markup of PATCHES file, link to new
	primer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2022
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt, doc/manual/primer/patches.txt: Add draft of
	Patching Primer in The Manual; update primer page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2021
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Update TODO file with more content and better style.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2020
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Enable or add doxygen comments to the public JTAG
	API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2019
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interface.h: Update documentationf or jtag_interface
	structure members.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2018
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove vestigal tap_transition type from public
	jtag API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2017
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/jtag_driver.c, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/rlink/rlink.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c, src/jtag/zy1000.c, src/xsvf/xsvf.c: Remove
	interface.h from public JTAG header, include it where required.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2016
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interface.h, src/jtag/jtag.h: Expose tap_state_by_name
	TAP helper available in public API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2015
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Update docs for most of the remaining commands in jtag.c:  - switch to @deffn  - these are just the "low level" JTAG commands  - resolve much goofage!     * remove docs for non-existent commands     * add missing docs for some existing commands     * fix incorrect docs for some commands  - just index TAP states overall, not individually  - current name is "RUN/IDLE" not "IDLE" Cross checked against the source.  This also creates an "Interface Drivers" section, analagous to how (NOR) Flash and NAND drivers are presented; that's not yet sorted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2014
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Rework the TAP creation documentation.   - Try to use "TAP" not "tap" everywhere; it's an acronym.   - Update the associated "target config files" section:      * reference the "TAP Creation" chapter for details      * simplify:  reference interesting multi-tap config files      * let's not forget CPU configuration (*before* workspace setup)      * streamline it a bit      * move that workspace-vs-mmu issue to a better location  - Clean up TAP creation doc mess      * switch to @deffn      * (re)organize the remaining stuff      * reference the "Config File Guidelines" chapter  - Tweak the "Target Configuration" chapter      * rename as "CPU configuration"; unconfuse vs. target/*.cfg      * bring out that it's not just there for GDB      * move TAP events to the TAP chapter, where they belong
	     (bugfix) git-svn-id: svn://svn.berlios.de/openocd/trunk@2013
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/interface.c, src/jtag/interface.h,
	src/jtag/jtag.c: Move the JTAG cable interface API implementation - Cloned the src/jtag/jtag.c file to src/jtag/interface.c.  - For each for of those files, deleted the contents of the other.  - Add new source file to automake input.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2012
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interface.h, src/jtag/jtag.c: Add missed accessor for
	checking the current TMS table.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2011
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interface.h, src/jtag/jtag.c: Split and simplify
	handle_tms_sequence_command for further factoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2010
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/interface.h, src/jtag/jtag.c: Make tap_state_by_name
	available in new JTAG interface API header.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2009
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/interface.h, src/jtag/jtag.h: Add
	private src/jtag/interface.h for use by JTAG interface drivers: - Move the jtag_interface structure definition.  - Move the Cable API declarations.  - Add new header file to automake input.  The next patch will move the implementation to interface.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2008
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/jtag_driver.c,
	src/jtag/minidriver.h: Finish removing '#ifdef
	HAVE_JTAG_MINIDRIVER_H' from jtag.h: - Wraps JTAG callback API functions:   - Outlines jtag_add_callback() and jtag_add_callback4().    - Adds interface_ prefix to existing in-tree driver
	  implementation.  - Declare the driver interfaces routines in miniheader.h file.  This patch requires renaming the equivalent macros in out-of-tree
	jtag_minidriver.h implementations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2007
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/jtag_driver.c, src/jtag/minidriver.h, src/jtag/zy1000.c: 
	Add header file for JTAG minidriver: - Wraps all minidriver API functions using API front-ends:   - Outlines jtag_add_dr_out() and jtag_alloc_in_value32().    - Adds interface_ prefix to existing jtag_alloc_invalue_32
	  routines.  - Re-inline these interface definitions in new header file.  - Re-inline parts of the (mini)driver implementations in
	minidriver.h.  - Replace INCLUDE_JTAG_MINIDRIVER_H with #include directives.  The next patch will finish removing '#ifdef HAVE_JTAG_MINIDRIVER_H'
	from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2006
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/arm_adi_v5.c,
	src/target/arm_adi_v5.h, src/target/armv7m.c,
	src/target/cortex_m3.c: - change signature for adi_jtag_dp_scan and adi_jtag_dp_scan_u32 to
	use swjdp_common_t *swjdp instead of arm_jtag_t *jtag_info - change SWJDP_IR/DR_APACC to DAP_IR/DR_APACC to conform with
	ARM_ADI docs.  - add swjdp->memaccess_tck field and code for extra tck clocks
	before accessing memory bus - Set default memaccess value to 8 for Cortex-M3.  - Add dap memaccess command.  - document all armv7 dap cmds.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2005
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - hack added to fix a issue with v5/6 jlink v5/6 jlink seems to have
	an issue if the first tap move is not divisible by 8, so we send a
	TLR on first power up git-svn-id: svn://svn.berlios.de/openocd/trunk@2004
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag_driver.c: remove unecessary #ifdef as file is only
	built when minidriver is enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2003
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/jtag/jtag_driver.c, src/jtag/zy1000.c,
	src/target/embeddedice.c: some trivial minidriver fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2002
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: more missing eCos types git-svn-id: svn://svn.berlios.de/openocd/trunk@2001
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am: Only include jtag_driver.c in
	the build when minidriver is not in use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2000
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/jtag_driver.c,
	src/jtag/zy1000.c: Move interface_jtag_add_scan_check_alloc
	implementations to their respective implementation files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1999
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/ft2232.c: Add high-speed device support in
	FT2232 driver: - Initial support for FT2232H/FT4232H devices from FTDI.  - Add --enable-ftd2xx-highspeed option to configure script.  - Original patch submitted by Joern Kaipf <lists@joernline.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1998
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/bitbang.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c: Remove
	unused code, TAP_INVALID is never passed to drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1997
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/jtag_driver.c: Continue clean-up of JTAG driver interface: - Move all interface_jtag_* functions to jtag_driver.c.  - Extern command queue routines in jtag.h (with
	INCLUDE_JTAG_INTERFACE_H).  - Add new source file to automake inputs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1996
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: More JTAG interface driver cleanup: - Moves references to global jtag interface to default core
	implementation.  - Missed this reference in the earlier "pointless" patch.  Mea
	culpa.  Important: this has a side-effect.  Previously, the error return
	inside the interface routine short-circuited the remainder of that
	function when 'init' has not been called.  With this patch, the
	command queue will be cleared in the case that 'init' has been
	called.  Since that case indicates a buggy script, this does not
	seem to be a problem.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1995
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: More JTAG interface driver cleanup: - Add jtag_callback_queue_reset() to reset the callback queue.  - Make interface_jtag_execute_queue() use new helper function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1994
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: More JTAG interface driver
	cleanup: - Make interface_jtag_execute_queue call new helper function.  - Add default_interface_jtag_execute_queue to wrap jtag interface
	access.  This patch may look useless on its own, but it helps to isolate the
	core JTAG variables from the interface_jtag_* routines, so the later
	can be moved into jtag_driver.c in a pending patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1993
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Clean up jtag command queue handling: - Rename last_command_pointer as next_command_pointer, because this
	  variable stores the address where jtag_queue_command() will store a
	command pointer.  - Make that variable static, since it is only used internally in
	jtag.c.  - Remove superfluous accessor for that now-static variable.  - Deobfuscate use of variables in jtag_command_queue.  - Add jtag_command_queue_reset helper function.  - Use it in interface_jtag_execute_queue.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1992
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Encapsulate JTAG command interfaces for moving to
	jtag_interface.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1991
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove the useless invalidstruct from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1990
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Start clean-up of JTAG driver interface: - Factor jtag_add_scan_check to call new jtag_add_scan_check_alloc
	helper.  - Use conditional logic to define two versions of the helper.  - These helpers will be moved to other files in future patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1989
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: David Brownell <david-b@pacbell.net>: Make the TCL "drscan" and "irscan" commands finish in RUN/IDLE
	unless the user specifies otherwise ... usually they'd choose
	something like DRPAUSE or IRPAUSE, avoiding RUN/IDLE.  The current "end" state is whatever the preceding commands left in
	"cmd_queue_end_state", which to TCL scripts isn't knowable.  This
	change should forestall various surprises/bugs.  Also check that any "end" state specified is safe in case this
	adapter's JTAG clock is free-running.  For now, just issue a
	warning; eventually a hard failure is probably correct.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1988
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: David Brownell <david-b@pacbell.net>: Whitespace fixes in jtag.c ... mostly end-of-line crap.  Flag
	"jtag_device" command as obsolete in its helptext.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1987
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Remove two sections about deprecated/removed commands, documenting
	them briefly in the chapter on deprecated/removed commands.  The
	"working_area" command just duplicated text; "jtag_device" wasn't
	listed in that chapter before.  Also start de-emphasizing those commands.  Don't index them, and
	include a disclaimer that their documentation may start to vanish
	about a year after the code does (e.g. in January 2010).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1986
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/board/osk5912.cfg: David Brownell <david-b@pacbell.net>: This is the missing half of the r1974 patch: OSK5912 board support,
	which was split out from the omap5912 target config.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1985
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000.c, src/xsvf/xsvf.c: Encapsulate JTAG Cable API and
	interface structure, plan for new header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1984
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/zy1000.c: Encapsulate
	JTAG minidriver functions, plan for new header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1983
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove unused in_handler_t type definition from
	jtag.h git-svn-id: svn://svn.berlios.de/openocd/trunk@1982
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: Scrub final vestiges of in_handler from mips
	target APIs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1981
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/xsvf/xsvf.c: added
	jtag_add_statemove() helper fn(actual fn written by Dick Hollonbeck,
	I just moved it).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1980
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: fix warning for a variable that GCC thought
	might be uninitialized(which it can't be).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1979
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: simon qian <simonqian.openocd@gmail.com> stop
	incestious communication with lower jtag.c layers git-svn-id: svn://svn.berlios.de/openocd/trunk@1978
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Uplevel the arch commands to be a chapter; they really don't fit in
	the "general commands" category.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1977
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Fix minor goofage in previous doc updates:  * The ETM dummy driver name is "dummy" not "etm_dummy";    re-alphabetize.   * DCC trace message mode "charmsg" is a format type    (and what Linux needs) git-svn-id: svn://svn.berlios.de/openocd/trunk@1976
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Various updates, mostly small/formatting changes:  * Small content tweaks:     - Re-title:  "OpenOCD User's Guide".      - For users, URLS for latest doc and SparkFun forum     - Mention GIT-SVN  * Fix some front-matter goofage, matching texinfo docs:     - "paragraphintent" location matters     - put release version/date description with the copyright  * Fix some other stuff matching texinfo docs:     - no tabs     - tweak some refs and anchors  * whitespace-at-end-o-line fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1975
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tcl/target/omap5912.cfg: David Brownell <david-b@pacbell.net>: Split out OSK5912 board support from the omap5912 target config, and
	make it pass sanity checks on my (Rev C/original) hardware:  - Fix syntax error ("-irlen" not "irlen")  - Provide real TAP ids for the ARM926ejs and the C55x dsp  - Label both CPUs appropriately (DSP, ARM)  - List both flash chips The scan chain looks like this (note truncated DSP instruction
	code):       TapName            | Enabled |   IdCode      Expected    IrLen
	 IrCap  IrMask Instr

	---|--------------------|---------|------------|------------|------|------|------|---------  0 | omap5912.dsp       |    Y    | 0x03df1d81 | 0x03df1d81 | 0x26
	  | 0x00 | 0x00 | 0xffffffff 1 | omap5912.arm       |    Y    |
	  0x0692602f | 0x0692602f | 0x04 | 0x01 | 0x00 | 0x0c 2 |
	omap5912.unknown   |    Y    | 0x00000000 | 0x00000000 | 0x08 | 0x00
	| 0x00 | 0xff I still don't know what that third TAP is; maybe an early version of
	an ICEpick JTAG router.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1974
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/target_request.c: David
	Brownell <david-b@pacbell.net>: Whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1973
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c, src/flash/lpc288x.c, src/flash/ocl.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str9x.c,
	src/flash/str9xpec.c: David Brownell <david-b@pacbell.net>: Remove broken whitespace ... mostly at end of line, but also in some
	cases blocks of inappropriate empty lines.  And spell "comamnd" right. :) git-svn-id: svn://svn.berlios.de/openocd/trunk@1972
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/feroceon.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_type.h,
	src/target/xscale.c: Final step in isolating target_type_s
	structure: - Move definition of 'struct target_type_s' into new 'target_type.h'
	file.  - Forward delclaration remains in target.h, with comment pointing to
	new file.  - Replaces #define with #include in source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1971
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/helper/Makefile.am,
	src/jtag/Makefile.am, src/target/Makefile.am: Whitespace-only
	updates to automake input files: - use continuations to break long lines of variable assignments - makes these variables more patch-friendly and conform to style
	guide git-svn-id: svn://svn.berlios.de/openocd/trunk@1970
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm720t.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/avrt.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/feroceon.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/xscale.c: First step in
	hiding target_type_s from public interface: - Add DEFINE_TARGET_TYPE_S symbol in files that need it defined.  - Forward declare 'struct target_type_s' only, unless that symbol is
	defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1969
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/target.c,
	src/target/target.h: Add target_examine_one wrapper: - replaces all calls to target->type->examine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1968
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/breakpoints.c, src/target/target.c,
	src/target/target.h: Add target breakpoint and watchpoint wrapper: - replaces all calls to
	target->type->{add,remove}_{break,watch}point.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1967
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/arm11.c,
	src/target/embeddedice.c, src/target/target.c, src/target/target.h: 
	Add target_get_name wrapper: - replaces all accesses to target->type->name.  - add documentation in target_s to warn not to access field
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1966
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: 
	Add target_step wrapper: - replaces all calls to target->type->step.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1965
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: 
	Add target_get_gdb_reg_list wrapper: - replaces all calls to target->type->get_gdb_reg_list.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1964
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/orion_nand.c, src/target/target.c, src/target/target.h: 
	Add target_bulk_write_memory wrapper: - replaces all calls to target->type->bulk_write_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1963
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/cortex_a8.c, src/target/cortex_m3.c,
	src/target/mips32.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/target.h: Add wrappers for target->type->examined: - replace all checks of target->type->examined with
	target_was_examined().  - replace all setting of target->type->examined with
	target_set_examined().  - replace clearing of target->type->examined with
	target_reset_examined().  - add documentation in target_s to warn not to access field
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1962
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/lpc2000.c, src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/target/arm7_9_common.c, src/target/armv7m.c,
	src/target/target.c, src/target/target.h: Add target_run_algorithm
	wrapper: - replaces all calls to target->type->run_algorithm.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1961
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/lpc2000.c,
	src/flash/lpc288x.c, src/flash/lpc3180_nand_controller.c,
	src/flash/mflash.c, src/flash/orion_nand.c, src/flash/str7x.c,
	src/flash/str9x.c, src/target/arm7_9_common.c,
	src/target/cortex_m3.c, src/target/feroceon.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale.c: Add target_write_memory wrapper: - replaces all calls to target->type->write_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1960
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/flash.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/target/arm7_9_common.c, src/target/cortex_m3.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale.c: Add target_read_memory wrapper: - replaces all calls to target->type->read_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1959
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Simplify the handle_md_command routine in
	 target.c: - fix buffer overrun in mdw; final '\0' would overflow the output
	 buffer.  - return ERROR_COMMAND_SYNTAX_ERROR instead of ERROR_OK if:    - less than one argument is provided    - the command is called with a name other than mdb, mdh, or mdw.   - factor all command output into new handle_md_output function git-svn-id: svn://svn.berlios.de/openocd/trunk@1958
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target.h: Make nvp_target_event
	static; remove its external declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1957
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target.h: Make
	target_buffer_get_uXX interfaces work with constant buffers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1956
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Peter Denison <openwrt@marshadder.org>: The debugging code in jlink_tap_execute() called when
	_DEBUG_USB_COMMS_ is defined was using the entire cached scan length
	to print the results buffers, and not the correct length of each
	individual buffer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1955
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/jtag.txt: Add new JTAG boundary scan primer,
	with links to BSDL information.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1954
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Eliminate duplicated code in the
	handle_mw_command memory write loop.  - wordsize will always be 1, 2, or 4 due to preceeding switch
	statement.  - move call to keep_alive after successful writes, not upon failures git-svn-id: svn://svn.berlios.de/openocd/trunk@1953
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/openocd.c: Encapsulate the
	global "jtag" jtag_interface pointer: - Add jtag_interface_quit, factored from exit_handler() in
	openocd.c.  - Remove its extern declaration.  - Add static keyword to its definition.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1952
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Remove unused jlink_execute_end_state
	(unreferenced after r1949).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1951
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/jtag/jtag.h: remove unused JTAG_END_STATE
	part 2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1950
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/rlink/rlink.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c: remove unused JTAG_END_STATE git-svn-id: svn://svn.berlios.de/openocd/trunk@1949
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: added some comments on meminfo command git-svn-id: svn://svn.berlios.de/openocd/trunk@1948
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: more reset_config texts git-svn-id: svn://svn.berlios.de/openocd/trunk@1947
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/oocd_trace.c: Remove trailing whitespace from
	oocd_trace source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1946
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/etm.c, src/target/oocd_trace.c: David
	Brownell <david-b@pacbell.net>: Provide basic documentation on the ARM ETM and ETB trace commands.  Fix minor goofs in registration of the ETM commands; and whitespace
	issues in the proof-of-concept oocd_trace code.  (Plus include a ref
	to Dominic's email saying that it's just proof-of-concept code.) Note that I'm still not sure whether the ETM support works.  But
	documenting how it's expected to work should help sort out which
	behaviors are bugs, which will help get bugs patched.  ZW: whitespace changes were split out of this patch but will follow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1945
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/jtag.c: David Brownell
	<david-b@pacbell.net>: Make it so the magic "reset_config" keywords can be provided in any
	order.  This eliminates needless error paths, and makes it easier to
	define things at the right level (adapter, board, target).  It also
	includes two other behavioral changes:   (1)	When "handle_reset_config" sees a parameter error, it   	exits without changing anything.   This is best viewed 	as a bugfix.  (Old behavior:  restore defaults, even if 	they weren't previously active.)   (2)	Only the behaviors that were explicitly specified get   	changed.  (Old behavior:  everything else gets reset to 	the "default".)  So for example you can now specify SRST 	drive requirements without saying anything about the 	three unrelated topics you previously had to specify.  That second one might cause confusion for any configs that end up
	calling "reset_config" twice, so it will deserve to be called out in
	the release notes.  (There were no such configurations in the
	current OpenOCD source tree.) Update docs accordingly.  Note that at least some versions of the
	texi-to-html tools can't handle "@xref{with spaces}", but those work
	properly in PDF and in the info files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1944
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Remove error_handler_t type definition; it was
	unused in the tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1943
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.h: Add documentation to flash.h: - provides low-level information about each flash API interface, - gives driver authors some documentation about the driver
	interface, - updated extensively from the original patch provided by Duane
	Ellis.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1942
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Provide basic documentation for some of the other flash drivers.   avr ... looks incomplete, may work with one AVR8 microcontroller  ecosflash ... can't find docs  lpc288x ... an NXP part, driver seems lpc2888-specific  ocl ... some arm7/arm9 thing, can't find docs  pic32mx ... looks incomplete, for PIC32MX (MIPS 4K) devices  tms470 ... for TI TMS470 parts Still seems to be mostly arm7tdmi... several of these have no users
	in the current tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1941
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* bootstrap: Remove redundant call to autoheader in bootstrap
	script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1940
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Start converting the architecture-specific commands to @deffn
	format, reviewing against the code.    * armv4_5 disassemble ... now documented; although Jazelle code     is not handled   * It's "armv4_5 core_state" not "core_mode"; although Jazelle
	    state is not handled   * arm7/9 "debug" commands ... now with other arm7_9 commands, no     longer in a separate section   * arm926ejs cp15 ... previous description was broken, it matched     the code for arm920t instead   * Have separate subsections for ARMv4/ARMv5, ARMv6, and ARMv7; the     latter are new   * Move core-specific descriptions into sub-subsections under those     architectures; XScale and ARM11 descriptions are new The new XScale and ARM11 command descriptions surely need
	elaboration and review.  ARM CP15 operation descriptions in general
	seem to be confused and incomplete.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1939
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Continue updating the NOR flash coverage to use @deffn syntax, so
	the commands have more consistent presentation and formatting.  This
	reorganizes information and updates its presentation, except where
	the information didn't really match the code.  This patch updates the main commands, and finishes making the
	section structure parallel the NAND presentation.  Of note:  - The "flash fill[whb] addr value length" commands are now
	 documented.   - The "flash bank" command is now presented much earlier  - Explicit mention is made that NOR flash should be read using just    standard memory access commands, like "mdw" and "dump_image".  git-svn-id: svn://svn.berlios.de/openocd/trunk@1938
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Start updating the NOR flash coverage to use @deffn syntax, so the
	commands have more consistent presentation and formatting.  This
	reorganizes information and updates its presentation, except where
	the information didn't really match the code.  This patch updates most of the driver specific support, creating one
	new (and alphabetized!) section just for driver-specific data, where
	previously that data was split over up to three sections.  Of note:  - The at91sam7 docs were a bit out of date with respect to the
	 code.   - The "str9xpec" stuff still deserves some work.  For now, it sits    in its own subsection; pretty messy.   - Likewise the "mflash" stuff.  That's a parallel infrastructure,    and is now in a section of its own.   - The "mass_erase" commands for the Cortex M3 chips got turned into    footnotes.  IMO, they should vanish sometime; they're
	   superfluous.   - There are still a bunch of undocumented NOR drivers.  Examples:    avr(8), tms470, pic32mx, more.  Plus there are a handful of minor tweaks to the NAND docs (to help
	make the NOR and NAND presentations be parallel); the "Command
	Index" has been renamed as the "Command and Driver Index"; reference
	TI instead of Luminary Micro in several places.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1937
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Fix a bunch of PDF generation bugs in the texi:  * The "overfull" warnings are basically complaints about lines    that are too long, so they ran off the right margin of the    PDF documentation and turn into a "black blot".   * The "underfull" warnings are basically complaints about lines    that look ugly when they get filled, because the tokens are    so long that the line-break algorithm can't do anything good.  In a few cases the simplest fix seemed to be to use more appropriate
	texi commands.  In other cases the fix was a content bugfix:  "ocd_" not "openocd_";
	and many of those "target variants" actually aren't recognized.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1936
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c: Fix potentialyl unaligned memory accesses in
	mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1935
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: Author: Nicolas Pitre <nico@cam.org> 	- cut out the "unknown EmbeddedICE version" message with Feroceon git-svn-id: svn://svn.berlios.de/openocd/trunk@1934
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/server/gdb_server.c: Author: Nicolas Pitre
		<nico@cam.org> - Silence errors about keep_alive() not being called frequently
		enough unless a gdb session is active or debugging is enabled git-svn-id: svn://svn.berlios.de/openocd/trunk@1933
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt, doc/manual/primer/tcl.txt,
	doc/manual/scripting.txt, doc/manual/style.txt: Numerous minor
	updates and fixes for The Manual: - Link Scripting Overview into the TCL Primer; both need more work.  - Remove redundant OpenOCD from Scripting Overview subpage title.  - Fix incorrect tag in Doxygen style guide example.  - Fix minor typo in first introductory paragraph of main page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1932
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c, src/flash/mflash.h: unsik Kim
	<donari75@gmail.com>: Add large bank write/dump support in mflash
	driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1931
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/mflash.c, src/flash/mflash.h: unsik
	Kim <donari75@gmail.com>: Add mflash configuration code, updating
	relevant documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1930
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c, src/flash/mflash.h: unsik Kim
	<donari75@gmail.com>: Remove unused mflash driver 'prove' field.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1929
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/mflash.c, src/flash/mflash.h: unsik
	Kim <donari75@gmail.com>: Remove unused mflash bank command options.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1928
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c: unsik Kim <donari75@gmail.com>: Change prefix
	of mflash driver routines to mg_.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1927
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: SimonQian <simonqian@SimonQian.com>: This
	patch allows the vsllink to support very large scan sizes in DMA
	mode.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1926
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/ft2232.c, tcl/interface/cortino.cfg: - add support for cortino jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@1925
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/style.txt: Add new Style Guides for languages used (and
	to be used) by project.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1924
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt: Link new Primer pages into the main list of
	Primers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1923
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/docs.txt: Add Documentation Primer to The
	Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1922
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/autotools.txt: Add draft of Autotools Primer to
	The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1921
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/helper/Makefile.am, src/helper/options.c,
	src/server/Makefile.am, src/server/httpd.c: Update build system to
	find moved scripts -- Step 3 of 2: - Update references from using PKGLIBDIR to PKGDATADIR.  - Update built-in script search paths to reflect new install
	  location: - $(pkgdatadir)       =>   $(pktdatadir)/site   - $(pkglibdir)        =>   $(pktdatadir)/scripts - Update installed location of httpd files:   - $(pkglibdir)/httpd   =>   $(pkgdatadir)/httpd git-svn-id: svn://svn.berlios.de/openocd/trunk@1920
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, src/tcl/bitsbytes.tcl,
	src/tcl/board/arm_evaluator7t.cfg, src/tcl/board/at91rm9200-dk.cfg,
	src/tcl/board/crossbow_tech_imote2.cfg,
	src/tcl/board/digi_connectcore_wi-9c.cfg,
	src/tcl/board/dm355evm.cfg, src/tcl/board/eir.cfg,
	src/tcl/board/hammer.cfg,
	src/tcl/board/hitex_stm32-performancestick.cfg,
	src/tcl/board/hitex_str9-comstick.cfg,
	src/tcl/board/iar_str912_sk.cfg, src/tcl/board/imx27ads.cfg,
	src/tcl/board/imx27lnst.cfg, src/tcl/board/imx31pdk.cfg,
	src/tcl/board/keil_mcb2140.cfg, src/tcl/board/linksys_nslu2.cfg,
	src/tcl/board/logicpd_imx27.cfg,
	src/tcl/board/olimex_LPC2378STK.cfg,
	src/tcl/board/olimex_lpc_h2148.cfg,
	src/tcl/board/olimex_sam7_ex256.cfg,
	src/tcl/board/olimex_sam9_l9260.cfg,
	src/tcl/board/olimex_stm32_h103.cfg, src/tcl/board/pic-p32mx.cfg,
	src/tcl/board/pxa255_sst.cfg, src/tcl/board/sheevaplug.cfg,
	src/tcl/board/stm3210e_eval.cfg,
	src/tcl/board/stm32f10x_128k_eval.cfg,
	src/tcl/board/str910-eval.cfg, src/tcl/board/ti_beagleboard.cfg,
	src/tcl/board/unknown-board-atmel-at91sam9260.cfg,
	src/tcl/board/x300t.cfg, src/tcl/board/zy1000.cfg,
	src/tcl/chip/atmel/at91/aic.tcl,
	src/tcl/chip/atmel/at91/at91sam7x128.tcl,
	src/tcl/chip/atmel/at91/at91sam7x256.tcl,
	src/tcl/chip/atmel/at91/pmc.tcl, src/tcl/chip/atmel/at91/rtt.tcl,
	src/tcl/chip/atmel/at91/usarts.tcl,
	src/tcl/chip/st/stm32/stm32.tcl,
	src/tcl/chip/st/stm32/stm32_rcc.tcl,
	src/tcl/chip/st/stm32/stm32_regs.tcl, src/tcl/cpu/arm/arm7tdmi.tcl,
	src/tcl/cpu/arm/arm920.tcl, src/tcl/cpu/arm/arm946.tcl,
	src/tcl/cpu/arm/arm966.tcl, src/tcl/cpu/arm/cortex_m3.tcl,
	src/tcl/interface/arm-jtag-ew.cfg,
	src/tcl/interface/arm-usb-ocd.cfg,
	src/tcl/interface/at91rm9200.cfg, src/tcl/interface/axm0432.cfg,
	src/tcl/interface/calao-usb-a9260-c01.cfg,
	src/tcl/interface/calao-usb-a9260-c02.cfg,
	src/tcl/interface/calao-usb-a9260.cfg,
	src/tcl/interface/chameleon.cfg, src/tcl/interface/dummy.cfg,
	src/tcl/interface/flyswatter.cfg,
	src/tcl/interface/hitex_str9-comstick.cfg,
	src/tcl/interface/icebear.cfg, src/tcl/interface/jlink.cfg,
	src/tcl/interface/jtagkey-tiny.cfg, src/tcl/interface/jtagkey.cfg,
	src/tcl/interface/luminary-lm3s811.cfg,
	src/tcl/interface/luminary.cfg,
	src/tcl/interface/olimex-arm-usb-ocd.cfg,
	src/tcl/interface/olimex-jtag-tiny.cfg,
	src/tcl/interface/oocdlink.cfg, src/tcl/interface/openocd-usb.cfg,
	src/tcl/interface/parport.cfg, src/tcl/interface/parport_dlc5.cfg,
	src/tcl/interface/rlink.cfg, src/tcl/interface/sheevaplug.cfg,
	src/tcl/interface/signalyzer.cfg,
	src/tcl/interface/stm32-stick.cfg,
	src/tcl/interface/turtelizer2.cfg, src/tcl/interface/usbprog.cfg,
	src/tcl/interface/vsllink.cfg, src/tcl/memory.tcl,
	src/tcl/mmr_helpers.tcl, src/tcl/readable.tcl,
	src/tcl/target/aduc702x.cfg, src/tcl/target/at91eb40a.cfg,
	src/tcl/target/at91r40008.cfg, src/tcl/target/at91rm9200.cfg,
	src/tcl/target/at91sam9260.cfg,
	src/tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	src/tcl/target/davinci.cfg, src/tcl/target/epc9301.cfg,
	src/tcl/target/feroceon.cfg, src/tcl/target/imx21.cfg,
	src/tcl/target/imx27.cfg, src/tcl/target/imx31.cfg,
	src/tcl/target/imx35.cfg, src/tcl/target/is5114.cfg,
	src/tcl/target/ixp42x.cfg, src/tcl/target/lm3s3748.cfg,
	src/tcl/target/lm3s6965.cfg, src/tcl/target/lm3s811.cfg,
	src/tcl/target/lpc2103.cfg, src/tcl/target/lpc2124.cfg,
	src/tcl/target/lpc2129.cfg, src/tcl/target/lpc2148.cfg,
	src/tcl/target/lpc2294.cfg, src/tcl/target/lpc2378.cfg,
	src/tcl/target/lpc2478.cfg, src/tcl/target/mega128.cfg,
	src/tcl/target/netx500.cfg, src/tcl/target/omap3530.cfg,
	src/tcl/target/omap5912.cfg, src/tcl/target/pic32mx.cfg,
	src/tcl/target/pxa255.cfg, src/tcl/target/pxa270.cfg,
	src/tcl/target/readme.txt, src/tcl/target/sam7se512.cfg,
	src/tcl/target/sam7x256.cfg, src/tcl/target/samsung_s3c2410.cfg,
	src/tcl/target/samsung_s3c2440.cfg,
	src/tcl/target/samsung_s3c4510.cfg,
	src/tcl/target/samsung_s3c6410.cfg,
	src/tcl/target/sharp_lh79532.cfg, src/tcl/target/smdk6410.cfg,
	src/tcl/target/smp8634.cfg, src/tcl/target/stm32.cfg,
	src/tcl/target/str710.cfg, src/tcl/target/str730.cfg,
	src/tcl/target/str750.cfg, src/tcl/target/str912.cfg,
	src/tcl/target/test_reset_syntax_error.cfg,
	src/tcl/target/test_syntax_error.cfg, src/tcl/target/ti_dm355.cfg,
	src/tcl/target/ti_dm6446.cfg, src/tcl/target/xba_revA3.cfg,
	src/tcl/test/selftest.cfg, src/tcl/test/syntax1.cfg,
	tcl/bitsbytes.tcl, tcl/board/arm_evaluator7t.cfg,
	tcl/board/at91rm9200-dk.cfg, tcl/board/crossbow_tech_imote2.cfg,
	tcl/board/digi_connectcore_wi-9c.cfg, tcl/board/dm355evm.cfg,
	tcl/board/eir.cfg, tcl/board/hammer.cfg,
	tcl/board/hitex_stm32-performancestick.cfg,
	tcl/board/hitex_str9-comstick.cfg, tcl/board/iar_str912_sk.cfg,
	tcl/board/imx27ads.cfg, tcl/board/imx27lnst.cfg,
	tcl/board/imx31pdk.cfg, tcl/board/keil_mcb2140.cfg,
	tcl/board/linksys_nslu2.cfg, tcl/board/logicpd_imx27.cfg,
	tcl/board/olimex_LPC2378STK.cfg, tcl/board/olimex_lpc_h2148.cfg,
	tcl/board/olimex_sam7_ex256.cfg, tcl/board/olimex_sam9_l9260.cfg,
	tcl/board/olimex_stm32_h103.cfg, tcl/board/pic-p32mx.cfg,
	tcl/board/pxa255_sst.cfg, tcl/board/sheevaplug.cfg,
	tcl/board/stm3210e_eval.cfg, tcl/board/stm32f10x_128k_eval.cfg,
	tcl/board/str910-eval.cfg, tcl/board/ti_beagleboard.cfg,
	tcl/board/unknown-board-atmel-at91sam9260.cfg, tcl/board/x300t.cfg,
	tcl/board/zy1000.cfg, tcl/chip/atmel/at91/aic.tcl,
	tcl/chip/atmel/at91/at91sam7x128.tcl,
	tcl/chip/atmel/at91/at91sam7x256.tcl, tcl/chip/atmel/at91/pmc.tcl,
	tcl/chip/atmel/at91/rtt.tcl, tcl/chip/atmel/at91/usarts.tcl,
	tcl/chip/st/stm32/stm32.tcl, tcl/chip/st/stm32/stm32_rcc.tcl,
	tcl/chip/st/stm32/stm32_regs.tcl, tcl/cpu/arm/arm7tdmi.tcl,
	tcl/cpu/arm/arm920.tcl, tcl/cpu/arm/arm946.tcl,
	tcl/cpu/arm/arm966.tcl, tcl/cpu/arm/cortex_m3.tcl,
	tcl/interface/arm-jtag-ew.cfg, tcl/interface/arm-usb-ocd.cfg,
	tcl/interface/at91rm9200.cfg, tcl/interface/axm0432.cfg,
	tcl/interface/calao-usb-a9260-c01.cfg,
	tcl/interface/calao-usb-a9260-c02.cfg,
	tcl/interface/calao-usb-a9260.cfg, tcl/interface/chameleon.cfg,
	tcl/interface/dummy.cfg, tcl/interface/flyswatter.cfg,
	tcl/interface/hitex_str9-comstick.cfg, tcl/interface/icebear.cfg,
	tcl/interface/jlink.cfg, tcl/interface/jtagkey-tiny.cfg,
	tcl/interface/jtagkey.cfg, tcl/interface/luminary-lm3s811.cfg,
	tcl/interface/luminary.cfg, tcl/interface/olimex-arm-usb-ocd.cfg,
	tcl/interface/olimex-jtag-tiny.cfg, tcl/interface/oocdlink.cfg,
	tcl/interface/openocd-usb.cfg, tcl/interface/parport.cfg,
	tcl/interface/parport_dlc5.cfg, tcl/interface/rlink.cfg,
	tcl/interface/sheevaplug.cfg, tcl/interface/signalyzer.cfg,
	tcl/interface/stm32-stick.cfg, tcl/interface/turtelizer2.cfg,
	tcl/interface/usbprog.cfg, tcl/interface/vsllink.cfg,
	tcl/memory.tcl, tcl/mmr_helpers.tcl, tcl/readable.tcl,
	tcl/target/aduc702x.cfg, tcl/target/at91eb40a.cfg,
	tcl/target/at91r40008.cfg, tcl/target/at91rm9200.cfg,
	tcl/target/at91sam9260.cfg,
	tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	tcl/target/davinci.cfg, tcl/target/epc9301.cfg,
	tcl/target/feroceon.cfg, tcl/target/imx21.cfg,
	tcl/target/imx27.cfg, tcl/target/imx31.cfg, tcl/target/imx35.cfg,
	tcl/target/is5114.cfg, tcl/target/ixp42x.cfg,
	tcl/target/lm3s3748.cfg, tcl/target/lm3s6965.cfg,
	tcl/target/lm3s811.cfg, tcl/target/lpc2103.cfg,
	tcl/target/lpc2124.cfg, tcl/target/lpc2129.cfg,
	tcl/target/lpc2148.cfg, tcl/target/lpc2294.cfg,
	tcl/target/lpc2378.cfg, tcl/target/lpc2478.cfg,
	tcl/target/mega128.cfg, tcl/target/netx500.cfg,
	tcl/target/omap3530.cfg, tcl/target/omap5912.cfg,
	tcl/target/pic32mx.cfg, tcl/target/pxa255.cfg,
	tcl/target/pxa270.cfg, tcl/target/readme.txt,
	tcl/target/sam7se512.cfg, tcl/target/sam7x256.cfg,
	tcl/target/samsung_s3c2410.cfg, tcl/target/samsung_s3c2440.cfg,
	tcl/target/samsung_s3c4510.cfg, tcl/target/samsung_s3c6410.cfg,
	tcl/target/sharp_lh79532.cfg, tcl/target/smdk6410.cfg,
	tcl/target/smp8634.cfg, tcl/target/stm32.cfg,
	tcl/target/str710.cfg, tcl/target/str730.cfg,
	tcl/target/str750.cfg, tcl/target/str912.cfg,
	tcl/target/test_reset_syntax_error.cfg,
	tcl/target/test_syntax_error.cfg, tcl/target/ti_dm355.cfg,
	tcl/target/ti_dm6446.cfg, tcl/target/xba_revA3.cfg,
	tcl/test/selftest.cfg, tcl/test/syntax1.cfg: Move TCL script files
	-- Step 2 of 2: - Move src/tcl to tcl/.  - Update top Makefile.am to use new path name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1919
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, configure.in, src/Makefile.am,
	src/target/Makefile.am, src/target/board/arm_evaluator7t.cfg,
	src/target/board/at91rm9200-dk.cfg,
	src/target/board/crossbow_tech_imote2.cfg,
	src/target/board/digi_connectcore_wi-9c.cfg,
	src/target/board/dm355evm.cfg, src/target/board/eir.cfg,
	src/target/board/hammer.cfg,
	src/target/board/hitex_stm32-performancestick.cfg,
	src/target/board/hitex_str9-comstick.cfg,
	src/target/board/iar_str912_sk.cfg, src/target/board/imx27ads.cfg,
	src/target/board/imx27lnst.cfg, src/target/board/imx31pdk.cfg,
	src/target/board/keil_mcb2140.cfg,
	src/target/board/linksys_nslu2.cfg,
	src/target/board/logicpd_imx27.cfg,
	src/target/board/olimex_LPC2378STK.cfg,
	src/target/board/olimex_lpc_h2148.cfg,
	src/target/board/olimex_sam7_ex256.cfg,
	src/target/board/olimex_sam9_l9260.cfg,
	src/target/board/olimex_stm32_h103.cfg,
	src/target/board/pic-p32mx.cfg, src/target/board/pxa255_sst.cfg,
	src/target/board/sheevaplug.cfg,
	src/target/board/stm3210e_eval.cfg,
	src/target/board/stm32f10x_128k_eval.cfg,
	src/target/board/str910-eval.cfg,
	src/target/board/ti_beagleboard.cfg,
	src/target/board/unknown-board-atmel-at91sam9260.cfg,
	src/target/board/x300t.cfg, src/target/board/zy1000.cfg,
	src/target/interface/arm-jtag-ew.cfg,
	src/target/interface/arm-usb-ocd.cfg,
	src/target/interface/at91rm9200.cfg,
	src/target/interface/axm0432.cfg,
	src/target/interface/calao-usb-a9260-c01.cfg,
	src/target/interface/calao-usb-a9260-c02.cfg,
	src/target/interface/calao-usb-a9260.cfg,
	src/target/interface/chameleon.cfg, src/target/interface/dummy.cfg,
	src/target/interface/flyswatter.cfg,
	src/target/interface/hitex_str9-comstick.cfg,
	src/target/interface/icebear.cfg, src/target/interface/jlink.cfg,
	src/target/interface/jtagkey-tiny.cfg,
	src/target/interface/jtagkey.cfg,
	src/target/interface/luminary-lm3s811.cfg,
	src/target/interface/luminary.cfg,
	src/target/interface/olimex-arm-usb-ocd.cfg,
	src/target/interface/olimex-jtag-tiny.cfg,
	src/target/interface/oocdlink.cfg,
	src/target/interface/openocd-usb.cfg,
	src/target/interface/parport.cfg,
	src/target/interface/parport_dlc5.cfg,
	src/target/interface/rlink.cfg,
	src/target/interface/sheevaplug.cfg,
	src/target/interface/signalyzer.cfg,
	src/target/interface/stm32-stick.cfg,
	src/target/interface/turtelizer2.cfg,
	src/target/interface/usbprog.cfg, src/target/interface/vsllink.cfg,
	src/target/target/aduc702x.cfg, src/target/target/at91eb40a.cfg,
	src/target/target/at91r40008.cfg, src/target/target/at91rm9200.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260_ext_RAM_ext_flash.cfg,
	src/target/target/davinci.cfg, src/target/target/epc9301.cfg,
	src/target/target/feroceon.cfg, src/target/target/imx21.cfg,
	src/target/target/imx27.cfg, src/target/target/imx31.cfg,
	src/target/target/imx35.cfg, src/target/target/is5114.cfg,
	src/target/target/ixp42x.cfg, src/target/target/lm3s3748.cfg,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg,
	src/target/target/lpc2103.cfg, src/target/target/lpc2124.cfg,
	src/target/target/lpc2129.cfg, src/target/target/lpc2148.cfg,
	src/target/target/lpc2294.cfg, src/target/target/lpc2378.cfg,
	src/target/target/lpc2478.cfg, src/target/target/mega128.cfg,
	src/target/target/netx500.cfg, src/target/target/omap3530.cfg,
	src/target/target/omap5912.cfg, src/target/target/pic32mx.cfg,
	src/target/target/pxa255.cfg, src/target/target/pxa270.cfg,
	src/target/target/readme.txt, src/target/target/sam7se512.cfg,
	src/target/target/sam7x256.cfg,
	src/target/target/samsung_s3c2410.cfg,
	src/target/target/samsung_s3c2440.cfg,
	src/target/target/samsung_s3c4510.cfg,
	src/target/target/samsung_s3c6410.cfg,
	src/target/target/sharp_lh79532.cfg,
	src/target/target/smdk6410.cfg, src/target/target/smp8634.cfg,
	src/target/target/stm32.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str912.cfg,
	src/target/target/test_reset_syntax_error.cfg,
	src/target/target/test_syntax_error.cfg,
	src/target/target/ti_dm355.cfg, src/target/target/ti_dm6446.cfg,
	src/target/target/xba_revA3.cfg, src/target/test/selftest.cfg,
	src/target/test/syntax1.cfg, src/tcl/board/arm_evaluator7t.cfg,
	src/tcl/board/at91rm9200-dk.cfg,
	src/tcl/board/crossbow_tech_imote2.cfg,
	src/tcl/board/digi_connectcore_wi-9c.cfg,
	src/tcl/board/dm355evm.cfg, src/tcl/board/eir.cfg,
	src/tcl/board/hammer.cfg,
	src/tcl/board/hitex_stm32-performancestick.cfg,
	src/tcl/board/hitex_str9-comstick.cfg,
	src/tcl/board/iar_str912_sk.cfg, src/tcl/board/imx27ads.cfg,
	src/tcl/board/imx27lnst.cfg, src/tcl/board/imx31pdk.cfg,
	src/tcl/board/keil_mcb2140.cfg, src/tcl/board/linksys_nslu2.cfg,
	src/tcl/board/logicpd_imx27.cfg,
	src/tcl/board/olimex_LPC2378STK.cfg,
	src/tcl/board/olimex_lpc_h2148.cfg,
	src/tcl/board/olimex_sam7_ex256.cfg,
	src/tcl/board/olimex_sam9_l9260.cfg,
	src/tcl/board/olimex_stm32_h103.cfg, src/tcl/board/pic-p32mx.cfg,
	src/tcl/board/pxa255_sst.cfg, src/tcl/board/sheevaplug.cfg,
	src/tcl/board/stm3210e_eval.cfg,
	src/tcl/board/stm32f10x_128k_eval.cfg,
	src/tcl/board/str910-eval.cfg, src/tcl/board/ti_beagleboard.cfg,
	src/tcl/board/unknown-board-atmel-at91sam9260.cfg,
	src/tcl/board/x300t.cfg, src/tcl/board/zy1000.cfg,
	src/tcl/interface/arm-jtag-ew.cfg,
	src/tcl/interface/arm-usb-ocd.cfg,
	src/tcl/interface/at91rm9200.cfg, src/tcl/interface/axm0432.cfg,
	src/tcl/interface/calao-usb-a9260-c01.cfg,
	src/tcl/interface/calao-usb-a9260-c02.cfg,
	src/tcl/interface/calao-usb-a9260.cfg,
	src/tcl/interface/chameleon.cfg, src/tcl/interface/dummy.cfg,
	src/tcl/interface/flyswatter.cfg,
	src/tcl/interface/hitex_str9-comstick.cfg,
	src/tcl/interface/icebear.cfg, src/tcl/interface/jlink.cfg,
	src/tcl/interface/jtagkey-tiny.cfg, src/tcl/interface/jtagkey.cfg,
	src/tcl/interface/luminary-lm3s811.cfg,
	src/tcl/interface/luminary.cfg,
	src/tcl/interface/olimex-arm-usb-ocd.cfg,
	src/tcl/interface/olimex-jtag-tiny.cfg,
	src/tcl/interface/oocdlink.cfg, src/tcl/interface/openocd-usb.cfg,
	src/tcl/interface/parport.cfg, src/tcl/interface/parport_dlc5.cfg,
	src/tcl/interface/rlink.cfg, src/tcl/interface/sheevaplug.cfg,
	src/tcl/interface/signalyzer.cfg,
	src/tcl/interface/stm32-stick.cfg,
	src/tcl/interface/turtelizer2.cfg, src/tcl/interface/usbprog.cfg,
	src/tcl/interface/vsllink.cfg, src/tcl/target/aduc702x.cfg,
	src/tcl/target/at91eb40a.cfg, src/tcl/target/at91r40008.cfg,
	src/tcl/target/at91rm9200.cfg, src/tcl/target/at91sam9260.cfg,
	src/tcl/target/at91sam9260_ext_RAM_ext_flash.cfg,
	src/tcl/target/davinci.cfg, src/tcl/target/epc9301.cfg,
	src/tcl/target/feroceon.cfg, src/tcl/target/imx21.cfg,
	src/tcl/target/imx27.cfg, src/tcl/target/imx31.cfg,
	src/tcl/target/imx35.cfg, src/tcl/target/is5114.cfg,
	src/tcl/target/ixp42x.cfg, src/tcl/target/lm3s3748.cfg,
	src/tcl/target/lm3s6965.cfg, src/tcl/target/lm3s811.cfg,
	src/tcl/target/lpc2103.cfg, src/tcl/target/lpc2124.cfg,
	src/tcl/target/lpc2129.cfg, src/tcl/target/lpc2148.cfg,
	src/tcl/target/lpc2294.cfg, src/tcl/target/lpc2378.cfg,
	src/tcl/target/lpc2478.cfg, src/tcl/target/mega128.cfg,
	src/tcl/target/netx500.cfg, src/tcl/target/omap3530.cfg,
	src/tcl/target/omap5912.cfg, src/tcl/target/pic32mx.cfg,
	src/tcl/target/pxa255.cfg, src/tcl/target/pxa270.cfg,
	src/tcl/target/readme.txt, src/tcl/target/sam7se512.cfg,
	src/tcl/target/sam7x256.cfg, src/tcl/target/samsung_s3c2410.cfg,
	src/tcl/target/samsung_s3c2440.cfg,
	src/tcl/target/samsung_s3c4510.cfg,
	src/tcl/target/samsung_s3c6410.cfg,
	src/tcl/target/sharp_lh79532.cfg, src/tcl/target/smdk6410.cfg,
	src/tcl/target/smp8634.cfg, src/tcl/target/stm32.cfg,
	src/tcl/target/str710.cfg, src/tcl/target/str730.cfg,
	src/tcl/target/str750.cfg, src/tcl/target/str912.cfg,
	src/tcl/target/test_reset_syntax_error.cfg,
	src/tcl/target/test_syntax_error.cfg, src/tcl/target/ti_dm355.cfg,
	src/tcl/target/ti_dm6446.cfg, src/tcl/target/xba_revA3.cfg,
	src/tcl/test/selftest.cfg, src/tcl/test/syntax1.cfg: Move TCL script
	files -- Step 1 of 2: - Move src/target/{interface,target,board,test}/ into src/tcl/ - Remove existing rules in src/Makefile.am and
	src/target/Makefile.am.  - Add Makefile.am handling of *.cfg and *.tcl files in top
	  Makefile.am: - Add dist-hook to include such files under src/tcl in the
	  distribution.  - Add install-data-hook to install contents of
	  '$(top_srcdir)/src/tcl/'.  - Add uninstall-hook to remove the installed script files.  - Change paths to (un)install script files in
	'$(pkgdatadir)/scripts'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1918
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am: Add warning to generated Doxyfile to edit
	Doxyfile.in.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1917
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS, PATCHES, TODO: Update Doxygen markup in PATCHES, BUGS, and
	TODO: - In the File List, these files are listed and link to empty pages.  - This patch adds @file blocks to reference the pages each file
	contains.  - Remove redundant "OpenOCD" from PATCHES title; it clutters the
	tree view.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1916
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: SimonQian <simonqian@SimonQian.com>, reported by
	R.Doss: This patch fixes a segfault when TDO was not received in XXR
	command: - allocate space for the value and mask anyway - clear the mask to zero to effectively skip the output comparison
	step git-svn-id: svn://svn.berlios.de/openocd/trunk@1915
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: SimonQian <simonqian@SimonQian.com>: Add svf_get_mask_u32 to generate a mask according to bitlen.  Fix
	this bug in other functions except for svf_check_tdo.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1914
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: David Brownell <david-b@pacbell.net>: Update the "Reset Configuration" information in the User's guide:  - Convert to @deffn syntax  - Move tutorial text from command descriptions into new sections  - Describe several different types of JTAG-visible reset  - Expand descriptions of configuration tweaks for SRST and TRST  - Link to the "reset" command, and vice versa  - Bugfix the "reset_config" description (it didn't match the code) Plus, be more proscriptive:  do it in board config files, except for
	the oddball cases where that won't work. (Current target.cfg files
	seem to have much goofage there; several seem board-specific.) git-svn-id: svn://svn.berlios.de/openocd/trunk@1913
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-25  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Author: Simon Qian <simonqian@SimonQian.com> 	- add tap_state_svf_name since tap_state_name doesn't use SVF
		standard names git-svn-id: svn://svn.berlios.de/openocd/trunk@1912
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-25  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Author: Raúl Sánchez Siles
	<rsanchezs@infoglobal.es> - cfi flash_address coding style fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1911
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/ft2232.c, src/jtag/jtag.c: David
	Brownell <david-b@pacbell.net>: Doc (mostly) update for jtag_khz:  - switch to @deffn syntax  - add entry for "jtag_rclk"  - move deprecated "jtag_speed" into collection of deprecated calls And for ft2232, don't be the only adapter to *log* an error if RTCK
	is requested; it's already reported properly, like any other
	nonfatal command parameter.  "jtag_rclk" just works as expected,
	without any scarey messages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1910
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/server/gdb_server.c,
	src/server/tcl_server.c, src/server/telnet_server.c: David Brownell
	<david-b@pacbell.net>: Make startup for the various server ports be quiet, unless debugging
	is active:  don't emit needless scarey messages.  Update the
	relevant documentation and its references:  - For these port commands ... cover the default values;    convert to @deffn syntax; include their use outside of    the configuration stage; and alphabetize.  Similar updates to the rest of that small chapter:  - Highlight that there even *IS* a configuration stage, after    which some command functionality is no longer available.   - For GDB commands ... convert to @deffn syntax; alphabetize;    include a missing command (!); add missing helptext (!) for    one non-missing command; update relevant cross-references    and index entries.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1909
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: David Brownell <david-b@pacbell.net>: The "Illegal mode for command" diagnostic is deeply useless.  Say
	"Command '%s' only runs during configuration stage" instead, letting
	users know what the real issue is.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1908
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/davinci_nand.c: David Brownell <david-b@pacbell.net>:
	minor davinci_nand bugfix Fix a bug that joined us at the last minute, when an efficient
	alloca() call got swapped out for a more portable malloc().  Also log one error, to give a clue in case it appears "in the wild".  git-svn-id: svn://svn.berlios.de/openocd/trunk@1907
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: Added the options calc_checksum to
	the flash driver.  This was forgotten here. All other LPC targets
	use this option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1906
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/sheevaplug.cfg: Nicolas Pitre <nico@cam.org>:
	Update sheevaplug interface script: When the CPU is in the WFI state, the JTAG interface simply doesn't
	respond at all and initial tap examination simply fails.  Let's
	simply do it again when we come around to assert nSRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1905
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/nand.c,
	src/target/board/sheevaplug.cfg: David Brownell
	<david-b@pacbell.net>: Update two oddball NAND commands to work with {offset, length}
	instead of block numbers, matching the other commands as well as
	usage in U-Boot and the Linux-MTD utilities.  Document them accordingly.  Update the single in-tree use of those
	commands (sheevaplug).  ALSO:  (a) Document the current 2 GByte/chip ceiling for NAND chipsize.       (32 bit offset/length values can't represent 4 GBytes.)  Maybe      after the upcoming release, the code can switch to 64-bits.   (b) The "nand check_bad_blocks" should report "bad" blocks.  They      are not "invalid" blocks; they're "bad" ones.   (c) Tweak the "nand info" command to handle the "no arguments"      case sanely (show everything, instead of showing garbage) and      not listing the blocksize in hex kbytes (duh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1904
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/Makefile.am,
	src/flash/davinci_nand.c, src/flash/nand.c,
	src/target/board/dm355evm.cfg: David Brownell <david-b@pacbell.net>: NAND support for DaVinci-family drivers, with HW ECC support.
	Declare the NAND chip on the DM355 EVM board.  Currently tested on DM355 for Linux interop using the standard large
	page (2KB) chip in the EVM socket; "hwecc1" and "hwecc4" work fine.
	(Using hwecc4 relies on patches that haven't quite made it through
	the Linux-MTD bottlenecks yet.) Not yet tested:  1-bit on small-page (although it's hard to see how
	that could fail); 4-bit on small page (picky layout issues); the
	"hwecc_infix" mode (primarily for older boot ROMs; testing there is
	blocked on having new bootloader code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1903
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Fix two problems with openocd.texi: - Fix minor issues with xrefs not liking parentheses around them.  - Change 'Building' section to 'Building OpenOCD'.  It reads better.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1902
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile, Doxyfile.in, Makefile.am: Properly fix doxygen
	out-of-tree build process: - move Doxyfile to Doxyfile.in: type 'make Doxyfile' to recreate it - create Doxyfile from Doxyfile.in with make rule:   - use sed substitution of $(srcdir) to location directories - delete all doxygen created files with 'make distclean' - include all required files (including logger.pl) in distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1901
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: SimonQian <simonqian@SimonQian.com>: Changes
	svf_check_tdo function (checks tdo output matches desired values): - call buf_cmp_mask function to do comparison instead of using a
	loop.  - fixes a bug when data length is equal to sizeof(int).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1900
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2103.cfg, src/target/target/lpc2124.cfg,
	src/target/target/lpc2129.cfg: Freddie Chopin
	<freddie_chopin@op.pl>: - add reset delay settings for LPC2103, LPC2124, and LPC2129.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1899
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/scripting.txt: Add section identifiers to developer
	scripting introduction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1898
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt: Update main page of doxygen developer
	documentation: - Rewrite copy to give a better introduction and overview.  - Add subpages: The List, Style Guide, Patch Policies, and Bug
	Reporting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1897
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/style.txt: Add extended doxygen-based style guide
	draft; requires more work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1896
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Update user guide documentation: - Remove style guide from user guide; moved to doxygen manual.  - Replace with improved introduction for developers and packagers.  - Move introductory paragraph about the project under the About
	page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1895
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile, PATCHES: Include the PATCHES file in Doxygen developer
	manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1894
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Submitted by Magnus Lundin
	<lundin@mlu.mine.nu>: - Remove FTDI driver tap_set_state call; performed by
	jtag_add_reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1893
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Submitted by Magnus Lundin <lundin@mlu.mine.nu>: - Add jtag_execute_queue in jtag_add_reset after
	interface_jtag_add_reset.  - Use tap_set_state to demark TAP_RESET, instead of
	  cmd_queue_cur_state - cmd_queue_cur_state needs to be retired.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1892
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am: Fix make docs rule to work with out-of-tree builds.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1891
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/sam7se512.cfg, src/target/target/sam7x256.cfg: 
	Change the setting for the sam7se512 and sam7x256 flash driver
	because of the new at91sam7 version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1890
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Submitted by Magnus Lundin <lundin@mlu.mine.nu>: Updates to the J-Link interface driver to support more device
	versions: - Add capability detection:   - if capable, detect protocol version; otherwise, assume v2
	  protocol.  - if capable, detect buffer size; otherwise, assume minimal.  - Disable command result queries for devices using v2 protocol.  - Defined and use JTAG2 command with v2 protocol; JTAG3 is v3
	protocol.  - Add TCL command to allow explicit setting of J-Link protocol
	version.  With approval, I revised the patch to make the following changes: - add static keywords to new jlink-specific variables - factor calculation of major_version to be more readable - remove braces around simple one-line statements in if/else clauses - remove (rather than #if 0) duplicate reset code; it is in SVN - use &function to be clearer when passing function pointers - add symbols for EMU_CMD_GET_CAPS bits; do not hard-code constants! - almost renamed jlink_handle_jlink_hw_jtag_command  (seriously?!?!)   - rewrote that function using a switch statement.    - made version request processing easier to understand and modify - improve alternate endpoint detection:   - make code easier to read by using temporary variables   - eliminate extra level of indentation and redundant logging - use ternary conditional to select JTAG2 or JTAG3 command - reverse version test in jlink_usb_message to reduce indentation   - this had the biggest effect in cleaning up this patch - use C99's ability to declare new/changed variables with less scope - add spaces around binary operators in new/changed code - revert other superfluous whitespace/comment style changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1889
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: More printf fixes stemming from format string
	change in r1882.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1888
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile: Change doxygen configuration to show code comments in
	documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1887
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Author: Raúl Sánchez Siles
		<rsanchezs@infoglobal.es> - Fix multi-byte reads on x16 devices used as x8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1886
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Author: Raúl Sánchez Siles
		<rsanchezs@infoglobal.es> - Fix calculation of flash_address for x16 devices used as x8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1885
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Author: Raúl Sánchez Siles
		<rsanchezs@infoglobal.es> - Consistently use flash_address git-svn-id: svn://svn.berlios.de/openocd/trunk@1884
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Author: David Brownell <david-b@pacbell.net> Remove un-implemented and dubious "nand copy" command.  Doing this efficiently would mean doing the copying on the target
	CPU, instead of back and forth through JTAG.  If anyone ever needs
	this functionality, that's what they should implement.  Also, update on-line "help" for "nand dump" to display its two
	optional flags; and for "nand write" to display a recently added
	flag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1883
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/pld.c, src/xsvf/xsvf.c: Author: Rick Altherr
		<kc8apf@kc8apf.net> - printf conversion fixes for variably-sized types git-svn-id: svn://svn.berlios.de/openocd/trunk@1882
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/dm355evm.cfg, src/target/target/davinci.cfg,
	src/target/target/ti_dm355.cfg: Submitted by David Brownell
	<david-b@pacbell.net>: Improve support for the DM355 EVM board, and eventually other boards
	based on DaVinci chips:  - Provide generic "davinci.cfg" to hold utilities that can be
	   reused by different chips in this family.  Start with PINMUX, PSC,
	and PLL setup.   - DM355 chip support updates:  provide a dictionary with
	   chip-specific symbols, load those utilities.   - Create a new dm355evm board file, with a reset-init event handler    which uses those utilities to set up PLLs and clocks, configure
	   the pins, and improve the JTAG speed limit.  Also a minor tweak:  provide a virtual address for the work area,
	matching what the very latest kernels do.  It's probably unwise to
	use OpenOCD while the MMU is active though.  The DRAM isn't yet accessible, but NAND access is mostly ready.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1881
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h: Submitted
	by Dean Glazeski <dnglaze@gmail.com>: Add doxygen comments in arm7_9_common source and header files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1880
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Submitted by David Brownell
	<david-b@pacbell.net>: Add a "NAND Commands" section to to the TEXI docs, covering the
	basic commands except for those previously discussed as being due
	for removal ("nand copy") or switching to use byte offsets not block
	numbers.  This uses the "@deffn..." syntax for defining commands, as somewhat
	suggested by the TEXI documentation, and adds a new "Command Index".
	We might prefer to merge those indexes for the near term, but I
	think the "@deffn" approch is probably worth switching to.  Updates a few other bits to clarify that "flash" doesn't just mean
	NOR.  And to fix one niggling falsity:  the "reset-init" event *is*
	used, and in fact it's quite important.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1879
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: delete unused code git-svn-id: svn://svn.berlios.de/openocd/trunk@1878
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: fix warning. Use %p for pointers git-svn-id: svn://svn.berlios.de/openocd/trunk@1877
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan() [2/2] (version without
	    	goto): - change 'found' to bool     	- add comments on loops git-svn-id: svn://svn.berlios.de/openocd/trunk@1876
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/ti_beagleboard.cfg,
	src/target/target/omap3530.cfg: Dirk Behme
	<dirk.behme@googlemail.com> Minor updates for OMAP3 scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1875
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: Additional format warning fixes in ioutil,
	required by r1873 changes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1874
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/nand.c, src/helper/command.h,
	src/pld/pld.c, src/svf/svf.c, src/target/armv4_5.c,
	src/target/armv4_5_mmu.c, src/target/etm.c, src/target/target.c,
	src/target/trace.c: David Brownell <david-b@pacbell.net>:  This
	patch adds annotations to the key command_*() helper functions,
	fixng the bugs that turned up.  Several of these bugs were from misuse of PRIi64; that's for 64-bit
	integers, NOT for "long long" or "u64" (which work best with %lld).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1873
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* PATCHES: Author: David Brownell <david-b@pacbell.net> 	- Update PATCHES to better describe the policies in place git-svn-id: svn://svn.berlios.de/openocd/trunk@1872
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/rlink/rlink.c: Author: Thomas Kindler <mail@t-kindler.de> 	- Increase DTC status retry count to avoid problems with STM Primer git-svn-id: svn://svn.berlios.de/openocd/trunk@1871
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Author: Øyvind Harboe
		<oyvind.harboe@zylin.com> - Allow target_read/write_buffer of size 0 git-svn-id: svn://svn.berlios.de/openocd/trunk@1870
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Author: Holger Schurig
		<hs4233@mail.mn-solutions.de> -Prevent freezing of target when doing
	a 'shutdown'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1869
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan() [1/2]:     	- remove temporary scan_size and use tap->ir_length instead     	- slight loop restructuring to reduce indentation level git-svn-id: svn://svn.berlios.de/openocd/trunk@1868
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>    -jtag.c, interface_jtag_add_dr_out():         - use pointer 'field' instead of scan->fields[field_count]         - restructure the main loop to clearly separate the two
	          cases: TAP is not bypassed / TAP is bypassed (this is to
	        keep the function similar to interface_jtag_add_dr_scan()) - fix bug where only the first output field has its tap field set         - add asserts to verify that target_tap points to the one
	        not bypassed TAP git-svn-id: svn://svn.berlios.de/openocd/trunk@1867
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_dr_scan():             - use pointer 'field' instead of
	            scan->fields[field_count] - restructure the main loop to clearly separate the two cases: TAP
	            is not bypassed / TAP is bypassed - add an assert that each non-bypassed TAP receives at least one
	            field - add an assert that checks that no superfluous input fields were
	passed git-svn-id: svn://svn.berlios.de/openocd/trunk@1866
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan():         - use pointer 'field' instead of scan->fields[nth_tap]         - add assertion to ensure that input data has correct size
	        for TAP's IR git-svn-id: svn://svn.berlios.de/openocd/trunk@1865
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: consolidate output scan field initialization in scan
	    functions - jtag.c: add cmd_queue_scan_field_clone() to handle 1:1 field
	    copies - jtag.c: fix bug where only the first output field in a dr scan has
	its tap field set git-svn-id: svn://svn.berlios.de/openocd/trunk@1864
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: remove unused variable 'nth_tap' from DR scan
	    functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1863
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: Use single 'for' statement to iterate over list of
	    TAPs in scan functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1862
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: consolidate all memory allocations in scan functions
	    in one block, add out_fields pointer to set stage for further
	    changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1861
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Author: Michael Bruck
	    <mbruck@digenius.de> - add 'const' qualifier to function parameters in jtag.c that are
	not to be modified or freed by the function git-svn-id: svn://svn.berlios.de/openocd/trunk@1860
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - add doxygen comments to scan commands in jtag.c     - move jtag_add_dr_scan next to interface_jtag_add_dr_scan to
	    keep these function pairs together git-svn-id: svn://svn.berlios.de/openocd/trunk@1859
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, tools/logger.pl: Add 'docs' and 'doxygen' targets to
	top-level Makefile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1858
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/server.txt: Add initial OpenOCD server documentation
	(Duane Ellis and myself).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1857
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt: Add new TCL Primer under the main Technical
	Primer page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1856
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/primer/tcl.txt, src/tcl/README_ABOUT_TCL.txt: Move TCL
	overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1855
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/Makefile.am: Fix doc/Makefile.am dist-hook to include all
	sections of manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1854
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/target.txt, doc/manual/target/notarm.txt,
	src/non-arm-targets.txt: Move non-arm target overview from source
	tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1853
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/scripting.txt, src/scripting.txt: Move scripting
	overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1852
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Spencer Oliver <spen@spen-soft.co.uk> use 7 tms
	out of reset git-svn-id: svn://svn.berlios.de/openocd/trunk@1851
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: Author: Spencer Oliver <spen@spen-soft.co.uk> - Bring the mips step/resume interrupt handling inline with the rest
	of openocd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1850
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_plain_dr_scan() by adding
	    a local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1849
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_dr_out() into the scope
	    of the inner loop and change it to unsigned - move loop variable j into for scope git-svn-id: svn://svn.berlios.de/openocd/trunk@1848
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_out() by adding a local
	    variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1847
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_dr_scan() into the scope
	    of the inner loop and change it to unsigned git-svn-id: svn://svn.berlios.de/openocd/trunk@1846
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_scan() by adding a
	    local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1845
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_plain_ir_scan() by adding
	    a local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1844
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_ir_scan() into the scope
	    of the inner loop and change it to unsigned git-svn-id: svn://svn.berlios.de/openocd/trunk@1843
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_ir_scan() by adding a
	    local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1842
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - rename local variable x to num_taps in
	    interface_jtag_add_ir_scan git-svn-id: svn://svn.berlios.de/openocd/trunk@1841
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Author: Michael Bruck <mbruck@digenius.de>     - rename input parameters 'num_fields' and 'fields' to
	    'in_num_fields' and 'in_fields' in all jtag.c interface
	    functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1840
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Wookey <wookey@wookware.org>: add user
	documentation for echo command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1839
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2294.cfg: Added jtag_nsrst_delay 200 and
	jtag_ntrst_delay 200 to the LPC2294 target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1838
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1837
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/pxa270.cfg: Wookey <wookey@wookware.org> update
	syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1836
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c, src/flash/nand.h: David Brownell
	<david-b@pacbell.net>  NAND: update ids, "nand list" bugfix git-svn-id: svn://svn.berlios.de/openocd/trunk@1835
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: added tms_sequence command to allow switching
	between old/new tms sequence git-svn-id: svn://svn.berlios.de/openocd/trunk@1834
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/arm-jtag-ew.c, src/jtag/bitq.c, src/jtag/gw16012.c,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/zy1000.c: use
	tap_get_tms_path_len() instead of fix # of 7. Not tested if this
	builds, but at least we're looking at a build error instead of a
	runtime error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1833
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS, Doxyfile: Update BUGS file, adapting its content for the
	doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1832
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: use tap_get_tms_path_len() instead of fix # of
	7.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1831
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: removed solved mem2array problem.  Added questions regarding ideas on making tcl-less builds of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@1830
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: updated w/jtag_add_end_state() note.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO: Update The List with recent progress; remove developer list
	from TODO.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1828
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Enable non-7-cycle state table for FT2232 and
	JLink git-svn-id: svn://svn.berlios.de/openocd/trunk@1827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: JLink support for non-7-cycle state moves by
	Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1826
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: FT2232 support for non-7-cycle state moves by
	Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Fix fallout from r1818 git-svn-id: svn://svn.berlios.de/openocd/trunk@1824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Change last_comand_pointer to
	last_command_pointer by Michael Bruck <mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [8/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [7/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [6/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1820
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [5/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [4/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [3/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> [2/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Add jtag_queue_command() by Michael Bruck
	<mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: ftdi_set_interface correctness by Strontium
	<strntydog@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* PATCHES: PATCHES updates from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: JTAG state table updates (short table still
	disabled).  Provided by Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Remove unecessary(and poptentially harmful?)
	"" around arguments passed in to "eval" in command.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: less weird error messages for unknown
	commands. Check if command exists before trying it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Dean Glazeski <dnglaze@gmail.com>
	fixed bug in checking of clocked back data in
	arm7_9_execute_fast_sys_speed. Not reported. There is a chance that
	this bug hid a deeper problem since it only partially disabled the
	check(mask & value were equal).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/crossbow_tech_imote2.cfg,
	src/target/board/digi_connectcore_wi-9c.cfg,
	src/target/board/hitex_stm32-performancestick.cfg,
	src/target/board/hitex_str9-comstick.cfg,
	src/target/board/linksys_nslu2.cfg,
	src/target/board/pxa255_sst.cfg, src/target/board/str910-eval.cfg,
	src/target/board/zy1000.cfg,
	src/target/interface/hitex_str9-comstick.cfg: - add missing svn props from svn 1798 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1808
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck <mbruck@digenius.de> ARM11 cleanup stale dependencies
	with generic arm code; added comments and whitespace fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Relocate documentation on working area to better
	align with use of new syntax.  Provided by David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Fix logically inverted comment git-svn-id: svn://svn.berlios.de/openocd/trunk@1805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/ecos.c, src/flash/flash.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/orion_nand.c, src/flash/s3c24xx_nand.c, src/target/etb.c,
	src/target/etm.c, src/target/etm_dummy.c, src/target/image.c,
	src/target/target.c, src/target/target.h,
	src/target/target/ti_dm355.cfg, src/target/xscale.c: Consolidate
	target selection code into single get_target() that handles both
	names and numbers.  Provided by David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: ETM/ETB documentation from David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/nand.h, src/flash/s3c2410_nand.c,
	src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c, src/flash/s3c24xx_nand.c,
	src/flash/s3c24xx_nand.h, src/flash/stellaris.h,
	src/flash/stm32x.h, src/flash/str7x.h: Whitespace cleanup from David
	Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: fix array2mem/mem2array when used as a
	"method" on a target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/bitbang.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c: 
	Michael Bruck <mbruck@digenius.de> change 'ir_scan' from 'int' to
	'bool' to document its semantics git-svn-id: svn://svn.berlios.de/openocd/trunk@1800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c: fix naming of at91sam7 driver git-svn-id: svn://svn.berlios.de/openocd/trunk@1799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/crossbow_tech_imote2.cfg,
	src/target/board/digi_connectcore_wi-9c.cfg,
	src/target/board/hitex_stm32-performancestick.cfg,
	src/target/board/hitex_str9-comstick.cfg,
	src/target/board/hitex_str9_comstick.cfg,
	src/target/board/linksys_nslu2.cfg,
	src/target/board/pxa255_sst.cfg, src/target/board/str910-eval.cfg,
	src/target/board/zy1000.cfg,
	src/target/interface/hitex_str9-comstick.cfg,
	src/target/interface/str9-comstick.cfg,
	src/target/target/imote2.cfg, src/target/target/nslu2.cfg,
	src/target/target/pxa255_sst.cfg, src/target/target/stm32stick.cfg,
	src/target/target/str910-eval.cfg,
	src/target/target/str9comstick.cfg, src/target/target/wi-9c.cfg,
	src/target/target/zy1000.cfg: Freddie Chopin <freddie_chopin@op.pl>
	move files about to where they belong git-svn-id: svn://svn.berlios.de/openocd/trunk@1798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Initialize a more variables in jim.c to allow
	gcc-4.4 to build.  Fix provided by Benjamin Schmidt
	<DeMonk@gmx.net>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Initialize value of objPtr local variable;
	prevents warning w/ gcc-4.4.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.h: fix -fno-common/Mac build problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Less wrong handling of
	JIM_EMBEDDED, follow Jim Tcl doc's and only use JIM_EMBEDDED in a
	single .c file. Still broken w/-fno-common(i.e. Mac OS).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.h: revert to 1775. 1790 causes SEGFAULT
	w/Cygwin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile: Update Doxyfile to build The List into the doxygen
	manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, doc/manual/main.txt: Add current draft of The List of
	Pending and Open Tasks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.h: Remove JIM_EMBEDDED symbol; not appropriate
	or necessary.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/jtag.txt, doc/manual/main.txt,
	doc/manual/primer/jtag.txt: Several minor fixes for the new doxygen
	manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/imx27lnst.cfg: Paul Thomas
	<pthomas8589@gmail.com>: new board cfg for Linuxstamp-mx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@1788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c: use TAP_INVALID enum instead of -1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: take #2: dump_image now works for addresses
	not divisible by 4 git-svn-id: svn://svn.berlios.de/openocd/trunk@1786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: dump_image now works for addresses not
	divisible by 4 git-svn-id: svn://svn.berlios.de/openocd/trunk@1785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix broken ir/drscan -endstate option. The
	statemachine now actually ends up in said state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/test/selftest.cfg: selftest wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: propagate error in dump_image. If an error
	occurs during dump_image, a tcl exception is thrown.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Update configure script test for net/if.h to work on
	MacOS.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* bootstrap: Fix bootstrap typo noticed by Edgar Grimberg
	<edgar.grimberg@zylin.com>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* bootstrap: Fix bootstrap script to support MacOS glibtoolize
	oddity.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: zy1000 1.52 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/manual/main.txt, doc/manual/primer/jtag.txt: Add JTAG Primer
	to doxygen manual, contributed by Strontium.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.h: Include types.h in command.h to make
	stdint.h available through it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: added verify_jtag command git-svn-id: svn://svn.berlios.de/openocd/trunk@1774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/Makefile.am: Include files required to rebuild the HTTP
	web pages in distribution.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: shuffled comments about for jtag_add_dr_out() fn.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile, doc/Makefile.am, doc/manual/app.txt,
	doc/manual/flash.txt, doc/manual/helper.txt, doc/manual/jtag.txt,
	doc/manual/main.txt, doc/manual/server.txt, doc/manual/target.txt: 
	Commit skeleton files for high-level developer manual using doxygen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: irscan now also works correctly in addition to
	not crashing :-) git-svn-id: svn://svn.berlios.de/openocd/trunk@1770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand_ecc_kw.c: - add missing svn props from svn 1768 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/nand.c, src/flash/nand.h,
	src/flash/nand_ecc_kw.c, src/target/board/sheevaplug.cfg: 4-bit ECC
	support for Marvell Kirkwood SOC git-svn-id: svn://svn.berlios.de/openocd/trunk@1768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/sheevaplug.cfg: Nicolas Pitre <nico@cam.org>
	lower JTAG clock for SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h, src/jtag/jtag.h: move eCos type definition to
	types.h where it belongs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h, src/jtag/rlink/rlink.c: Add stdint.h to
	types.h to provide intptr_t.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: - fix build issue when HAVE_ELF_H is not defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/jtag/jtag.h: eCos fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am: Include project doxygen configuration with
	distribution tarballs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.h, src/helper/jim-eventloop.c,
	src/helper/jim.c, src/helper/log.h, src/helper/replacements.c,
	src/helper/replacements.h, src/target/algorithm.c,
	src/target/target.h: Audit and remove redundant uses of
	replacements.h in the tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Make replacements.h private by including it from
	config.h autoheader.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/replacements.h: Make system.h private by
	including it from config.h autoheader.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim-eventloop.c, src/helper/jim.c: Audit and reduce
	#include directives in jim source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/jim.c, src/target/oocd_trace.c: Define
	_GNU_SOURCE in config.h, remove definitions from source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Remove config.h from types.h; all .c files are
	required to include it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/rlink/rlink_speed_table.c: Include config.h in
	pregenerated rlink_speed_table.c source.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/rlink_make_speed_table/rlink_make_speed_table.pl: Update
	rlink_make_speed_table.pl script to add config.h to its output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: fix memory
	corruption introduce in 1730 git-svn-id: svn://svn.berlios.de/openocd/trunk@1753
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: added jtag_alloc_in_value32 -
	not used in this commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix ancient bug & SEGFAULT in irscan git-svn-id: svn://svn.berlios.de/openocd/trunk@1751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/system.h, src/jtag/jtag.c, src/xsvf/xsvf.c: Include
	assert.h in system.h to promote tree-wide use of assertions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd/httpd.tcl: Remove duplicate definition of encode
	in httpd.tcl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm7tdmi.c: now
	builds on 64 and 32 bit systems git-svn-id: svn://svn.berlios.de/openocd/trunk@1748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: fix jtag_add_dr_scan() usage a bit... avoid lots
	of malloc()'s.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/jim-eventloop.c, src/helper/jim.c,
	src/helper/jim.h: Update jim helper files to use proper configure
	script support: - configure.in: Add AC_TYPE_LONG_LONG_INT to detect 'long long int'
	support.  - configure.in: Add AC_C_CONST to provide equivalent support as
	jim.h.  - jim*.c: include config.h when HAVE_CONFIG_H is defined.  - jim*.{h,c}: use HAVE_LONG_LONG_INT definition from config.h.  - jim.h: Remove hard-coded const and HAVE_LONG_LONG definitions.  - jim.h: -DJIM_NO_CONST has been obsoleted; -Dconst is equivalent.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix USB performance regression for
	verify_ircapture git-svn-id: svn://svn.berlios.de/openocd/trunk@1743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: USB performance regression fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: retire jtag_add_dr_scan_now git-svn-id: svn://svn.berlios.de/openocd/trunk@1741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/virtex2.c: switch to jtag_add_dr_scan() from the
	synchronous version - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: switch to jtag_add_dr_scan_check() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c: switch to jtag_add_dr_scan_check() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: switch to jtag_add_dr_scan_check() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c: change jtag_add_callback API to be able to
	support check_value/mask git-svn-id: svn://svn.berlios.de/openocd/trunk@1735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Fix ft2232 for CygWin, provided by Michael
	Bruck <mbruck@digenius.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c: switch to jtag_add_callback() - USB performance
	fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm9tdmi.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm920t.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: switch to jtag_add_callback() - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1724
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/ioutil.c: leave eCos include file
	issues alone for now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1723
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style property to recently added system.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1722
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add to svn ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@1720
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/options.c: Mark API layering
	violations in the helper module with @todo notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1718
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: Remove redundant config.h from
	replacements.h, obtained from types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/openocd.c: Audit and eliminate redundant
	#include directives in main src/ files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/algorithm.c, src/target/avrt.c, src/target/avrt.h,
	src/target/breakpoints.c, src/target/cortex_a8.c,
	src/target/cortex_m3.c, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etb.h,
	src/target/etm.c, src/target/etm.h, src/target/etm_dummy.c,
	src/target/etm_dummy.h, src/target/feroceon.c, src/target/image.c,
	src/target/image.h, src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_dmaacc.c, src/target/mips32_pracc.c,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h,
	src/target/oocd_trace.c, src/target/oocd_trace.h,
	src/target/register.c, src/target/register.h,
	src/target/target_request.c, src/target/trace.c,
	src/target/trace.h, src/target/xscale.c, src/target/xscale.h: Audit
	and eliminate redundant #include directives in other target files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm720t.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c, src/target/arm920t.h,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm966e.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/arm_adi_v5.c,
	src/target/arm_disassembler.c, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/arm_simulator.c,
	src/target/arm_simulator.h, src/target/armv4_5.c,
	src/target/armv4_5_cache.c, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/armv7m.c, src/target/armv7m.h: Audit and eliminate
	redundant #include directives in arm target files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/breakpoints.h, src/target/target.c,
	src/target/target.h: Audit and eliminate redundant #include
	directives in core target files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/avrf.c,
	src/flash/cfi.c, src/flash/ecos.c, src/flash/flash.c,
	src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/nand.c, src/flash/nand_ecc.c, src/flash/non_cfi.c,
	src/flash/ocl.c, src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c: Audit and eliminate
	redundant #include directives in src/flash sources.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.h, src/flash/avrf.h, src/flash/cfi.h,
	src/flash/flash.h, src/flash/lpc2000.h, src/flash/lpc288x.h,
	src/flash/mflash.h, src/flash/non_cfi.h, src/flash/pic32mx.h,
	src/flash/s3c24xx_nand.h, src/flash/stellaris.h,
	src/flash/stm32x.h, src/flash/str7x.h, src/flash/str9x.h,
	src/flash/str9xpec.h: Audit and eliminate redundant #include
	directives in src/flash headers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/pld.c, src/pld/virtex2.c, src/pld/virtex2.h,
	src/pld/xilinx_bit.c, src/svf/svf.c, src/xsvf/xsvf.c: Audit and
	eliminate redundant #include directives in src/{pld,svf,xsvf}.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/httpd.c, src/server/server.c, src/server/server.h,
	src/server/tcl_server.c, src/server/telnet_server.c: Audit and
	eliminate redundant #include directives from src/server.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target_request.h: Fix compilation of target_request.h
	when it is included first.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000.c: Audit and eliminate redundant #include directives
	from src/jtag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/command.c,
	src/helper/command.h, src/helper/configuration.c,
	src/helper/configuration.h, src/helper/fileio.c,
	src/helper/fileio.h, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/helper/time_support.c: Audit and eliminate
	redundant helper #include directives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: Simplify #include directives in ioutil.c, use
	new header checks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add remaining header checks to be used in subsequent
	patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/log.c: Add --enable-malloc-logging
	configure option and update log.c to match.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/Makefile.am, src/helper/replacements.h,
	src/helper/system.h: Factor system #includes out of replacements.h
	into new system.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Finish portability support for
	AC_HEADER_STDBOOL configure macro.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/flash/flash.c, src/flash/mflash.c,
	src/helper/fileio.c, src/helper/fileio.h, src/helper/ioutil.c,
	src/jtag/gw16012.c, src/jtag/parport.c, src/jtag/rlink/rlink.h,
	src/openocd.c, src/pld/pld.c, src/pld/xilinx_bit.c,
	src/server/httpd.c, src/server/server.c, src/server/server.h,
	src/svf/svf.c, src/target/arm7_9_common.c, src/target/avrt.c,
	src/target/target.c, src/target/xscale.c, src/xsvf/xsvf.c: Remove
	redundant sys/types.h #include directives (now in types.h).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/types.h: Add configure check for
	sys/types.h; include in our types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add AC_HEADER_ASSERT macro to configure; provides
	--disable-assert option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Use AC_HEADER_STDBOOL macro instead of
	AC_CHEACK_HEADERS(stdbool.h).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: OpenOCD now requires autoconf 2.60 to process
	AC_PROG_CC_C99 macro.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, bootstrap, configure.in, src/Makefile.am,
	src/flash/Makefile.am, src/helper/Makefile.am,
	src/jtag/Makefile.am, src/pld/Makefile.am, src/server/Makefile.am,
	src/svf/Makefile.am, src/target/Makefile.am, src/xsvf/Makefile.am: 
	Extend autotools build to create shared library libopenocd with
	libtool: - Add libtoolize step too bootstrap script; creates ltmain.sh
	script.  - Add AC_PROG_LIBTOOL to configure.in to add libtool support to
	build.  - Change Makefile.am library rules from static (_a) to libtool
	(_la).  - Install libopenocd.{la,so,a} in $(libdir); update openocd link
	rules.  - Extend MAINTAINERCLEANFILES in top-level Makefile.am to remove
	ltmain.sh.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/tclapi.c, src/helper/tclapi.h,
	src/openocd.c: Reverse revision 1691: all of its functionality has
	migrated elsewhere.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Extend configure script to check for environ
	declaration in stdlib.h.  Patch contributed by Martin Thomas <mthomas@rhrk.uni-kl.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Wrote up post processing JTAG
	API. Not used yet, but reference implementation will be used in
	subsequent explanations of new scheme + patches to use it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/tclapi.c, src/helper/tclapi.h,
	src/openocd.c: Revive tclapi.c from r1650: * Remove superfluous #include directives.  * Fix warnings and API usage to cure its bit rot.  * Build into libhelper library (for now).  Add tclapi.h to export
	tclapi_register_commands().  Register tclapi commands in
	openocd.c:setup_command_handler().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/armv4_5_cache.c, src/target/armv4_5_mmu.c: David Brownell
	<david-b@pacbell.net> whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c: David Brownell <david-b@pacbell.net>
	whitespace fixes. Testing out on one file first...  git-svn-id: svn://svn.berlios.de/openocd/trunk@1689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: David Brownell <david-b@pacbell.net> fix
	warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.c, src/helper/fileio.h: Michael Bruck
	<mbruck@digenius.de> use more const git-svn-id: svn://svn.berlios.de/openocd/trunk@1687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h: Michael
	Bruck <mbruck@digenius.de> use more const git-svn-id: svn://svn.berlios.de/openocd/trunk@1686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck <mbruck@digenius.de> ARM11 C99 updates git-svn-id: svn://svn.berlios.de/openocd/trunk@1685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.h, src/target/etm.c: whitespace fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: plugged bug w/irlen > 32 introduce in 1672 git-svn-id: svn://svn.berlios.de/openocd/trunk@1683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c, src/target/etm.h: whitespace fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/ti_dm6446.cfg: David Brownell
	<david-b@pacbell.net> DaVinci dm6446 git-svn-id: svn://svn.berlios.de/openocd/trunk@1680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: sync up zy1000 interface to bitbang driver's
	handling of exiting the shift state git-svn-id: svn://svn.berlios.de/openocd/trunk@1679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Michael Fischer <fischermi@t-online.de> fix
	compile problems on Mac git-svn-id: svn://svn.berlios.de/openocd/trunk@1678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix gaffe in 1672 git-svn-id: svn://svn.berlios.de/openocd/trunk@1677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/profile.txt, testing/profile_stm32.txt: stm32 profiling
	wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/profile.txt: profiling numbers git-svn-id: svn://svn.berlios.de/openocd/trunk@1675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: add flush_count jtag queue profiling feature git-svn-id: svn://svn.berlios.de/openocd/trunk@1674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix (old?) bug in jtag_add_ir_scan() git-svn-id: svn://svn.berlios.de/openocd/trunk@1673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/bitq.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/zy1000.c, src/pld/virtex2.c,
	src/svf/svf.c, src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/avrt.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/feroceon.c,
	src/target/mips_ejtag.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	in_handler in_check_mask and in_check_value now removed from field.
	Last big patch in the series of JTAG API cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix one gaffe in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: use assert instead of adding code that always
	runs git-svn-id: svn://svn.berlios.de/openocd/trunk@1670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm_jtag.c,
	src/target/arm_jtag.h: pull up verify_capture_ir one level in api
	stack git-svn-id: svn://svn.berlios.de/openocd/trunk@1669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c: retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/embeddedice.c: first
	jtag_check_value_mask usage. tested by using "arm7_9
	fast_memory_access enable" & "mdw 0 0x10" git-svn-id: svn://svn.berlios.de/openocd/trunk@1664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm_adi_v5.c: added comments
	w.r.t. potential performance problems git-svn-id: svn://svn.berlios.de/openocd/trunk@1663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: Fix typo from hurrying the last commit.
	Nothing to see here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: Fix loadFile to return file length once
	again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Re-order and extend header file tests in configure
	script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c: Fix warnings in httpd.c; builds with
	libmicrohttpd-0.4.1.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: Fix warnings in ioutil.c; improves loadFile
	inteface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: more in_handler typo
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: ouch - typo in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/tclapi.c: Remove unreferenced tcpapi.c source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c: in_handler removal typo fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: fix copy & paste error when retiring
	in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: refactor to be able to remove
	more in_handler stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: verified that an argument is
	unused git-svn-id: svn://svn.berlios.de/openocd/trunk@1651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: fix c99 compile errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_jtag.c: marker for in_handler to remove git-svn-id: svn://svn.berlios.de/openocd/trunk@1649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: remove usage of in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: remove in_handler
	usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm9tdmi.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm966e.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11_dbgtap.c, src/target/arm920t.c: remove in_handler
	usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11_dbgtap.c: stop using in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: jtag API error handling
	refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/virtex2.c: remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/oocd_trace.c: David Brownell david-b at pacbell.net
	fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/ti_dm355.cfg: fix line endings git-svn-id: svn://svn.berlios.de/openocd/trunk@1634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/ti_dm355.cfg: David Brownell
	<david-b@pacbell.net> DaVinci DM355 SoC support git-svn-id: svn://svn.berlios.de/openocd/trunk@1633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/at91sam7_old.c,
	src/flash/at91sam7_old.h, src/flash/flash.c: Deleted at9sam7_old
	driver. Nobody has complained about the new one yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c: slightly increase readability of code git-svn-id: svn://svn.berlios.de/openocd/trunk@1631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c: another example of removing in_handler
	usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/zy1000.c,
	src/target/arm7tdmi.c: added template for removing in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: Fix most pointer cast alignment warnings in
	arm11.c; fix u16 memory reads..  git-svn-id: svn://svn.berlios.de/openocd/trunk@1628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: Fix pointer cast alignment warnings in
	arm_adi_v5.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/pic32mx.c, src/flash/stm32x.c: Fix stm32x and pic32mx
	flash pointer cast alignment warnings, simplify their last word
	handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: Fix pointer cast alignment warning in XScale
	miniIC loader parity calc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: Fix pointer cast alignment warnings in
	target/image.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/register.h: Change reg_s value
	field from u8 * to void *; it must always be cast.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Fix pointer cast alignment issues in svf.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add configure script check to enable C99 build
	option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Fix pointer cast alignment warnings in jim.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Added  (BUILD_JLINK==1) condition to us new
	tables with JLink git-svn-id: svn://svn.berlios.de/openocd/trunk@1619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Dick Hollenbeck <dick@softplc.com> comments & 7
	clock TMS reset for good measure git-svn-id: svn://svn.berlios.de/openocd/trunk@1618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: Dick Hollenbeck <dick@softplc.com> part deux of
	previous changes just committed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Small changes that might improve stability.
	Implemented new jtag sequences tap_get_tms_path and
	tap_get_tms_path_len git-svn-id: svn://svn.berlios.de/openocd/trunk@1616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: transition more directly to the end state +
	reuse more of the state move code/paths git-svn-id: svn://svn.berlios.de/openocd/trunk@1615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: Dick Hollenbeck <dick@softplc.com> simplifies
	XSTATE handling, and protects against illegal state transitions that
	might be in an SVF file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: log noise reduction git-svn-id: svn://svn.berlios.de/openocd/trunk@1613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Fix enviorn configure test failure message (thanks
	to Anders Montonen).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/pld/virtex2.c, src/svf/svf.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/xscale.c, src/xsvf/xsvf.c: remove unecessary setting of
	deprecated fields to NULL git-svn-id: svn://svn.berlios.de/openocd/trunk@1611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/jim.c: Add autoconf check to determine
	where environ should be declared.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/target/mips_ejtag.c, src/target/mips_ejtag.h: 
	add warnings about not using in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/helper/tclapi.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/zy1000.c, src/pld/virtex2.c,
	src/svf/svf.c, src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/arm_jtag.c, src/target/avrt.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/feroceon.c,
	src/target/mips_ejtag.c, src/target/xscale.c, src/xsvf/xsvf.c: 
	retire out_mask - not used anywhere git-svn-id: svn://svn.berlios.de/openocd/trunk@1608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/pld/virtex2.c, src/target/arm11_dbgtap.c,
	src/target/arm720t.c, src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_adi_v5.c,
	src/target/embeddedice.c, src/target/etb.c, src/target/xscale.c: 
	mark usage of in_handler that can be converted into user code git-svn-id: svn://svn.berlios.de/openocd/trunk@1607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: made warning about keep_alive() not being
	invoked more helpful git-svn-id: svn://svn.berlios.de/openocd/trunk@1606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: remove extra newline before prompt git-svn-id: svn://svn.berlios.de/openocd/trunk@1605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.h: Gabor Juhos juhosg at openwrt.org  MIPS: fix
	a shift value in the MIPS32_R_INST macro git-svn-id: svn://svn.berlios.de/openocd/trunk@1604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.h: Oleksandr Tymoshenko <gonzo@bluezbox.com>
	"resume" command fix for EJTAG git-svn-id: svn://svn.berlios.de/openocd/trunk@1603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/cortex_a8.c,
	src/target/cortex_a8.h, src/target/target.c: Dirk Behme
	<dirk.behme@googlemail.com> Add minimalist Cortex A8 file git-svn-id: svn://svn.berlios.de/openocd/trunk@1602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etb.c, src/target/etm.c, src/target/xscale.c: Mariano
	Alvira <mar@devl.org> fixes warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Mariano Alvira <mar@devl.org> fixes warning
	as error about a signed vs. unsigned comparison by casting the local
	unsigned variable as (long long).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Fix environ declaration for non-glibc systems git-svn-id: svn://svn.berlios.de/openocd/trunk@1599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: fix embedded builds git-svn-id: svn://svn.berlios.de/openocd/trunk@1598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Backed out change to solve Mac OS compilation
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Fix compilation when HAVE_UNISTD_H is not
	defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Piotr Esden-Tempski <piotr@esden.net> Mac OS X
	compile fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c, src/target/avrt.c: Piotr Esden-Tempski
	<piotr@esden.net> Mac OS X compile fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Fix build when enabling presto+ftd2xx driver only.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add configure check for usb.h; required by a USB
	drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, configure.in, src/Makefile.am,
	src/flash/Makefile.am, src/helper/Makefile.am,
	src/jtag/Makefile.am, src/pld/Makefile.am, src/server/Makefile.am,
	src/svf/Makefile.am, src/target/Makefile.am, src/xsvf/Makefile.am: 
	Update autotools scripts to require automake 1.6.  The configure.in
	script already required autoconf 2.59 (circa 2006), so there is no
	reason to support versions of automake older than 1.6 (circa 2002).  The first part of this patch upgrades the configure.in script:      1. Use current calling conventions for the AC_INIT and         AM_INIT_AUTOMAKE macros, bringing their usage up-to-date
	        with the version of autoconf already specified by AC_PREREQ.       2. Add AC_CONFIG_SRCDIR macro, required by new version of
	     AC_INIT.  3. Automatically enable all of automake's warnings except Makefile         portability (which OpenOCD violates by using GNU make's
	        $(wildcard)).  [[ While automake has its own -Werror option,
	        I did not enabled it due to existing warnings. ]]      4. Add the missing AM_PROG_C_O check, required by the build
	        rules for openocd.o in src/Makefile.am.       5. Adjust version number to show progress toward the next
	     release.  6. Include a bug reporting e-mail address to direct users to this
	list.  This patch makes the following adjustments to the Makefile.am files:      1. Update AUTOMAKE_OPTIONS to require automake version 1.6      2. Rewrite all deprecated INCLUDES assignments as AM_CPPFLAGS      3. Clean-up all AM_CPPFLAGS declarations to be patch-friendly.       4. Remove vestigial references to $(all_includes)      5. Remove erroneous references to @CPPFLAGS@ (only use
	     AM_CPPFLAGS) 6. Remove unused -I and -D directives in helper/, flash/, target/ git-svn-id: svn://svn.berlios.de/openocd/trunk@1591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/main.c, src/openocd.c: Dick Hollenbeck <dick@softplc.com>
	moved stuff into openocd.c - should never have been in main.c in the
	first place. DLL will now build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Zach Welch <zw@superlucidity.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Remove superflous spaces from new JTAG table to
	fix formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Add static keywords to main application helper
	functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Dick Hollenbeck <dick@softplc.com>: move
	OPENOCD_VERSION to use config.h git-svn-id: svn://svn.berlios.de/openocd/trunk@1586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/hitex_str9_comstick.cfg,
	src/target/target/str9comstick.cfg: Uwe Hermann
	<uwe@hermann-uwe.de>: Support both rev -A1 and -A2 of Hitex
	STR9-comStick.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/openocd.udev, src/target/interface/icebear.cfg: Uwe
	Hermann <uwe@hermann-uwe.de>: Make ICEbear look like other targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: zy1000 1.51 git-svn-id: svn://svn.berlios.de/openocd/trunk@1582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: list board's as well as target config files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2478.cfg: lpc2478 target config git-svn-id: svn://svn.berlios.de/openocd/trunk@1580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm_dummy.c, src/target/etm_dummy.h, src/target/image.c,
	src/target/oocd_trace.c, src/target/oocd_trace.h,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c: Add static keywords to core target source file
	data and functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c: Print out warning when LPC calc_checksum will
	cause verification to fail.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Fix signed/unsigned comparison.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c: no change git-svn-id: svn://svn.berlios.de/openocd/trunk@1576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: flash fillX now has a verify stage git-svn-id: svn://svn.berlios.de/openocd/trunk@1575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg,
	src/target/target/lpc2148_2mhz.cfg,
	src/target/target/lpc2148_rclk.cfg: use jtag_rclk 500 to avoid
	proliferation of target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Michael Bruck <mbruck@digenius.de>:
	sys/select.h must preceed windows.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Michael Bruck <mbruck@digenius.de>: use
	HAVE_UNISTD_H for environ decl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: Clear FLASH_SR error flags after flash errors
	to avoid reset befor further flash operations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/openocd.udev: Add udev rules for USB ICEbear interface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c: More error logging for DAP errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from svn 1565 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/olimex_LPC2378STK.cfg: Sten
	<debian@sansys-electronic.com>: add support for Olimex LPC2378STK
	eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/target/interface/icebear.cfg: Sten
	<debian@sansys-electronic.com>: add support for ICEbear FDTI-based
	interface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Fix jlink usb_bulk_with_retries to return actual
	error codes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Remove vestigial last_tms variable from jlink
	driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add -Wredundant-decls to prevent unwanted duplicate
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Fix jlink for Debian/Ubuntu (by Ben Dooks
	<ben-openocd@fluff.org>).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/helper/fileio.c, src/helper/jim.c,
	src/helper/replacements.c, src/helper/replacements.h,
	src/helper/time_support.c, src/jtag/jtag.h,
	src/server/tcl_server.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c, src/target/armv4_5.h,
	src/target/armv4_5_mmu.c, src/target/armv7m.h,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c: Remove
	redundant declarations to allow building with -Wredundant-decls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/jim-eventloop.c,
	src/helper/replacements.h, src/jtag/jtag.c: Add missing header files
	to fix C99 compatibility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: more docs on jtag_add_pathmove() git-svn-id: svn://svn.berlios.de/openocd/trunk@1558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Dick Hollenbeck
	<dick@softplc.com> and Jeff Williams tap_get_tms_path_len() git-svn-id: svn://svn.berlios.de/openocd/trunk@1557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Correctedout  buffer size and missing
	jlink_tap_init() call.  Expanded JLink adapter info at startup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.c: - fix win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: fix checksum memory. By failing the fallback
	code will handle checksum calculation git-svn-id: svn://svn.berlios.de/openocd/trunk@1554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/gw16012.c: Zach Welch <zw@superlucidity.net> fix gw16012
	with --enable-parport_ppdev git-svn-id: svn://svn.berlios.de/openocd/trunk@1553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: convert some LOG_INFO()'s during stepping into
	LOG_DEBUG() git-svn-id: svn://svn.berlios.de/openocd/trunk@1552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck <mbruck@digenius.de> macros for error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* PATCHES, contrib/openocd.udev: eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/dummy.c, src/server/httpd/Stylizer.java,
	src/target/target/mega128.cfg,
	testing/examples/SAM7X256Test/prj/eclipse_ram.gdb,
	testing/examples/SAM7X256Test/prj/eclipse_rom.gdb,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_ram.ld,
	testing/examples/SAM7X256Test/prj/sam7x256_reset.script,
	testing/examples/SAM7X256Test/prj/sam7x256_rom.ld,
	testing/examples/STM32-103/readme.txt: eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/avrf.c, src/flash/avrf.h, src/target/avrt.c,
	src/target/avrt.h: SimonQian <simonqian@simonqian.com> fix
	warnings(which stops compilation) and some bugs git-svn-id: svn://svn.berlios.de/openocd/trunk@1548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.h, src/target/armv7m.c: Added dap baseaddr
	and dap apid commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Dick Hollenbeck <dick@softplc.com> Collect some
	macros, add DIM() git-svn-id: svn://svn.berlios.de/openocd/trunk@1546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: SimonQian <simonqian@simonqian.com> patch for
	error compiling vsllink if --enable-verbose-jtag-io is set git-svn-id: svn://svn.berlios.de/openocd/trunk@1545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: clean up debug/info output to be in line with
	other targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	more error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	a little bit more error handling in ARM11 git-svn-id: svn://svn.berlios.de/openocd/trunk@1542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/avrf.c, src/flash/avrf.h,
	src/flash/flash.c, src/target/Makefile.am, src/target/avrt.c,
	src/target/avrt.h, src/target/target.c: SimonQian
	<simonqian@simonqian.com> AVR wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/mega128.cfg: SimonQian <simonqian@simonqian.com>
	AVR support git-svn-id: svn://svn.berlios.de/openocd/trunk@1539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_swjdp.c, src/target/cortex_swjdp.h: Deleted
	depreciated files ( new versions are arm_adi_v5.c/h ) git-svn-id: svn://svn.berlios.de/openocd/trunk@1538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Some devices such as AVR will return 0xffffffff
	instead of the TDI data at the end of the chain. Added kludge to
	handle this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h: Changed armv7m and
	cortexm3 to use nev arm_adi_v5 instead of cortex_swjdp.  Added
	support for accessport ROM table identification, dap command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_adi_v5.c, src/target/arm_adi_v5.h: Added
	arm_adi_v5.c/h, to replace cortex_swjdp.c/h. Better conformance to
	ARM Debug Interface rev 5 documentation and remoed code specific to
	the Cortex-M3 targets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c: Philippe Vachon <philippe@cowpig.ca> 64 bit
	host fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch <zw@superlucidity.net> add -Wcast-align
	and -Wbad-function-cast git-svn-id: svn://svn.berlios.de/openocd/trunk@1533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/target/oocd_trace.c: Zach Welch
	<zw@superlucidity.net> wrap _GNU_SOURCE defines git-svn-id: svn://svn.berlios.de/openocd/trunk@1532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/ti_beagleboard.cfg,
	src/target/target/omap3530.cfg: Zach Welch <zw@superlucidity.net>
	fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91sam9260_ext_RAM_ext_flash.cfg: R.Doss
	<doss@gmx.de> AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@1530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Zach Welch <zw@superlucidity.net> add
	TAP_SCAN_BYTES macro git-svn-id: svn://svn.berlios.de/openocd/trunk@1529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Corrected statement order git-svn-id: svn://svn.berlios.de/openocd/trunk@1528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Fix ft2232 TX buffer overflow git-svn-id: svn://svn.berlios.de/openocd/trunk@1527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Break ft2232_execute_quie into smaller
	functions, follows restructure of jlink.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/jtag.h: add
	jtag_debug_state_machine git-svn-id: svn://svn.berlios.de/openocd/trunk@1525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c, src/jtag/jtag.h: Zach Welch
	<zw@superlucidity.net> add TAP_SCAN_BYTES macro (1 of 2) git-svn-id: svn://svn.berlios.de/openocd/trunk@1524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* bootstrap: Zach Welch <zw@superlucidity.net> add
	--enable-maintainer-mode reminder git-svn-id: svn://svn.berlios.de/openocd/trunk@1523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/openocd.udev: Uwe Hermann <uwe@hermann-uwe.de> Update udev
	file git-svn-id: svn://svn.berlios.de/openocd/trunk@1522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net> use memcpy git-svn-id: svn://svn.berlios.de/openocd/trunk@1521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/sheevaplug.cfg: Nicolas Pitre <nico@cam.org>
	update SheevaPlug interface cfg file git-svn-id: svn://svn.berlios.de/openocd/trunk@1520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/olimex_stm32_h103.cfg,
	src/target/board/stm32f10x_128k_eval.cfg: Uwe Hermann
	<uwe@hermann-uwe.de> drop unecessary BSTAPIDs git-svn-id: svn://svn.berlios.de/openocd/trunk@1519
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/gw16012.c: Remove warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.h: Michael Bruck <mbruck@digenius.de> include
	file fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target/stm32.cfg: stm32.cfg can
	expect one of 4 id's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: unbreak zy1000 git-svn-id: svn://svn.berlios.de/openocd/trunk@1515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/wi-9c.cfg: Laurentiu Cocanu - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: - fix win32 build after svn 1511 changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck <mbruck@digenius.de> ARM11 various updates + fix
	formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/server.c: Michael Bruck <mbruck@digenius.de>
	signed/unsigned incompatibility warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Michael Bruck spotted a typo in help messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net> do not pad TMS git-svn-id: svn://svn.berlios.de/openocd/trunk@1509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net> set speed in
	init git-svn-id: svn://svn.berlios.de/openocd/trunk@1508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net>  fix jlink
	reset git-svn-id: svn://svn.berlios.de/openocd/trunk@1507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: Zach Welch <zw@superlucidity.net> reorder enum
	tap_state git-svn-id: svn://svn.berlios.de/openocd/trunk@1506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c: Fix str_to_buf problem, thanks Andy
	Chenee git-svn-id: svn://svn.berlios.de/openocd/trunk@1505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Shrink JLink buffer sizes to specified 2KB
	courtesy of Jeff Williams <jeffw@gadgetworks.com> and Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Add D2XX support for OS X courtesy of Piotr
	Esden-Tempski <piotr@esden.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Fix use of wrong format conversion for size_t
	(%zu instead of %u) git-svn-id: svn://svn.berlios.de/openocd/trunk@1502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix jtag run/idle state name courtesy of Jeff
	Williams <jeffw@gadgetworks.com> and Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: refactor jlink_execute_queue courtesy of Zach
	Welch <zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/calao-usb-a9260-c01.cfg,
	src/target/interface/flyswatter.cfg,
	src/target/interface/jtagkey-tiny.cfg,
	src/target/interface/luminary-libftdi.cfg,
	src/target/interface/luminary.cfg,
	src/target/interface/olimex-arm-usb-ocd.cfg,
	src/target/interface/olimex-jtag-tiny-a.cfg,
	src/target/interface/olimex-jtag-tiny.cfg,
	src/target/interface/openocd-usb.cfg,
	src/target/interface/sheevaplug.cfg: Uwe Hermann
	<uwe@hermann-uwe.de>  Drop non-A variants of ft2232 targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net> refactor git-svn-id: svn://svn.berlios.de/openocd/trunk@1498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Zach Welch <zw@superlucidity.net> fix ft2232
	usb io format warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: Zach Welch <zw@superlucidity.net>  add
	--enable-verbose* options git-svn-id: svn://svn.berlios.de/openocd/trunk@1496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/arm-jtag-ew.c, src/jtag/ft2232.c,
	src/jtag/jlink.c, src/jtag/jtag.h: Zach Welch <zw@superlucidity.net>
	add --enable-verbose* options git-svn-id: svn://svn.berlios.de/openocd/trunk@1495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.h, src/target/mips32_pracc.c,
	src/target/mips32_pracc.h: Nico Coesel <ncoesel@dealogic.nl> MIPS32
	speedup patches git-svn-id: svn://svn.berlios.de/openocd/trunk@1494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net>  fix jlink
	format warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Zach Welch <zw@superlucidity.net>  factor jlink
	usb_bulk_*_ex functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c, src/target/interface/vsllink.cfg: - vsllink update from SimonQian [simonqian@SimonQian.com] git-svn-id: svn://svn.berlios.de/openocd/trunk@1491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch <zw@superlucidity.net> improve Linux
	ftd2xx configure-time support git-svn-id: svn://svn.berlios.de/openocd/trunk@1490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/server/Makefile.am: - fix signed/unsigned build errors under win32. Thanks Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: - remove environ warning under win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/at91rm9200.c: Zach Welch <zw@superlucidity.net> add
	static keywords to at91rm9200 git-svn-id: svn://svn.berlios.de/openocd/trunk@1487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Zach Welch <zw@superlucidity.net>  fix unused
	return value warnings (2 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/pic32mx.c: Zach Welch
	<zw@superlucidity.net>  fix at91sam7 uninitialized variable warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: Zach Welch <zw@superlucidity.net> fix str9x
	type-punned pointer git-svn-id: svn://svn.berlios.de/openocd/trunk@1484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch <zw@superlucidity.net> add
	-Wformat-security (4 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Zach Welch <zw@superlucidity.net>fix unused
	return value warnings (3 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/options.c, src/jtag/arm-jtag-ew.c, src/jtag/jlink.c,
	src/jtag/vsllink.c, src/target/target.c, src/xsvf/xsvf.c: Zach Welch
	<zw@superlucidity.net> fix -Wformat-security warnings (1 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS, src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c,
	src/flash/non_cfi.h: Michael Schwingen
	<rincewind@discworld.dascon.de> add non-CFI SST flashs git-svn-id: svn://svn.berlios.de/openocd/trunk@1480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/arm-jtag-ew.c,
	src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/dummy.c, src/jtag/ep93xx.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/usbprog.c,
	src/jtag/vsllink.c: Zach Welch <zw@superlucidity.net> use static
	keyword in jtag layer and drivers git-svn-id: svn://svn.berlios.de/openocd/trunk@1479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/at91rm9200.c, src/target/target/lpc2124.cfg,
	src/target/target/lpc2378.cfg: - fix at91rm9200 warning. Thanks Zach Welch <zw@superlucidity.net> - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Holger Freyther <zecke@selfish.org>
	Attempt to fix arm7_9 breakpoint handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitq.c, src/jtag/ft2232.c, src/jtag/presto.c: Zach Welch
	<zw@superlucidity.net> fix ft2232/presto warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Nikolay Shadrin whoney at gmail.com, Zach Welch
	<zw@superlucidity.net> unstable USB J-Link in OpenOCD (revised patch
	provided) git-svn-id: svn://svn.berlios.de/openocd/trunk@1475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.h: Zach Welch <zw@superlucidity.net> use
	ARM4_5_MODE_ANY instead of -1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch <zw@superlucidity.net> treat warnings as
	errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/jtag/jtag.c,
	src/jtag/rlink/rlink.c, src/pld/virtex2.c, src/pld/xilinx_bit.c,
	src/server/gdb_server.c, src/svf/svf.c, src/target/arm720t.h,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm920t.h, src/target/arm926ejs.h,
	src/target/arm_jtag.h, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etb.h, src/target/etm.c, src/target/feroceon.c,
	src/target/mips32.h, src/target/mips_ejtag.c,
	src/target/oocd_trace.c, src/target/register.h,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/trace.h, src/target/xscale.c,
	src/xsvf/xsvf.c: Zach Welch <zw@superlucidity.net> fix -Werror
	warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c, src/jtag/usbprog.c: Partially fix USBprog and
	JLink adapters on XScale target Thanks to Peter Denison
	<openwrt(at)marshadder.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: Added functionality to support jtag_khz for the
	jlink.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c,
	src/flash/non_cfi.h: Michael Schwingen
	<rincewind@discworld.dascon.de>  enhanced non-CFI flash support git-svn-id: svn://svn.berlios.de/openocd/trunk@1469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Zach Welch <zw@superlucidity.net> add missing
	initializers in nand.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c: Zach Welch <zw@superlucidity.net> trim logic
	in tms470.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c, src/flash/cfi.c,
	src/flash/ecos.c, src/flash/flash.c, src/flash/lpc2000.c,
	src/flash/lpc2000.h, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/ocl.c, src/flash/pic32mx.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c: Zach Welch
	<zw@superlucidity.net> fix signed/unsigned comparisons git-svn-id: svn://svn.berlios.de/openocd/trunk@1466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/usbprog.c: Zach Welch <zw@superlucidity.net>  fix
	warnings in usbprog git-svn-id: svn://svn.berlios.de/openocd/trunk@1465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/dummy.c, src/jtag/gw16012.c,
	src/jtag/jtag.c: Zach Welch <zw@superlucidity.net>  use tap_state_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Zach Welch <zw@superlucidity.net> automake
	maintainer mode git-svn-id: svn://svn.berlios.de/openocd/trunk@1463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-18  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/aduc702x.c, src/flash/at91sam7.c,
	src/flash/at91sam7_old.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/ocl.c, src/flash/orion_nand.c, src/flash/pic32mx.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c,
	src/helper/tclapi.c, src/jtag/amt_jtagaccel.c,
	src/jtag/arm-jtag-ew.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/jlink.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/usbprog.c,
	src/jtag/vsllink.c, src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm720t.c, src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/cortex_swjdp.c, src/target/embeddedice.c,
	src/target/embeddedice.h, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c, src/target/xscale.c: 
	The following patches was applied: - openocd-flash-static-keyword-v3.patch - openocd-lpc2000-fix-erase-obo.patch - openocd-jlink-fix-sign-ptr-warn.patch - openocd-wextra-etm.patch - openocd-wextra-jtag.patch - openocd-add-new-tap-symbols-v6.patch Many thanks to  Zach Welch <zw(at)superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2124.cfg: Jesus Sanchez-Palencia
	<jesus.palencia@openbossa.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1461
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/olimex_stm32_h103.cfg: Piotr Esden-Tempski
	<piotr@esden.net> Corrected olimex_stm32_h103 board config git-svn-id: svn://svn.berlios.de/openocd/trunk@1460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Nico Coesel <ncoesel@dealogic.nl> Chip width /
	bus width bug in cfi driver git-svn-id: svn://svn.berlios.de/openocd/trunk@1459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2378.cfg: Freddie Chopin
	<freddie_chopin@op.pl> LPC2378 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: Dick Hollenbeck <dick@softplc.com> work in
	progress git-svn-id: svn://svn.berlios.de/openocd/trunk@1457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: Improved (for humans) error reporting for
	flash programming errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_simulator.c: Solve problem with single stepping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - add openocd coding style to texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.c, src/target/armv7m.c,
	src/target/cortex_swjdp.c: Slight improvement in run_algorithm
	register restore.  More debug info for cortex swjdp errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand_ecc.c, src/target/board/olimex_stm32_h103.cfg,
	src/target/interface/oocdlink.cfg, src/target/target/lpc2103.cfg: - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/oocdlink.cfg: Uwe Hermann
	<uwe@hermann-uwe.de> oocdlink file git-svn-id: svn://svn.berlios.de/openocd/trunk@1451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/olimex_stm32_h103.cfg: Piotr Esden-Tempski
	<piotr@esden.net> added a board file for the Olimex STM32-H103 eval
	board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2103.cfg: Freddie Chopin
	<freddie_chopin@op.pl> I attach a config file for LPC2103 git-svn-id: svn://svn.berlios.de/openocd/trunk@1449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org list the new flag
	in the "nand write" help line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/sheevaplug.cfg: Nicolas Pitre nico at cam.org
	write ECC data when reflashing u-Boot on the SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c, src/flash/nand.h: Nicolas Pitre nico at cam.org
	The ECC data is automatically computed and written to the OOB area
	when the oob_softecc option is passed to the "nand write" command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand_ecc.c: Nicolas Pitre nico at cam.org software ECC
	computation for NAND flash git-svn-id: svn://svn.berlios.de/openocd/trunk@1445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/nand.h: Nicolas Pitre nico at
	cam.org software ECC computation for NAND flash git-svn-id: svn://svn.berlios.de/openocd/trunk@1444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org This at least
	should make the "nand info" command a little more useful.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org Allocating a
	6-byte memory location with malloc() is rather silly when this can
	be allocated on the stack.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/stm32.cfg: Uwe Hermann <uwe@hermann-uwe.de> Add
	missing STM32 "0x06412041, Revision A" BSTAPID to list of available
	ones.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/arm-jtag-ew.cfg,
	src/target/interface/arm-usb-ocd.cfg,
	src/target/interface/at91rm9200.cfg,
	src/target/interface/axm0432.cfg,
	src/target/interface/calao-usb-a9260-c01.cfg,
	src/target/interface/calao-usb-a9260-c02.cfg,
	src/target/interface/calao-usb-a9260.cfg,
	src/target/interface/chameleon.cfg, src/target/interface/dummy.cfg,
	src/target/interface/flyswatter.cfg,
	src/target/interface/jlink.cfg,
	src/target/interface/jtagkey-tiny.cfg,
	src/target/interface/jtagkey.cfg,
	src/target/interface/luminary-libftdi.cfg,
	src/target/interface/luminary-lm3s811.cfg,
	src/target/interface/luminary.cfg,
	src/target/interface/olimex-arm-usb-ocd.cfg,
	src/target/interface/olimex-jtag-tiny-a.cfg,
	src/target/interface/olimex-jtag-tiny.cfg,
	src/target/interface/openocd-usb.cfg,
	src/target/interface/parport.cfg,
	src/target/interface/parport_dlc5.cfg,
	src/target/interface/rlink.cfg,
	src/target/interface/sheevaplug.cfg,
	src/target/interface/signalyzer.cfg,
	src/target/interface/stm32-stick.cfg,
	src/target/interface/str9-comstick.cfg,
	src/target/interface/turtelizer2.cfg,
	src/target/interface/usbprog.cfg: Uwe Hermann <uwe@hermann-uwe.de>
	URL references git-svn-id: svn://svn.berlios.de/openocd/trunk@1439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c, src/target/cortex_swjdp.c: Cortex-M3 cleanup
	and performance patch git-svn-id: svn://svn.berlios.de/openocd/trunk@1438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: fix keyword expansion git-svn-id: svn://svn.berlios.de/openocd/trunk@1437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: zy1000 1.50 snapshot. fix problem with empty
	file names.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/usbprog.cfg: - add missing usbprog config. patch from Uwe Hermann

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005145.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: a few words about motivation for standalone JTAG
	debugger.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix typo's in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target_request.c: Hiroshi Ito
	<ito@mlb.co.jp> Linux for arm has arm generic debug option which
	send debug messages via DCC channel.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/keil_mcb2140.cfg,
	src/target/board/olimex_lpc_h2148.cfg,
	src/target/interface/stm32-stick.cfg,
	src/target/interface/str9-comstick.cfg,
	src/target/target/ixp42x.cfg: - update str9 and stm32 comstick configs - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c: Hiroshi Ito <ito@mlb.co.jp>
	disassemble Arm926ejs clz instruction git-svn-id: svn://svn.berlios.de/openocd/trunk@1430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/keil_mcb2140.cfg,
	src/target/board/olimex_lpc_h2148.cfg: Uwe Hermann
	<uwe@hermann-uwe.de> Add new board configs: Olimex LPC-H2148, Keil
	MCB2140.  Both boards use an LPC2148, no external flash or RAM.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/ixp42x.cfg, src/target/target/nslu2.cfg,
	src/target/target/pxi42x.cfg: Uwe Hermann <uwe@hermann-uwe.de>
	spelling fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: Uwe Hermann <uwe@hermann-uwe.de>
	eal _CPUTAPID entry for the LPC2148. I don't know if they're the
	same for all LPC214x, this number is from an Olimex LPC-H2148. The
	chip on that board is LPC2148FBD64.  Also fix a few cosmetic issues and comments in the file and add more
	docs and pointers to the datasheet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Uwe Hermann <uwe@hermann-uwe.de>  - Explicitly mention autoconf >= 2.59 as requirement (as per   configure.in). Also automake >= 1.9 (though I'm not sure which   if that's really the minimum requirement).   - Document various missing configure options.   - Fix various typos and inconsistencies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/omap5912.cfg: Uwe Hermann <uwe@hermann-uwe.de>
	typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str9comstick.cfg: - fix another typo in str9comstick.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx35.cfg: - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi: - docs patch from Thomas Kindler git-svn-id: svn://svn.berlios.de/openocd/trunk@1422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx35.cfg: Alan Carvalho de Assis
	<acassis@gmail.com>  adds support to i.MX35 processor.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - revert texi changes from rev 1418 as it breaks build - original patch will be reviewed before next commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str9comstick.cfg: - fix incorrect str9comstick cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/jtag.c,
	src/target/board/stm32f10x_128k_eval.cfg: Thomas Kindler
	<mail+ocd@t-kindler.de> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/server/gdb_server.c: Hiroshi Ito
	<ito@mlb.co.jp> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/trace.c: Hiroshi Ito <ito@mlb.co.jp> fix division by 0 git-svn-id: svn://svn.berlios.de/openocd/trunk@1416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/jtag/jtag.c, src/target/xscale.c: - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/stm32stick.cfg: - fix incorrect stm32stick.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: - fix issue with cortex_m3 reset run. Thanks Perry Hung -

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005028.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/parport.cfg,
	src/target/interface/parport_dlc5.cfg: Uwe Hermann
	<uwe@hermann-uwe.de>  clean out stuff that doesn't belong in
	interface(telnet/gdb port).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS, src/scripting.txt, src/target/target/readme.txt,
	src/tcl/README_ABOUT_TCL.txt, testing/examples/STM32-103/readme.txt: 
	Uwe Hermann <uwe@hermann-uwe.de> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/rlink/ep1_cmd.h, src/jtag/rlink/rlink.c: - add support for standalone rlink

	https://lists.berlios.de/pipermail/openocd-development/2009-March/004965.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added eol-style props git-svn-id: svn://svn.berlios.de/openocd/trunk@1409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Added -endstate to irscan and drscan to support
	beagleboard (omap3530) git-svn-id: svn://svn.berlios.de/openocd/trunk@1407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix small typo in texi (section HostOS) git-svn-id: svn://svn.berlios.de/openocd/trunk@1406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/olimex-jtag-tiny-a.cfg: Added VID/PID pair to
	olimex-jtag-tiny-a the non-a version already has the vid pid git-svn-id: svn://svn.berlios.de/openocd/trunk@1403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, contrib/openocd.udev, doc/openocd.texi,
	src/jtag/Makefile.am, src/jtag/arm-jtag-ew.c, src/jtag/jtag.c,
	src/target/interface/arm-jtag-ew.cfg: Patch from Dimitar Dimitrov
	adding support for Olimex ARM-JTAG-EW git-svn-id: svn://svn.berlios.de/openocd/trunk@1402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-07  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Accept/create both A and Non-A ft2232 based
	descriptions git-svn-id: svn://svn.berlios.de/openocd/trunk@1401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-07  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/command.c: Added HostOS variable git-svn-id: svn://svn.berlios.de/openocd/trunk@1400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Audrius Urmanavičius <didele.deze@gmail.com>
	cleanup flash fill git-svn-id: svn://svn.berlios.de/openocd/trunk@1399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Nicolas Pitre <nico@cam.org> fix "halt 0" to
	only halt and not to poll/wait afterwards. This follows the
	intention in the docs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/sheevaplug.cfg: Nicolas Pitre <nico@cam.org>
	making reset+halt on the SheevaPlug 100% reliable (needs patch in
	target.c to fix "halt 0").  git-svn-id: svn://svn.berlios.de/openocd/trunk@1397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: test code for elf parsing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/orion_nand.c, src/target/board/sheevaplug.cfg,
	src/target/interface/sheevaplug.cfg,
	src/target/target/feroceon.cfg, src/target/test/syntax1.cfg: - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: Daniel Gimpelevich
	<daniel@gimpelevich.san-francisco.ca.us> Cosmetic OpenOCD patch for
	Flyswatter git-svn-id: svn://svn.berlios.de/openocd/trunk@1394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/jtagkey-tiny.cfg: Kees Jongenburger
	<kees.jongenburger@gmail.com> rename description field of the
	jtag-tiny.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: Nicolas Pitre nico at cam.org  fix
	feroceon_bulk_write_memory() wrt uploaded code git-svn-id: svn://svn.berlios.de/openocd/trunk@1392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/sheevaplug.cfg: Nicolas Pitre nico at cam.org
	SheevaPlug board configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/target/interface/sheevaplug.cfg: Nicolas
	Pitre nico at cam.org  add ft2232 layout for the Marvell SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c, src/target/target/feroceon.cfg: Nicolas
	Pitre nico at cam.org add Feroceon target config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/nand.c, src/flash/orion_nand.c: 
	Nicolas Pitre nico at cam.org support for NAND flash used with
	Marvell Orion and Kirkwood SOCs git-svn-id: svn://svn.berlios.de/openocd/trunk@1388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org  support for NAND
	controllers without explicit busy signal git-svn-id: svn://svn.berlios.de/openocd/trunk@1387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org  don't ignore bad
	options passed to the "nand write" command git-svn-id: svn://svn.berlios.de/openocd/trunk@1386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org The code
	unconditionally writes into the oob area all the time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: Nicolas Pitre nico at cam.org  spelling git-svn-id: svn://svn.berlios.de/openocd/trunk@1384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - stm32x flash driver - add support for stm32105/107 (connectivity
	line) git-svn-id: svn://svn.berlios.de/openocd/trunk@1383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/STM32-103/readme.txt: test files for stm32 git-svn-id: svn://svn.berlios.de/openocd/trunk@1382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_swjdp.c, src/target/target.c: tinkered a bit
	with performance for Cortex flash programming. Mainly make it easier
	to profile as a start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/pxa270.cfg: Sergey Lapin <slapinid@gmail.com>
	fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/ipx42x.cfg, src/target/target/pxi42x.cfg: John
	Woods <johnrw@gmail.com> fix newtap gaffe + rename git-svn-id: svn://svn.berlios.de/openocd/trunk@1378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: John Woods <johnrw@gmail.com> fix checks for
	addresses at upper end of the universe git-svn-id: svn://svn.berlios.de/openocd/trunk@1377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Holger Schurig <hs4233@mail.mn-solutions.de>
	incorporate some comments from Rick git-svn-id: svn://svn.berlios.de/openocd/trunk@1376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/mflash.c, src/flash/pic32mx.c,
	src/helper/jim-eventloop.h, src/server/gdb_server.c,
	src/target/mips_m4k.c: Holger Schurig <hs4233@mail.mn-solutions.de>
	fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/server/httpd/httpd.tcl: zy1000 1.49
	snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: zy1000 1.49 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh, src/Makefile.am: - guess-rev.sh now works as expected when build_dir is not the same
	as src_dir git-svn-id: svn://svn.berlios.de/openocd/trunk@1372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - issue warning when flash image exceeds configured flash size.  - see

	https://lists.berlios.de/pipermail/openocd-development/2009-February/004680.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-10  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/types.h, src/jtag/bitbang.c,
	src/jtag/bitq.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000.c, src/xsvf/xsvf.c: Use C89/C99/C++ compliant
	boolean types git-svn-id: svn://svn.berlios.de/openocd/trunk@1370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-10  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: A few more usages of TRUE and FALSE to remove git-svn-id: svn://svn.berlios.de/openocd/trunk@1369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: - fix native win32 build issues git-svn-id: svn://svn.berlios.de/openocd/trunk@1368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/x300t.cfg: Andi <opencode@gmx.net> - better dram
	setup git-svn-id: svn://svn.berlios.de/openocd/trunk@1367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/helper/binarybuffer.c,
	src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/dummy.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/rlink/rlink.c, src/jtag/usbprog.c, src/jtag/vsllink.c,
	src/jtag/zy1000.c, src/svf/svf.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/xscale.c, src/xsvf/xsvf.c,
	tools/xsvf_tools/svf2xsvf.py: - Cable driver helper API courtesy of Dick Hollenbeck
	<dick@softplc.com> - Formatting changes from uncrustify git-svn-id: svn://svn.berlios.de/openocd/trunk@1366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Doxyfile: Doxygen config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/uncrustify1.sh, uncrustify.cfg: Add uncrustify config file
	and helper script git-svn-id: svn://svn.berlios.de/openocd/trunk@1364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target.c,
	src/target/test/syntax1.cfg: chain position is now required when
	creating a target git-svn-id: svn://svn.berlios.de/openocd/trunk@1363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update symbols to match source file git-svn-id: svn://svn.berlios.de/openocd/trunk@1362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - AC_CHECK_FILE not supported when cross-compiling git-svn-id: svn://svn.berlios.de/openocd/trunk@1361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/xsvf/xsvf.c: xvsf player fixes by Dick
	Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/svf/svf.c: Fixes for svf player by Simon Qian
	<simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/options.c: Search path fixes for MinGW builds.
	Courtesy of Dimitar Dimitrov <dinuxbg@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/xsvf_tools/svf2xsvf.py, tools/xsvf_tools/xsvfdump.py: Add
	TRST support to xsvf tools.  Courtesy of Dick Hollenbeck
	<dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: vsllink support for stable clocks by Simon
	Qian <simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, contrib/openocd.udev: Add udev rules to contrib.
	Courtesy of Uwe Hermann <uwe@hermann-uwe.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/unknown-board-atmel-at91sam9260.cfg: Fix for
	incorrect filename in include for at91sam9260 in
	unknown-board-atmel-at91sam9260.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - fix issue with configure when building srcdir != builddir git-svn-id: svn://svn.berlios.de/openocd/trunk@1352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - add --enable-release to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/olimex_sam9_l9260.cfg,
	src/target/board/unknown-board-atmel-at91sam9260.cfg,
	src/target/interface/olimex-jtag-tiny.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg: AT91SAM9260 and Olimex
	changes by Dean Glazeski <dnglaze@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/axm0432.cfg: Add axm0432 interface config
	courtesy of Alan Carvalho de Assis <acassis@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, configure.in, src/Makefile.am, src/openocd.c: Fixes
	for handling release versions git-svn-id: svn://svn.berlios.de/openocd/trunk@1347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, doc/Makefile.am, src/Makefile.am,
	src/flash/Makefile.am, src/helper/Makefile.am,
	src/jtag/Makefile.am, src/pld/Makefile.am, src/server/Makefile.am,
	src/svf/Makefile.am, src/target/Makefile.am, src/xsvf/Makefile.am: 
	Fix 'make maintainer-clean' courtesy of Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ignore src/svf/Makefile.in git-svn-id: svn://svn.berlios.de/openocd/trunk@1344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx21.cfg: imx21 config provided by Alan
	Carvalho de Assis <acassis@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - remove unused includes, fixes build issues under FreeBSD git-svn-id: svn://svn.berlios.de/openocd/trunk@1341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh, src/svf/Makefile.in: - revert guess-rev.sh to using bash - remove generated files from svn git-svn-id: svn://svn.berlios.de/openocd/trunk@1340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/ecosboard.c,
	src/jtag/vsllink.c, src/openocd.c, src/svf/Makefile.am,
	src/svf/Makefile.in, src/svf/svf.c, src/svf/svf.h: SVF player
	courtesy of Simon Qian <simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.c: Fix handling of thumb disassembly in armv4_5
	disassemble.  Courtesy of Adam Dybkowski <adybkows@wp.pl> git-svn-id: svn://svn.berlios.de/openocd/trunk@1338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-17  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh: Fix guess-rev.sh where the builtin echo doesn't
	support -n git-svn-id: svn://svn.berlios.de/openocd/trunk@1337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-17  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/Makefile.am: Fix to install manpage as part of 'make install'
	by Uwe Hermann <uwe@hermann-uwe.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh: - make guess-rev.sh work with msys git-svn-id: svn://svn.berlios.de/openocd/trunk@1333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am: - add guess-rev.sh and contrib/libdcc to dist git-svn-id: svn://svn.berlios.de/openocd/trunk@1332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am: - add missing bitq and rlink files to distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/Makefile.am: Fix distcheck failure git-svn-id: svn://svn.berlios.de/openocd/trunk@1329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/imx31pdk.cfg,
	testing/examples/ledtest-imx27ads/Makefile,
	testing/examples/ledtest-imx27ads/crt0.S,
	testing/examples/ledtest-imx27ads/gdbinit-imx27ads,
	testing/examples/ledtest-imx27ads/ldscript,
	testing/examples/ledtest-imx27ads/test.c,
	testing/examples/ledtest-imx31pdk/test.c: - add missing svn props from 1323 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/ledtest-imx27ads/Makefile,
	testing/examples/ledtest-imx27ads/crt0.S,
	testing/examples/ledtest-imx27ads/gdbinit-imx27ads,
	testing/examples/ledtest-imx27ads/ldscript,
	testing/examples/ledtest-imx27ads/test.c: Alan Carvalho de Assis
	<acassis@gmail.com> test app for imx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@1323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/imx31pdk.cfg,
	testing/examples/ledtest-imx31pdk/gdbinit-imx31pdk: Alan Carvalho de
	Assis <acassis@gmail.com> imx31pdk.cfg reset init event git-svn-id: svn://svn.berlios.de/openocd/trunk@1322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/imx27ads.cfg,
	testing/examples/ledtest-imx31pdk/Makefile,
	testing/examples/ledtest-imx31pdk/crt0.S,
	testing/examples/ledtest-imx31pdk/gdbinit-imx31pdk,
	testing/examples/ledtest-imx31pdk/ldscript: - add missing svn props and fix incorrect line endings from last
	commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/ledtest-imx31pdk/gdbinit-imx31pdk: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/ledtest-imx31pdk/Makefile,
	testing/examples/ledtest-imx31pdk/crt0.S,
	testing/examples/ledtest-imx31pdk/gdbinit-imx31pdk,
	testing/examples/ledtest-imx31pdk/ldscript,
	testing/examples/ledtest-imx31pdk/test.c: Alan Carvalho de Assis
	<acassis@gmail.com> - testcase git-svn-id: svn://svn.berlios.de/openocd/trunk@1319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/imx27ads.cfg: Alan Carvalho de Assis
	<acassis@gmail.com> cfg file to initialize the iMX27ADS board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/target/imx31.cfg: arm11 wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx31.cfg: Alan Carvalho de Assis
	<acassis@gmail.com> small fix to move us in the right direction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - fix LDFLAGS typo in configure.in Thanks Francois Lorrain git-svn-id: svn://svn.berlios.de/openocd/trunk@1315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c: - fix mips issues with newer versions of gdb - we simply add more dummy registers git-svn-id: svn://svn.berlios.de/openocd/trunk@1314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/mips32.h, src/target/mips_m4k.c,
	src/target/target/pic32mx.cfg: - added mips software breakpoint support - changed some jtag LOG_DEBUG to only output when _DEBUG_JTAG_IO_
	defined. Makes debugging other parts of openocd not as noisy - updated correct jtag id for pic32mx git-svn-id: svn://svn.berlios.de/openocd/trunk@1313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx31.cfg: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/ioutil.c, src/openocd.c: moved ioutil
	init to the right spot: before config scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: allow issuing reset_config on the fly. Faster
	turnaround times in testing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/jtag/jtag.c, src/jtag/zy1000.c: fixed
	warnings + added zy1000 jtag_add_clocks support.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/dummy.c, src/jtag/ft2232.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/xsvf/xsvf.c: Dick Hollenbeck
	<dick@softplc.com> adds jtag_add_clocks() and implements those in
	the bitbang and ft2232.c.   nearly a full rewrite of the xsvf.c.
	improved some messaging only affected by _DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@1308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.1: Updates and fixes for the manpage from Uwe Hermann - Mention that MIPS systems are supported - Mention Jim Tcl engine - Point to info page (not README) for a list of supported stuff - Document missing --pipe option - Fix copy-paste error ("flex" should have been "openocd") git-svn-id: svn://svn.berlios.de/openocd/trunk@1307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - a few more docs tweaks git-svn-id: svn://svn.berlios.de/openocd/trunk@1306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - minor doc updates regarding tap creation and gdb connection using
	pipes git-svn-id: svn://svn.berlios.de/openocd/trunk@1305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/xsvf_tools/svf2xsvf.py, tools/xsvf_tools/xsvfdump.py: Dick
	Hollenbeck <dick@softplc.com>  SVF to XSVF converter and the XSVF
	dumper take #2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* tools/xsvf_tools/svf2xsvf.py, tools/xsvf_tools/xsvfdump.py: Dick
	Hollenbeck <dick@softplc.com>  SVF to XSVF converter and the XSVF
	dumper git-svn-id: svn://svn.berlios.de/openocd/trunk@1303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/x300t.cfg,
	src/target/interface/parport_dlc5.cfg,
	src/target/target/smp8634.cfg: - add missing svn props from r1299 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/pic32mx.c, src/flash/pic32mx.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h: John McCarthy
	<jgmcc@magma.ca> pic32mx flash fixups and speedups git-svn-id: svn://svn.berlios.de/openocd/trunk@1301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: John McCarthy <jgmcc@magma.ca> formatting fix
	of debug output git-svn-id: svn://svn.berlios.de/openocd/trunk@1300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/x300t.cfg,
	src/target/interface/parport_dlc5.cfg,
	src/target/target/smp8634.cfg: Andi <opencode@gmx.net> basic support
	for the MIPS based SMP8634 SoC.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/pic-p32mx.cfg: eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/pic32mx.c, src/flash/pic32mx.h: eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/pic32mx.c,
	src/flash/pic32mx.h, src/target/board/pic-p32mx.cfg,
	src/target/mips_ejtag.h, src/target/mips_m4k.c,
	src/target/target/pic32mx.cfg: John McCarthy <jgmcc@magma.ca>
	pic32mx flash wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_ejtag.c: John McCarthy <jgmcc@magma.ca>
	keep_alive() fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/options.c,
	src/helper/replacements.c, src/helper/replacements.h,
	src/server/gdb_server.c, src/server/server.c: - add gdb pipe support to native win32 (--pipe option) git-svn-id: svn://svn.berlios.de/openocd/trunk@1294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c, src/helper/jim.c, src/jtag/usbprog.c,
	src/target/target.c: Uwe Hermann <uwe@hermann-uwe.de> One of them is
	fixing a few compiler warnings (see attached patch) and likely also
	one (non-cosmetic) bug (the 'id_buff' change, which seems to be a
	buffer overflow).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/build.test1/Makefile,
	testing/build.test1/Makefile.ftd2xx,
	testing/build.test1/Makefile.libftdi,
	testing/build.test1/Makefile.libusb,
	testing/build.test1/Makefile.openocd,
	testing/build.test1/README.TXT, testing/build.test1/local.uses,
	testing/build.test1/mingw32_help/include/elf.h,
	testing/build.test1/mingw32_help/include/sys/cdefs.h,
	testing/build.test1/mingw32_help/include/sys/elf32.h,
	testing/build.test1/mingw32_help/include/sys/elf64.h,
	testing/build.test1/mingw32_help/include/sys/elf_common.h,
	testing/build.test1/mingw32_help/include/sys/elf_generic.h,
	testing/build.test2/Makefile, testing/build.test2/README.txt,
	testing/build.test2/local.uses: - fix missing/incorrect svn file props git-svn-id: svn://svn.berlios.de/openocd/trunk@1292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: Updates from SimonQian git-svn-id: svn://svn.berlios.de/openocd/trunk@1291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/build.test2/Makefile, testing/build.test2/README.txt,
	testing/build.test2/local.uses: Added another test build
	configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: Warnings cleanup ... finish up earlier commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/vsllink.c: Missed the svn add on earlier commit, duh git-svn-id: svn://svn.berlios.de/openocd/trunk@1288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitq.c, src/jtag/rlink/rlink.c: Tweaks - old crusty code
	with some warnings & errors - minor stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Added note to user manual for packagers of
	OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@1286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: From Dirk Behme - another set of typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Some systems report linux as host, others
	linux-gnu... grrr git-svn-id: svn://svn.berlios.de/openocd/trunk@1284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: Missed support for without --exec-prefix and ftd2xx
	stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/rlink/rlink.c: From Lou.openocd012@fixit.nospammail.net git-svn-id: svn://svn.berlios.de/openocd/trunk@1282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/jtag/jtag.c: Quoteify the FT2232
	description list, and a missed fix from Dirk Behme about jtag
	tapisenabled git-svn-id: svn://svn.berlios.de/openocd/trunk@1281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/Makefile.am,
	src/jtag/Makefile.am, src/jtag/jtag.c,
	testing/build.test1/Makefile.openocd: Added dongle VSLLINK - from
	Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@1280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/rlink/rlink.c: Warning removal from
	lou.openocd012@fixit.nospammail.net git-svn-id: svn://svn.berlios.de/openocd/trunk@1279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: From Dirk Behme - Further docu fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/build.test1/Makefile,
	testing/build.test1/Makefile.libusb, testing/build.test1/README.TXT: 
	Added documentation for build test case1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/build.test1/Makefile,
	testing/build.test1/Makefile.confuse,
	testing/build.test1/Makefile.ftd2xx,
	testing/build.test1/Makefile.libftdi,
	testing/build.test1/Makefile.libusb,
	testing/build.test1/Makefile.openocd,
	testing/build.test1/local.uses,
	testing/build.test1/mingw32_help/include/elf.h,
	testing/build.test1/mingw32_help/include/sys/cdefs.h,
	testing/build.test1/mingw32_help/include/sys/elf32.h,
	testing/build.test1/mingw32_help/include/sys/elf64.h,
	testing/build.test1/mingw32_help/include/sys/elf_common.h,
	testing/build.test1/mingw32_help/include/sys/elf_generic.h,
	testing/build.tests/Makefile, testing/build.tests/Makefile.confuse,
	testing/build.tests/Makefile.ftd2xx,
	testing/build.tests/Makefile.libftdi,
	testing/build.tests/Makefile.libusb,
	testing/build.tests/Makefile.openocd,
	testing/build.tests/local.uses,
	testing/build.tests/mingw32_help/include/elf.h,
	testing/build.tests/mingw32_help/include/sys/cdefs.h,
	testing/build.tests/mingw32_help/include/sys/elf32.h,
	testing/build.tests/mingw32_help/include/sys/elf64.h,
	testing/build.tests/mingw32_help/include/sys/elf_common.h,
	testing/build.tests/mingw32_help/include/sys/elf_generic.h: Renamed
	build.tests to build.test1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/Makefile.am,
	src/helper/options.c, src/jtag/Makefile.am,
	testing/build.tests/Makefile, testing/build.tests/Makefile.confuse,
	testing/build.tests/Makefile.ftd2xx,
	testing/build.tests/Makefile.libftdi,
	testing/build.tests/Makefile.libusb,
	testing/build.tests/Makefile.openocd,
	testing/build.tests/local.uses,
	testing/build.tests/mingw32_help/include/elf.h,
	testing/build.tests/mingw32_help/include/sys/cdefs.h,
	testing/build.tests/mingw32_help/include/sys/elf32.h,
	testing/build.tests/mingw32_help/include/sys/elf64.h,
	testing/build.tests/mingw32_help/include/sys/elf_common.h,
	testing/build.tests/mingw32_help/include/sys/elf_generic.h: Build
	Permutations with ftd2xx and libftdi addressed. Also added a new se
	of regression makefiles to build openocd in multiple ways git-svn-id: svn://svn.berlios.de/openocd/trunk@1275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg: Typos found by miceal catudal git-svn-id: svn://svn.berlios.de/openocd/trunk@1274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd/Stylizer.java, src/server/httpd/browsemem.tcl,
	src/server/httpd/build.sh, src/server/httpd/downloadmem.tcl,
	src/server/httpd/editconfigs.tcl, src/server/httpd/editfile.tcl,
	src/server/httpd/erase.tcl, src/server/httpd/flash.tcl,
	src/server/httpd/flashinfo.tcl, src/server/httpd/guiupload.tcl,
	src/server/httpd/html2tcl.sh, src/server/httpd/httpd.tcl,
	src/server/httpd/index.tcl, src/server/httpd/log.tcl,
	src/server/httpd/menu.xml, src/server/httpd/menu.xsl,
	src/server/httpd/menuweb.css, src/server/httpd/openocd.tcl,
	src/server/httpd/preconfig.tcl, src/server/httpd/production.tcl,
	src/server/httpd/readme.txt, src/server/httpd/reload.tcl,
	src/server/httpd/run.tcl, src/server/httpd/support.tcl,
	src/server/httpd/targets.tcl, src/server/httpd/terminal.tcl,
	src/server/httpd/upgrade.tcl: - add missing svn props from r1270 commit - change mime-type for png files to image/png git-svn-id: svn://svn.berlios.de/openocd/trunk@1273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c, src/server/httpd/build.sh,
	src/server/httpd/erase.tcl, src/server/httpd/httpd.tcl,
	src/server/httpd/menu.xml, src/server/httpd/openocd.tcl: httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd/browsemem.tcl, src/server/httpd/downloadmem.tcl,
	src/server/httpd/erase.tcl, src/server/httpd/flash.tcl,
	src/server/httpd/flashinfo.tcl, src/server/httpd/guiupload.tcl,
	src/server/httpd/httpd.tcl, src/server/httpd/index.tcl,
	src/server/httpd/menu.xml, src/server/httpd/openocd.tcl,
	src/server/httpd/production.tcl, src/server/httpd/run.tcl,
	src/server/httpd/targets.tcl, src/server/httpd/terminal.tcl: httpd
	wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c, src/server/httpd/readme.txt: httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1269
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/server/Makefile.am, src/server/httpd.c,
	src/server/httpd/Stylizer.java, src/server/httpd/browsemem.tcl,
	src/server/httpd/build.sh, src/server/httpd/downloadmem.tcl,
	src/server/httpd/editconfigs.tcl, src/server/httpd/editfile.tcl,
	src/server/httpd/erase.tcl, src/server/httpd/flash.tcl,
	src/server/httpd/flashinfo.tcl, src/server/httpd/guiupload.tcl,
	src/server/httpd/html2tcl.sh, src/server/httpd/httpd.tcl,
	src/server/httpd/index.tcl, src/server/httpd/log.tcl,
	src/server/httpd/menu.xml, src/server/httpd/menu.xsl,
	src/server/httpd/menuweb.css, src/server/httpd/openocd.tcl,
	src/server/httpd/preconfig.tcl, src/server/httpd/production.tcl,
	src/server/httpd/readme.txt, src/server/httpd/reload.tcl,
	src/server/httpd/run.tcl, src/server/httpd/support.tcl,
	src/server/httpd/targets.tcl, src/server/httpd/terminal.tcl,
	src/server/httpd/upgrade.tcl: httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Dirk Behme <dirk.behme@googlemail.com>  Add missing tap-enable and tap-disable events to documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c, src/server/httpd.c: cygwin fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1266
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/dummy.c: bumped a LOG_INFO to LOG_DEBUG level to reduce
	excessive output for normal execution git-svn-id: svn://svn.berlios.de/openocd/trunk@1265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Dick Hollenbeck
	<dick@softplc.com> better logging git-svn-id: svn://svn.berlios.de/openocd/trunk@1264
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/dummy.c: Dick Hollenbeck <dick@softplc.com> - This patch
	adds JTAG state tracking to dummy.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1263
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Dick Hollenbeck <dick@softplc.com> better
	logging git-svn-id: svn://svn.berlios.de/openocd/trunk@1262
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Dick Hollenbeck <dick@softplc.com> better
	comments git-svn-id: svn://svn.berlios.de/openocd/trunk@1261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h, src/jtag/rlink/init.m4,
	src/jtag/rlink/rlink.c, src/server/httpd.c,
	src/target/interface/rlink.cfg,
	tools/rlink_make_speed_table/rlink_make_speed_table.pl,
	tools/st7_dtc_as/st7_dtc_as.pl: - fix rlink build under native win32 (mingw) - remove rlink build warnings - add usb_set_configuration to rlink_init, win32 requires this - add win32 ETIMEDOUT define git-svn-id: svn://svn.berlios.de/openocd/trunk@1260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Dick Hollenbeck <dick@softplc.com> convert
	macros to inline fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/Makefile.am,
	src/jtag/Makefile.am, src/jtag/jtag.c, src/jtag/rlink/Makefile,
	src/jtag/rlink/call.m4, src/jtag/rlink/dtc_cmd.h,
	src/jtag/rlink/ep1_cmd.h, src/jtag/rlink/init.m4,
	src/jtag/rlink/rlink.c, src/jtag/rlink/rlink.h,
	src/jtag/rlink/rlink_speed_table.c, src/jtag/rlink/st7.h,
	tools/rlink_make_speed_table/rlink_make_speed_table,
	tools/rlink_make_speed_table/rlink_make_speed_table.pl,
	tools/st7_dtc_as/st7_dtc_as, tools/st7_dtc_as/st7_dtc_as.pl: - rlink interface support from Lou Deluxe
	<lou.openocd012@fixit.nospammail.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c, src/openocd.c: check syntax for init/version git-svn-id: svn://svn.berlios.de/openocd/trunk@1257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: more houskeeping git-svn-id: svn://svn.berlios.de/openocd/trunk@1256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/ioutil.c, src/server/telnet_server.c: 
	houskeeping git-svn-id: svn://svn.berlios.de/openocd/trunk@1255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/httpd.c: fixed gaffe in post handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/main.c, src/openocd.c,
	src/server/Makefile.am, src/server/httpd.c: work in progress to hook
	up libmicrohttpd + tcl integration git-svn-id: svn://svn.berlios.de/openocd/trunk@1251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/helper/jim.h: sync up to latest jim tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@1250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Dirk Behme <dirk.behme@googlemail.com> Fix some
	typos in documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@1249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/dummy.c: jtag_khz simulation git-svn-id: svn://svn.berlios.de/openocd/trunk@1248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: allow setting/reading gdb_port at any
	time git-svn-id: svn://svn.berlios.de/openocd/trunk@1247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: fix broken -c/f options where it would
	silently terminate for scripts that did not set the return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/ioutil.c: - add missing svn props from r1243 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: fixed compilation problem git-svn-id: svn://svn.berlios.de/openocd/trunk@1244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/ecosboard.c,
	src/helper/Makefile.am, src/helper/ioutil.c, src/jtag/zy1000.c,
	src/openocd.c: sync up to tap_xxx rename + add with-ioutil for
	standalone openocd implemetnations git-svn-id: svn://svn.berlios.de/openocd/trunk@1243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/Makefile.am, src/helper/log.c,
	src/helper/options.c, src/server/gdb_server.c, src/server/server.c,
	src/server/server.h, src/server/tcl_server.c,
	src/server/telnet_server.c, src/target/target.c: - add ability for openocd to communicate to gdb using pipes
	(stdin/stdout).  - this is enabled by new command line option option --pipe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/target/target.c: fast_load profiling tool
	moved to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-14  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/usbprog.c, src/jtag/zy1000.c: - Update tap_state_strings to correspond to SVF state names - Use new jtag_state_name() instead of global tap_state_strings[] git-svn-id: svn://svn.berlios.de/openocd/trunk@1240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/s3c2440.cfg,
	src/target/target/samsung_s3c2440.cfg: Updates and fixes from Kees
	Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.h, src/flash/ecos.c, src/flash/flash.c,
	src/flash/lpc2000.c, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/mflash.c,
	src/flash/mflash.h, src/flash/nand.c,
	src/flash/s3c24xx_regs_nand.h, src/flash/stellaris.h,
	src/flash/stm32x.h, src/flash/str7x.c, src/flash/str7x.h,
	src/flash/str9x.h, src/flash/tms470.c, src/helper/bin2char.c,
	src/helper/binarybuffer.c, src/helper/command.c,
	src/helper/configuration.c, src/helper/fileio.h, src/helper/log.c,
	src/helper/log.h, src/helper/options.c, src/helper/replacements.c,
	src/helper/replacements.h, src/helper/tclapi.c, src/helper/types.h,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/dummy.c,
	src/jtag/ep93xx.c, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/presto.c, src/jtag/usbprog.c,
	src/openocd.c, src/server/gdb_server.c, src/server/server.c,
	src/server/telnet_server.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/armv4_5.c, src/target/armv4_5.h,
	src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/cortex_swjdp.h, src/target/embeddedice.h,
	src/target/etb.h, src/target/feroceon.c, src/target/image.c,
	src/target/image.h, src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.h, src/target/mips_m4k.c,
	src/target/mips_m4k.h, src/target/oocd_trace.c,
	src/target/oocd_trace.h, src/target/register.c,
	src/target/register.h, src/target/target.c, src/target/target.h,
	src/target/xscale.c: - remove target specific variant and use target->variant member - fix build warning in cortex_m3 - code cleanup - remove trailing lf and convert c++ comments git-svn-id: svn://svn.berlios.de/openocd/trunk@1238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Add JTAG tap events for
	enable/disable git-svn-id: svn://svn.berlios.de/openocd/trunk@1237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/amt_jtagaccel.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/gw16012.c,
	src/jtag/jlink.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/usbprog.c, src/jtag/zy1000.c, src/target/arm11_dbgtap.c: 
	Clean up references to old tap_state names git-svn-id: svn://svn.berlios.de/openocd/trunk@1235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/amt_jtagaccel.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/usbprog.c, src/jtag/zy1000.c,
	src/pld/virtex2.c, src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/cortex_swjdp.c,
	src/target/embeddedice.c, src/target/etb.c, src/target/etm.c,
	src/target/feroceon.c, src/target/mips_ejtag.c,
	src/target/mips_m4k.c, src/target/xscale.c, src/xsvf/xsvf.c: Change
	tap_state naming to be consistent with SVF documentation.  Courtesy of Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/cortex_m3.h: - check cortex_m3 FPB is enabled when setting hardware breakpoint - Thanks Igor Skochinsky git-svn-id: svn://svn.berlios.de/openocd/trunk@1231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-12  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Allow -expected-id to be
	specified multiple times when creating a jtag tap git-svn-id: svn://svn.berlios.de/openocd/trunk@1229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - incorrect url in last commit for usbjtag - added missing ft2232 option for interface axm0432_jtag git-svn-id: svn://svn.berlios.de/openocd/trunk@1228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/ft2232.c: - added Axiom AXM-0432 to texi - updated missing jtag dongle url's in texi - reformat and remove whitespace from last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: AXM0432 layout for FDTI provided by Alan
	Carvalho de Assis (Freescale) git-svn-id: svn://svn.berlios.de/openocd/trunk@1226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/flash.c: - typo with flash bank help command - typo with flash erase_sector in texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: - fix illegal memory access in unregister_command function git-svn-id: svn://svn.berlios.de/openocd/trunk@1224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imote2.cfg, src/target/target/is5114.cfg,
	src/target/target/samsung_s3c6410.cfg: More fixes thanks to Kees
	Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/samsung_s2c2410.cfg,
	src/target/target/samsung_s3c2410.cfg: Fix from Kees Jongenburger
	(Part Duex) git-svn-id: svn://svn.berlios.de/openocd/trunk@1222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/board/hammer.cfg: Fix from Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1221
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg: Typos in config files
	found by Sergey Lapin git-svn-id: svn://svn.berlios.de/openocd/trunk@1220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-06  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: Test of commit email from duane git-svn-id: svn://svn.berlios.de/openocd/trunk@1219
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - update texi to describe str9xpec driver flow git-svn-id: svn://svn.berlios.de/openocd/trunk@1218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: Karl Beldan <karl.beldan@gmail.com> - The
	ibcr count for hw instruction breakpoint registers was decremented
	with soft breakpoints and breakpoint length error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1215
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-05  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Added Joern Kaipf link for oocdlink git-svn-id: svn://svn.berlios.de/openocd/trunk@1214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: zy1000 1.48 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: Karl Beldan <karl.beldan@gmail.com> - fix
	vector_catch command git-svn-id: svn://svn.berlios.de/openocd/trunk@1212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: delete obsolete code git-svn-id: svn://svn.berlios.de/openocd/trunk@1211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Manual tweak based on feedback from mailing list
	the iar dongle works git-svn-id: svn://svn.berlios.de/openocd/trunk@1206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Fix for Hiroshi Ito discovery of mis-aligned
	memory allocation git-svn-id: svn://svn.berlios.de/openocd/trunk@1205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/flash/str9xpec.h: - str9xpec driver now working with new jtag tap config git-svn-id: svn://svn.berlios.de/openocd/trunk@1204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str910-eval.cfg, src/target/target/str912.cfg,
	src/target/target/str9comstick.cfg: - incorrect str9 irmask used in config files git-svn-id: svn://svn.berlios.de/openocd/trunk@1203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lm3s3748.cfg, src/target/target/lm3s6965.cfg,
	src/target/target/lm3s811.cfg, src/target/target/stm32.cfg,
	src/target/target/stm32stick.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str910-eval.cfg, src/target/target/str912.cfg,
	src/target/target/str9comstick.cfg: - cleanup target config scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libdcc/dcc_stdio.c: Kees Jongenburger
	<kees.jongenburger@gmail.com> - now compiles git-svn-id: svn://svn.berlios.de/openocd/trunk@1201
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ep93xx.c: Hiroshi Ito <ito@mlb.co.jp> fixes to ep93xx.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1200
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/helper/Makefile.am: "Theodore A. Roth"
	<taroth@gmail.com> fixes to distcheck git-svn-id: svn://svn.berlios.de/openocd/trunk@1199
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWTAPS, src/target/board/arm_evaluator7t.cfg,
	src/target/board/at91rm9200-dk.cfg, src/target/board/eir.cfg,
	src/target/board/hammer.cfg, src/target/board/iar_str912_sk.cfg,
	src/target/board/logicpd_imx27.cfg,
	src/target/board/olimex_sam7_ex256.cfg,
	src/target/board/stm3210e_eval.cfg,
	src/target/board/stm32f10x_128k_eval.cfg,
	src/target/target/at91rm9200.cfg, src/target/target/sam7se512.cfg,
	src/target/target/samsung_s2c2410.cfg,
	src/target/target/samsung_s3c4510.cfg,
	src/target/target/samsung_s3c6410.cfg,
	src/target/target/sharp_lh79532.cfg: - fix incorrect svn props from last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/zy1000.c, src/target/target/zy1000.cfg: update zy1000 to
	svn head jtag api git-svn-id: svn://svn.berlios.de/openocd/trunk@1197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.cfg: correct CPU ID git-svn-id: svn://svn.berlios.de/openocd/trunk@1196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-30  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWTAPS, doc/openocd.texi, src/flash/str9xpec.c,
	src/flash/str9xpec.h, src/helper/types.h, src/jtag/jtag.c,
	src/jtag/jtag.h, src/pld/virtex2.c, src/pld/virtex2.h,
	src/target/Makefile.am, src/target/arm11.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h,
	src/target/board/arm_evaluator7t.cfg,
	src/target/board/at91rm9200-dk.cfg, src/target/board/eir.cfg,
	src/target/board/hammer.cfg, src/target/board/iar_str912_sk.cfg,
	src/target/board/logicpd_imx27.cfg,
	src/target/board/olimex_sam7_ex256.cfg,
	src/target/board/stm3210e_eval.cfg,
	src/target/board/stm32f10x_128k_eval.cfg, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/cortex_swjdp.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/feroceon.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target/aduc702x.cfg, src/target/target/at91eb40a.cfg,
	src/target/target/at91r40008.cfg, src/target/target/at91rm9200.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/epc9301.cfg,
	src/target/target/hammer.cfg, src/target/target/imote2.cfg,
	src/target/target/imx27.cfg, src/target/target/imx31.cfg,
	src/target/target/ipx42x.cfg, src/target/target/is5114.cfg,
	src/target/target/lm3s3748.cfg, src/target/target/lm3s6965.cfg,
	src/target/target/lm3s811.cfg, src/target/target/lpc2129.cfg,
	src/target/target/lpc2148.cfg, src/target/target/lpc2148_2mhz.cfg,
	src/target/target/lpc2148_rclk.cfg, src/target/target/lpc2294.cfg,
	src/target/target/netx500.cfg, src/target/target/nslu2.cfg,
	src/target/target/omap5912.cfg, src/target/target/pic32mx.cfg,
	src/target/target/pxa255.cfg, src/target/target/pxa255_sst.cfg,
	src/target/target/pxa270.cfg, src/target/target/s3c2440.cfg,
	src/target/target/sam7se512.cfg, src/target/target/sam7x256.cfg,
	src/target/target/samsung_s2c2410.cfg,
	src/target/target/samsung_s3c4510.cfg,
	src/target/target/samsung_s3c6410.cfg,
	src/target/target/sharp_lh79532.cfg,
	src/target/target/smdk6410.cfg, src/target/target/stm32.cfg,
	src/target/target/stm32stick.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str910-eval.cfg, src/target/target/str912.cfg,
	src/target/target/str9comstick.cfg,
	src/target/target/test_reset_syntax_error.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg,
	src/target/target/zy1000.cfg, src/target/xscale.c,
	src/target/xscale.h, src/xsvf/xsvf.c: jtag newtap change & huge
	manual update git-svn-id: svn://svn.berlios.de/openocd/trunk@1194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-30  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS: Test checkin from commandline git-svn-id: svn://svn.berlios.de/openocd/trunk@1193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c: - change mips registers to std names git-svn-id: svn://svn.berlios.de/openocd/trunk@1192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - fix issue with luminary flash driver and tail bytes git-svn-id: svn://svn.berlios.de/openocd/trunk@1191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/startup.tcl,
	src/target/arm7_9_common.c, src/target/target.c: Rick Altherr
	<kc8apf@kc8apf.net> retire obsolete syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - stm32x flash driver: add support for low density devices git-svn-id: svn://svn.berlios.de/openocd/trunk@1189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/hammer.cfg: Carlos Antunes
	<cmantunes@nowthor.com> fixes to get script to work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - fixes segfault using the targets cmd if multiple targets defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg: - correct corrupt target configs git-svn-id: svn://svn.berlios.de/openocd/trunk@1186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: friendlier error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/jtag/zy1000.c: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/cortex_m3.c: - add new cortex_m3 maskisr cmd git-svn-id: svn://svn.berlios.de/openocd/trunk@1181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - fix issue with gdb_target_to_reg missing second byte git-svn-id: svn://svn.berlios.de/openocd/trunk@1180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/cortex_m3.c: - preserve cortex_m3 C_MASKINTS during resume/step git-svn-id: svn://svn.berlios.de/openocd/trunk@1179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: - fox small typo in handle_irscan_command git-svn-id: svn://svn.berlios.de/openocd/trunk@1178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/zy1000.c,
	src/pld/virtex2.c, src/target/arm11.c, src/target/arm11_dbgtap.c,
	src/target/arm_jtag.c, src/target/etb.c, src/target/mips_ejtag.c,
	src/target/target.c, src/target/xscale.c: jtag_get_device() now
	returns NULL and reports error instead of invoking exit() git-svn-id: svn://svn.berlios.de/openocd/trunk@1176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/target/etb.c, src/target/etm_dummy.c,
	src/target/image.c, src/target/xscale.c: error checking - no
	reported errors, but catched a couple of exit()'s and converted them
	to errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: big endian fix for GDB. Probably fixes a
	memory corruption(not reported) as well.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.c, src/target/mips32.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c: - add support for hardware breakpoints to mips32 target git-svn-id: svn://svn.berlios.de/openocd/trunk@1173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: - stops multiple calls to examine from allocating the breakpoint
	arrays git-svn-id: svn://svn.berlios.de/openocd/trunk@1171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32.h, src/target/mips32_pracc.c,
	src/target/mips_ejtag.c, src/target/mips_m4k.c: - correct the register hi/lo read - wrong way round - all the register now can be written to, including the special CP0
	regs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: big endian software breakpoint bogus
	error messages fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c: krzysztof.dziuba Gazeta.pl
	<krzysztof.dziuba@gazeta.pl> - to add support for flashing of
	TMS470R1A384 git-svn-id: svn://svn.berlios.de/openocd/trunk@1166
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/ecosboard.c, src/jtag/zy1000.c: nios wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_m4k.c: - fix crash when variant for mips32 target not given git-svn-id: svn://svn.berlios.de/openocd/trunk@1160
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32_dmaacc.c, src/target/mips32_pracc.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c,
	testing/examples/PIC32/BlinkingLeds.c,
	testing/examples/PIC32/readme.txt: - slight mips32 cleanup/reformat - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/PIC32/BlinkingLeds.c,
	testing/examples/PIC32/readme.txt: Laurentiu Cocanu - blinking led
	app for PIC32.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Fixes (more or less) random SEGFAULT upon
	invoking script_command().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/zy1000.c: sense srst git-svn-id: svn://svn.berlios.de/openocd/trunk@1154
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: broadcast mac address in UDP hello message git-svn-id: svn://svn.berlios.de/openocd/trunk@1152
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target.c: execute reset init
	upon power restore / srst deassert git-svn-id: svn://svn.berlios.de/openocd/trunk@1150
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/server/gdb_server.c,
	src/server/telnet_server.c: minor cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: terminal forwarding available from GUI git-svn-id: svn://svn.berlios.de/openocd/trunk@1148
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: ocd_flash_banks now returns empty list when no
	flash banks are configured instead of failing. Allows more
	orthogonal implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: zy1000 1.47 git-svn-id: svn://svn.berlios.de/openocd/trunk@1145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: ocd_flash_banks now returns empty list when no
	flash banks are configured instead of failing. Allows more
	orthogonal implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/tcl/README_ABOUT_TCL.txt: typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/target/is5114.cfg,
	src/target/target/smdk6410.cfg, src/target/target/str910-eval.cfg: - remove build warnings - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@1142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: added device discovery git-svn-id: svn://svn.berlios.de/openocd/trunk@1141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/smdk6410.cfg: s3c6410 chip git-svn-id: svn://svn.berlios.de/openocd/trunk@1140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: MOE=0xc debug reason reset problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/target/wi-9c.cfg: 926ejs target uses
	rclk. Cleaned up jtag_khz output a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: zy1000 1.46 git-svn-id: svn://svn.berlios.de/openocd/trunk@1137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imote2.cfg, src/target/target/is5114.cfg,
	src/target/target/str910-eval.cfg: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/startup.tcl, src/openocd.c,
	src/server/gdb_server.c, src/server/telnet_server.c,
	src/target/target.c, src/target/target.h: fix telnet async messages.
	retired telnet_async command - no user serviceable parts inside.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/zy1000.c, src/target/target.c: disable continous polling
	while srst is asserted and power dropout is detected git-svn-id: svn://svn.berlios.de/openocd/trunk@1134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: John McCarthy <jgmcc@magma.ca> - mips_4k options git-svn-id: svn://svn.berlios.de/openocd/trunk@1133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm920t.c: 
	arm7_9_execute_sys_speed error propagation. Found by code
	inspection, no observed problems as such.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: cpu help command wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Added Tcl escaping to FAQ git-svn-id: svn://svn.berlios.de/openocd/trunk@1130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Rick Alterr - The attached patch makes the
	target syntax parsing much more robust and makes the variant
	optional again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c, src/target/target/imx27.cfg: - fix issue with jlink/libusb timeout under linux - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: Peter Hettkamp <peter.hettkamp@htp-tel.de> fix
	some problems with xsvf. Still doesn't work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/helper/command.c,
	src/helper/jim-eventloop.c, src/helper/jim-eventloop.h,
	src/target/target.c: Rick Altherr <kc8apf@kc8apf.net> - fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c, src/target/xscale.h: more error handling and
	removed force breakpoints as that is handled by a more generic gdb
	command git-svn-id: svn://svn.berlios.de/openocd/trunk@1125
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: invoke target_create() once git-svn-id: svn://svn.berlios.de/openocd/trunk@1124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: step command now propagates error git-svn-id: svn://svn.berlios.de/openocd/trunk@1123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/imx27.cfg: Alan Carvalho
	de Assis <acassis@gmail.com> imx27 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: Øyvind Harboe and Rick Altherr
	<kc8apf@kc8apf.net> - handle failed run algorithms more gracefully git-svn-id: svn://svn.berlios.de/openocd/trunk@1121
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Rick Altherr <kc8apf@kc8apf.net> -  fix flash
	write_bank output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1120
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: Rick Altherr <kc8apf@kc8apf.net> -  In
	cortex_m3_resume if debug_execution is non-zero, the PRIMASK and
	xSPR are modified.  The problem is that while the register value is
	changed, it isn't marked valid or dirty.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1119
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@1118
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/at91r40008_reset.script,
	src/target/event/at91sam9260_reset.script,
	src/target/event/eir-sam7se512_reset.script,
	src/target/event/hammer_reset.script,
	src/target/event/omap5912_reset.script,
	src/target/event/pxa255_reset.script,
	src/target/event/sam7x256_reset.script,
	src/target/event/str710_program.script,
	src/target/event/str730_program.script,
	src/target/event/str750_program.script,
	src/target/event/wi-9c_reset.script,
	src/target/event/xba_revA3.script,
	src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/hammer.cfg,
	src/target/target/omap5912.cfg, src/target/target/pxa255.cfg,
	src/target/target/sam7x256.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg: Rick
	Altherr <kc8apf@kc8apf.net> switch to new syntax for target events git-svn-id: svn://svn.berlios.de/openocd/trunk@1116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/aduc702x.cfg, src/target/target/at91eb40a.cfg,
	src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/epc9301.cfg,
	src/target/target/hammer.cfg, src/target/target/imx31.cfg,
	src/target/target/ipx42x.cfg, src/target/target/lm3s3748.cfg,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg,
	src/target/target/lpc2129.cfg, src/target/target/lpc2148.cfg,
	src/target/target/lpc2294.cfg, src/target/target/netx500.cfg,
	src/target/target/nslu2.cfg, src/target/target/omap5912.cfg,
	src/target/target/pic32mx.cfg, src/target/target/pxa255.cfg,
	src/target/target/pxa255_sst.cfg, src/target/target/pxa270.cfg,
	src/target/target/s3c2440.cfg, src/target/target/sam7x256.cfg,
	src/target/target/stm32.cfg, src/target/target/stm32stick.cfg,
	src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg, src/target/target/str912.cfg,
	src/target/target/str9comstick.cfg,
	src/target/target/test_reset_syntax_error.cfg,
	src/target/target/test_syntax_error.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg,
	src/target/target/zy1000.cfg,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg: Rick Altherr
	<kc8apf@kc8apf.net> - update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1114
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm9tdmi.c, src/target/feroceon.c: Hongtao Zheng single
	step fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: - remove build warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1112
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/s3c2440.cfg: Kees Jongenburger
	<kees.jongenburger@gmail.com> update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm9tdmi.c: Hongtao Zheng  - more fixes to single
	stepping. Better hiding of details and fixes feroceon regression.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_simulator.c: Hongtao Zheng  - fix a simulation
	error for "BX PC" git-svn-id: svn://svn.berlios.de/openocd/trunk@1109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Rick Altherr <kc8apf@kc8apf.net> - fix
	support for old target syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1108
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Kees Jongenburger
	<kees.jongenburger@gmail.com> old" syntax target command appears to
	be broken this patch addresses this issue git-svn-id: svn://svn.berlios.de/openocd/trunk@1107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: Kees Jongenburger
	<kees.jongenburger@gmail.com> - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm9tdmi.c: Hongtao Zheng - add simulation because
	previous functions could not halt for instructions that next pc
	equal to the current pc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/zy1000.cfg: fix working area address git-svn-id: svn://svn.berlios.de/openocd/trunk@1104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: added option to use ramdisk instead of flash
	jffs2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: now compiles under Cygwin and eCos
	again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h, src/helper/startup.tcl: - fix native mingw build if gettimeofday not defined.  - reformat whitespace in startup.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@1101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/server/gdb_server.c: 
	gdb_report_data_abort now ignores all target read errors, including
	address space wraps. Hopefully works around problems in 6.8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1099
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.cfg: fix working memory location git-svn-id: svn://svn.berlios.de/openocd/trunk@1098
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_simulator.c: hontor <hontor@126.com> - fix
	simulation step errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1097
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: only log BUG: (do not return error) in the
	case of unknown debug reason(0xc) git-svn-id: svn://svn.berlios.de/openocd/trunk@1096
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: whitespace trouble....  git-svn-id: svn://svn.berlios.de/openocd/trunk@1094
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: load and verify are now synonymous to
	load/verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1092
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/ecosboard.c: updated docs a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1091
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: produce syntax error git-svn-id: svn://svn.berlios.de/openocd/trunk@1090
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* PATCHES: how to send patch git-svn-id: svn://svn.berlios.de/openocd/trunk@1089
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Laurentiu Cocanu - more help text git-svn-id: svn://svn.berlios.de/openocd/trunk@1088
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/tclapi.c, src/jtag/ft2232.c,
	src/jtag/jtag.c, src/jtag/parport.c, src/server/gdb_server.c,
	src/server/tcl_server.c, src/server/telnet_server.c,
	src/target/target.c, src/target/target_request.c: Laurentiu Cocanu -
	more help text git-svn-id: svn://svn.berlios.de/openocd/trunk@1087
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: version number keyword expansion handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1086
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/helper/replacements.h: fix warnings when
	building for eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@1085
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/mx31.cfg: remove
	duplicate target git-svn-id: svn://svn.berlios.de/openocd/trunk@1084
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Laurentiu Cocanu - document various commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1083
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - add link in texi docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: try to get struct timezone def right
	w.r.t. config.h. Now compiles under Cygwin and eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@1080
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - remove texi warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/mflash.c, src/flash/mflash.h: - update docs deprecated section to include links to new commands
	(if any) - added missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1077
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c,
	src/target/target/zy1000.cfg: sleep command now prints out target
	debugmsgs w/anything like usable performance git-svn-id: svn://svn.berlios.de/openocd/trunk@1076
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: fix error handling in flash fill git-svn-id: svn://svn.berlios.de/openocd/trunk@1074
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/README_TARGET_COMMAND.txt, doc/openocd.texi: Laurentiu Cocanu
	- integrated new tcl target command docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1073
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target/zy1000.cfg: added help
	on production proc's git-svn-id: svn://svn.berlios.de/openocd/trunk@1072
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/zy1000.cfg: adding concept of production script git-svn-id: svn://svn.berlios.de/openocd/trunk@1071
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: removed autoerase from flash fillX git-svn-id: svn://svn.berlios.de/openocd/trunk@1070
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: added capture command to capture log output.
	Useful when wanting to capture log output from tcl procedures that
	invoke openocd commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/armv4_5.c: more robust
	error reporting for DCC git-svn-id: svn://svn.berlios.de/openocd/trunk@1068
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/Makefile.am, src/flash/mflash.c,
	src/flash/mflash.h, src/openocd.c: unsik Kim <donari75@gmail.com> -
	mflash support git-svn-id: svn://svn.berlios.de/openocd/trunk@1067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - make docs more readable git-svn-id: svn://svn.berlios.de/openocd/trunk@1066
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/openocd.c,
	src/target/interface/openocd-usb.cfg: - fix tcl_port typo in docs - remove build warning from openocd.c - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/lpc2000.c,
	src/flash/nand.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/cortex_m3.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/feroceon.c, src/target/target.c,
	src/target/xscale.c: Laurentiu Cocanu - memory read/write and exit()
	error path fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1064
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: 김운식 <donari75@gmail.com> spotted a bug
	in target_write_u8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/arm9tdmi.c,
	src/target/armv7m.c, src/target/mips_m4k.c, src/target/target.h,
	src/target/target/test_reset_syntax_error.cfg,
	src/target/target/test_syntax_error.cfg: - remove build warnings - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1062
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Laurentiu Cocanu - fix error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: fixed a few crashes in syntax handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1060
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/server/gdb_server.c, src/target/armv7m.c: 
	Laurentiu Cocanu - more error handling fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/embeddedice.c, src/target/embeddedice.h: Laurentiu Cocanu
	- add error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1057
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: clarified jtag_ntrst_delay option git-svn-id: svn://svn.berlios.de/openocd/trunk@1056
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: tip on checking with supplier for binaries git-svn-id: svn://svn.berlios.de/openocd/trunk@1055
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am,
	src/target/target/test_reset_syntax_error.cfg,
	src/target/target/test_syntax_error.cfg: testing of syntax error in
	reset and at startup git-svn-id: svn://svn.berlios.de/openocd/trunk@1054
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target.c,
	src/target/target/at91eb40a.cfg, src/target/target/at91sam9260.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/hammer.cfg,
	src/target/target/lpc2148.cfg, src/target/target/omap5912.cfg,
	src/target/target/pxa255.cfg, src/target/target/sam7x256.cfg,
	src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg, src/target/target/str912.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg: reset
	cleanup. Remove obsolete events that are not needed for
	compatibility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1053
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: added warning to use GDB 6.7 or newer git-svn-id: svn://svn.berlios.de/openocd/trunk@1052
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/non_cfi.c: Ben Bodley TEKNIQUE
	<ben@teknique.com> - support for the 1Mb Spansion Flash S29AL008D.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1051
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips_m4k.c: John McCarthy <jgmcc@magma.ca> two patches
	add a mips_m4k target option (ejtag_reset) to cause a reset command
	to use the EJTAG Peripheral and System Reset in addition to srst.
	This is for targets like the wrt54gl which do not connect the srst
	to a system reset (I believe it just goes to a GPIO).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1050
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32_dmaacc.c, src/target/mips32_dmaacc.h,
	src/target/mips32_pracc.c, src/target/mips_ejtag.c,
	src/target/mips_m4k.c: John McCarthy <jgmcc@magma.ca> cleans up the
	usage of the ejtag_info->ejtag_ctrl variable.  It was being
	overwritten by the value read back from the EJTAG CONTROL register.
	Because of the way this register works you do not want to use the
	value returned to write the register, you always want to write the
	bits explicitly.  The second patch just reduces the DMA retries to 0 in anticipation
	of removing the retry code altogether.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1049
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: reset cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1048
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target.h: Retired old reset code
	according to plan.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1047
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/register.c: SEGFAULT gaffe in dummy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1046
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: hontor <hontor@126.com> - ARMV7_GDB_HACKS
	compilation error fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1045
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h: fix crash when connecting
	GDB to powered down target git-svn-id: svn://svn.berlios.de/openocd/trunk@1044
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: fix crash when connecting GDB to powered down
	target git-svn-id: svn://svn.berlios.de/openocd/trunk@1043
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target.c,
	src/target/target/lpc2148.cfg: Fixed gaffes in reset script handling
	+ improved error messages a bit. The file and line # of the syntax
	error in a reset script is now printed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1042
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/time_support.c, src/helper/time_support.h,
	src/target/breakpoints.c, src/target/breakpoints.h,
	src/target/image.c, src/target/image.h, src/target/target.c,
	src/target/target.h: Laurentiu Cocanu <laurentiu.cocanu@zylin.com> -
	Added additional error checks mostly to src/target/target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1041
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/armv4_5.c:  Fix problems with DCC downloads routine crashing silently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1040
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.h, src/server/gdb_server.c: Duane Ellis: addresses
	protocol problems with GDB.
	https://lists.berlios.de/pipermail/openocd-development/2008-October/003326.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1039
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/interface/openocd-usb.cfg: John
	McCarthy <jgmcc@magma.ca> openocd-usb.cfg added git-svn-id: svn://svn.berlios.de/openocd/trunk@1038
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: abort writing algorithm to target upon
	failure git-svn-id: svn://svn.berlios.de/openocd/trunk@1037
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: enumeration of threads for testing purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c, src/target/Makefile.am,
	src/target/event/zy1000_reset.script: zy1000 1.44 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1034
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c, src/helper/log.h: added
	busy sleep (for testing purposes) git-svn-id: svn://svn.berlios.de/openocd/trunk@1033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libdcc/dcc_stdio.c, src/target/arm11.c,
	src/target/arm11.h, src/target/mips32_dmaacc.c,
	src/target/mips32_dmaacc.h, src/target/mips_m4k.c: - remove build warnings from mips_m4k.c and arm11.c - reformat whitespace arm11.c[ch] - add missing svn props from mips32_dmaacc.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@1032
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Richard Missenden exit now works during startup
	script git-svn-id: svn://svn.berlios.de/openocd/trunk@1031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/target/target.c: file not found
	SEGFAULT fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1030
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/mips32_dmaacc.c,
	src/target/mips32_dmaacc.h, src/target/mips_ejtag.c,
	src/target/mips_ejtag.h, src/target/mips_m4k.c: John McCarthy
	<jgmcc@magma.ca> adds support for DMA mode access as supported by
	EJTAG 1.0/2.0 processors git-svn-id: svn://svn.berlios.de/openocd/trunk@1029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libdcc/README, contrib/libdcc/dcc_stdio.c,
	contrib/libdcc/dcc_stdio.h, contrib/libdcc/example.c: Signed-off-by:
	Frederik Kriewitz <frederik@kriewitz.eu> libdcc bugfixes + trace
	point function git-svn-id: svn://svn.berlios.de/openocd/trunk@1028
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: reduce patch problems by moving $xxx expansion into
	seperate fn git-svn-id: svn://svn.berlios.de/openocd/trunk@1027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/mips32.c, src/target/register.c, src/target/register.h: 
	Fixes SEGFAULT when setting registers from GDB.  set $cpsr=1234 git-svn-id: svn://svn.berlios.de/openocd/trunk@1026
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/trace.c: Frederik Kriewitz <frederik at kriewitz.eu>
	Segmentation fault fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c: fixed crash in dummy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1024
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h: Georg Acher
	<acher@in.tum.de> - arm11 wip. run algorithm + small init bugfix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/target/cortex_swjdp.c: - remove build warnings - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1022
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/zy1000.cfg, testing/examples/cortex/test.c,
	testing/examples/cortex/test.ld: basic smoketest on lm3s3748.elf git-svn-id: svn://svn.berlios.de/openocd/trunk@1020
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/register.c,
	src/target/target.c: Centralize error handling for buggy register
	handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1019
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: better keep_alive() handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1018
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: Georg Acher <acher@in.tum.de> implements the
	buffer flash mode for Spansion flashes. It's basically a clone of
	the Intel version, just a few details differ git-svn-id: svn://svn.berlios.de/openocd/trunk@1017
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: Georg Acher <acher@in.tum.de> corrected TDO
	sampling git-svn-id: svn://svn.berlios.de/openocd/trunk@1016
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_swjdp.c: timeout is now 1000ms instead of trying
	100 times.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1015
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/armv4_5.c,
	src/target/image.c, src/target/target.c: GDB alive fixes for
	verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1014
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: Duane Ellis: added missing invocation of
	reset-init git-svn-id: svn://svn.berlios.de/openocd/trunk@1013
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/zy1000_reset.script: fixed gaffe: disable
	interrupts reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@1012
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/zy1000_reset.script: fixed gaffe: disable
	interrupts reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@1011
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c: - at91sam7.c remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1010
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/INSTALL.txt, src/ecosboard.c, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/at91sam7_old.c,
	src/flash/at91sam7_old.h, src/flash/flash.c, src/flash/flash.h,
	src/jtag/zy1000.c, src/target/cortex_m3.c: - convert spaces to tabs in at91sam7.[ch] - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1009
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c:  I do not know why this is necessary, but it fixes strange effects 		       (step/resume cause a NMI after reset) on LM3S6918 --
			       Michael Schwingen git-svn-id: svn://svn.berlios.de/openocd/trunk@1008
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/at91sam7_old.c,
	src/flash/at91sam7_old.h, src/flash/flash.c, src/flash/flash.h: 
	Gheorghe Guran <roatlasro@yahoo.com> redone at91sam7 driver. Old
	driver source file renamed. The old driver is still invoked by
	default and the new driver is invoked by using at91sam7_new git-svn-id: svn://svn.berlios.de/openocd/trunk@1007
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/ecosboard.c: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1006
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/ecosboard.c, src/jtag/Makefile.am,
	src/jtag/zy1000.c: ZY1000 code git-svn-id: svn://svn.berlios.de/openocd/trunk@1005
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - update docs for aduc702x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@996
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/Makefile.am, src/flash/aduc702x.c,
	src/flash/flash.c, src/flash/x7026.c, src/openocd.c,
	src/target/target/aduc702x.cfg: - renamed x7926 driver to aduc702x to match other flash drivers - removed c99 types (mingw issues) from aduc driver and cleanup - updated docs for aduc702x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@995
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: 
	fix noise in gdb console when single stepping. Remove printing of
	log before processing halted event.  git-svn-id: svn://svn.berlios.de/openocd/trunk@994
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: fixed false positives for keep_alive()
	not being invoked.  git-svn-id: svn://svn.berlios.de/openocd/trunk@993
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/x7026.c,
	src/target/target/aduc702x.cfg:  "marcel" <M.W.Wijlaars@tue.nl>, I have the ADuC702x flashdriver working again (see attachment). It
	adds the option to erase and write the ADuC702x flash git-svn-id: svn://svn.berlios.de/openocd/trunk@992
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* INSTALL, NEWS, README: - fix typo's git-svn-id: svn://svn.berlios.de/openocd/trunk@991
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* INSTALL, NEWS, doc/INSTALL.txt: Removed some obsolete stuff +
	Pushing things in the direction of openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@990
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: openocd.texi is the authortative source of OpenOCD
	documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@989
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: put instructions on how to report bugs onto the
	users radar git-svn-id: svn://svn.berlios.de/openocd/trunk@988
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/stellaris.c, src/helper/binarybuffer.c,
	src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/command.h, src/helper/configuration.c,
	src/helper/configuration.h, src/helper/fileio.c,
	src/helper/fileio.h, src/helper/jim.c, src/helper/jim.h,
	src/helper/log.c, src/helper/log.h, src/helper/options.c,
	src/helper/replacements.c, src/helper/replacements.h,
	src/helper/time_support.c, src/helper/time_support.h,
	src/helper/types.h, src/jtag/bitbang.c, src/jtag/bitbang.h,
	src/jtag/ft2232.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/server/gdb_server.c,
	src/server/gdb_server.h, src/server/server.c, src/server/server.h,
	src/server/telnet_server.c, src/server/telnet_server.h,
	src/target/arm11.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c, src/target/arm966e.h,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/cortex_swjdp.c, src/target/cortex_swjdp.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/feroceon.c, src/target/image.c, src/target/image.h,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target/s3c2440.cfg, src/target/target_request.c,
	src/target/target_request.h, src/target/xscale.c,
	src/target/xscale.h, src/xsvf/xsvf.c: - added myself to copyright on files i remember adding large
	contributions for over the years - cleaned up headers to match rest of code - added missing svn props for previously added files git-svn-id: svn://svn.berlios.de/openocd/trunk@987
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: follow up to keep_alive() fix. process target
	events before returning from reset procedure.  git-svn-id: svn://svn.berlios.de/openocd/trunk@986
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/target/target.c: - Fixed regression introduced in 890 when "fixing warnings" for
	target_call_timer_callbacks_now().
	target_call_timer_callbacks_now() did the same as
	target_call_timer_callbacks().  - Reduced keep_alive()'s job to only deal with GDB keep  alive
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@985
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/jtag/jtag.c, src/target/target.c: 
	Duane Ellis: target_process_reset is now implemented in tcl. This
	allows better control from target configuration scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@984
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: fixed keep_alive fix gaffe introduce in
	previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@983
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: typo fixed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@982
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: keep_alive now invokes
	target_call_timer_callbacks_now git-svn-id: svn://svn.berlios.de/openocd/trunk@981
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Duane Ellis, added clock command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@980
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_swjdp.c: workaround and comment for problems
	identified by Michael Schwingen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@979
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/s3c2440.cfg: s3c2440
	OpenMoko target script git-svn-id: svn://svn.berlios.de/openocd/trunk@978
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/target/target.c: Duane Ellis has made
	highly non-trivial changes to both the target handling and command
	system.  git-svn-id: svn://svn.berlios.de/openocd/trunk@977
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/README_TARGET_COMMAND.txt, src/target/target.c,
	src/target/target.h: Removed target->reset_mode, no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@976
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/jim.c, src/helper/jim.h,
	src/helper/startup.tcl, src/server/gdb_server.c,
	src/server/tcl_server.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm720t.c, src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/arm966e.c, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/feroceon.c, src/target/mips32.c, src/target/mips32.h,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/target/aduc702x.cfg, src/target/target/at91eb40a.cfg,
	src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/hammer.cfg,
	src/target/target/lpc2148.cfg, src/target/target/omap5912.cfg,
	src/target/target/pxa255.cfg, src/target/target/sam7x256.cfg,
	src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg, src/target/target/str912.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg,
	src/target/target/zy1000.cfg, src/target/xscale.c: Duane Ellis:
	"target as an [tcl] object" feature.  git-svn-id: svn://svn.berlios.de/openocd/trunk@975
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/toolchain/cygwin.sh, testing/toolchain/linux.sh,
	testing/toolchain/readme.txt: retired, nothing came of it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@974
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: documented change in target command w/removed
	options git-svn-id: svn://svn.berlios.de/openocd/trunk@973
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: comment about slow RTCK git-svn-id: svn://svn.berlios.de/openocd/trunk@972
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: ooops... fixed commit gaffe in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@971
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: added 1000ms timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@970
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: do not check checksums in noack case git-svn-id: svn://svn.berlios.de/openocd/trunk@969
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: RCLK is not supported, return error instead of
	crashing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@968
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/target/target/str912.cfg: STR912 uses
	RCLK if available git-svn-id: svn://svn.berlios.de/openocd/trunk@967
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: fixed bug in arm11 examine code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@966
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: fixed gaffe in last release w/target number.  git-svn-id: svn://svn.berlios.de/openocd/trunk@965
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/helper/jim.h: sync with Jim Tcl repository.  git-svn-id: svn://svn.berlios.de/openocd/trunk@964
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim-eventloop.c: duane ellis - errno ansi fix git-svn-id: svn://svn.berlios.de/openocd/trunk@963
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/armv4_5.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/mips32.c, src/target/mips_m4k.c,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/xscale.c,
	src/tcl/chip/atmel/at91/rtt.tcl: duan ellis target tcl work in
	progress   converts a number of 'simple string lookup tables' into NVP
	  tables.  These NVP tables will be used by various commands coming
	in the next patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@962
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Daniel Gimpelevich
	<daniel@gimpelevich.san-francisco.ca.us> fix end of address space
	flash sector comparision git-svn-id: svn://svn.berlios.de/openocd/trunk@961
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - clear any existing breakpoints/watchpoints when restarting in gdb
	extended remote mode git-svn-id: svn://svn.berlios.de/openocd/trunk@960
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/gdb_server.h: - add support for new gdb QStartNoAckMode, which disables sending of
	ack's between remote packets git-svn-id: svn://svn.berlios.de/openocd/trunk@959
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/jim.c, src/target/target/lm3s3748.cfg: - fix win32 build issues from previous jim patch git-svn-id: svn://svn.berlios.de/openocd/trunk@958
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - fix a off-by-one error in the buffer read/write code that checks
	for a address wrap git-svn-id: svn://svn.berlios.de/openocd/trunk@957
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_swjdp.c: added gdb timeout handling + error
	propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@956
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lm3s3748.cfg: lm3s3748 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@955
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: lm3s3748 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@954
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: continue execution even if chain can't be
	validated. This will, hopefully, give us some more feedback on
	what's wrong.  git-svn-id: svn://svn.berlios.de/openocd/trunk@953
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c: sharpen error propagation a wee bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@952
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/parport.c: - added missing parport configs to texi - remove spaces from last patch git-svn-id: svn://svn.berlios.de/openocd/trunk@951
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: Daniel Gimpelevich fix reset halt on
	feroceon git-svn-id: svn://svn.berlios.de/openocd/trunk@950
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/target.c: fix BUG: keep_alive()
	error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@949
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c: duane ellis: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@948
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/imx31.cfg: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@947
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/mips32_pracc.c: fixed warning git-svn-id: svn://svn.berlios.de/openocd/trunk@946
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/cortex_swjdp.c: switch to
	alive_sleep() to avoid gdb timeouts git-svn-id: svn://svn.berlios.de/openocd/trunk@945
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: make target_wait_state() usable from other
	places, made LOG_USER() output LOG_DEBUG() output. Avoids flooding
	logs in certain cases and OpenOCD will output error message if the
	halt fails.  git-svn-id: svn://svn.berlios.de/openocd/trunk@944
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: better polling debug_level 3 handling git-svn-id: svn://svn.berlios.de/openocd/trunk@943
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/lpc288x.c,
	src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/s3c2410_nand.c, src/flash/s3c2440_nand.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c: search
	and replace usleep(1000) with alive_sleep(1) to avoid GDB timeouts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@942
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: DANGER: committed work-in-progress to handle
	examination of jtag devices without IDCODE. I think this works, but
	I may have to pull that change out again...  added alive_sleep() to avoid warnings when resetting target(fixes
	incomprehensible error timeout error messages in GDB).  git-svn-id: svn://svn.berlios.de/openocd/trunk@941
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/target.c: added some alive_sleep()'s git-svn-id: svn://svn.berlios.de/openocd/trunk@940
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: use alive_sleep() from sleep command git-svn-id: svn://svn.berlios.de/openocd/trunk@939
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h: added alive_sleep() function
	to let GDB alive packets be sent git-svn-id: svn://svn.berlios.de/openocd/trunk@938
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: tinker with Xscale performance, anti-log
	spamming is now only for debug_level 3 or more. Otherwise polling is
	done continously for 1 second.  git-svn-id: svn://svn.berlios.de/openocd/trunk@937
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/helper/jim.h: duane ellis: (A) a new concept
	called "Name Value Pair" or NVP, in simple terms: Think: "String"
	and "Value". There can be many strings - all related to a single
	value, for examle: "T", "t", "y", "1", "yes", all can represent
	"truth", the reverse mapping is more simplistic - the first matching
	number wins.  (B) a new "getopt" like feature for Jim - that simplifies argument
	parsing in complex functions, normally this would be used in
	conjunction with either an NVP table of options, or a more simpler
	Enumeration  table.  In contrast to the GNU "getopt" package, this
	is more of a "object model or code oriented" solution then a pure
	data structure used by GNU getopt, or the main stream Tcl/Tk option
	processing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@936
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: tinker with Xscale performance. Poll a bit
	more before sleeping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@935
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/pxa255_sst.cfg: fix comment w.r.t. start address
	for RAM git-svn-id: svn://svn.berlios.de/openocd/trunk@934
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: fixed error handling in flash bank.  git-svn-id: svn://svn.berlios.de/openocd/trunk@933
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11_dbgtap.c: removed a couple of
	exit()'s from error handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@932
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/imx31.cfg: added wip
	imx31.cfg file git-svn-id: svn://svn.berlios.de/openocd/trunk@931
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/parport.c: Daniel Gimpelevich
	<daniel@gimpelevich.san-francisco.ca.us> one more parport device git-svn-id: svn://svn.berlios.de/openocd/trunk@930
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: Johannes Stezenbach
	<js@sig21.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@929
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: more error propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@928
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: added error handling to avoid false error
	messages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@927
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91r40008.cfg, src/target/target/lpc2294.cfg,
	src/target/target/pic32mx.cfg, src/target/target/sam7x256.cfg,
	src/target/target/stm32.cfg, src/target/target/stm32stick.cfg,
	src/target/target/str710.cfg, src/target/target/str912.cfg: 
	openocd.texi is the authoratitive source for documentation. Wiki is
	dead.  git-svn-id: svn://svn.berlios.de/openocd/trunk@926
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/flash.c,
	src/flash/lpc2000.c, src/flash/lpc288x.c, src/flash/stellaris.c,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/tms470.c, src/target/arm11.c, src/target/armv4_5.c: fixed
	not halted error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@925
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/sam7s256_reset.script,
	src/target/target/sam7s256.cfg: deleted superfluous sam7s256 which
	was identical to sam7x256 git-svn-id: svn://svn.berlios.de/openocd/trunk@924
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Richard <news@muppet.plus.com> fixed bug in
	padding code git-svn-id: svn://svn.berlios.de/openocd/trunk@923
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.cfg: removed obsolete command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@922
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/feroceon.c: feroceon updated w.r.t. latest arm7/9 changes git-svn-id: svn://svn.berlios.de/openocd/trunk@921
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm926ejs.c,
	src/target/arm966e.c, src/target/arm9tdmi.c: arm7/9 breakpoint
	cleanup. arm7_9 sw/hw commands retired. openocd.texi is alerady
	updated.  git-svn-id: svn://svn.berlios.de/openocd/trunk@920
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: typo spotted by spen.
	gdb_breakpoint_override not tested yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@919
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: documentation wip for upcoming patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@918
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/zy1000.cfg: removed old comment git-svn-id: svn://svn.berlios.de/openocd/trunk@917
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: force lpc2148 target into ARM
	state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@916
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: gdb_breakpoint_override comments git-svn-id: svn://svn.berlios.de/openocd/trunk@915
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: added global gdb breakpoint override
	configuration command git-svn-id: svn://svn.berlios.de/openocd/trunk@914
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.h: comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@913
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/breakpoints.c,
	src/target/breakpoints.h: Clear all dangling breakpoints upon GDB
	connection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@912
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@911
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: return halted signal if step/continue
	fails git-svn-id: svn://svn.berlios.de/openocd/trunk@910
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: avoid empty lines in log as a keep_alive()
	sideffect git-svn-id: svn://svn.berlios.de/openocd/trunk@909
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix output from jtag_khz when only jtag_speed has
	been invoked git-svn-id: svn://svn.berlios.de/openocd/trunk@908
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/at91eb40a_reset.script,
	src/target/target/at91eb40a.cfg: updated syntax for post_reset
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@907
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: propagate error code in case of "reset"
	failing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@906
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: fix error output a bit: do not repeat output
	printed during execution in case of error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@905
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix error message git-svn-id: svn://svn.berlios.de/openocd/trunk@904
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/command.c,
	src/helper/jim-eventloop.c: place event loop inside #ifdef
	JIM_EMBEDDED.  git-svn-id: svn://svn.berlios.de/openocd/trunk@903
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim-eventloop.c: - fix build issues under win32 (mingw) git-svn-id: svn://svn.berlios.de/openocd/trunk@902
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Michael Schwingen
	<rincewind@discworld.dascon.de> - add jedec_probe to doc git-svn-id: svn://svn.berlios.de/openocd/trunk@901
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: default reset in help text - run git-svn-id: svn://svn.berlios.de/openocd/trunk@900
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim-eventloop.c, src/helper/jim-eventloop.h,
	src/target/interface/dummy.cfg,
	src/target/interface/olimex-arm-usb-ocd.cfg,
	src/target/target/aduc702x.cfg, src/target/target/lpc2148_2mhz.cfg,
	src/target/target/lpc2148_rclk.cfg: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@899
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/command.c,
	src/helper/command.h, src/helper/jim-eventloop.c,
	src/helper/jim-eventloop.h, src/helper/jim.h, src/helper/log.c,
	src/server/server.c, src/target/Makefile.am,
	src/target/interface/dummy.cfg,
	src/target/interface/olimex-arm-usb-ocd.cfg,
	src/target/target/aduc702x.cfg: David Kuehling <dvdkhlng@gmx.de> -
	added jim-eventloop.c git-svn-id: svn://svn.berlios.de/openocd/trunk@898
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/lpc2148_reset.script,
	src/target/target/lpc2148.cfg, src/target/target/lpc2148_2mhz.cfg,
	src/target/target/lpc2148_rclk.cfg: lpc2148 2MHz, RCLK and clockless
	config script versions git-svn-id: svn://svn.berlios.de/openocd/trunk@897
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/server.c: - correct BUILD_ECOSBOARD definition is server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@896
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.h: - remove Jim_InitEmbedded warning git-svn-id: svn://svn.berlios.de/openocd/trunk@895
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/tclapi.c: - added svn props for previously added file git-svn-id: svn://svn.berlios.de/openocd/trunk@894
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/helper/jim.c,
	src/jtag/amt_jtagaccel.c, src/jtag/jlink.c, src/jtag/jtag.c,
	src/jtag/parport.c, src/openocd.c, src/target/mips_m4k.c,
	src/target/target.c, src/target/target.h: - fix target_examine declaration - remove build warnings - added --enable-gccwarnings to docs - update mips_m4k_examine function git-svn-id: svn://svn.berlios.de/openocd/trunk@893
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/server/telnet_server.c: GDB monitor commands
	now also get halted state upon e.g. "reset halt".  git-svn-id: svn://svn.berlios.de/openocd/trunk@892
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: gaffe in previous commit fixed. "reset
	run" now works again for arm7/9 git-svn-id: svn://svn.berlios.de/openocd/trunk@891
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/flash/flash.c, src/flash/flash.h,
	src/helper/command.h, src/helper/log.h, src/helper/time_support.h,
	src/jtag/amt_jtagaccel.c, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/main.c, src/server/gdb_server.c,
	src/server/gdb_server.h, src/server/server.c, src/server/server.h,
	src/target/arm11.c, src/target/arm720t.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c, src/target/cortex_m3.c,
	src/target/feroceon.c, src/target/mips32_pracc.c,
	src/target/mips_m4k.c, src/target/target.c, src/target/target.h,
	src/target/xscale.c: Duane Ellis: fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@890
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: halting srst_pulls_trst targets is now
	snappier and has explicit warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@889
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm7_9_common.c,
	src/target/cortex_m3.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/xscale.c: define resetting the target into the halted or
	running state as an atomic operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@888
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h, src/target/cortex_m3.c,
	src/target/feroceon.c, src/target/mips_m4k.c, src/target/target.c,
	src/target/target.h: moves handling of problems with resetting into
	the halted state into the target implementation.  Also target_process_reset() is now simpler and has error handling,
	e.g. if assert reset fails, then target_process_reset() will
	propagate that error.  cmd_ctx was passed in to examine(), which is wrong - removed that.  git-svn-id: svn://svn.berlios.de/openocd/trunk@887
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: TAP_TLR won't work in a pathmove sequence.
	OpenOCD shouldn't and doesn't need to support this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@886
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: The reset routine now works
	w/LPC2148 out of the box.  git-svn-id: svn://svn.berlios.de/openocd/trunk@885
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: wait up to 1 second for halted state upon
	reset init/halt.  git-svn-id: svn://svn.berlios.de/openocd/trunk@884
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/tclapi.c: wip - committing to reduce patch size.  git-svn-id: svn://svn.berlios.de/openocd/trunk@883
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: warning output upon connection problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@882
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: more jtag_examine() checks. catch errors during
	first 640 bits.  git-svn-id: svn://svn.berlios.de/openocd/trunk@881
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/non-arm-targets.txt: - added run_and_halt_time to deprecated/removed functions section git-svn-id: svn://svn.berlios.de/openocd/trunk@880
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/embeddedice.c,
	src/target/embeddedice.h: allow minidrivers to implement inner loop
	of dcc memory writes git-svn-id: svn://svn.berlios.de/openocd/trunk@879
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target/zy1000.cfg: fixed gaffe mea
	culpa git-svn-id: svn://svn.berlios.de/openocd/trunk@878
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target.c, src/target/target.h,
	src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/hammer.cfg,
	src/target/target/ipx42x.cfg, src/target/target/lpc2129.cfg,
	src/target/target/lpc2148.cfg, src/target/target/lpc2294.cfg,
	src/target/target/mx31.cfg, src/target/target/netx500.cfg,
	src/target/target/nslu2.cfg, src/target/target/omap5912.cfg,
	src/target/target/pic32mx.cfg, src/target/target/pxa255.cfg,
	src/target/target/pxa270.cfg, src/target/target/sam7s256.cfg,
	src/target/target/sam7x256.cfg, src/target/target/stm32.cfg,
	src/target/target/stm32stick.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str912.cfg, src/target/target/str9comstick.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg: retired reset
	run_and_init/halt git-svn-id: svn://svn.berlios.de/openocd/trunk@877
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/non-arm-targets.txt: working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@876
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: add check for target_read/write_buffer 32 bit
	wrap.  git-svn-id: svn://svn.berlios.de/openocd/trunk@875
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/mips32.c, src/target/mips32.h,
	src/target/mips32_pracc.c, src/target/mips32_pracc.h,
	src/target/mips_ejtag.c, src/target/mips_ejtag.h,
	src/target/mips_m4k.c, src/target/mips_m4k.h, src/target/target.c,
	src/target/target/pic32mx.cfg: - merged mips target into svn trunk git-svn-id: svn://svn.berlios.de/openocd/trunk@874
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: minimum address and maximum length argument
	to load_image. Used in lieu of reset init script when executable
	w/reset init sequence is available.  git-svn-id: svn://svn.berlios.de/openocd/trunk@873
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/command.c, src/helper/command.h,
	src/helper/configuration.c, src/helper/configuration.h,
	src/helper/fileio.c, src/helper/fileio.h, src/helper/log.c,
	src/helper/log.h, src/helper/options.c, src/helper/replacements.c,
	src/helper/replacements.h, src/helper/time_support.c,
	src/helper/time_support.h, src/helper/types.h, src/jtag/bitbang.c,
	src/jtag/bitbang.h, src/jtag/jtag.c, src/jtag/jtag.h,
	src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/server.c, src/server/server.h,
	src/server/telnet_server.c, src/server/telnet_server.h,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm_jtag.c, src/target/arm_jtag.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/image.c, src/target/image.h, src/target/target.c,
	src/target/target.h, src/target/target_request.c,
	src/target/target_request.h, src/target/xscale.c,
	src/target/xscale.h, src/xsvf/xsvf.c: added yours sincerely for
	files where I feel that I've made non-trivial contributions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@872
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: OpenOCD commands w/prefix ocd_ now set the
	primary Tcl return value instead of messing with ocd_output local
	variable. Much more straightforward and expected behaviour. The side
	effect is that the ocd_xxx commands will print output twice(once
	immediately and once upon completion of command). This is a strange,
	expected and intentional behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@871
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.h: more error message
	cleanup. invalid args & syntax errors both now print arguments of
	command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@870
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/jtag/Makefile.am: take path to eCos files
	from environment variable git-svn-id: svn://svn.berlios.de/openocd/trunk@869
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/eir-sam7se512.cfg,
	src/target/target/epc9301.cfg, src/target/target/hammer.cfg,
	src/target/target/ipx42x.cfg, src/target/target/lpc2129.cfg,
	src/target/target/netx500.cfg, src/target/target/omap5912.cfg,
	src/target/target/pxa270.cfg, src/target/target/str730.cfg,
	src/target/target/str9comstick.cfg, src/target/target/xba_revA3.cfg: 
	retire daemon_startup git-svn-id: svn://svn.berlios.de/openocd/trunk@868
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: allow jtag minidriver access to
	cmd_queue_cur_state for jtag_add_pathmove() git-svn-id: svn://svn.berlios.de/openocd/trunk@867
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/openocd.c: Better handling of OpenOCD
	command invocation result/context.  git-svn-id: svn://svn.berlios.de/openocd/trunk@866
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: 
	wait 500ms for target to halt upon connect.  git-svn-id: svn://svn.berlios.de/openocd/trunk@865
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - comment about dummy ack '+' char from gdb git-svn-id: svn://svn.berlios.de/openocd/trunk@864
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: - fix typo in jtag_add_end_state git-svn-id: svn://svn.berlios.de/openocd/trunk@863
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@862
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: fix <memory> is missing upon gdb connect
	warning when no flash is defined for target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@861
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: handle end of line comments to improve
	compatibility with event scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@860
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c, src/flash/stm32x.h, src/flash/str7x.c,
	src/flash/str7x.h, src/flash/str9x.c, src/flash/str9x.h,
	src/flash/str9xpec.c, src/flash/str9xpec.h: - more fixes to high density stm32x flash driver - updated copyright for original author git-svn-id: svn://svn.berlios.de/openocd/trunk@859
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c, src/tcl/cpu/arm/cortex_m3.tcl: - fix bug with stm32 high density write protection git-svn-id: svn://svn.berlios.de/openocd/trunk@858
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - add missing quotes from CFLAGS_FOR_BUILD git-svn-id: svn://svn.berlios.de/openocd/trunk@857
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/Makefile.am: Spen: startup.tcl cross
	compile support git-svn-id: svn://svn.berlios.de/openocd/trunk@856
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/options.c: Only print out gobs of
	information to log when -d3 is enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@855
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: very slightly improved error message for
	not being able to find scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@854
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/server/gdb_server.c: restart is a
	per-target action git-svn-id: svn://svn.berlios.de/openocd/trunk@853
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl, src/server/gdb_server.c: Allows config
	scripts to override handling of 'R'(restart) GDB packet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@852
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c, src/helper/jim.h: jim license cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@851
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: update jtag_speed/khz docs a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@850
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/startup.tcl, src/jtag/jtag.c,
	src/server/gdb_server.c, src/target/Makefile.am,
	src/target/arm7_9_common.c, src/target/cortex_m3.c,
	src/target/event/sam7s256_reset.script,
	src/target/event/sam7x256_reset.script,
	src/target/event/str912_reset.script, src/target/target.c,
	src/target/target.h, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str912.cfg, src/target/target/zy1000.cfg,
	src/target/xscale.c: - jtag_khz/speed are now single parameter only. These are used from
	pre/post_reset event scripts. Adding the second parameter was a
	mistake seen in retrospect. this gives precise control in post_reset
	for *when* the post reset speed is set. The pre_reset event was
	added *after* the second parameter to jtag_khz/speed - the target implementations no longer gets involved in the reset
	mode scheme. Either they reset a target into a halted mode or not.
	target_process_reset() detects if the reset halt failed or not.  - tcl target event names are now target_N_name.  Mainly internal at
	this early stage, but best to get the naming right now.  - added hardcoded reset modes from gdb_server.c. I don't know
	precisely what these defaults should be or if it should be made
	configurable. Perhaps some hardcoded defaults will do for now and it
	can be made configurable later.  - bugfix in cortex_m3.c for reset_run_and_xxx? - issue syntax error upon obsolete argument in target command
	instead of printing message that will surely drown in the log git-svn-id: svn://svn.berlios.de/openocd/trunk@849
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/command.h: cross compile fix git-svn-id: svn://svn.berlios.de/openocd/trunk@848
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/readme.txt: use reset init explicitly before
	"load".  git-svn-id: svn://svn.berlios.de/openocd/trunk@847
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/tcl/chip/st/stm32/stm32_rcc.tcl,
	src/tcl/cpu/arm/cortex_m3.tcl: Duane Ellis <openocd@duaneellis.com>
	stm32 peripherals scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@846
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c: Michael
	Kurz <michi.kurz@googlemail.com> MX29LV800B non-cfi flash.  git-svn-id: svn://svn.berlios.de/openocd/trunk@845
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: BUG: prefix to timeout for gdb keep alive
	packets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@844
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/non_cfi.c, src/flash/non_cfi.h,
	src/tcl/chip/st/stm32/stm32.tcl,
	src/tcl/chip/st/stm32/stm32_rcc.tcl,
	src/tcl/chip/st/stm32/stm32_regs.tcl: - added svn props for newly added files - reformat spaces from non_cfi.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@843
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/tcl/chip/st/stm32/stm32.tcl,
	src/tcl/chip/st/stm32/stm32_rcc.tcl,
	src/tcl/chip/st/stm32/stm32_regs.tcl, src/tcl/mmr_helpers.tcl: Duane
	Ellis <openocd@duaneellis.com> - script commands for stm32 git-svn-id: svn://svn.berlios.de/openocd/trunk@842
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c: Ben Bodley
	<ben@teknique.com>  non-CFI compliant flash (AMIC A29L800A) git-svn-id: svn://svn.berlios.de/openocd/trunk@841
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/jim.c: Duane Ellis <openocd@duaneellis.com>  improve error message in Jim when sourcing a file fails.
	Previously it did not tell you the CWD Jim was using as its
	reference point.  (Helpful when script filenames are a relative
	path) git-svn-id: svn://svn.berlios.de/openocd/trunk@840
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/helper/command.c, src/helper/startup.tcl,
	src/target/target.c, src/tcl/chip/atmel/at91/aic.tcl,
	src/tcl/memory.tcl: openocd@duaneellis.com fix naming confusion. Use
	ocd_ prefix for ocd API consistently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@839
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/startup.tcl: throw exception upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@838
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - updated texi for removed daemon_startup command - added info to deprecated/removed commands section git-svn-id: svn://svn.berlios.de/openocd/trunk@837
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: clarify error message w.r.t. not being
	able to set breakpoint git-svn-id: svn://svn.berlios.de/openocd/trunk@836
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/startup.tcl, src/openocd.c: 
	daemon_startup is now retired in favour of adding "init" and "reset
	halt/init/run" to the end of the config file/openocd command line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@835
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: This allows overriding builtin openocd
	commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@834
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91r40008.cfg,
	src/target/target/at91sam9260.cfg,
	src/target/target/at91sam9260minimal.cfg,
	src/target/target/eir-sam7se512.cfg, src/target/target/epc9301.cfg,
	src/target/target/hammer.cfg, src/target/target/ipx42x.cfg,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg,
	src/target/target/lpc2129.cfg, src/target/target/lpc2148.cfg,
	src/target/target/lpc2294.cfg, src/target/target/mx31.cfg,
	src/target/target/netx500.cfg, src/target/target/nslu2.cfg,
	src/target/target/omap5912.cfg, src/target/target/pxa255.cfg,
	src/target/target/pxa270.cfg, src/target/target/sam7s256.cfg,
	src/target/target/sam7x256.cfg, src/target/target/stm32.cfg,
	src/target/target/stm32stick.cfg, src/target/target/str710.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg,
	src/target/target/str912.cfg, src/target/target/str9comstick.cfg,
	src/target/target/wi-9c.cfg, src/target/target/xba_revA3.cfg,
	src/target/target/zy1000.cfg: remove obsolete reset_mode git-svn-id: svn://svn.berlios.de/openocd/trunk@833
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target.c: "reset" without arguments
	now execute a "reset run".  the reset mode argument to the target command is deprecated(ignored
	w/error message).  git-svn-id: svn://svn.berlios.de/openocd/trunk@832
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/time_support.c, src/main.c: - remove build warning from keep_alive - remove surplus linefeeds git-svn-id: svn://svn.berlios.de/openocd/trunk@831
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/lpc288x.c, src/flash/lpc288x.h,
	src/helper/Makefile.am, src/helper/command.c, src/helper/command.h,
	src/helper/jim.h, src/jtag/jtag.c, src/server/tcl_server.c,
	src/target/interface/olimex-jtag-tiny-a.cfg, src/target/target.c: - fix incorrectly registered function openocd_array2mem - removed unused variables - reformatted lpc288x.[ch] - fixed helper/Makefile.am dependencies - add correct svn props to added files git-svn-id: svn://svn.berlios.de/openocd/trunk@829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: resume is now asynchronous git-svn-id: svn://svn.berlios.de/openocd/trunk@828
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: keep_alive() fix for reset warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h, src/server/server.c,
	src/target/target.c: 1. GDB will print cryptic error messages if it is not fed keep-alive
	packets within the last 2000ms.  To fix this, add keep_alive() if you are spending >1000ms in an
	algorithm thus holding up the server loop.  target_call_timer_callbacks() invokes keep_alive().  2. post_reset script is now executed at normal JTAG speed and not
	reset speed.  3. Resume is now synchronous again. Hopefully it will work this
	time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@826
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am,
	src/target/interface/olimex-jtag-tiny-a.cfg: Duane Ellis
	<openocd@duaneellis.com> more interface files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/helper/command.c, src/helper/command.h,
	src/jtag/jtag.c, src/openocd.c, src/openocd_tcl.h,
	src/target/target.c: Charles Hardin <ckhardin@gmail.com> move tcl
	stuff nearer to where it belongs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/readme.txt: added missing "reset+load" sequence.  git-svn-id: svn://svn.berlios.de/openocd/trunk@823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/bin2char.c, src/flash/flash.c,
	src/helper/Makefile.am, src/helper/bin2char.c, src/helper/jim.c,
	src/helper/jim.h, src/helper/startup.tcl, src/jim.c, src/jim.h,
	src/server/tcl_server.c, src/startup.tcl: Charles Hardin
	<ckhardin@gmail.com>  move jim into helper git-svn-id: svn://svn.berlios.de/openocd/trunk@822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/openocd.c: Charles Hardin ckhardin at
	gmail.com   Instead of stashing the context in a global variable,
	just use the "context" associated with the interp structure being
	passed around And fixed the message referring to mem2array in the array2mem
	function git-svn-id: svn://svn.berlios.de/openocd/trunk@821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/openocd.c, src/startup.tcl: Collect
	output from openocd commands into openocd_output local variable git-svn-id: svn://svn.berlios.de/openocd/trunk@820
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Charles Hardin ckhardin at gmail.com There isn't a real value to the cfg_cmd_ctx since everything should
	be run thru the initial context created at start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/flash.c, src/helper/command.c,
	src/helper/command.h, src/openocd.c, src/startup.tcl,
	src/target/Makefile.am, src/target/target/at91eb40a.tcl: Charles
	Hardin <ckhardin@gmail.com> and Øyvind Harboe This patch just uses the command.c interface to create tcl commands
	for the root level commands and avoids a bit of the "TCL" bleed into
	the rest of the openocd code.  Multilevel commands also supported.  git-svn-id: svn://svn.berlios.de/openocd/trunk@818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - reverted resume_target to old behaviour git-svn-id: svn://svn.berlios.de/openocd/trunk@817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am: Charles Hardin ckhardin at gmail.com  bin2char
	does not need to be installed as part of openocd git-svn-id: svn://svn.berlios.de/openocd/trunk@816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/options.c, src/openocd.c, src/startup.tcl: Fixes to \
	and / handling for OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/startup.tcl: flash_banks now follow OpenOCD
	scripting API rules git-svn-id: svn://svn.berlios.de/openocd/trunk@814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c: print out jim error message stack trace in expected
	order(look at any C++ or Java debugger for instance).  git-svn-id: svn://svn.berlios.de/openocd/trunk@813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: do not print jim tcl error message trace for
	ERROR_COMMAND_CLOSE_CONNECTION git-svn-id: svn://svn.berlios.de/openocd/trunk@812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: print syntax for command upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/openocd.c, src/startup.tcl,
	src/target/target.c: better error messages for target event scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: feeble beginnings for tcl api rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - stm32 flash driver correctly handles early silicon git-svn-id: svn://svn.berlios.de/openocd/trunk@808
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/configuration.h,
	src/openocd.c: Charles Hardin <ckhardin@gmail.com> This evaluates the file at the correct level for the interpreter and
	the sets and all the globals are then done as expected.  added a const to find_file function to avoid typecasting git-svn-id: svn://svn.berlios.de/openocd/trunk@806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/bin2char.c, src/openocd.c: - remove unused objcopy from configure.in - make sure bin2char is built before openocd - add generated startup_tcl.c to clean list - pass startup_tcl directly to Jim_Eval git-svn-id: svn://svn.berlios.de/openocd/trunk@805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/bin2char.c: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/bin2char.c, src/openocd.c: Charles Hardin
	<ckhardin@gmail.com> - hopefully final word on startup.tcl => c
	conversion git-svn-id: svn://svn.berlios.de/openocd/trunk@803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Duane Ellis <openocd@duaneellis.com> fix to tcl
	puts git-svn-id: svn://svn.berlios.de/openocd/trunk@802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am: - fix issue when building in separate build dir - Thanks Duane Ellis git-svn-id: svn://svn.berlios.de/openocd/trunk@801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/file2c.tcl, src/openocd.c,
	testing/tcl_server.tcl, testing/tcl_test.tcl: - remove requirement for file2c.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/startup.tcl, testing/tcl_test.tcl: testing/*.tcl sample & test
	code git-svn-id: svn://svn.berlios.de/openocd/trunk@799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, testing/tcl_server.tcl: testing/*.tcl sample &
	test code git-svn-id: svn://svn.berlios.de/openocd/trunk@798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h, src/startup.tcl: help
	is now implemented in startup.tcl/help git-svn-id: svn://svn.berlios.de/openocd/trunk@797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am: - configure check added for tclsh - startup.c manually added to clean deps git-svn-id: svn://svn.berlios.de/openocd/trunk@796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/startup.tcl: search help text too git-svn-id: svn://svn.berlios.de/openocd/trunk@795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/jtag/jtag.c: Charles Hardin ckhardin at gmail.com This address the >32 bit problem with drscan also added a check for
	bypass in the execute since this will manifest itself as a memory
	corruption when this check helps to debug the problem alot easier git-svn-id: svn://svn.berlios.de/openocd/trunk@794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/startup.tcl: tcl_help prettier output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/command.c,
	src/helper/configuration.c, src/openocd.c, src/startup.tcl: work in
	progress to improve help git-svn-id: svn://svn.berlios.de/openocd/trunk@792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/helper/Makefile.am, src/helper/command.c,
	src/helper/command.h, src/helper/interpreter.c,
	src/helper/interpreter.h, src/jtag/Makefile.am, src/jtag/jtag.c,
	src/openocd.c, src/openocd_tcl.h, src/target/target/at91eb40a.cfg: - retired variable stuff.  - drscan is now a low level tcl command:  execute DR scan <device> <num_bits> <value> <num_bits1> <value2> - removed obsolete partial command text support git-svn-id: svn://svn.berlios.de/openocd/trunk@791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h,
	src/helper/interpreter.c, src/helper/options.c,
	src/target/target/at91eb40a.cfg: .cfg files are now executed as Jim
	Tcl. Commands that terminate script w/error message.  git-svn-id: svn://svn.berlios.de/openocd/trunk@790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/startup.tcl: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/scripting.txt: working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/file2c.tcl, src/openocd.c, src/startup.tcl,
	src/tcl/commands.tcl: startup.tcl (former commands.tcl) is now
	embedded into OpenOCD executable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/tcl/bitsbytes.tcl, src/tcl/memory.tcl: Charles
	Hardin <ckhardin@gmail.com> Add semantics to support memwrite(32,16,8) with an array2mem command
	Move the global up in bits2bytes.tcl so the set puts the value in
	the global context.  Add memwrite procs to memory.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.h, src/helper/options.c, src/openocd.c: - added search paths before running tcl/commands.tcl.  - improved error handling for missing tcl/commands.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/tcl/commands.tcl: fix quoting problem when handling OpenOCD
	commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: SEGFAULT fix for syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/scripting.txt, src/tcl/commands.tcl: very slight cleanup of
	flash banks handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c, src/openocd.c: improve error messages a little bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: - adding missing install entry for luminary-libftdi.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/helper/command.c, src/openocd.c,
	src/tcl/commands.tcl: "flash banks" is now implemented in Tcl on top
	of "flash_banks". openocd_throw prefix is no longer required when
	executing OpenOCD commands from tcl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/luminary-libftdi.cfg,
	src/target/interface/luminary.cfg: - added luminary libftdi interface config git-svn-id: svn://svn.berlios.de/openocd/trunk@778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target/lm3s811.cfg: - only check normal resume, not debug resume git-svn-id: svn://svn.berlios.de/openocd/trunk@777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: added flash_banks low level command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - target_resume is now synchronous with 5sec timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/target.c: tcl regression fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c: 	* src/jim.c: remove bogus return value from if {[expr]} {xx} when 	{xx} is not run.  git-svn-id: svn://svn.berlios.de/openocd/trunk@773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - removed target_process_events as only used in
	handle_resume_command and events will be called anyway by poll git-svn-id: svn://svn.berlios.de/openocd/trunk@772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c, src/target/target.h: - fix pre_resume script not being called git-svn-id: svn://svn.berlios.de/openocd/trunk@771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - apply correct formatting to openocd.c - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: reset event is synonym for post_reset event.  git-svn-id: svn://svn.berlios.de/openocd/trunk@769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/tcl/commands.tcl: more tcl cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c: Duane Ellis <openocd@duaneellis.com>: This simple patch
	adds precision support to JIM's format command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: - command_run_line will only search once for the command, and
	execute if found git-svn-id: svn://svn.berlios.de/openocd/trunk@766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/main.c, src/openocd.c, src/server/server.c: added pre/postlude
	fn's for when OpenOCD is sleeping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: fix syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Charles Hardin <ckhardin@gmail.com> Tcl server
	documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: - fix duplicate log entry git-svn-id: svn://svn.berlios.de/openocd/trunk@762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/tcl/memory.tcl: - fix typo in memory.tcl - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.h, src/helper/command.c,
	src/helper/command.h, src/helper/replacements.h, src/jim.c,
	src/jim.h, src/main.c, src/openocd.c, src/server/tcl_server.c,
	src/server/tcl_server.h, src/server/telnet_server.c,
	src/target/target.c: - fixed build issues with win32 - fixed build warnings for last commit - set svn props for last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/main.c, src/openocd.c,
	src/server/tcl_server.c: moving Tcl stuff around slightly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/helper/command.c, src/main.c, src/openocd.c,
	src/server/server.h, src/server/tcl_server.c: fix a few compilation
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/server/Makefile.am, src/server/tcl_server.c,
	src/server/tcl_server.h: Charles Hardin <ckhardin@gmail.com> - Tcl
	Server git-svn-id: svn://svn.berlios.de/openocd/trunk@757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/tcl/commands.tcl: Oopss. Forgot to list Duane Ellis
	<openocd@duaneellis.com> as the author of changes in 755.  git-svn-id: svn://svn.berlios.de/openocd/trunk@756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/helper/command.c, src/helper/command.h,
	src/helper/configuration.h, src/helper/options.c, src/jim.c,
	src/jim.h, src/openocd.c, src/server/gdb_server.c,
	src/server/telnet_server.c, src/target/target.c,
	src/target/target.h, src/tcl/README_ABOUT_TCL.txt,
	src/tcl/bitsbytes.tcl, src/tcl/chip/atmel/at91/aic.tcl,
	src/tcl/chip/atmel/at91/at91sam7x128.tcl,
	src/tcl/chip/atmel/at91/at91sam7x256.tcl,
	src/tcl/chip/atmel/at91/pmc.tcl, src/tcl/chip/atmel/at91/rtt.tcl,
	src/tcl/chip/atmel/at91/usarts.tcl, src/tcl/cpu/arm/arm7tdmi.tcl,
	src/tcl/cpu/arm/arm920.tcl, src/tcl/cpu/arm/arm946.tcl,
	src/tcl/cpu/arm/arm966.tcl, src/tcl/memory.tcl,
	src/tcl/mmr_helpers.tcl, src/tcl/readable.tcl: 
	src/helper/configuration.h 	- Log output handlers now get a "const char *line" 	- Added "const" to parameter.  src/helper/command.c src/helper/command.h 	- New function:  'command_output_text()' 	- Log output handlers now get a "const char *line" src/helper/options.c 	- Log output handlers now get a "const char *line" src/server/telnet_server.c 	- DO not transmit NULL bytes via TELNET.  	- Log output handlers now get a "const char *line" src/server/gdb_server.c 	- Log output handlers now get a "const char *line" 	*** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent 	previously to the mailing list for TCL users try src/target/target.c 	*** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent 	previously to the mailing list for TCL users try src/target/target.h 	*** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent 	previously to the mailing list for TCL users try src/openocd.c     - **MAJOR** Work: New TCL/Jim function: mem2array 	- **MAJOR** Work: Redirect Tcl/Jim stdio output to remote users.  	- Previously: TCL output did not go to GDB.  	- Previously: TCL output did not go to TELNET 	- Previously: TCL output only goes to control console.  	- This fixes that problem.  	+ Created callbacks: 		+openocd_jim_fwrite() 		+openocd_jim_fread() 		+openocd_jim_vfprintf() 		+openocd_jim_fflush() 		+openocd_jim_fgets() src/Makefile.am 	- New TCL files.  	- Future note: This should be more automated.  As the list of 	  'tcl' files grows maintaning this list will suck.  src/Jim.c 	- ** THIS INCLUDES A PREVIOUS PATCH I SENT EARLIER ** 	- that impliments many [format] specifies JIM did not support.  	- Jim_FormatString() - **MAJOR** work.  	- Previously only supported "%s" "%d" and "%c" 	- And what support existed had bugs.  	- NEW: *MANY* formating parameters are now supported.  	- TODO: The "precision" specifier is not supported.  	** NEW ** This patch.  	- Jim_StringToWide() test if no conversion occured.  	- Jim_StringToIndex() test if no conversion occured.  	- Jim_StringToDouble() test if no conversion occured.  	** NEW ** This Patch. Major Work.  	- Previously output from JIM did not get sent to GDB 	- Ditto: Output to Telnet session.  	- Above items are now fixed - By introducing callbacks 	  new function pointers in the "interp" structure.  	- Helpers that call the callbacks.  	- New function: Jim_fprintf() 	- New function: Jim_vfprintf() 	- New function: Jim_fwrite() 	- New function: Jim_fread() 	- New function: Jim_fflush() 	- New function: Jim_fgets() 	By default: the output is to STDIO as previous.  	The "openocd.c" - redirects the output as needed.  	- Jim_Panic() - Send panic to both STDERR and the interps 	specified STDERR output as a 2nd choice.  	- Now JIM's "stdin/stdout/stderr" paramters are "void *" 	and are no longer "FILE *".  src/Jim.h 	- **MAJOR** 	-  New JIM STDIO callbacks in the "interp" structure.  	-  change: "stdin/stdout/stderr" are now "void *" cookies.  	-  New JIM stdio helper functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/command.c: - added search for libdl - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/scripting.txt: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/str710_program.script,
	src/target/event/str730_program.script,
	src/target/event/str750_program.script,
	src/target/target/str730.cfg, src/target/target/str750.cfg: - added event scripts for str73x and str75x targets git-svn-id: svn://svn.berlios.de/openocd/trunk@751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg,
	src/target/target/stm32.cfg, src/target/target/stm32stick.cfg,
	src/target/target/str710.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg, src/target/target/str912.cfg,
	src/target/target/str9comstick.cfg: - added jtag_khz to target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.tcl, src/tcl/commands.tcl: - fixed line endings with commands.tcl - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.tcl, src/tcl/commands.tcl: tcl
	tinkering.  git-svn-id: svn://svn.berlios.de/openocd/trunk@748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/tcl/commands.tcl: fix to peek command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@747
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/tcl/commands.tcl: added echo command in tcl.
	Issues a LOG_USER() for the single argument.  git-svn-id: svn://svn.berlios.de/openocd/trunk@746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91eb40a.tcl: typo git-svn-id: svn://svn.berlios.de/openocd/trunk@745
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/Makefile.am,
	src/target/target/at91eb40a.tcl: tcl config script example git-svn-id: svn://svn.berlios.de/openocd/trunk@744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/configuration.h,
	src/helper/options.c: added support for Tcl config scripts on the
	command line(use .tcl extension).  git-svn-id: svn://svn.berlios.de/openocd/trunk@743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h: utility fn.  git-svn-id: svn://svn.berlios.de/openocd/trunk@742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h: ARM11 update. OpenOCD
	supports starting without being able to talk to the hardware.  git-svn-id: svn://svn.berlios.de/openocd/trunk@741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/mx31.cfg: Valentin
	Longchamp target script for mx31.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/openocd.c, src/tcl/commands.tcl: Jim Tcl
	support added git-svn-id: svn://svn.berlios.de/openocd/trunk@739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - allocate target_type_t structure for each target, fixes issue when
	multiple targets of the same type are located on the jtag chain - Thanks Michel Pollet git-svn-id: svn://svn.berlios.de/openocd/trunk@738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/scripting.txt: wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/scripting.txt: wip git-svn-id: svn://svn.berlios.de/openocd/trunk@736
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - update docs for new target_script events git-svn-id: svn://svn.berlios.de/openocd/trunk@735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c, src/jim.h, src/target/event/hammer_reset.script,
	src/target/interface/flyswatter.cfg, src/target/target/hammer.cfg: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h, src/openocd.c: hooks
	to enable experimentation with scripting language support. Reduces
	patch size, but has no effect on OpenOCD otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/configuration.h: export
	find_file function git-svn-id: svn://svn.berlios.de/openocd/trunk@732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/hammer_reset.script,
	src/target/interface/flyswatter.cfg, src/target/target/hammer.cfg: 
	David Anders more target lib scripts contributed by git-svn-id: svn://svn.berlios.de/openocd/trunk@731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jim.c, src/jim.h: committing to reduce patch size for Tcl
	experiments. Not in use currently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: David Anders: fixes an issue with large block
	nand flash address where the beginning of the OOB area is always
	selected instead of the beginning of a page when needed git-svn-id: svn://svn.berlios.de/openocd/trunk@729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Fixed bogus error message and plugged memory
	leak for the case when there was no reset script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: - fix reset_halt issue with certain arm cores - address not set in
	embedded ice reg - Thanks Jonas Hörberg git-svn-id: svn://svn.berlios.de/openocd/trunk@727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target.h: added pre/post_reset
	scripts based on Pieter Conradie's ideas.  git-svn-id: svn://svn.berlios.de/openocd/trunk@726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm926ejs.c,
	src/target/arm9tdmi.c: - fix compile errors when _DEBUG_INSTRUCTION_EXECUTION_ is defined - Thanks Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Pavel Chromy: - TAP reset without TRST shall be called TLR (stands for
	test-logic-reset, named after the TAP state it ends is) rather than
	tms (test-mode-select) - some comments changed to /* C coding style */ git-svn-id: svn://svn.berlios.de/openocd/trunk@717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c: Pavel Chromy: - lower jtag speeds (higher divisor) was used, TDI was not changed
	on falling TCK edge as it should - reset signal was release upon any TMS transition, making it
	impossible to use reset halt - added khz() and speed_div() functions git-svn-id: svn://svn.berlios.de/openocd/trunk@716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitq.c: Pavel Chromy: TAP state changed to TLR when SRST
	goes active with srst_pulls_trst, as in all other drivers git-svn-id: svn://svn.berlios.de/openocd/trunk@715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Spen spotted a bug in warning for
	missing srst_pulls_trst git-svn-id: svn://svn.berlios.de/openocd/trunk@714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: - added missing install entries for eir-sam7se512 target git-svn-id: svn://svn.berlios.de/openocd/trunk@713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/eir-sam7se512_reset.script,
	src/target/target/eir-sam7se512.cfg: - added target and event script for the eir-sam7se512 target git-svn-id: svn://svn.berlios.de/openocd/trunk@712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: fallback for no implementation of multi word CFI
	write. Successful codepath not affected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: GDB timeout fix. If a script takes a long
	time and does not produce any output, ping between every command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.h, src/target/cortex_m3.c: - removed duplicate cortex_m3_register_commands git-svn-id: svn://svn.berlios.de/openocd/trunk@709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - probe incorrect for high density stm32 flash git-svn-id: svn://svn.berlios.de/openocd/trunk@708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - error message cleanup in jlink driver git-svn-id: svn://svn.berlios.de/openocd/trunk@707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/flash/stm32x.c: - stm32 erase will use mass_erase if all banks selected git-svn-id: svn://svn.berlios.de/openocd/trunk@706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/feroceon.c: Nicolas Pitre: Feroceon fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: - erase bank using bank erase rather than each sector - Thanks Fredrik Hederstierna git-svn-id: svn://svn.berlios.de/openocd/trunk@704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c: Pavel Chromy: TCK returns to zero before state
	of reset line is changed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/log.h, src/jtag/jtag.c: 
	Pavel Chromy: fix logging syntax error + formatting & removing
	obsolete comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - fix jlink accessing incorrect buffer element git-svn-id: svn://svn.berlios.de/openocd/trunk@701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c: - luminary, stm32 and str7 flash driver error cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c, src/flash/str9x.c: - str9 driver remove the duplicate target_free_working_area and
	reformat spaces to tabs.  - lpc2000 driver reorder function so as to not require goto, plus
	refornat spaces to tabs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c: Fredrik Hederstierna: fix leak + clean up
	return codes git-svn-id: svn://svn.berlios.de/openocd/trunk@698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: Fredrik Hederstierna: fix leak + clean up
	return codes git-svn-id: svn://svn.berlios.de/openocd/trunk@697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: - added checksum_memory and blank_check_memory for xscale git-svn-id: svn://svn.berlios.de/openocd/trunk@696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - stellaris flash driver changed warning to info git-svn-id: svn://svn.berlios.de/openocd/trunk@695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/flash.h, src/flash/stellaris.c,
	src/flash/stm32x.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_m3.c, src/target/feroceon.c, src/target/target.c,
	src/target/target.h, src/target/xscale.c: - moved flash erase_check target code to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: flash_write will attempt to pad image sections git-svn-id: svn://svn.berlios.de/openocd/trunk@693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - fixed typo in wp command git-svn-id: svn://svn.berlios.de/openocd/trunk@692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - fix issue if jlink sends result in single usb in packet git-svn-id: svn://svn.berlios.de/openocd/trunk@691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - added check for max. value of jtag_speed in ft2232_khz.  git-svn-id: svn://svn.berlios.de/openocd/trunk@690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - renamed EMU_CMD_HW_JTAG to EMU_CMD_HW_JTAG3 git-svn-id: svn://svn.berlios.de/openocd/trunk@689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: found out why str912 reset halt failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: clock 1/0 in idle now configurable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - corrected error with stm32 page calculation git-svn-id: svn://svn.berlios.de/openocd/trunk@686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-25  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - changed some buffer defines to increase performance git-svn-id: svn://svn.berlios.de/openocd/trunk@685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - comment out usb_set_altinterface, because it is not working under
	Mac OS X.  And not needed for Windows. Hopefully it will not break a
	Linux build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - updated docs for new stellaris mass_erase command git-svn-id: svn://svn.berlios.de/openocd/trunk@683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - added stellaris flash mass_erase command git-svn-id: svn://svn.berlios.de/openocd/trunk@682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - update sectors on stm32x mass erase git-svn-id: svn://svn.berlios.de/openocd/trunk@681
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - swap processing of reset handling. First srst and than trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ocl.c: - removed compiler warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - corrected copy/paste type and renamed jlink_usb_read_result to
	jlink_usb_read_emu_result git-svn-id: svn://svn.berlios.de/openocd/trunk@678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - removed obsolete cmd JLINK_TAP_SEQUENCE_COMMAND, use
	EMU_CMD_HW_JTAG instead git-svn-id: svn://svn.berlios.de/openocd/trunk@677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - jlink jlink_execute_queue returns result - added jlink_get_version_info function - reformatted spaces to tabs git-svn-id: svn://svn.berlios.de/openocd/trunk@676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jlink.c: - replaced JLINK_xxxx command defines by EMU_CMD_ from the J-Link
	USB Protocol specification - added functionality to jlink_init to display the version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c, src/flash/stm32x.h: - add support for newer high density stm32 parts git-svn-id: svn://svn.berlios.de/openocd/trunk@674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: jtag_exexcute_queue() now logs error when it is
	invoked before 'init' command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/server/server.c: - remove error message on shutdown git-svn-id: svn://svn.berlios.de/openocd/trunk@672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: comment.  git-svn-id: svn://svn.berlios.de/openocd/trunk@671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/target.c: moved
	srst_pulls_trst check into arm7_9_common.c. Not tested yet, if it is
	broken it should "only" print bogus warnings or not print a warning
	when it should have.  git-svn-id: svn://svn.berlios.de/openocd/trunk@670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/nand.c, src/target/arm7_9_common.c,
	src/target/etm.c, src/target/image.c: Edgar Grimberg fixes some
	memory handling issues and a problem with arm7_9_debug_entry not
	executing a code path upon crashes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: reverted change in 658 and simply removed the
	busted warning for now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/armv4_5.c, src/target/xscale.c: Fix crash when mode
	number fetched from the target is invalid.  git-svn-id: svn://svn.berlios.de/openocd/trunk@667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: print out an error if srst_pulls_trst is not
	specified for e.g. at91fr40008. Could possibly show bogus false
	positives in log without any other side effects.  git-svn-id: svn://svn.berlios.de/openocd/trunk@666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Michael Fischer found this bogus warning. Fixed.  Error:   jtag.c:941 jtag_add_reset(): BUG: transition of
	req_tlr_or_trst ...  git-svn-id: svn://svn.berlios.de/openocd/trunk@665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv4_5.c, src/target/armv4_5.h: fix mode output when
	illegal arm mode is detected. Now prints illegal mode for index -1.  git-svn-id: svn://svn.berlios.de/openocd/trunk@664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Michael Fischer found and Edgar Grimberg
	fixed generic crash in timers reproduceable with at91fr40008 git-svn-id: svn://svn.berlios.de/openocd/trunk@663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/readme.txt: updated guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS: added stack trace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/at91r40008.cfg,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/smoketests.html: - added smoketest result for r657 - some corrections for the reset config of at91r40008 git-svn-id: svn://svn.berlios.de/openocd/trunk@660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/interface/arm-usb-ocd.cfg,
	src/target/interface/signalyzer.cfg: - added arm-usb-ocd.cfg and signalyzer.cfg to the interface git-svn-id: svn://svn.berlios.de/openocd/trunk@659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/Makefile.am,
	src/jtag/Makefile.am, src/jtag/jlink.c, src/jtag/jtag.c,
	src/target/Makefile.am, src/target/interface/jlink.cfg: - added jlink support, based on Jürgen Stuber patch git-svn-id: svn://svn.berlios.de/openocd/trunk@658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/jtag/parport.c, src/target/Makefile.am: - restored tabs and formatting git-svn-id: svn://svn.berlios.de/openocd/trunk@657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-11  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: - added patch from uwe hermann, thanks for the hint.  git-svn-id: svn://svn.berlios.de/openocd/trunk@656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/amontec-tiny.cfg,
	src/target/interface/jtagkey-tiny.cfg,
	src/target/interface/jtagkey.cfg,
	src/target/interface/turtelizer2.cfg: - added/renamed interfaces, remove jtag_speed from the interface
	part git-svn-id: svn://svn.berlios.de/openocd/trunk@655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - corrected rounding in ft2232_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - added support for ft2232/jtag_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/smoketests.html: - smoketest for r651 git-svn-id: svn://svn.berlios.de/openocd/trunk@652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: printing available memory fails on win + mac.
	Disable for now until a robust way of doing this can be found.  git-svn-id: svn://svn.berlios.de/openocd/trunk@651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: Michael Fischer spotted a problem in the
	reset routines for srst_pulls_trst. It is a bit of a mystery why
	this was only visible w/LPC2148.  Embedded ICE registers are now set up after SRST pulls TRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: disable code that prints available mem under
	windows. Does not compile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: print available memory in log_level 3 git-svn-id: svn://svn.berlios.de/openocd/trunk@648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/log.h, src/jtag/jtag.c, src/jtag/jtag.h,
	src/server/gdb_server.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm_jtag.c, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/embeddedice.h: This matters for
	embedded devices, but is probably not observably better for PC
	hosted OpenOCD.  git-svn-id: svn://svn.berlios.de/openocd/trunk@647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h, src/openocd.c: Edgar
	Grimberg plugged a leak found w/Valgrind.  git-svn-id: svn://svn.berlios.de/openocd/trunk@646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.h: increase packet size to 16kBytes. Very
	slightly faster.  git-svn-id: svn://svn.berlios.de/openocd/trunk@645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: Edgar Grimberg found tiny memory leak git-svn-id: svn://svn.berlios.de/openocd/trunk@644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/at91rm9200.cfg: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/arm7_ft2232.cfg, doc/configs/arm7_wig.cfg,
	doc/configs/arm9_ft2232.cfg, doc/configs/at91sam7_ecr.cfg,
	doc/configs/chameleon.cfg, doc/configs/fury_ft2232.cfg,
	doc/configs/usbprog.cfg, doc/configs/xscale_ixp42x.cfg,
	doc/scripts/at91sam7_ecr.script,
	doc/scripts/tms470r1a288_startup.script,
	doc/scripts/xscale_ixp_startup.script, src/target/Makefile.am,
	src/target/interface/at91rm9200.cfg,
	src/target/interface/chameleon.cfg: The target library is now the
	authorotative source of config examples git-svn-id: svn://svn.berlios.de/openocd/trunk@642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: add missing reset script git-svn-id: svn://svn.berlios.de/openocd/trunk@641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/xsvf/xsvf.c: - fixed xsvf_add_statemove() git-svn-id: svn://svn.berlios.de/openocd/trunk@640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - updated docs for ft2232_vid_pid command git-svn-id: svn://svn.berlios.de/openocd/trunk@639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libftdi/README, contrib/libftdi/libftdi-0.12_win32.patch,
	doc/openocd.texi: - added info about libftdi support under win32 git-svn-id: svn://svn.berlios.de/openocd/trunk@638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/at91sam7_ecr.cfg: - corrected typo in cfg file git-svn-id: svn://svn.berlios.de/openocd/trunk@637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Tim Hudson worked on English language.  git-svn-id: svn://svn.berlios.de/openocd/trunk@636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am: - add -lusb to link for using libftdi under win32 git-svn-id: svn://svn.berlios.de/openocd/trunk@635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/lpc2148_reset.script,
	src/target/event/omap5912_reset.script: - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/at91sam7_ecr.cfg: Changed  at91sam7_ecr working area
	to a valid SRAM adress for the AT91SAM7S/X target family git-svn-id: svn://svn.berlios.de/openocd/trunk@633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: now compiles again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/lpc2148_reset.script,
	src/target/target/lpc2148.cfg, testing/testcases.html: lpc2148 fixes
	from Edgar Grimberg git-svn-id: svn://svn.berlios.de/openocd/trunk@631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/target/cortex_m3.c: - added new device to luminary flash driver - only use SYSRESETREQ on affected luminary parts git-svn-id: svn://svn.berlios.de/openocd/trunk@630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Edgar's naming convention fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Edgar's added support for
	printing jtag_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - stm32x default to 128k if flash size failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/readme.txt: Edgar Grimberg added a new rule for
	target scripts. Flash + verify must succeed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/cortex_m3.c,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg: - updated cortex_m3 docs regarding luminary reset behaviour git-svn-id: svn://svn.berlios.de/openocd/trunk@625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg: - add cortex_m3 variant luminary to fix reset issue with asserting
	SRST -

	https://lists.berlios.de/pipermail/openocd-development/2008-April/002022.html for detailsgit-svn-id: svn://svn.berlios.de/openocd/trunk@624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c: - added ARMV7_GDB_HACKS define to armv7m.h, enabling all gdb hacks
	to be enabled/disabled for testing - added armv7m dummy cpsr register to stop gdb setting thumb bit git-svn-id: svn://svn.berlios.de/openocd/trunk@623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - luminary flash now loader polls when finished git-svn-id: svn://svn.berlios.de/openocd/trunk@622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/str912.cfg: set communication speeds git-svn-id: svn://svn.berlios.de/openocd/trunk@621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lm3s811.cfg: - incorrect ram size for lm3s811 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c: - change str9 flash controller to read array after a level 1 protect git-svn-id: svn://svn.berlios.de/openocd/trunk@619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/toolchain/cygwin.sh, testing/toolchain/linux.sh,
	testing/toolchain/readme.txt: wip instructions for building Cortex
	toolchain git-svn-id: svn://svn.berlios.de/openocd/trunk@618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: make debug_level 3 useful again... the
	log just drowns. perhaps introduce debug_level 4? git-svn-id: svn://svn.berlios.de/openocd/trunk@617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/target/image.c: Close dangling file handle git-svn-id: svn://svn.berlios.de/openocd/trunk@616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ocl.c, src/flash/ocl.h,
	src/flash/ocl/at91sam7x/at91sam7x_ocl_flash.script,
	src/flash/ocl/at91sam7x/at91sam7x_ram.ld,
	src/flash/ocl/at91sam7x/crt.s, src/flash/ocl/at91sam7x/dcc.c,
	src/flash/ocl/at91sam7x/dcc.h, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/makefile, src/flash/ocl/at91sam7x/ocl.h,
	src/flash/ocl/at91sam7x/platform.h,
	src/flash/ocl/at91sam7x/samflash.c,
	src/flash/ocl/at91sam7x/samflash.h,
	src/flash/ocl/at91sam7x/samregs.h,
	testing/examples/SAM7S256Test/results/607.html,
	testing/results/template.html, testing/smoketests.html,
	testing/testcases.html: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html, testing/results/template.html,
	testing/smoketests.html: Edgar's new test cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/SAM7S256Test/results/607.html,
	testing/testcases.html: Edgar's new test cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/ocl.c,
	src/flash/ocl.h,
	src/flash/ocl/at91sam7x/at91sam7x_ocl_flash.script,
	src/flash/ocl/at91sam7x/at91sam7x_ram.ld,
	src/flash/ocl/at91sam7x/crt.s, src/flash/ocl/at91sam7x/dcc.c,
	src/flash/ocl/at91sam7x/dcc.h, src/flash/ocl/at91sam7x/main.c,
	src/flash/ocl/at91sam7x/makefile, src/flash/ocl/at91sam7x/ocl.h,
	src/flash/ocl/at91sam7x/platform.h,
	src/flash/ocl/at91sam7x/samflash.c,
	src/flash/ocl/at91sam7x/samflash.h,
	src/flash/ocl/at91sam7x/samregs.h, src/target/target.h: Pavel
	Chromy's on chip flash loader git-svn-id: svn://svn.berlios.de/openocd/trunk@612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/amontec-tiny.cfg,
	src/target/interface/calao-usb-a9260-c01.cfg,
	src/target/interface/calao-usb-a9260-c02.cfg,
	src/target/interface/calao-usb-a9260.cfg,
	src/target/interface/str9-comstick.cfg,
	src/target/target/at91sam9260minimal.cfg,
	src/target/target/epc9301.cfg, src/target/target/ipx42x.cfg,
	src/target/target/lpc2129.cfg, src/target/target/netx500.cfg,
	src/target/target/omap5912.cfg, src/target/target/pxa270.cfg,
	src/target/target/stm32stick.cfg, src/target/target/str730.cfg,
	src/target/target/str750.cfg, src/target/target/str9comstick.cfg: - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am,
	src/target/interface/calao-usb-a9260-c01.cfg,
	src/target/interface/calao-usb-a9260-c02.cfg,
	src/target/interface/calao-usb-a9260.cfg,
	src/target/target/at91sam9260minimal.cfg: Tim Hudson contributed
	at91sam9260 target config files + some interface definitions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix typo in openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: regions outside flash are now read/write
	nocache by default. GDB 6.8 would mark non-flash areas as
	inacessible by default.  git-svn-id: svn://svn.berlios.de/openocd/trunk@607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/jtag/parport.c, src/jtag/presto.c: Tim
	Hudson: removed setting jtag_speed directly (which should not be
	done).  git-svn-id: svn://svn.berlios.de/openocd/trunk@606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: fixed doc for GDB memory map and flash program
	defaults to follow code git-svn-id: svn://svn.berlios.de/openocd/trunk@605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/command.c, src/helper/command.h,
	src/target/arm7_9_common.c: added fast option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/non_cfi.c: Andre
	Renaud support for the am29sl800db CFI flash chip (id: 0x0004,
	0x226b).  git-svn-id: svn://svn.berlios.de/openocd/trunk@603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* BUGS: wip on reporting bugs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ecosflash/notes.txt: deleted obsolete stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am,
	src/target/interface/luminary-lm3s811.cfg,
	src/target/interface/luminary.cfg,
	src/target/interface/stm32-stick.cfg,
	src/target/target/lm3s6965.cfg, src/target/target/lm3s811.cfg: - added stm32 stick and luminary eval boards interface configs - corrected target lm3s6965.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc288x.c, src/flash/lpc288x.h: - set lpc288x[ch] svn file props git-svn-id: svn://svn.berlios.de/openocd/trunk@599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: - set erase flag on sector git-svn-id: svn://svn.berlios.de/openocd/trunk@598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/lpc288x.c,
	src/flash/lpc288x.h: Karl RobinSod <karl.robinsod@gmail.com> added
	lpc288x support. Some work remaining, committing for
	test/collaboration purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - update docs for flash write_image command - remove info on flash auto_erase, added to removed commands section git-svn-id: svn://svn.berlios.de/openocd/trunk@596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - flash.c change stricmp to strcmp git-svn-id: svn://svn.berlios.de/openocd/trunk@595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: - added test results for r592 git-svn-id: svn://svn.berlios.de/openocd/trunk@594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: retired auto_erase, added optional erase arg to
	flash write_image.  git-svn-id: svn://svn.berlios.de/openocd/trunk@593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - Flash auto-erase is disabled by default git-svn-id: svn://svn.berlios.de/openocd/trunk@592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/server/gdb_server.c: Enabled auto erase,
	gdb memory map and gdb flash programming by default.  git-svn-id: svn://svn.berlios.de/openocd/trunk@591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/feroceon.c: Nicolas Pitre fixed regression.  git-svn-id: svn://svn.berlios.de/openocd/trunk@590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: Edwin Olsen: improves breakpoint handling
	on cortex-m3 parts. Specifically, this patch allows expressions to
	be evaluated in GDB that contain function calls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix for gaffe in  555 that stopped JTAG chain
	examine + validate from running.  git-svn-id: svn://svn.berlios.de/openocd/trunk@588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/AT91R40008Test/test_ram.hex,
	testing/examples/AT91R40008Test/test_ram.map,
	testing/examples/LPC2148Test/test_ram.hex,
	testing/examples/LPC2148Test/test_ram.map,
	testing/examples/LPC2148Test/test_rom.hex,
	testing/examples/LPC2148Test/test_rom.map,
	testing/examples/LPC2294Test/test_ram.hex,
	testing/examples/LPC2294Test/test_ram.map,
	testing/examples/LPC2294Test/test_rom.hex,
	testing/examples/LPC2294Test/test_rom.map,
	testing/examples/SAM7S256Test/test_ram.hex,
	testing/examples/SAM7S256Test/test_ram.map,
	testing/examples/SAM7S256Test/test_rom.hex,
	testing/examples/SAM7S256Test/test_rom.map,
	testing/examples/SAM7X256Test/test_ram.hex,
	testing/examples/SAM7X256Test/test_ram.map,
	testing/examples/SAM7X256Test/test_rom.hex,
	testing/examples/SAM7X256Test/test_rom.map,
	testing/examples/STR710JtagSpeed/test.hex,
	testing/examples/STR710JtagSpeed/test.map,
	testing/examples/STR710Test/test_ram.hex,
	testing/examples/STR710Test/test_ram.map,
	testing/examples/STR710Test/test_rom.hex,
	testing/examples/STR710Test/test_rom.map,
	testing/examples/STR912Test/test_ram.hex,
	testing/examples/STR912Test/test_ram.map,
	testing/examples/STR912Test/test_rom.hex,
	testing/examples/STR912Test/test_rom.map: - added testing binaries git-svn-id: svn://svn.berlios.de/openocd/trunk@587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/stm32stick.cfg: - correct stm32stick config script git-svn-id: svn://svn.berlios.de/openocd/trunk@586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c, src/target/etm.h: 
	Update Embedded ICE registers explicitly during
	target->type->examine() instead of as a side effect of
	target->type->poll(). This makes it clearer when things happen
	during reset/examine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: Edgar Grimberg added some missing scripts
	from the install git-svn-id: svn://svn.berlios.de/openocd/trunk@584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/cortex_swjdp.c,
	src/target/target/stm32.cfg: fix SEGFAULT regression in cortex after
	TRST fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@583
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/feroceon.c: - sw_bkpts fails if the target is not halted. The side effect is
	that sw_bkpts also fails if the target is an unknown state(i.e.  not
	examined yet).  - feroceon embedded ICE registers are now set up after TRST has been
	deasserted(not tested, but it was broken as is anyway).  git-svn-id: svn://svn.berlios.de/openocd/trunk@582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target.h: Added checks for
	target->type->read/write_memory, soft_reset_halt and run_algorithm
	that the target has been examined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: target read/write is no longer attempted for
	target_xxx() functions when the target has not been examined(fails
	w/error).  git-svn-id: svn://svn.berlios.de/openocd/trunk@580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/stm32stick.cfg,
	src/target/target/str730.cfg, src/target/target/str750.cfg: - added new and missing target scripts - stm32stick and str730 git-svn-id: svn://svn.berlios.de/openocd/trunk@579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: retired fast_memory_access. It's always fast
	now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c, src/flash/str7x.h, src/flash/str9x.c,
	src/flash/str9x.h, src/flash/str9xpec.c, src/flash/str9xpec.h,
	src/target/event/str912_reset.script, src/target/target/stm32.cfg,
	src/target/target/str710.cfg, src/target/target/str912.cfg: - split str71x driver into banks - support new str91x/str9xpec devices - update target scripts and docs for changes git-svn-id: svn://svn.berlios.de/openocd/trunk@577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/Makefile.am,
	src/target/event/omap5912_reset.script,
	src/target/interface/amontec-tiny.cfg,
	src/target/interface/str9-comstick.cfg,
	src/target/target/epc9301.cfg, src/target/target/ipx42x.cfg,
	src/target/target/lpc2129.cfg, src/target/target/netx500.cfg,
	src/target/target/omap5912.cfg, src/target/target/pxa270.cfg,
	src/target/target/str750.cfg, src/target/target/str9comstick.cfg: 
	moved out stuff that wasn't already moved from openocd.pdf to the
	target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Added a few tweaks while playing with texi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c, src/target/xscale.c: TRST is asserted
	*before* target->type->assert_reset() is invoked. Removed old code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: More robust handling of unknown target
	state for step/continue packet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am, src/jtag/dummy.c,
	src/jtag/jtag.c: A dummy driver to test codepath w/no contact
	w/target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/cortex_m3.c: allows
	launching OpenOCD w/telnet+gdb server w/the target powered down.  git-svn-id: svn://svn.berlios.de/openocd/trunk@571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: allows launching OpenOCD w/telnet+gdb server w/the
	target powered down.  git-svn-id: svn://svn.berlios.de/openocd/trunk@570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/embeddedice.c, src/target/etm.c: - Set up ICE registers after TRST - Work in progress to allow launching GDB/telnet server *before*
	jtag chain enum, validate & examine git-svn-id: svn://svn.berlios.de/openocd/trunk@569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm9tdmi.c: found two more
	gaffes for reset wip git-svn-id: svn://svn.berlios.de/openocd/trunk@568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: fixed gaffe for default examine
	implementation git-svn-id: svn://svn.berlios.de/openocd/trunk@567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.h: Reset wip. Just adding hooks. This is
	just to reduce the size of the actual change, no change in
	behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/server/gdb_server.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/feroceon.c, src/target/target.c,
	src/target/target.h: Reset wip. Just adding hooks. This is just to
	reduce the size of the actual change, no change in behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/feroceon.c, src/target/target.c: Wip - split target setup
	and target examination git-svn-id: svn://svn.berlios.de/openocd/trunk@564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/target.c, src/target/target.h,
	src/target/target/xba_revA3.cfg: added target->type->examine().
	Eventually this will allow for bringing up telnet/gdb *before* jtag
	chain has been validated + it might fix some reset halt problems
	seen as examine() needs to run after TRST has been asserted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: Improved XScale performance for embedded
	hosted OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - remove AC_C_VARARRAYS and set check of autoconf back to 2.59 git-svn-id: svn://svn.berlios.de/openocd/trunk@561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: stop using variable sized arrays. That's
	something that belongs to C++ and not C.  git-svn-id: svn://svn.berlios.de/openocd/trunk@560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/interface/parport.cfg: - added svn props for newly added parport.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/flash/stm32x.c,
	src/helper/binarybuffer.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m3.c, src/target/cortex_m3.h: - single core context used, removed debug context as thought
	unnecessary.  - DCRDR now used to access special core registers - info is
	currently omitted from the cortex_m3 TRM ARM have told me this is
	the preferred access method and the docs will be updated soon.  - now checks for User Thread Mode and Thread mode when halted.  - removed repeated function declarations from command.c - cortex_m3_prepare_reset_halt removed, updated
	cortex_m3_assert_reset to suit git-svn-id: svn://svn.berlios.de/openocd/trunk@558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - due to previous patch adding AC_C_VARARRAYS, autoconf v2.61 min
	required git-svn-id: svn://svn.berlios.de/openocd/trunk@557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/interface/parport.cfg,
	src/target/target/lpc2148.cfg, src/target/target/str710.cfg: target
	lib wip git-svn-id: svn://svn.berlios.de/openocd/trunk@556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: back out Don Porges workaround for some device
	with manufcaturer # 0x1a2 git-svn-id: svn://svn.berlios.de/openocd/trunk@555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/pxa255_reset.script,
	src/target/event/str912_reset.script,
	src/target/event/wi-9c_reset.script,
	src/target/event/xba_revA3.script, src/target/target/lm3s6965.cfg,
	src/target/target/readme.txt, src/target/target/wi-9c.cfg,
	src/target/target/xba_revA3.cfg: - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/command.c, src/helper/log.c,
	src/helper/replacements.c, src/helper/replacements.h,
	src/helper/time_support.c, src/helper/time_support.h,
	src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c, src/jtag/bitq.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/presto.c: Don Porges fixed c99 issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/openocd.c,
	src/target/arm7_9_common.c, src/target/target.c,
	src/target/target.h, src/target/target/lpc2148.cfg: - added "init" command. "init" and "reset" at end of startup script
	  is equivalent to daemon_startup(still supported).  - print warning if srst and trst change state at the same time when
	srst_and_trst is seperate - reset now performs a trst, examines and validates the jtag chain
	before targets assert reset - if startup fails to examine and validate the jtag chain, try a
	reset before trying again git-svn-id: svn://svn.berlios.de/openocd/trunk@552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: use jtag.c's cur/end_state global variables.  git-svn-id: svn://svn.berlios.de/openocd/trunk@551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: Edwin Olson found bug & tested fix for
	flash write_image for stellaris.  git-svn-id: svn://svn.berlios.de/openocd/trunk@550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/target/lm3s6965.cfg: 
	lm3s6965.cfg contributed by Edwin Olson git-svn-id: svn://svn.berlios.de/openocd/trunk@549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/ecos.c, src/flash/flash.c: added a
	couple of LOG_ERROR() messages to improve logfile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/pld/virtex2.c: Pavel pointed
	out that jtag_add_tlr() is better than jtag_add_tms().  git-svn-id: svn://svn.berlios.de/openocd/trunk@547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/jtag.c: The endstate now reports the
	endstate of the queue instead of reading endstate variable internal
	to the driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/server.c: Spen fixed various
	issues w.r.t. setting up the sockets for optimal performance.  git-svn-id: svn://svn.berlios.de/openocd/trunk@545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/target.c: - only if "reset halt" or "reset init" are issued will the reset
	vector be set up - If communication fails during assert between assert/deassert and
	during assert, warnings are printed. The warning suggests using
	srst_only if the clock locks up as that would allow the reset vector
	to be set up before asserting reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : at91eb40a.elf moved to src/target/ecos git-svn-id: svn://svn.berlios.de/openocd/trunk@543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: avoid patch trouble by isolating troublesome
	line...  git-svn-id: svn://svn.berlios.de/openocd/trunk@542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - added note to docs about gdb 6.8 and memory map support git-svn-id: svn://svn.berlios.de/openocd/trunk@541
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/target/at91eb40a.cfg: - the reset mode parameter is now DEPRECATED. It is implemented as
	an optional parameter with default reset_init. This is to streamline
	things w.r.t. the target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/helper/command.c,
	src/helper/command.h, src/target/Makefile.am, src/target/arm11.c,
	src/target/arm7_9_common.c, src/target/cortex_m3.c,
	src/target/target.c, src/target/target/at91eb40a.cfg,
	src/target/target/zy1000.cfg, src/target/xscale.c: - reverted some of the changes that possibly broke arm926ejs.
	Waiting for a bit more info before I can tell with confidence
	whether or not this would have any effect.  - worked on error propagation and output for flash git-svn-id: svn://svn.berlios.de/openocd/trunk@539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: added query of reset speed git-svn-id: svn://svn.berlios.de/openocd/trunk@538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-03  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: - added test results git-svn-id: svn://svn.berlios.de/openocd/trunk@537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/flash/flash.c,
	src/flash/stm32x.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv4_5.c,
	src/target/cortex_m3.c, src/target/event/str912_reset.script,
	src/target/feroceon.c, src/target/target.c, src/target/target.h,
	src/target/target/readme.txt, src/target/target/stm32.cfg,
	src/target/xscale.c: - Work on fixing erase check. Many implementations are plain broken.
	Wrote a default flash erase check fn which uses CFI's target
	algorithm w/fallback to memory reads.  - "flash info" no longer prints erase status as it is stale.  - "flash erase_check" now prints erase status. erase check can take
	a *long* time. Work in progress - arm7/9 with seperate srst & trst now supports reset init/halt
	after a power outage. arm7/9 no longer makes any assumptions about
	state of target when reset is asserted.  - fixes for srst & trst capable arm7/9 with reset init/halt - prepare_reset_halt retired. This code needs to be inside
	assert_reset anyway - haven't been able to get stm32 write algorithm to work. Fallback
	flash write does work. Haven't found a version of openocd trunk
	where this works.  - added target_free_all_working_areas_restore() which can let be of
	restoring backups. This is needed when asserting reset as the target
	must be assumed to be an unknown state.  Added some comments to
	working areas API - str9 reset script fixes - some guidelines - fixed dangling callbacks upon reset timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/str912_program.script,
	src/target/event/str912_reset.script, src/target/target/str912.cfg: 
	Edgar Grimberg sharpened the str912 target script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/str7x.c, src/flash/str9x.c: fix flash info - now reports
	erased state properly git-svn-id: svn://svn.berlios.de/openocd/trunk@534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm920t.c,
	src/target/arm926ejs.c: Added timeout(instead of infinite loop) to
	soft_reset_halt git-svn-id: svn://svn.berlios.de/openocd/trunk@533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: optional count argument to mwX git-svn-id: svn://svn.berlios.de/openocd/trunk@532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/jtag/Makefile.am, src/jtag/jtag.c: - fixes for jtag_khz committed.  - wip, flash fillw/h/b. For testing purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/jtag/jtag.h: Do not assert trst in srst_only case even if
	srst_pulls_trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: target_call_timer_callbacks_now() now invokes
	periodic callbacks immediately git-svn-id: svn://svn.berlios.de/openocd/trunk@529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Removed exit()'s. A reset is usually
	enough to work around these, reducing cycle times to get config
	scripts right.  git-svn-id: svn://svn.berlios.de/openocd/trunk@528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/pld/virtex2.c,
	src/target/event/xba_revA3.script, src/target/target/wi-9c.cfg,
	src/xsvf/xsvf.c: make jtag_add_statemove() internal to the driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/lpc2148.cfg: Edgar Grimberg: added needed delays git-svn-id: svn://svn.berlios.de/openocd/trunk@526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/target/arm7_9_common.c, src/target/cortex_m3.c: TAP_SD/SI are
	now forbidden end states.  jtag_add_reset() now returns void
	streamlining the API git-svn-id: svn://svn.berlios.de/openocd/trunk@525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/server/server.c: hooks for multithreading.
	Disable nagle git-svn-id: svn://svn.berlios.de/openocd/trunk@524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/ecos.c,
	src/flash/flash.c, src/flash/lpc2000.c,
	src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/non_cfi.c, src/flash/s3c2410_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c24xx_nand.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/flash/tms470.c,
	src/helper/binarybuffer.c, src/helper/command.c,
	src/helper/configuration.c, src/helper/fileio.c, src/helper/log.c,
	src/helper/log.h, src/helper/options.c, src/helper/replacements.h,
	src/jtag/amt_jtagaccel.c, src/jtag/at91rm9200.c,
	src/jtag/bitbang.c, src/jtag/bitq.c, src/jtag/ep93xx.c,
	src/jtag/ft2232.c, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/parport.c, src/jtag/presto.c, src/jtag/usbprog.c,
	src/openocd.c, src/pld/pld.c, src/pld/virtex2.c,
	src/pld/xilinx_bit.c, src/server/gdb_server.c, src/server/server.c,
	src/server/telnet_server.c, src/target/arm11.c,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_disassembler.c,
	src/target/arm_simulator.c, src/target/armv4_5.c,
	src/target/armv4_5_mmu.c, src/target/armv7m.c,
	src/target/breakpoints.c, src/target/cortex_m3.c,
	src/target/cortex_swjdp.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/etm_dummy.c,
	src/target/feroceon.c, src/target/image.c, src/target/oocd_trace.c,
	src/target/target.c, src/target/target_request.c,
	src/target/trace.c, src/target/xscale.c, src/xsvf/xsvf.c: - rename log functions to stop conflicts under win32 (wingdi) git-svn-id: svn://svn.berlios.de/openocd/trunk@523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/armv7m.c: - gdb server was incorrectly sending null terminator on
	qXfer:features:read: packet - armv7m now sends correct gdb register packet git-svn-id: svn://svn.berlios.de/openocd/trunk@522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - updated docs with new commands/features - added deprecated/removed commands chapter git-svn-id: svn://svn.berlios.de/openocd/trunk@521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/arm7_9_common.c,
	src/target/cortex_m3.c: - changed jtag_add_reset errors to warnings - removed extra jtag reset warnings from arm7_9 and cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/cortex_m3.c, src/target/target.c: - armv7m control register now set as dirty when switching context - armv7m added core_mode to cortex_m3_debug_entry DEBUG msg - cortex_m3 changed WARNINGS to DEBUG msg in cortex_m3_resume git-svn-id: svn://svn.berlios.de/openocd/trunk@519
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: - added new test results git-svn-id: svn://svn.berlios.de/openocd/trunk@518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/flash/cfi.c, src/jtag/bitbang.c: - fix warnings during configure cause by ecosboard. default to no,
	if host cpu isn't arm.  - fix generic bitbang code to allow scans to end in Shift-[ID]R - several CFI fixes (thanks to Michael Schwingen):  - buffer overflow when converting target code in
	   cfi_intel_write_block - cfi_fix_code_endian needs the number of
	   words, not bytes, as size argument.   - Spansion flash write was completely broken on big-endian targets
	   - I borrowed mechanisms from the intel driver, and moved some
	   common code into the cfi_command_val helper function. There is still
	   more common code that might be cleaned up.   - the buffer size check in cfi_write was broken for spansion
	   flashes, where cfi_write_words is not implemented. cfi_write_words
	   is no only called if the flash does have a buffer size >1.   - "flash info" printed CFI status information for non-CFI flashes,
	   which is confusing. It now only prints those when a real CFI flash
	is detected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: added profile command. It was added to
	simplify evaluation by testers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: reset and post reset speed & jtag_khz command
	documented.  git-svn-id: svn://svn.berlios.de/openocd/trunk@515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/target/target.h: Michael Bruck: fixed
	warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: clarified jtag_khz command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: added jtag_khz for use with
	target library git-svn-id: svn://svn.berlios.de/openocd/trunk@512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/server/gdb_server.c,
	src/target/arm7_9_common.c, src/target/target.c,
	src/target/target.h: - adds two speeds to jtag_speed. reset and post reset speed. Default
	is post reset = reset speed.  - removed infinite loop's and exit()'s upon poor arm7/9
	communication - cleaned up error messages a bit. Push ERROR() up into fn's that   fail and can say something meaningful about what failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/time_support.c,
	src/helper/time_support.h: print ms in debug_level 3 logs. Seconds
	is not enough.  git-svn-id: svn://svn.berlios.de/openocd/trunk@510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: XScale excessive waiting fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/target/arm926ejs.c: marked infinite loop
	in code w/TODO and fixed warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: Dominic undid some of my damage. CLK should
	now be set as intended in all cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: xscale now passes w/bitbang in 505 git-svn-id: svn://svn.berlios.de/openocd/trunk@506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: The bitbang driver leaves the TCK 0 when in
	idle git-svn-id: svn://svn.berlios.de/openocd/trunk@505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: This moves common code into functions so as to
	make it clear that all the jtag_add_xxx() are indeed intended to do
	the same thing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: fixed regression in XScale introduce in 297 git-svn-id: svn://svn.berlios.de/openocd/trunk@503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: more info about latest working version git-svn-id: svn://svn.berlios.de/openocd/trunk@502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: Corrections from Dominic git-svn-id: svn://svn.berlios.de/openocd/trunk@501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: tinkered a bit with testing matrix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/helper/Makefile.am,
	src/helper/replacements.h, src/jtag/Makefile.am: reduce compare
	noise. If someone should be crazy enough to try to run OpenOCD under
	eCos, then they'v got some hooks to point them in the general
	direction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: With the recent changes the TRST needs to
	happen for every reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/server.c: tidy up output a bit. No longer show
	"accepted connection" inside Telnet session.  git-svn-id: svn://svn.berlios.de/openocd/trunk@497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: - retired unused jtag events. The code was incorrect - hopefully clarified the difference between TRST and TMS reset.  - added DEBUG() statements w.r.t. state changes - TRST released and moving out of TAP_TLR are completely different
	events. Only TRST released has a DEBUG() statement git-svn-id: svn://svn.berlios.de/openocd/trunk@496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/cortex_swjdp.c,
	src/target/cortex_swjdp.h: - 16 and 32 bit unaligned accesses supported - uses packed transfers for 8/16bit read/writes greater than 4bytes - 8/16bit transfers now use address auto increment git-svn-id: svn://svn.berlios.de/openocd/trunk@495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: retire unused code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: JTAG_END_STATE is now retired. It is no longer
	queued.  git-svn-id: svn://svn.berlios.de/openocd/trunk@493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm11_dbgtap.c: - fixed jtag_add_reset(). It no longer causes jtag_execute_queue()
	  to fail for two of it's return codes. A little bit weird, but
	  compatible with existing codebase.  - tightend up error handling. Since the jtag_xxx() is a queue that
	  is either executed as things are added(hw queue) or a software
	  queue, then errors can only be caught during jtag_execute_queue().
	  No error code is therefore returned from the queuing fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c: Pavel Chromy: telnet line buffer size
	checking, history does not store repeating lines, improved history
	printing, log callback tweak git-svn-id: svn://svn.berlios.de/openocd/trunk@491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: backed out changes from 483.  git-svn-id: svn://svn.berlios.de/openocd/trunk@490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/xba_revA3.script,
	src/target/target/xba_revA3.cfg: more target scripts wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/wi-9c_reset.script: more
	target scripts wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c: Pavel Chromy: hopefully perfection for
	async output and prompt/partially typed command line handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c: Pavel Chromy: the attached patch refines PRESTO
	support and makes it work with libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c: prettier async output git-svn-id: svn://svn.berlios.de/openocd/trunk@485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - fixed a problem with big endian XScale and GDB register packets.  - hmm..... did I screw up? Was XScale and not gdb_server busted
	  here? My thinking was that OpenOCD has a canonical internal
	  representation of registers that match GDB's expectations git-svn-id: svn://svn.berlios.de/openocd/trunk@484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/Makefile.am, src/jtag/jtag.c, src/target/arm11.c,
	src/target/armv4_5.c, src/target/armv7m.c, src/target/target.h: - the jtag chain is examined and validated after GDB & telnet
	 servers are up and running. The examination and validation is
	 actually "optional" from the point of view of GDB + telnet servers.   Multiple targets should work fine with this.  - jtag_speed is dropped(divisor is increased), if jtag examination
	 and validation fails.  - the chain is validated 10x to catch the worst jtag_speed offences - added LOG_SILENT that can be used to shut up log. Feeble  ersatz for try+catch.  - GDB register packets are now always replied in order to make sure  that GDB connect works. If the target is not halted, then these  packets contain dummy values.  git-svn-id: svn://svn.berlios.de/openocd/trunk@483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/target.c: - Fixed various error handling when looking for memory leaks - Fixed memory leak in gdb_server.c - pushed "Error:" statements up into fn's that know something about
	what went wrong - load_image now fails if target_write_memory() fails - only issue an asynchronous halt() upon connect of GDB. Synchronous
	  halt/reset doesn't really work as what's required to initialize the
	  target might involve a special monitor sequence for the target in
	question - syntax error handling improved(fewer exit()'s) git-svn-id: svn://svn.berlios.de/openocd/trunk@482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.h: - LOG_SILENT can be used to silence the log(needed in upcoming
	patches) - ERROR_FAIL - added to emphasize that information about what went
	 wrong is contained in Error: log statements and not in a 32 bit
	return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: added stm32.cfg to install list git-svn-id: svn://svn.berlios.de/openocd/trunk@480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c: Michael Bruck: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/stm32.cfg: - add stm32 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/arm11.c: - added more TARGET_HALTED checks for the read/write_memory handlers - added new commands arm11 mrc and arm11 mcr to generate these
	instructions during debug Thanks Michael Bruck git-svn-id: svn://svn.berlios.de/openocd/trunk@477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target/sam7s256.cfg: typo.  git-svn-id: svn://svn.berlios.de/openocd/trunk@476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/arm11.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/armv4_5.c,
	src/target/armv7m.c, src/target/cortex_m3.c, src/target/target.c,
	src/target/target.h, src/target/xscale.c: - Improves error handling upon GDB connect - switch to synchronous halt during connect. This fixes the bug   where poll() was not invoked between halt() and servicing the   'g' register packet - halt() no longer returns error code when target is already halted,
	  just logs a warning. Only the halt() implementation can say anything   meaningful about why a halt() failed, so error messages are pushed   up to halt() - fixed soft_reset_halt infinite loop bug in arm7_9_common.c. The
	  rest of the implementations are still busted.  - by using USER() instead of command_print() the log gets the   source + line #. Nice.  - no longer invoke exit() if soft_reset_halt fails. A reset can
	  often fix the problem.  git-svn-id: svn://svn.berlios.de/openocd/trunk@475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c: Asynchronous output information from
	e.g. a halt is now displayed again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: - fix cross endian ELF loading git-svn-id: svn://svn.berlios.de/openocd/trunk@473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: - The elf loader incorrectly assumed that the program header always
	follows the ELF header. (Thanks Michael Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/ecos.c, src/flash/stellaris.c,
	src/flash/tms470.c, src/helper/fileio.c, src/helper/fileio.h,
	src/jtag/jtag.c, src/target/etm.c: Michael Bruck: fixed warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: Edgar Grimberg, fix
	arm926ejs_examine_debug_reason return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: Added some timeout handling to XScale so
	OpenOCD doesn't get completely stuck when the target needs a reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/pxa255_reset.script,
	src/target/target/pxa255.cfg, src/target/target/pxa255_sst.cfg: 
	minor corrections for target scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - correct spelling typo in stm32x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c: Pavel Chromy, the patch fixes an issue with
	PRESTO & FTD2XX under Linux.  git-svn-id: svn://svn.berlios.de/openocd/trunk@466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c, src/helper/log.h: 
	alloc_printf and alloc_vprintf git-svn-id: svn://svn.berlios.de/openocd/trunk@465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/wi-9c_reset.script, src/target/target/wi-9c.cfg: 
	wi-9c target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/server/telnet_server.h: Removed
	code that inserted prompt after printing asynchronous information.
	Current implementation was broken beyond repair.  git-svn-id: svn://svn.berlios.de/openocd/trunk@463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/str710_program.script,
	src/target/event/str912_program.script, testing/index.html: - added str912/str710_program.script - added test infos from r459 git-svn-id: svn://svn.berlios.de/openocd/trunk@462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: removed excessive debug output. Perhaps
	a debug_level 4 should be introduced? Hopefully it can be avoided as
	this was the only case where debug output was going through the
	roof.  git-svn-id: svn://svn.berlios.de/openocd/trunk@461
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: Cosmetic fixes from Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Pavel Chromy: va_copy should always be paired
	with va_end.  git-svn-id: svn://svn.berlios.de/openocd/trunk@459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ChangeLog: retired git-svn-id: svn://svn.berlios.de/openocd/trunk@458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: use jtag_execute_queue() instead of
	jtag->execute_queue() git-svn-id: svn://svn.berlios.de/openocd/trunk@457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c: tms is never referenced, confusing old code
	left behind probably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: comment.  git-svn-id: svn://svn.berlios.de/openocd/trunk@455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Pavel Chromy: faster alloc_printf() git-svn-id: svn://svn.berlios.de/openocd/trunk@454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: Pavel Chromy: performance tweak of
	gdb_put_packet_inner() removing malloc and avoiding memcpy of larger
	blocks of data, git-svn-id: svn://svn.berlios.de/openocd/trunk@453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11_dbgtap.c: Michael Bruck: - force simulate_reset_on_next_halt when target state is initially
	detected - print out method of debug entry - fix VCR activation (didn't work before) git-svn-id: svn://svn.berlios.de/openocd/trunk@452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Michael Bruck: 64 bit va_list fix for crash git-svn-id: svn://svn.berlios.de/openocd/trunk@451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: make debug code w.r.t. incorrect args for bypass
	stricter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c, src/target/xscale.c: warnings & comments
	fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm7_9_common.c,
	src/target/embeddedice.c, src/target/embeddedice.h: - This speeds up dcc arm7_9 bulk write a little bit and exercises
	the jtag_add_dr_out() codepath - added a check to jtag_add_pathmove() for legal path transitions - tweaked jtag.h docs a little bit - made some jtag bypass tests _DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/target/embeddedice.c,
	src/target/embeddedice.h: added jtag_add_dr_out(). Better for hw
	fifo, same for software fifo.  Passes 94kBytes/s regression test.  Works with str912, which relies on bypass git-svn-id: svn://svn.berlios.de/openocd/trunk@447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/at91sam7.h, src/flash/flash.c,
	src/flash/flash.h, src/flash/stellaris.c: Pavel Chromy: memory leak
	in at91sam7 flash driver, possible incorrect pointer conversion in
	gpnvm command handling, uninitialized buffer issue in
	handle_flash_info_command in flash.c, some formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/server/gdb_server.c,
	src/server/server.c, src/target/target.c, src/target/target.h: * fixed malloc corruption in target->debug_reason 	* GDB remote server will now remain online even if the target 	  is in a funny state, e.g. if it requires a reset, it is 	  running while GDB is not in the continue or step packet, 	  e.g. via monitor resume/halt commands in GDB script.  	* Added some _DEBUG_GDB_IO_ debug tools 	* Fixed a couple of GDB server lockups, e.g. when O packets 	  detect a severed connection 	* added ACK upon connection (send +).  	* added keep-alive messages to reset so GDB protocol remains happy.  	* fixed crash when timing out connection to GDB git-svn-id: svn://svn.berlios.de/openocd/trunk@445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c: telnet_port can now be invoked
	multiple times git-svn-id: svn://svn.berlios.de/openocd/trunk@444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/flash.h, src/server/gdb_server.c: 
	Bogus error message in GDB removed git-svn-id: svn://svn.berlios.de/openocd/trunk@443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/server/gdb_server.c, src/target/target.c: 
	Fixed GDB timeout crash - regression introduced back when
	log_add/remove_callback was added.  git-svn-id: svn://svn.berlios.de/openocd/trunk@442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.h: Michael Bruck - fix warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck: fix warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	Michael Bruck: - Added simulate_reset_on_next_halt that can be extended to do all
	sorts of cleanups for systems without proper reset. Right now it
	just writes 0 to the control register to disable caches.  - Step skips over Wait for Interrupt instruction - fix for count - fix for printf format errors git-svn-id: svn://svn.berlios.de/openocd/trunk@439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/event/at91sam9260_reset.script,
	src/target/event/zy1000_reset.script,
	src/target/target/at91sam9260.cfg, src/target/target/nslu2.cfg,
	src/target/target/pxa255.cfg, src/target/target/pxa255_sst.cfg,
	src/target/target/zy1000.cfg: - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/cortex_m3.c,
	src/target/feroceon.c, src/target/xscale.c: I fixed all the targets
	even though I could only prove that XScale was busted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: added fill_malloc test. Not quite sure what to
	do here yet, but it would be good to have something...  git-svn-id: svn://svn.berlios.de/openocd/trunk@436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/target/Makefile.am,
	src/target/event/at91sam9260_reset.script,
	src/target/event/zy1000_reset.script,
	src/target/target/at91sam9260.cfg, src/target/target/nslu2.cfg,
	src/target/target/pxa255.cfg, src/target/target/pxa255_sst.cfg,
	src/target/target/zy1000.cfg: added at91sam9260.cfg, nslu2.cfg,
	pxa255.cfg, pxa255_sst.cfg zy1000.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.h: some comments from Dominic git-svn-id: svn://svn.berlios.de/openocd/trunk@434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: - Added coding style to README git-svn-id: svn://svn.berlios.de/openocd/trunk@433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ecosflash/Makefile, ecosflash/flash.S, ecosflash/flash.c: fixed
	FSF address. Uwe Hermann.  git-svn-id: svn://svn.berlios.de/openocd/trunk@430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/event/at91eb40a_reset.cfg,
	src/target/event/at91eb40a_reset.script,
	src/target/event/at91r40008_reset.script,
	src/target/event/sam7s256_reset.script,
	src/target/event/sam7x256_reset.script,
	src/target/target/at91eb40a.cfg, src/target/target/at91r40008.cfg,
	src/target/target/lpc2148.cfg, src/target/target/lpc2294.cfg,
	src/target/target/sam7s256.cfg, src/target/target/sam7x256.cfg,
	src/target/target/str710.cfg, src/target/target/str912.cfg: target
	scripts for test suite.  git-svn-id: svn://svn.berlios.de/openocd/trunk@429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: wrote up explaining why tests are done on
	committed code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: wrote up explaining why tests are done on
	committed code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* contrib/libdcc/README, contrib/libdcc/dcc_stdio.c,
	contrib/libdcc/dcc_stdio.h, contrib/libdcc/example.c: - contrib directory added - libdcc added as example for dcc comms with openocd target_request
	debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: - added test result for r423 git-svn-id: svn://svn.berlios.de/openocd/trunk@425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: fix memory corruption regression introduced
	in 335 git-svn-id: svn://svn.berlios.de/openocd/trunk@424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/options.c, src/openocd.c, src/target/arm_simulator.c: - removed warnings "xxxxx" might be used uninitialized in this
	function (arm_simulator.c) - some cosmetic changes git-svn-id: svn://svn.berlios.de/openocd/trunk@423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/STR710JtagSpeed/inc/typedefs.h,
	testing/examples/STR710JtagSpeed/makefile,
	testing/examples/STR710JtagSpeed/prj/eclipse_ft2232_ram.gdb,
	testing/examples/STR710JtagSpeed/prj/str710_jtagkey.cfg,
	testing/examples/STR710JtagSpeed/prj/str7_ram.ld,
	testing/examples/STR710JtagSpeed/src/crt.s,
	testing/examples/STR710JtagSpeed/src/main.c: - added example for testing the JTAG speed with a FT2232 device git-svn-id: svn://svn.berlios.de/openocd/trunk@422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/embeddedice.c: backed out
	jtag_add_shift() git-svn-id: svn://svn.berlios.de/openocd/trunk@421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/AT91R40008Test/prj/at91r40008_reset.script,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/AT91R40008Test/prj/eclipse_ram.gdb,
	testing/examples/AT91R40008Test/prj/ethernut3_ram.ld: - updated svn:eol-style prop to native for AT91R40008 (Thanks to
	Spen for the hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/AT91R40008Test/inc/typedefs.h,
	testing/examples/AT91R40008Test/makefile,
	testing/examples/AT91R40008Test/prj/at91r40008_reset.script,
	testing/examples/AT91R40008Test/prj/at91r40008_turtle.cfg,
	testing/examples/AT91R40008Test/prj/eclipse_ram.gdb,
	testing/examples/AT91R40008Test/prj/ethernut3_ram.ld,
	testing/examples/AT91R40008Test/src/crt.s,
	testing/examples/AT91R40008Test/src/main.c, testing/index.html: - added at91r40008 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/LPC2148Test/prj/eclipse_ram.gdb,
	testing/examples/LPC2148Test/prj/eclipse_rom.gdb,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_ram.ld,
	testing/examples/LPC2148Test/prj/lpc2148_rom.ld,
	testing/examples/LPC2294Test/prj/eclipse_ram.gdb,
	testing/examples/LPC2294Test/prj/eclipse_rom.gdb,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_ram.ld,
	testing/examples/LPC2294Test/prj/lpc2294_rom.ld,
	testing/examples/SAM7S256Test/prj/eclipse_ram.gdb,
	testing/examples/SAM7S256Test/prj/eclipse_rom.gdb,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_ram.ld,
	testing/examples/SAM7S256Test/prj/sam7s256_reset.script,
	testing/examples/SAM7S256Test/prj/sam7s256_rom.ld,
	testing/examples/STR912Test/prj/eclipse_ram.gdb,
	testing/examples/STR912Test/prj/eclipse_rom.gdb,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_program.script,
	testing/examples/STR912Test/prj/str912_ram.ld,
	testing/examples/STR912Test/prj/str912_rom.ld: - updated svn:eol-style prop to native git-svn-id: svn://svn.berlios.de/openocd/trunk@418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/SAM7X256Test/inc/typedefs.h,
	testing/examples/SAM7X256Test/makefile,
	testing/examples/SAM7X256Test/prj/eclipse_ram.gdb,
	testing/examples/SAM7X256Test/prj/eclipse_rom.gdb,
	testing/examples/SAM7X256Test/prj/sam7x256_jtagkey.cfg,
	testing/examples/SAM7X256Test/prj/sam7x256_ram.ld,
	testing/examples/SAM7X256Test/prj/sam7x256_reset.script,
	testing/examples/SAM7X256Test/prj/sam7x256_rom.ld,
	testing/examples/SAM7X256Test/src/crt.s,
	testing/examples/SAM7X256Test/src/main.c, testing/index.html: - added sam7x256 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: improve DCC bulk write performance by
	using jtag_add_shift() + tweaked embedded ICE communication.  git-svn-id: svn://svn.berlios.de/openocd/trunk@416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/SAM7S256Test/inc/typedefs.h,
	testing/examples/SAM7S256Test/makefile,
	testing/examples/SAM7S256Test/prj/eclipse_ram.gdb,
	testing/examples/SAM7S256Test/prj/eclipse_rom.gdb,
	testing/examples/SAM7S256Test/prj/sam7s256_jtagkey.cfg,
	testing/examples/SAM7S256Test/prj/sam7s256_ram.ld,
	testing/examples/SAM7S256Test/prj/sam7s256_reset.script,
	testing/examples/SAM7S256Test/prj/sam7s256_rom.ld,
	testing/examples/SAM7S256Test/src/crt.s,
	testing/examples/SAM7S256Test/src/main.c, testing/index.html: - added sam7s256 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.c: Now uses jtag_add_shift() via
	embeddedice_write_reg_inner().  git-svn-id: svn://svn.berlios.de/openocd/trunk@414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/LPC2294Test/inc/typedefs.h,
	testing/examples/LPC2294Test/makefile,
	testing/examples/LPC2294Test/prj/eclipse_ram.gdb,
	testing/examples/LPC2294Test/prj/eclipse_rom.gdb,
	testing/examples/LPC2294Test/prj/lpc2294_jtagkey.cfg,
	testing/examples/LPC2294Test/prj/lpc2294_ram.ld,
	testing/examples/LPC2294Test/prj/lpc2294_rom.ld,
	testing/examples/LPC2294Test/src/crt.s,
	testing/examples/LPC2294Test/src/main.c, testing/index.html: - added lpc2294 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: log_remove_callback git-svn-id: svn://svn.berlios.de/openocd/trunk@412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/LPC2148Test/inc/typedefs.h,
	testing/examples/LPC2148Test/makefile,
	testing/examples/LPC2148Test/prj/eclipse_ram.gdb,
	testing/examples/LPC2148Test/prj/eclipse_rom.gdb,
	testing/examples/LPC2148Test/prj/lpc2148_jtagkey.cfg,
	testing/examples/LPC2148Test/prj/lpc2148_ram.ld,
	testing/examples/LPC2148Test/prj/lpc2148_rom.ld,
	testing/examples/LPC2148Test/src/crt.s,
	testing/examples/LPC2148Test/src/main.c,
	testing/examples/STR912Test/makefile, testing/index.html: - added lpc2148 test example, and test result - corrected str912 makefile eof git-svn-id: svn://svn.berlios.de/openocd/trunk@411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/STR912Test/inc/typedefs.h,
	testing/examples/STR912Test/makefile,
	testing/examples/STR912Test/prj/eclipse_ram.gdb,
	testing/examples/STR912Test/prj/eclipse_rom.gdb,
	testing/examples/STR912Test/prj/str912_jtagkey.cfg,
	testing/examples/STR912Test/prj/str912_program.script,
	testing/examples/STR912Test/prj/str912_ram.ld,
	testing/examples/STR912Test/prj/str912_rom.ld,
	testing/examples/STR912Test/src/main.c,
	testing/examples/STR912Test/src/startup.s, testing/index.html: - added str912 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: wip. fixed gaffe in jtag_add_shift() git-svn-id: svn://svn.berlios.de/openocd/trunk@409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/index.html: - added test result for str710, and test description git-svn-id: svn://svn.berlios.de/openocd/trunk@408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/STR710Test/inc/typedefs.h,
	testing/examples/STR710Test/makefile,
	testing/examples/STR710Test/prj/eclipse_ram.gdb,
	testing/examples/STR710Test/prj/eclipse_rom.gdb,
	testing/examples/STR710Test/prj/hitex_str7_ram.ld,
	testing/examples/STR710Test/prj/hitex_str7_rom.ld,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_program.script,
	testing/examples/STR710Test/src/crt.s,
	testing/examples/STR710Test/src/main.c: - added svn prop eol-style native - fixed mixed line endings on crt.s git-svn-id: svn://svn.berlios.de/openocd/trunk@407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* testing/examples/STR710Test/inc/typedefs.h,
	testing/examples/STR710Test/makefile,
	testing/examples/STR710Test/prj/eclipse_ram.gdb,
	testing/examples/STR710Test/prj/eclipse_rom.gdb,
	testing/examples/STR710Test/prj/hitex_str7_ram.ld,
	testing/examples/STR710Test/prj/hitex_str7_rom.ld,
	testing/examples/STR710Test/prj/str710_jtagkey.cfg,
	testing/examples/STR710Test/prj/str710_program.script,
	testing/examples/STR710Test/src/crt.s,
	testing/examples/STR710Test/src/main.c: - added STR710 example which I used for Eclipse debug testing git-svn-id: svn://svn.berlios.de/openocd/trunk@406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: error handling fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_jtag.c: added an #error in case anybody tries to
	compile that broken code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: fixed stack corruption. Introduced when
	_check_value was phased out.  git-svn-id: svn://svn.berlios.de/openocd/trunk@403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/cortex_m3.c: - fix bug with emulated cortex_m3 dcc channel git-svn-id: svn://svn.berlios.de/openocd/trunk@402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/fdl.texi, doc/openocd.texi: - update openocd.texi to fdl 1.2 git-svn-id: svn://svn.berlios.de/openocd/trunk@401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* TODO, src/target/target.c: Tweaked logging output.  TODO is retired(hopelessly out of date).  git-svn-id: svn://svn.berlios.de/openocd/trunk@400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.1, src/helper/options.c: Uwe Hermann: Add a --version
	switch for openocd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh: Pavel Chromy fix: the guess-rev.sh scripts to
	retrieve SVN revision returns the result including new line causing
	PKGBLDREV macro to not work git-svn-id: svn://svn.berlios.de/openocd/trunk@398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README: Uwe Hermann: Updated version which applies cleanly after
	the recent whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, src/flash/nand.c, src/flash/nand.h,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/s3c24xx_regs_nand.h, src/flash/stellaris.c,
	src/flash/stellaris.h, src/flash/tms470.c, src/flash/tms470.h,
	src/jtag/usbprog.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/cortex_swjdp.c,
	src/target/feroceon.c, src/target/target_request.h: Uwe Hermann:
	Small cosmetic fixes in the license header to make them all look the
	same, fix some typos, update README.  git-svn-id: svn://svn.berlios.de/openocd/trunk@396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: Pavel Chromy: add missing newlines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.1: Uwe Hermann: mproves the manpage text a bit and
	adds the missing -s and -c options.  git-svn-id: svn://svn.berlios.de/openocd/trunk@394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: lingering patch from Pavel Chromy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/server/telnet_server.c: formatting fixes
	from Pavel Chromy git-svn-id: svn://svn.berlios.de/openocd/trunk@392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm11.c, src/target/arm11.h, src/target/arm11_dbgtap.c: 
	remove warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c, src/flash/flash.c, src/flash/nand.c,
	src/helper/fileio.c, src/helper/fileio.h,
	src/target/arm7_9_common.c, src/target/etm.c, src/target/image.c,
	src/target/image.h, src/target/xscale.c: - image.c and fileio.c now uses logging to propagate error strings.   More precise, less code.  - removed unused code in fileio.c - Windows should now find debug_handler.bin git-svn-id: svn://svn.berlios.de/openocd/trunk@390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/configuration.h,
	src/helper/interpreter.c, src/helper/log.c,
	src/server/gdb_server.c, src/target/target.c: - clean up target output strings a bit - open_file_from_path() now uses logging feature - open_file_from_path() no longer uses paths for anything but "r"
	  mode. Fixes bug  waiting to happen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: do not write single chars to log file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Pavel Chromy: clarify error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/server/gdb_server.c,
	src/server/telnet_server.c, src/target/target_request.c: Summary:
	passing of variable argument list reduced, strings sent to logging
	are now formatted just once - more efficient.  As a result, ugly
	string malloc+strcpy are not needed anymore.  git-svn-id: svn://svn.berlios.de/openocd/trunk@386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/target.c: Michael Bruck: arm11 --- Added burst memory transfer mode This does not explicitly query command execution but rather uses a
	small delay produced by the FT2232 on certain TAP commands.  A potential failure of this process is detected afterwards and the
	program terminates with an error.  'arm11 memwrite burst disable'   can be used to switch this feature off.  'arm11 memwrite error_fatal disable'   can be used to prevent the program to exit on an memory write
	  error --- Added support for interrupt breaking via VCR register Use 'arm11 vcr' command to set.  --- Cleaned up the handling of halt/resume/step/poll, target->state, target->debug_reason,
	target_call_event_callbacks() at least as far as I could guess the
	intended behaviour from other targets.  Did some overall positive tests with GDB.  --- Added support for breakpoints Hardware breakpoints only. All breakpoints will be treated as
	hardware breakpoints.  All ARM11's seem to have at least 6 hardware breakpoints.  --- Stepping over BKPT added Modification to PC without touching the target.  --- Stepping over a B or BL to self will do nothing git-svn-id: svn://svn.berlios.de/openocd/trunk@385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: Michael Bruck: - fix indentation of multi-level commands - make help command work with multi-level commands git-svn-id: svn://svn.berlios.de/openocd/trunk@384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ecosflash/Makefile, ecosflash/flash.S, ecosflash/flash.c,
	ecosflash/notes.txt: changed to eCos license.  git-svn-id: svn://svn.berlios.de/openocd/trunk@383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.h: fixed newline gaffe in OUTPUT() git-svn-id: svn://svn.berlios.de/openocd/trunk@382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.h, src/helper/options.c: Pavel Chromy spotted
	duplicated newlines gaffe from yours sincerely.  git-svn-id: svn://svn.berlios.de/openocd/trunk@381
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: Pavel Chromy spotted a leak git-svn-id: svn://svn.berlios.de/openocd/trunk@380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.1: Uwe Hermann: Simplify the manpage by removing lots
	of redundant information which is already in the README or texinfo
	(and which needs to be updated relatively often -- list of authors,
	list of supported JTAG devices etc).  git-svn-id: svn://svn.berlios.de/openocd/trunk@379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: numerous fixes from  Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: small line ending cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: Pavel Chromy - cleanup error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: fix gaffe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c, src/flash/stellaris.c,
	src/flash/stellaris.h, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/tms470.c, src/flash/tms470.h: Pavel
	Chromy cleaned up checks for halted, error messages, etc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - svn file props set to LF endings git-svn-id: svn://svn.berlios.de/openocd/trunk@373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS, doc/configs/fury_ft2232.cfg,
	doc/scripts/tms470r1a288_startup.script, ecosflash/notes.txt,
	src/flash/ecos.c, src/flash/flash.c, src/helper/Makefile.am,
	src/helper/log.c, src/server/gdb_server.c, src/target/Makefile.am,
	src/target/event/at91eb40a_reset.cfg,
	src/target/target/at91eb40a.cfg, src/target/xscale/build.sh,
	testing/index.html: - added svn props - fixed mixed line endings on flash.c, log.c, gdb_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/embeddedice.h: code to be used in upcoming minidriver
	work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.h: added some code that will be used in
	upcoming minidriver work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ecosflash/Makefile, ecosflash/flash.S, ecosflash/flash.c: fix
	copyright.  git-svn-id: svn://svn.berlios.de/openocd/trunk@368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: jtag_add_shift() fn - minidriver
	work in progress.  git-svn-id: svn://svn.berlios.de/openocd/trunk@367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/ecos.c: lingering change for eCos flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* ecosflash/Makefile, ecosflash/flash.S, ecosflash/flash.c,
	ecosflash/flash.map, ecosflash/notes.txt, src/flash/Makefile.am,
	src/flash/ecos.c, src/flash/flash.c: eCos flash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/command.h,
	src/helper/interpreter.c, src/helper/log.c, src/helper/log.h,
	src/server/gdb_server.c, src/server/telnet_server.c,
	src/target/target_request.c, src/target/target_request.h: - Added TARGET_REQ_DEBUGCHAR target_request debugmsg. This   provides a better impeadance match for debug output char fn's,
	  e.g. eCos.  - Line endings are now added at the caller site of command_print*().
	  command_print() still adds a line ending - echo of commands in scripts are now available via debug_level
	  instead of forced echo - Added a USER_SAMELINE() for printing without a lineend.  git-svn-id: svn://svn.berlios.de/openocd/trunk@364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - fix line-endings git-svn-id: svn://svn.berlios.de/openocd/trunk@363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c, src/jtag/amt_jtagaccel.c,
	src/jtag/gw16012.c, src/jtag/parport.c: - fix line-endings git-svn-id: svn://svn.berlios.de/openocd/trunk@362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: Uwe Hermann Add @dircategory and @direntry to
	the info page -- they're used to add the openocd info page to the
	global  index of info pages in the system (usually
	/usr/share/info/dir).  git-svn-id: svn://svn.berlios.de/openocd/trunk@361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/s3c2412_nand.c, src/flash/s3c2440_nand.c,
	src/flash/s3c2443_nand.c, src/jtag/amt_jtagaccel.c,
	src/jtag/gw16012.c, src/jtag/parport.c: Uwe Hermann fixed some
	warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, doc/openocd.texi: - correct line endings from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ep93xx.c: - fix typo in ep93xx jtag driver to allow OpenOCD compilation on ARM
	(thanks to Uwe Hermann for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - fix bug in ft2232 pathmove (thanks to Michael Bruck for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, doc/openocd.texi: Nicolas Pitre listed some more devices.  git-svn-id: svn://svn.berlios.de/openocd/trunk@356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: - fix issue when target is already halted git-svn-id: svn://svn.berlios.de/openocd/trunk@355
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c, src/flash/tms470.h: - code reformat (Thanks Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: fix naming conflict under Windows.  git-svn-id: svn://svn.berlios.de/openocd/trunk@353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: oopss.. another jtag minidriver reset gaffe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: jtag_add_reset() minidriver gaffe fixed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Next step in the JTAG
	minidriver. This should be fairly close to the final thing, but I'm
	not calling it "done" quite yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: - jtag minidriver work in progress - svn:eol-style=native. Let's see how that works out :-) git-svn-id: svn://svn.berlios.de/openocd/trunk@349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c, src/helper/configuration.h,
	src/helper/log.c, src/helper/options.c, src/jtag/jtag.c,
	src/server/server.c: - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.h, src/flash/cfi.c, src/flash/s3c2440_nand.c,
	src/flash/str9xpec.c, src/helper/command.c,
	src/helper/configuration.c, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/helper/replacements.h, src/jtag/bitq.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/jtag/usbprog.c, src/openocd.c, src/pld/virtex2.c,
	src/server/gdb_server.c, src/server/server.c,
	src/server/telnet_server.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/cortex_swjdp.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etb.h, src/target/etm.c,
	src/target/etm.h, src/target/etm_dummy.h, src/target/oocd_trace.h,
	src/target/target.c, src/target/xscale.c, src/xsvf/xsvf.c: - convert all files to unix line-ending git-svn-id: svn://svn.berlios.de/openocd/trunk@347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c, src/helper/log.h,
	src/helper/options.c, src/openocd.c, src/server/gdb_server.c,
	src/server/telnet_server.c: Pavel Chromy - multiple log listeners - added OUTPUT() to replace printf - fix formatting git-svn-id: svn://svn.berlios.de/openocd/trunk@346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.h, src/jtag/bitq.c, src/jtag/usbprog.c: Pavel
	Chromy style fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h: Fix from Pavel Chromy.
	https://lists.berlios.de/pipermail/openocd-development/2008-February/001018.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/options.c: - Fix target library path problem w/Windows git-svn-id: svn://svn.berlios.de/openocd/trunk@342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/pld/virtex2.c, src/target/arm11.c, src/target/arm11.h,
	src/target/arm11_dbgtap.c, src/target/arm720t.c,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/cortex_swjdp.c, src/target/embeddedice.c,
	src/target/etb.c, src/target/etm.c, src/target/target.c,
	src/target/xscale.c, src/xsvf/xsvf.c: From Michael Bruck - bugfix in server.c - removed unused parameter from jtag_add_ir_scan et al. This wasn't
	necessary in hindsight but anyway.  - arm11 source committed but not not in Makefile.am/target.c for
	now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/server.c: committed bugfix from Michael Bruck git-svn-id: svn://svn.berlios.de/openocd/trunk@340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/lpc3180_nand_controller.c,
	src/flash/nand.c, src/flash/stellaris.c, src/flash/stm32x.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9xpec.c,
	src/helper/interpreter.c, src/server/gdb_server.c: dos2unix fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/lpc2000.c,
	src/helper/configuration.c, src/helper/options.c, src/jtag/jtag.c,
	src/server/server.c, src/server/telnet_server.c,
	src/target/target.c: - using ERROR_COMMAND_SYNTAX_ERROR to print syntax in a couple of
	places - some more flash cleanup of checking halted state - moved output handler into options.c - very slightly tweaked server.c to make it a bit more compatible
	with eCos - retired arch_state. Not quite sure how I managed to leave that out
	last time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/flash.c,
	src/flash/flash.h, src/flash/lpc2000.c,
	src/flash/lpc3180_nand_controller.c, src/flash/nand.c,
	src/flash/stellaris.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str9x.c, src/flash/str9xpec.c, src/helper/interpreter.c,
	src/server/gdb_server.c, src/target/target.h: - "flash write_binary" is now "flash write_bank" to clarify the
	 focus of the command and reduce confusion with "flash write_image".  - retired deprecated "flash erase" & "flash write".  - added flash_driver_protect/write/erase() that are wafer thin
	 frontend functions to low level driver functions. They implement
	 checks that were inconsistently handled by the drivers, e.g. check
	 for target halted was done in a spotty fashion.  - use return ERROR_COMMAND_SYNTAX_ERROR to print out  syntax of command instead of having lots of inlined replicas of  the command line syntax(some of which were wrong).  - use logging instead of dubious translation of error values to  human understandable explanations of why things failed.   The lower levels log the precise reason and the higher  levels can ammend context as the error propagates up  the call stack.  - simplified flash API slightly with logging instead of  allocating and returning information that the caller then  has to translate into print statements.  git-svn-id: svn://svn.berlios.de/openocd/trunk@337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/armv7m.c, src/target/armv7m.h: Michael Bruck spotted an
	omission in svn 322 git-svn-id: svn://svn.berlios.de/openocd/trunk@336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c, src/target/xscale.c, src/target/xscale.h: - added "xscale fast_memory_access" which speeds up memory  access by disabling "unecessary" checks.  - arm926ejs. Added missing type->mmu and type->virt2phys fn's.   for now these are used by working_area when specifying  mmu enabled and mmu not enabled address git-svn-id: svn://svn.berlios.de/openocd/trunk@335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/configuration.c,
	src/helper/options.c: move options handling to separate file to
	better support embedded implementations of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/Makefile.am, src/helper/configuration.c,
	src/target/Makefile.am, src/target/event/at91eb40a_reset.cfg,
	src/target/target/at91eb40a.cfg: - added -c option that will execute an openocd command - added at91eb40a target library example.  git-svn-id: svn://svn.berlios.de/openocd/trunk@333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/armv4_5.c, src/target/armv4_5.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/target.c, src/target/target.h,
	src/target/xscale.c: - fixed target->type->poll() return value - added arch_state to show status of currently selected target - simplified target->type->arch_state() api.  - clean up telnet output a bit - fixed GDB output for arch_state - removed a couple of unecessary exit()'s - cleaned up error propagation a bit in a few places git-svn-id: svn://svn.berlios.de/openocd/trunk@332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: disable cfi_write_words(). Broken for spansion,
	fallback is a slower codepath that is reported to work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: debug_level 3 now prints seconds since start of
	openocd git-svn-id: svn://svn.berlios.de/openocd/trunk@330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h: - concretize JTAG state transition rules (previously implied
	behaviour is now documented) git-svn-id: svn://svn.berlios.de/openocd/trunk@329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/jtag/jtag.h, src/xsvf/xsvf.c: sharpend JTAG
	docs w.r.t. hw fifo implementations and retired jtag_cancel_queue()
	which is inheritely incompatible with a hw fifo concept.  git-svn-id: svn://svn.berlios.de/openocd/trunk@328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added svn:ignore for files generated by bootstrap + build
	process.  git-svn-id: svn://svn.berlios.de/openocd/trunk@327
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/server.c: - fixes possible crash when GDB connection is closed while target is
	running due to log callback sending messages to connection which
	does not exist anymore (thanks to Pavel Chromy for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@325
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c, src/target/arm926ejs.h,
	src/target/feroceon.c: - fix for feroceon CP15 register access (thanks to Niolas Pitre for
	this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/nand.c: - Use NAND extended geometry information (thanks to Ben Dooks for
	this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, testing/index.html: - added a test document as a starting point - corrected URL information for the repro git-svn-id: svn://svn.berlios.de/openocd/trunk@322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/time_support.c: - added time command - changed syntax of time measurements to seconds, e.g. 1.2324s git-svn-id: svn://svn.berlios.de/openocd/trunk@321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: - added patch to remove count and time information from log_printf
	in case of debug_level is not set to LOG_DEBUG git-svn-id: svn://svn.berlios.de/openocd/trunk@320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - cosmetic changes to print out version without line number/time git-svn-id: svn://svn.berlios.de/openocd/trunk@319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - fix read/write size for small unaligned accesses (thanks Michael
	Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c: - added patch to solve problem with AT91SAM7SE MCU have 3, rather
	than just 2 GPNVM bits.  (Thanks to Pavel for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: - added patch to make single-stepping more resilient (thanks to
	Nicolas Pitre for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-21  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/arm7_9_common.h,
	src/target/arm926ejs.h, src/target/arm9tdmi.h,
	src/target/feroceon.c, src/target/target.c: - add support for Marvell Feroceon (thanks to Nicolas Pitre for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/configuration.c: - fix bug when using full paths to config files. Thanks Ted Roth git-svn-id: svn://svn.berlios.de/openocd/trunk@314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: - added patch which fixed big/small endian problems on non-x86 host
	CPUs.

	https://lists.berlios.de/pipermail/openocd-development/2008-February/000846.html(thanks to Øyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/helper/Makefile.am,
	src/helper/configuration.c, src/helper/configuration.h,
	src/helper/interpreter.c, src/server/gdb_server.c,
	src/target/target.c: - add search paths via new arg -s (-search). Thanks Ted Roth - updated docs for new command git-svn-id: svn://svn.berlios.de/openocd/trunk@312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/nand.c, src/flash/nand.h,
	src/flash/s3c2410_nand.c, src/flash/s3c2412_nand.c,
	src/flash/s3c2440_nand.c, src/flash/s3c2443_nand.c,
	src/flash/s3c24xx_nand.c, src/flash/s3c24xx_nand.h,
	src/flash/s3c24xx_regs_nand.h: - add support for the majority of the Samsung ARM SoC family,
	S3C2410, S3C2412, S3C2413, S3C2440 and S3C2443 (thanks to Ben Dooks
	for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/helper/command.c, src/helper/command.h,
	src/target/arm7_9_common.c, src/target/armv4_5.c,
	src/target/armv4_5_mmu.c, src/target/target.c, src/target/target.h,
	src/target/xscale.c: - Fixed bug in pathmove for XScale - added virtual address to working_area.  - Improved error messages in a number of places - Added ERROR_COMMAND_SYNTAX_ERROR that commands can return to have
	syntax printed - Added help for some config commands - Added verification of sw breakpoints with ERROR() message - Removed a couple of exit()'s and replaced with error message - cosmetic fix to armv4_5.c, easier to read - added polymorphic(with default) virt2phys and mmu enable query
	function to target.h - added virt2phys command that uses target->type->virt2phys() fn
	Thanks to Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/server/telnet_server.h: - reapply fix with telnet prompt while running/halting gdb git-svn-id: svn://svn.berlios.de/openocd/trunk@309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/server/telnet_server.h: - Fix problems with stuck telnet sessions. Thanks to Øyvind Harboe
	for this patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - ignore data aborts during gdb memory read packets by default, and
	return 0x0 instead - add configuration option "gdb_report_data_abort <enable|disable>
	to enable reporting of data aborts during gdb memory read packets - thanks to Øyvind Harboe for identifying the problem with GDB and
	data aborts - fix some warnings in gdb_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c: - arg list now correctly released on error. Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/jtag/jtag.c: - fix broken JTAG error handling - Allow all commands to be executed during config stage - Help now works for config commands - make var args handling follow the rules more closely Thanks
	Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: - removed a raft of unecessary exit() calls. Issuing a reset will
	solve these ails.  - now uses jtag_state_pathmove() instead of making assumptions about
	implementation of jtag_statemove().  - fixed a couple of bugs in timeout handling - removed megabytes of log output when communication is failing.  - sleep is now 300ms as documented instead of 3000ms - fixed error path of bulk write - debug_handler can now be issued during normal operation + has help
	text.  Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/non_cfi.c: - add new non-cfi SST flash device. Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h, src/server/gdb_server.c,
	src/target/target.c: - Added a "User:" debug level. These are messages that are intended
	for the user and are part of normal operation.  - Faster DEBUG/INFO() when they are disabled - target_read/write_buffer() now uses 16 and 32 bit access for
	single word aligned requests. Other requests are serviced as quickly
	as possible.  - *much* faster read/write GDB packets, removing timeout problems.  - GDB read/write packets w/single word aligned 32/16 bit access now
	use 32/16 bit word access.  - working area can now be changed on the fly. Provides a way to move
	working area about as MMU is enabled/disabled.  - cleaned up error messages for verify_image.  Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h, src/server/telnet_server.c: - combine similar functions in telnet_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/server/gdb_server.h: - solve lots of problems with stuck GDB connections, making it
	impossible to connect to GDB, handle timeout of acknowledgement,
	etc.  - "monitor halt/resume" now works correctly - "monitor sleep 10000" no longer makes the GDB protocol lock up.
	There is an error message and the protocol recovers nicely
	afterwards.  - it's now possible to connect to a target which needs a reset
	before halt works.  - handle failed memory access more gracefully. Connection is now
	closed instead of OpenOCD quitting.  - *much* improved handling of 2 second timeout on memory read
	packets. Especially important w/mouseover evaluation of  variables
	in Eclipse.  - fixed memory leak upon failed memory packet reply.  - 'O' packets w/progress info is no longer sent out randomly.  - faster packet reply code.  - Thanks to Øyvind Harboe for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c, src/helper/log.h: - cleanup and remove time() warning git-svn-id: svn://svn.berlios.de/openocd/trunk@299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/telnet_server.c, src/server/telnet_server.h: - fix issue with telnet prompt while gdb running git-svn-id: svn://svn.berlios.de/openocd/trunk@298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: - fix xscale memory leak and warnings. Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c, src/flash/lpc2000.h: - fix programming issue with lpc2101/2 git-svn-id: svn://svn.berlios.de/openocd/trunk@296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/log.c: - added patch to stop DEBUG messages to be forwarded to telnet/gdb.
	(thanks to Øyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - added check for revA silicon in stm32 flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-13  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/log.c, src/helper/log.h,
	src/server/gdb_server.c, src/server/telnet_server.c: - added patch to Improving progress/error output for telnet & GDB
	monitor (thanks to Øyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - add autoprobe support to flash info command - auto_erase can now be called from script/config file git-svn-id: svn://svn.berlios.de/openocd/trunk@292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-11  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am, src/jtag/ngw100.c: - removed "starting point" for ngw100, will add it again if it is
	working git-svn-id: svn://svn.berlios.de/openocd/trunk@291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/tms470.c, src/server/telnet_server.c,
	src/server/telnet_server.h: - telnet prompt behaves correctly for new synchronous
	halt/resume/reset commands - removed unused variables in tms470.c git-svn-id: svn://svn.berlios.de/openocd/trunk@290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/Makefile.am, src/jtag/ngw100.c: - added starting point for development on a ngw100 eval board git-svn-id: svn://svn.berlios.de/openocd/trunk@289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c: - stm32 flash driver now checks for correct target git-svn-id: svn://svn.berlios.de/openocd/trunk@288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/stm32x.c, src/flash/stm32x.h: - add autoprobe support to the stm32 flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/at91rm9200.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/parport.c,
	src/jtag/presto.c, src/jtag/usbprog.c: - added patch to change pathmove handling

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000678.html(thanks to Øyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/target/target.c: - added synchronous wait/resume patch. Thanks Øyvind Harboe - updated docs for halt and wait_halt and resume commands git-svn-id: svn://svn.berlios.de/openocd/trunk@285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/target.c, src/target/target.h: - added synchronous reset patch, Thanks Øyvind Harboe - added target_init_reset which calls target_process_reset after all
	drivers have been initialised git-svn-id: svn://svn.berlios.de/openocd/trunk@284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-06  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: - added patch to access cp15 register (XScale) (thanks to Edgar
	Grimberg for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-06  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/armv7m.c, src/target/cortex_m3.c: - added patch to solve problem with AT91SAM9260 (dirty register)
	(thanks to Øyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c: - fixes issue with reset and arm926ejs core. Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: Added patch to stop SEGFAULT with missing jtag
	config lines. Thanks Øyvind Harboe

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000731.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-02  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - added patch to solve the reset problem with arm9 and cortex which
	Spen had found.

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000729.html(Thanks to Spen for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-27  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/at91sam7.h, src/flash/cfi.c,
	src/flash/cfi.h, src/flash/flash.c, src/flash/flash.h,
	src/flash/lpc2000.c, src/flash/stellaris.c, src/flash/stellaris.h,
	src/flash/stm32x.c, src/flash/str7x.c, src/flash/str9x.c,
	src/flash/str9xpec.c, src/flash/tms470.c, src/flash/tms470.h,
	src/server/gdb_server.c: - added autoprobe functionality - corrected blocksize handling from GDB "info mem" command (thanks
	to Øyvind and Spen for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c, src/target/target.c: fixed incorrect elf
	segment size - Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - added patch to check some malloc problems.  (thanks to Øyvind
	Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-23  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c: Updated list of LMI partnames git-svn-id: svn://svn.berlios.de/openocd/trunk@275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/target.c: - added patch to fix crash in load_image on corrupt elf file or out
	of memory.  (thanks to Øyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: - added patch to fix brocken STR9 line (thanks to oyvind Harboe for
	the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/xscale_ixp42x.cfg,
	doc/scripts/xscale_ixp_startup.script: - Added example config and startup-script for a XScale IXP42x system git-svn-id: svn://svn.berlios.de/openocd/trunk@272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* NEWS: [MERGE] Merged all remaining changes between trunk and
	        xscale big-endian branch.  They are now in sync.          xscale-be branch is now closed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh: - Synced code with branch git-svn-id: svn://svn.berlios.de/openocd/trunk@270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* guess-rev.sh, src/target/image.c, src/target/target.c: - Eleminated leading tabs/white space git-svn-id: svn://svn.berlios.de/openocd/trunk@268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/xscale.c: - Eleminated leading tabs/white space git-svn-id: svn://svn.berlios.de/openocd/trunk@267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - Eleminated leading tabs/white space - Updated SVN property git-svn-id: svn://svn.berlios.de/openocd/trunk@265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/cfi.c: - updated docs for cfi command, added missing ft2232_layout names git-svn-id: svn://svn.berlios.de/openocd/trunk@261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-20  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/interpreter.c, src/helper/interpreter.h,
	src/jtag/bitq.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/pld/virtex2.c, src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/arm_jtag.c, src/target/arm_jtag.h, src/target/trace.c: - added patch "remove error handler as planned"

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000665.html(thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/cortex_swjdp.c,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c: - add support for cortex_m3 target_request debugmsgs - target request handler disabled by default until a target has been
	registered git-svn-id: svn://svn.berlios.de/openocd/trunk@259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/scripts/tms470r1a288_startup.script, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/flash.c, src/flash/tms470.c,
	src/flash/tms470.h: - add missing files from previous commit (tms470 flash driver) git-svn-id: svn://svn.berlios.de/openocd/trunk@258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am: - fixed 'make distcheck' (thanks to Theodore A. Roth for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c: - added tms470 flash support (thanks to Chris Kilgour for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS, src/target/arm_jtag.c: - use correct SCAN_N check value (disabled by default) - add Øyvind Harboe to list of AUTHORS (thanks a lot to Øyvind for
	his hard work) git-svn-id: svn://svn.berlios.de/openocd/trunk@255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c, src/target/arm_simulator.c, src/target/xscale.c: - debug handler file not closed - (thanks to oyvind harboe for the
	patch) - arm_simulate_step called incorrect arm_evaluate_opcode when in
	thumb mode git-svn-id: svn://svn.berlios.de/openocd/trunk@254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - fix gdb packet retransmission omission git-svn-id: svn://svn.berlios.de/openocd/trunk@253
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - _DEBUG_GDB_IO_ was left on by mistake git-svn-id: svn://svn.berlios.de/openocd/trunk@252
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/server/gdb_server.c: - added faster gdb packet handling (thanks to oyvind harboe for the
	patch) - code reformat git-svn-id: svn://svn.berlios.de/openocd/trunk@251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/helper/replacements.c: - added patch for faster start of OpenOCD (thanks to oyvind harboe
	for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/flash.h, src/openocd.c,
	src/server/gdb_server.c: - rename flash_init and flash_erase to flash_init_drivers and
	flash_erase_address_range - stops conflicts with redboot. Thanks
	Øyvind Harboe - gdb connection not dropped if we fail to allocate memory in query
	packets git-svn-id: svn://svn.berlios.de/openocd/trunk@249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-07  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitq.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/server/gdb_server.c, src/target/arm7_9_common.c,
	src/target/arm_jtag.c, src/target/embeddedice.c, src/target/etb.c,
	src/target/etm.c, src/target/xscale.c, src/xsvf/xsvf.c: - added gdb flash fixes patch

	https://lists.berlios.de/pipermail/openocd-development/2007-December/000548.html- added synthesize in_check_mask/value and error handler patch

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000554.html(thanks to oyvind harboe for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - add support for extended gdb packet R (restart), requires gdb to
	be started with target extended-remote git-svn-id: svn://svn.berlios.de/openocd/trunk@247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/openocd.texi, src/flash/flash.c,
	src/flash/flash.h, src/helper/command.c, src/jtag/usbprog.c,
	src/server/Makefile.am, src/server/gdb_server.c,
	src/server/gdb_server.h, src/target/image.c, src/target/target.c,
	src/target/target.h: - minimum autoconf 2.59 is now required and verified - due to issues
	with AS_HELP_STRING - native win32 now handles WSAECONNRESET - no longer exits openocd - qCRC packet now works correctly under cygwin (gdb compare-sections
	command) - removed __USE_GNU define from gdbserver.c - gdb qSupported packet is now handled, with this we are able to
	tell gdb packet size, memory map of target - added new target script gdb_program_config - called before gdb
	flash programming - new gdb server command gdb_memory_map (enable|disable> - default
	is disable - new gdb server command gdb_flash_program (enable|disable> -
	default is disable - gdb flash programming supported - vFlash packets - image_elf_read_section now does not clear any remaining data, this
	was causing the gdb checksum to fail with certain files - reformat of usbprog.c - memory leak in command_print fixed - updated texi doc to include new commands - added gdb programming section to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi: - corrected working_area of LPC2129 script - added LPC2148 script - corrected size of the working_area of the LPC2294 script git-svn-id: svn://svn.berlios.de/openocd/trunk@245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - fixed problem when write_image is called multiple times git-svn-id: svn://svn.berlios.de/openocd/trunk@244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/flash.c, src/flash/flash.h,
	src/helper/fileio.c, src/server/gdb_server.c, src/target/image.c,
	src/target/target.c: - removed flash write_image - binary compare function has been moved
	to verify_image command - minor code reformat and cleanup - updated docs to include new commands git-svn-id: svn://svn.berlios.de/openocd/trunk@243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.c, src/helper/fileio.h: - this patch allows OpenOCD running under eCos to access files via
	tftp (thanks to oyvind Harboe for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: - added patch by Øyvind Harboe to Intel Hex Start Segment Address
	Record (Type 3) - added support to parse Motorola Record Count (S5) git-svn-id: svn://svn.berlios.de/openocd/trunk@241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-18  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/flash/flash.c, src/flash/flash.h,
	src/helper/command.c, src/helper/fileio.c, src/jtag/ft2232.c,
	src/jtag/jtag.c, src/jtag/parport.c, src/server/gdb_server.c,
	src/server/server.c, src/server/telnet_server.c,
	src/target/algorithm.c, src/target/etm.c, src/target/image.c,
	src/target/trace.c: - added patch for new flash functionality like: flash verify_image
	and flash erase_address.  - added patch for new parport_write_on_exit command.  Even this
	patch will fix some memory leaks.  (thanks too oyvind and Spen for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/flash.c, src/helper/replacements.c: - only some cosmetic changes, convert \r\n to unix git-svn-id: svn://svn.berlios.de/openocd/trunk@239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c: - fixed relocation problems with image loading. Relocation is
	  handled in a single centralized place, and it now works for
	binaries.  (thanks to oyvind Harboe) git-svn-id: svn://svn.berlios.de/openocd/trunk@238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - added patch to corrected argument of image_open in
	handle_flash_write_image_command (thanks to oyvind Harboe for the
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/interpreter.c: The changes allows the "script" command
	to be used from within config scripts to run sub-config scripts,
	which was probably the original intention because "script" is
	registered as COMMAND_ANY.  This can be useful in e.g. splitting CPU and flash config scripts.  (thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@236
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - removed some compiler warnings - added patch to fix problem in cfi_intel_write_block. In case of   cfi_info->write_algorithm is not NULL, target_code_size was not
	  set.  (thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - change error message for image_open error - changed run_size to size_read in argument of image_read_section
	(thanks to oyvind Harboe for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@234
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c: - initialize num_sectors and sectors in handle_flash_bank_command.
	(thanks to oyvind Harboe for this hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@233
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/etm.c: - fixed ETM configuration register decoding git-svn-id: svn://svn.berlios.de/openocd/trunk@232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - added the patch CFI-BE-Fixes-Blockwrite-Support.diff (thanks to
	Carsten Schlote for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: Corrected typo (to many brackets) git-svn-id: svn://svn.berlios.de/openocd/trunk@230
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h: Sorry, I have forgotten to add a
	description for the last version, where I have added the
	clear_malloc and fill_malloc functionality. But the default is the
	original malloc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.c, src/helper/replacements.h: git-svn-id:
	svn://svn.berlios.de/openocd/trunk@228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c: - added patch from Dominic to unlock the ATMEL flash in
	cfi_read_atmel_pri_ext - set cfi_info->write_algorithm and cfi_info->erase_check_algorithm
	  to NULL to get "flash erase_check" command working git-svn-id: svn://svn.berlios.de/openocd/trunk@227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/helper/command.c,
	src/jtag/jtag.c: - Fixing two compiler warnings - Reducing  stack usage for recursive scripts - Do not exit on bogus arguments to reset_config. No longer exit the
	application upon bogus arguments to reset_config, but return errors.  thanks to Øyvind Harboe for these patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h: - Stripped trailing spaces (patch preparation) git-svn-id: svn://svn.berlios.de/openocd/trunk@225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - Enabled URL keyword expansion for enhanced version   tracking of binary openocd images git-svn-id: svn://svn.berlios.de/openocd/trunk@224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am: - Added PKGLIBDIR define to C options. Allows to store   native code fragments at a central place git-svn-id: svn://svn.berlios.de/openocd/trunk@223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/Makefile.am, src/target/xscale.c: - XScale DebugHandler code is now installed into   pkglibdir and loaded from there git-svn-id: svn://svn.berlios.de/openocd/trunk@222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS, configure.in, guess-rev.sh, src/Makefile.am,
	src/openocd.c: Changed openocd version info creation to be more
	useful.  - Now displays subversion revision and svn URL git-svn-id: svn://svn.berlios.de/openocd/trunk@220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-09  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/jtag/jtag.c, src/target/target.c: - added patch to display device information as INFO too - added patch which fixes a crash upon flash write error - added patch which will improve the reset handling when   SRST is tied to TRST (thanks to Oyvind Harboe for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-05  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: Merged rev 215 changes from
	/branches/xscale-ixp-be into trunk: - Obvious fixes to big endian type conversion macros - Fixed obvious typos for byte masks git-svn-id: svn://svn.berlios.de/openocd/trunk@217
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-04  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: Do not overwrite code when removing
	software breakpoint if it no longer contains bkpt instruction.
	(thanks to oyvind harboe for bug report and test) git-svn-id: svn://svn.berlios.de/openocd/trunk@214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-11-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/openocd.texi, src/jtag/ft2232.c: - added support for Hitex STM32 Performance Stick - added str9 and stm32 scripts to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-11-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* Makefile.am, configure.in, doc/Makefile.am, doc/fdl.texi,
	doc/openocd.texi, src/flash/flash.c, src/flash/stm32x.c,
	src/flash/stm32x.h, src/flash/str9xpec.c, src/server/gdb_server.c,
	src/target/cortex_m3.c: - reset_run now works as expected on cortex-m3 - str9xpec erase status checked on option byte programming - stm32x flash driver now supports sector protection - surplus exit removed from flash.c - openocd.texi documentation added git-svn-id: svn://svn.berlios.de/openocd/trunk@212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c, src/flash/str9x.h, src/flash/str9xpec.c: - corrected str91x bank1 programming issues - str91x protect_check fixed - bank number now correctly given to str91x flash_config command git-svn-id: svn://svn.berlios.de/openocd/trunk@211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/armv7m.c, src/target/armv7m.h,
	src/target/cortex_m3.c, src/target/image.c, src/target/image.h,
	src/target/target.c, src/target/target.h, src/target/trace.h,
	src/target/xscale.c: - add verify_image command - add support for gdb qCRC packet (compare-sections command) git-svn-id: svn://svn.berlios.de/openocd/trunk@210
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/stm32x.c, src/flash/str7x.c,
	src/flash/str7x.h, src/flash/str9x.c, src/server/gdb_server.c,
	src/target/arm966e.c, src/target/arm966e.h, src/target/target.c,
	src/target/target.h: - cleaned up str7, str9 and stm32 flash drivers - str7 flash driver now checks correct busy bits depending on device - str9 flash driver now disables ITCM order as per st programming
	manual - added str7 disable_jtag command - added gdb_detach command - updated arm966e cp15 support - fix crash on mingw build when enabling target_request debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@209
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/flash.h, src/helper/fileio.c,
	src/helper/fileio.h, src/jtag/ft2232.c, src/server/gdb_server.c,
	src/target/armv7m.c, src/target/breakpoints.c, src/target/image.c: - flash autoerase <on|off> cmd added, default is off - flash banks
	are calculated and erased prior to write (flash write_image only) - corrected array overrun in armv7m.c - corrected breakpoint memory allocation bug - image read now uses fgets, vastly improves reading of large files - improved hex file reading, support for Linear Address Record added git-svn-id: svn://svn.berlios.de/openocd/trunk@208
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-10  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/stellaris.c, src/target/armv7m.c,
	src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_swjdp.c, src/target/target.c: - Fixed display of sector sizes in flash.c - Clean up, remove unused variables and code in armv7, cortex_m3 and
	stellaris code - Move restore_context from cortex_m3 to armv7m - Updated halt handling for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-10  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - added ft2232_latency command git-svn-id: svn://svn.berlios.de/openocd/trunk@205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/at91rm9200.c, src/jtag/bitbang.c, src/jtag/bitbang.h,
	src/jtag/ep93xx.c, src/jtag/parport.c, src/openocd.c,
	src/target/embeddedice.c, src/target/image.h: Patch by Michael
	 Schwingen that - adds support for the Altium universal JTAG cable  - adds support for "wiggler2" cable (basically a wiggler with added
	 LED, documentation coming soon) - adds LED support. The LED is turned on during data transfer -
	 works fine on Altium and wiggler2.  - adds PORT_EXIT pattern that is written to port when exiting, in
	 order to turn off power on cables that get their power from parallel
	 port data lines - move port writes (with the system-specific ifdefs) to one central
	function - increased image cache size to 2KB (might require more adaptive
	cache handling, e.g. LRU) git-svn-id: svn://svn.berlios.de/openocd/trunk@204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/presto.c, src/jtag/usbprog.c, src/openocd.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etb.c: - added support for setting JTAG frequency on ASIX PRESTO (thanks to
	Pavel Chromy) - usbprog update (thanks to Benedikt Sauter) - added embeddedice_send and _handshake functions (thanks to Pavel
	Chromy) - added support for 4, 8 and 16 bit ports to etb.c git-svn-id: svn://svn.berlios.de/openocd/trunk@203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-21  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/xscale.c: - correctly initialize start address for XScale trace buffer decodes
	in fill-once mode git-svn-id: svn://svn.berlios.de/openocd/trunk@202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c: - Support for AT91SAM7xx512 chips git-svn-id: svn://svn.berlios.de/openocd/trunk@201
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.h: - Support for AT91SAM7xx512 chips git-svn-id: svn://svn.berlios.de/openocd/trunk@200
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.c: - update file size when writing to a fileio git-svn-id: svn://svn.berlios.de/openocd/trunk@199
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/xscale.c, src/target/xscale.h: - renamed "xscale dump_trace_buffer" to "xscale dump_trace" and
	added code for it git-svn-id: svn://svn.berlios.de/openocd/trunk@198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/jtag/ft2232.c, src/openocd.c,
	src/target/etb.c, src/target/etm.c, src/target/etm.h: - update jtag_speed setting when changing it during runtime with a
	FT2232 based interface - use 'etm trigger_percent' setting when programming ETB trigger
	count - fixed some small bugs in ETM trace analysis - fixed minor bug in flash writing (thanks to Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/flash.h, src/server/gdb_server.c: - fixed several bugs in flash writing code (thanks to Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/jtag/Makefile.am, src/openocd.c: - corrected automake script git-svn-id: svn://svn.berlios.de/openocd/trunk@195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/flash/at91sam7.c,
	src/flash/flash.c, src/flash/nand.c, src/jtag/Makefile.am,
	src/jtag/jtag.c, src/jtag/presto.c, src/openocd.c,
	src/target/image.c, src/target/target.c,
	src/target/target_request.c, src/target/trace.c, src/target/trace.h: - reworked presto.c to allow use of either FTD2XX or libftdi
	(libftdi not functional yet). Configure option changed from
	--enable-presto to --enable-presto_ftd2xx and
	--enable-presto_libftdi - completed trace point support for use with ARM7/9 DCC - completed debug message output with support for HEX dumps (1, 2 or
	4 byte quantities) - fixed bug in delete_debug_msg_receiver (thanks to Pavel Chromy) - fixed bug in image_add_section (thanks to Pavel Chromy) - at91sam7 sector erase reworked (thanks to Pavel Chromy) - merge consecutive sections during flash image write to work around
	possible section alignment issues with LPC2000 targets git-svn-id: svn://svn.berlios.de/openocd/trunk@194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/types.h: - fix build issues when not using autoconf/automake to build git-svn-id: svn://svn.berlios.de/openocd/trunk@193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - bumped version information git-svn-id: svn://svn.berlios.de/openocd/trunk@192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/helper/log.h: - changed mingw host detection to *-mingw instead of *-*-mingw to
	work with i586-mingw32msvc-gcc - add replacements.h to log.h to make sure ERROR is undefined on
	windows git-svn-id: svn://svn.berlios.de/openocd/trunk@191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, configure.in, doc/openocd.1, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/flash.c, src/flash/flash.h, src/flash/lpc2000.c,
	src/flash/lpc2000.h, src/flash/non_cfi.c, src/flash/stellaris.c,
	src/flash/stellaris.h, src/flash/stm32x.c, src/flash/stm32x.h,
	src/flash/str7x.c, src/flash/str7x.h, src/flash/str9x.c,
	src/flash/str9x.h, src/flash/str9xpec.c, src/flash/str9xpec.h,
	src/helper/replacements.h, src/jtag/at91rm9200.c, src/jtag/bitq.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jtag.c, src/jtag/parport.c, src/jtag/presto.c,
	src/jtag/usbprog.c, src/server/Makefile.am,
	src/server/gdb_server.c, src/server/gdb_server.h,
	src/server/server.c, src/server/telnet_server.c,
	src/target/Makefile.am, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/cortex_m3.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/image.c, src/target/image.h, src/target/oocd_trace.c,
	src/target/target.c, src/target/target.h,
	src/target/target_request.c, src/target/target_request.h,
	src/target/trace.c, src/target/trace.h, src/target/xscale.c: - renamed M5960 USB JTAG to "flyswatter" - make ep93xx and at91rm9200 bitbang JTAG interfaces dependant on
	ARM host (thanks to Vincent Palatin) - various whitespace fixes - removed various warnings - add support for Debian GNU/kFreeBSD (thanks to Uwe Hermann) - fix OpenOCD compilation for various platforms (thanks to Uwe
	Hermann and Vincent Palatin) - switched order of JTAG chain examination and validation (examine
	first, then multiple validation tries even if examination failed) - added target_request subsystem to handle requests from the target
	(debug messages and tracepoints implemented, future enhancements
	might include semihosting, all ARM7/9 only for now) - added support for GDB vFlashXXX packets (thanks to Pavel Chromy) - added support for receiving data via ARM7/9 DCC - reworked flash writing. the 'flash write' command is now
	deprecated and replaced by 'flash write_binary' (old syntax and
	behaviour) and 'flash write_image' (write image files (bin, hex,
	elf, s19) to a target).  - added support for AMD/ST/SST 29F400B non-cfi flashes git-svn-id: svn://svn.berlios.de/openocd/trunk@190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-09  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/breakpoints.c: - trying to remove a breakpoint with target running should not
	exit(-1) from OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/etm.c: - cleaned up cycle counting in ETM analysis - fixed broken OpenOCD version string git-svn-id: svn://svn.berlios.de/openocd/trunk@188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/configs/usbprog.cfg, src/openocd.c: - add missing configure.in change from last checkin - add usbprog example config file - update version string git-svn-id: svn://svn.berlios.de/openocd/trunk@187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/usbprog.c, src/target/Makefile.am, src/target/etm.c,
	src/target/etm.h, src/target/image.h, src/target/oocd_trace.c,
	src/target/oocd_trace.h: - calculate cycles since last executed instruction when
	cycle-accurate tracing is enabled - increase memory pseudo-image cache size to 1024 byte for improved
	trace analysis performance - added OpenOCD+trace as an ETM capture driver example
	implementation - new usbprog driver (thanks to Benedikt Sauter) git-svn-id: svn://svn.berlios.de/openocd/trunk@186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.c, src/target/image.c, src/target/image.h,
	src/target/target.c: - motorola s19 file loader added - added checksum support to intel hex file loader - elf file loader now ignores any bss sections - mingw build now always opens files in binary mode git-svn-id: svn://svn.berlios.de/openocd/trunk@185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stm32x.c, src/server/server.c, src/target/armv7m.c,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/cortex_swjdp.c: - corrected stm32x_handle_options_write_command, incorrect options
	printed - added prepare_reset_halt handler for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/amt_jtagaccel.c, src/jtag/gw16012.c,
	src/jtag/parport.c: - restrict direct parallel port access to x86 platforms (thanks to
	Vincent Palatin) git-svn-id: svn://svn.berlios.de/openocd/trunk@183
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, bootstrap, doc/openocd.1, src/openocd.c: - documentation fixes (thanks to Uwe Hermann) - bootstrapping changes to accomodate packaging (thanks to Uwe
	Hermann) git-svn-id: svn://svn.berlios.de/openocd/trunk@182
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/jtag/bitq.c, src/jtag/ft2232.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/presto.c, src/openocd.c,
	src/server/gdb_server.c, src/target/target.c: - reformat src/jtag/bitq.c (thanks to Pavel Chromy) - fix multiple reads from FT2232 into same buffer location (thanks
	to Magnus Lundin) - retry JTAG chain validation (thanks to Magnus Lundin) - reworked GDB packet input handling (thanks to Pavel Chromy) - output error message when setting a watchpoint failed - removed duplicate out-of-bounds check in at91sam7.c (thanks to
	Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/flash/str9x.c,
	src/jtag/Makefile.am, src/jtag/bitq.c, src/jtag/bitq.h,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/presto.c,
	src/jtag/usbprog.c, src/openocd.c, src/server/server.c,
	src/target/Makefile.am, src/target/etm.c, src/target/etm.h,
	src/target/etm_dummy.c, src/target/etm_dummy.h: - added support for Asix Presto JTAG interface (thanks to Pavel
	Chromy and Asix for making this addition possible) - added support for usbprog (thanks to Benedikt Sauter) - make OpenOCD listen for WM_QUIT messages on windows (thanks to
	Pavel Chromy) - register at_exit handler to do necessary unregistering (thanks to
	Pavel Chromy) - added dummy ETM capture driver to allow ETM to be registered
	without a capture driver git-svn-id: svn://svn.berlios.de/openocd/trunk@180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/helper/fileio.h, src/helper/types.h,
	src/openocd.c, src/target/arm_simulator.h, src/target/etm.c,
	src/target/xscale.c, src/target/xscale.h: - fixed endianness helper macros (thanks to obilix and wiml for
	finding and fixing this bug) - added declarations for 32bit fileio access functions (network byte
	order) - fixed bug in etm trace dump file handling - added XScale trace buffer decoding - fixed arm_simulator ERROR numbers (-7xx used twice) - fixed minor bug in debug output in stellaris.c git-svn-id: svn://svn.berlios.de/openocd/trunk@178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/flash/stm32x.c,
	src/flash/stm32x.h, src/target/arm_disassembler.c,
	src/target/armv7m.c, src/target/armv7m.h, src/target/breakpoints.c,
	src/target/cortex_m3.c, src/target/cortex_m3.h,
	src/target/cortex_swjdp.c, src/target/cortex_swjdp.h,
	src/target/target.c: - ST STM32x cortex support added - ST STM32x flash support added - cleaned up armv7m and cortex-m3 support, removed luminary specific
	code - cortex-m3 16bit read/write added (required for STM32x flash
	programming) git-svn-id: svn://svn.berlios.de/openocd/trunk@177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-21  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/bitbang.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/target/arm7_9_common.c, src/target/arm9tdmi.c,
	src/target/cortex_swjdp.c, src/target/embeddedice.c,
	src/target/etm.c, src/target/xscale.c: - added support for Intel/Marvel PXA27x (XScale) targets - added support for scans coming from or ending in Shift-DR or
	Shift-IR to bitbang code (required for XScale debugging) - cleaned up errror handlers. only use when there's a catchable
	error - fix segfault when etm was configured without a valid driver git-svn-id: svn://svn.berlios.de/openocd/trunk@176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9xpec.c: - str9xpec driver was using stricmp, changed to strcmp for posix
	compatibility git-svn-id: svn://svn.berlios.de/openocd/trunk@175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/flash/Makefile.am, src/flash/flash.c,
	src/flash/nand.c, src/flash/str9xpec.c, src/flash/str9xpec.h,
	src/helper/replacements.h, src/helper/time_support.c,
	src/pld/pld.c, src/server/server.c, src/target/arm720t.c,
	src/target/arm720t.h, src/target/image.c, src/target/image.h,
	src/target/target.c, src/target/xscale.c: - added mingw elf patches from Vincent Palatin - added str9x programming using flash controller tap (str9xpec),
	including option bytes and device lock/unlock - inttypes.h now used for long long printf style declarations git-svn-id: svn://svn.berlios.de/openocd/trunk@174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/etm.c, src/target/image.c,
	src/target/image.h: - added support for pseudo image type "mem", currently only used for
	etm analysis: "etm image <target#> <dummy base address> mem" git-svn-id: svn://svn.berlios.de/openocd/trunk@173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/fury_ft2232.cfg, src/flash/at91sam7.c,
	src/flash/stellaris.c: Added patch for Luminar Micors Fury class
	devices (Joe Kroesche) Added support for NVGM bit 2 for
	AT91SAM7XC128/256 git-svn-id: svn://svn.berlios.de/openocd/trunk@172
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/stellaris.c, src/flash/stellaris.h: - added stellaris.[ch] missing from Cortex-M3 merge git-svn-id: svn://svn.berlios.de/openocd/trunk@171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c, src/target/Makefile.am,
	src/target/armv7m.c, src/target/armv7m.h, src/target/cortex_m3.c,
	src/target/cortex_m3.h, src/target/cortex_swjdp.c,
	src/target/cortex_swjdp.h, src/target/target.c: - merged support for Cortex-M3 from cortex-m3 branch (thanks to
	Magnus Lundin) git-svn-id: svn://svn.berlios.de/openocd/trunk@170
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, configure.in, doc/openocd.1, src/flash/flash.c,
	src/helper/fileio.c, src/openocd.c, src/target/arm926ejs.c,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/etb.c, src/target/etm.c, src/target/etm.h,
	src/target/image.c, src/target/image.h, src/target/target.c,
	src/target/trace.h: - added manpage for OpenOCD (thanks to Uwe Hermann) - fixed bug in ARM926EJ-S cache handling that caused cache linefills
	to be disabled after first debug entry - added support for auto image type detection (thanks to Vincent
	Palatin) - further work on ETM trace decoding (tested with a ETB interface
	using an ETM in normal 16-bit port mode, still experimental) git-svn-id: svn://svn.berlios.de/openocd/trunk@169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/replacements.h, src/target/image.c,
	src/target/image.h, src/target/target.c: - add support for ELF images (thanks to Vincent Palatin for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@161
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/flash/nand.c, src/openocd.c,
	src/target/etm.h, src/target/image.c, src/target/image.h,
	src/target/target.c: - reworked image handling to support multiple sections (tested with
	ihex file containing gaps) This checkin is still experimental, not
	recommended for general use git-svn-id: svn://svn.berlios.de/openocd/trunk@159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/trace.h: - add missing file src/target/trace.h git-svn-id: svn://svn.berlios.de/openocd/trunk@157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/image.c, src/target/image.h: - add missing image handling files git-svn-id: svn://svn.berlios.de/openocd/trunk@156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/cfi.c, src/flash/cfi.h,
	src/flash/flash.c, src/flash/nand.c, src/flash/non_cfi.c,
	src/flash/non_cfi.h, src/helper/fileio.c, src/helper/fileio.h,
	src/jtag/jtag.c, src/openocd.c, src/target/Makefile.am,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm9tdmi.c,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/arm_simulator.c, src/target/armv4_5.h, src/target/etb.c,
	src/target/etb.h, src/target/etm.c, src/target/etm.h,
	src/target/target.c: - split fileio handling into fileio part and image handling - reworked etm/etb into a generic etm part with trace capture
	drivers (currently only etb supported) - added XScale debug handler binary to repository - added Thumb disassembling (thanks to Vincent Palatin for this
	patch) - added support for non-CFI compatible flashes to cfi driver
	(currently only SST39VFxxx devices supported) This checkin is
	experimental, not suitable for general use git-svn-id: svn://svn.berlios.de/openocd/trunk@155
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm920t.c,
	src/target/arm926ejs.c, src/target/arm966e.c: -- corrected embedded
	ice definitions -- changed arm966e to use standard arm9_7 reset
	handling git-svn-id: svn://svn.berlios.de/openocd/trunk@146
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/binarybuffer.c, src/jtag/jtag.c,
	src/target/arm7_9_common.c, src/target/etb.c: - further work on ETB decoding (not yet functional) - fixed several uses of uninitialized bits (Thanks to Vincent
	Palatin for finding and fixing these bugs) git-svn-id: svn://svn.berlios.de/openocd/trunk@145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - added support for Hitex comstick.  git-svn-id: svn://svn.berlios.de/openocd/trunk@144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/etb.c: - improved ETB trace output - use BKPT instruction on cores supporting it (ARM926EJ-S,
	ARM966E-S) - correctly handle endianness of software breakpoint instruction git-svn-id: svn://svn.berlios.de/openocd/trunk@143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/jtag/amt_jtagaccel.c,
	src/jtag/bitbang.c, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/openocd.c, src/pld/virtex2.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/arm_jtag.c,
	src/target/arm_jtag.h, src/target/embeddedice.c, src/target/etb.c,
	src/target/etb.h, src/target/etm.c, src/target/xscale.c,
	src/xsvf/xsvf.c: - added support for error handlers to JTAG scan commands
	(jtag_[plain_][ir|dr]_scan) - catch apparently broken JTAG IR scan after ARM926EJ-S CP15
	operations - added "arm7_9 dump_etb" command git-svn-id: svn://svn.berlios.de/openocd/trunk@142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm926ejs.c, src/target/arm966e.c,
	src/target/arm9tdmi.c, src/target/embeddedice.c,
	src/target/target.c, src/target/target.h, src/target/xscale.c: - explicitly disable monitor mode on ARM7/9 targets - added "prepare_reset_halt()" to target_type_t, which allows
	reset_halt to be prepared before a reset is asserted, possibly
	preventing communication with the target - arm7/9 devices now use a breakpoint at 0x0 or reset vector
	catching for debug out of reset git-svn-id: svn://svn.berlios.de/openocd/trunk@141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - allow multiple USB vendor and product ids when searching for
	connected FT2232 based JTAG interfaces (thanks to Werner Almesberger
	for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc3180_nand_controller.c, src/helper/binarybuffer.c,
	src/target/arm926ejs.c: - correctly mask out bits that aren't part of a copied buffer - fixed arm926ej-s CP15 register access handling - correctly identify SYSCLK source in LPC3180 NAND flash controller
	driver git-svn-id: svn://svn.berlios.de/openocd/trunk@139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/cfi.h, src/jtag/jtag.h, src/openocd.c,
	src/target/armv4_5.c, src/target/embeddedice.c: - disabled excessive debug output in jtag.h - output all of EmbeddedICE version register in error message - update OpenOCD's idea of the current core mode, and immediately
	change core mode, on CPSR changes - added support for CFI cmdset 0002 (patch by Andrew Dyer, thanks a
	lot) - enhanced CFI cmdset 0002 support to Atmel AT49 flashes (thanks to
	Joerg Krein for providing test hardware) git-svn-id: svn://svn.berlios.de/openocd/trunk@138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/openocd.c, src/target/arm9tdmi.c: - added support for Turtelizer 2 (USB JTAG interface) (Thanks to
	Michael Fischer for this patch) - fixed description of arm9tdmi vector_catch command git-svn-id: svn://svn.berlios.de/openocd/trunk@137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm926ejs.c, src/target/arm9tdmi.c,
	src/target/arm9tdmi.h: - added "arm9tdmi vector_catch ['all'|'none'|'vec1 [vec2 [...]]']"
	command - added missing arm926ej-s cp15 patch (thanks Vincent Palatin) git-svn-id: svn://svn.berlios.de/openocd/trunk@136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c, src/helper/fileio.c, src/jtag/amt_jtagaccel.c,
	src/jtag/bitbang.c, src/jtag/parport.c, src/openocd.c,
	src/target/Makefile.am, src/target/arm_disassembler.c,
	src/target/arm_disassembler.h, src/target/arm_simulator.c,
	src/target/arm_simulator.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/target.c, src/target/target.h,
	src/target/xscale.c, src/target/xscale.h,
	src/target/xscale/build.sh, src/target/xscale/debug_handler.S,
	src/target/xscale/debug_handler.cmd, src/target/xscale/protocol.h: - merged XScale branch back into trunk - fixed some compiler warnigns in amt_jtagaccel.c, bitbang.c,
	parport.c - free working area and register stuff if str7x block write
	algorithm failed - check PC after exiting a target algorithm in armv4_5.c git-svn-id: svn://svn.berlios.de/openocd/trunk@135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/nand.c,
	src/flash/nand.h, src/helper/command.c, src/helper/fileio.c,
	src/helper/log.h, src/helper/time_support.c, src/jtag/ft2232.c,
	src/jtag/gw16012.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/openocd.c, src/pld/xilinx_bit.c, src/server/gdb_server.c,
	src/target/Makefile.am, src/target/arm720t.c,
	src/target/arm7_9_common.c, src/target/arm7_9_common.h,
	src/target/arm7tdmi.c, src/target/arm966e.c, src/target/arm9tdmi.c,
	src/target/arm_disassembler.c, src/target/etb.c, src/target/etb.h,
	src/target/target.c: - fixed arm926 cp15 command bug (thanks to Vincent Palatin for this
	patch) - fixed compiler warnings throughout the code (thanks to Vincent
	Palatin for this patch) - added support for accessing ETB (embedded trace buffer) registers git-svn-id: svn://svn.berlios.de/openocd/trunk@134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/fileio.c, src/helper/fileio.h: - added missing files for last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/flash.c,
	src/flash/lpc3180_nand_controller.c,
	src/flash/lpc3180_nand_controller.h, src/flash/nand.c,
	src/flash/nand.h, src/helper/Makefile.am,
	src/helper/time_support.c, src/helper/time_support.h,
	src/helper/types.h, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/openocd.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c,
	src/target/arm9tdmi.c, src/target/embeddedice.c,
	src/target/target.c: - reworked file i/o. every fileaccess (target, flash, nand, in
	future configuration, too) should now go through the fileio
	subsystem - added support for reading IHEX files (through fileio) - load/dump_binary renamed to the more generic load/dump_image
	<file> <address> ['bin'|'ihex'] - added NAND framework (preliminary) - added support for the LPC3180 SLC and MLC NAND controllers
	(preliminary) - fix initialization for parport - gw16012 fixes/cleanups - added EmbeddedICE version 7 (preliminary, reported on two LPC23xx
	devices so far) - added 'arm7_9 etm <target#>' configuration command to enable
	access to the ETM registers git-svn-id: svn://svn.berlios.de/openocd/trunk@132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-02-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - fixed libftdi initialization git-svn-id: svn://svn.berlios.de/openocd/trunk@131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-02-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c, src/target/armv4_5.h: - add missing parentheses around macro parameters (thanks to
	Matthias Bauch for noticing this bug and providing a fix) git-svn-id: svn://svn.berlios.de/openocd/trunk@130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c, src/jtag/gw16012.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c, src/openocd.c: - merged several changes from XScale - complain about identify_chain scan with all bits one (jtag
	communication problem) - add 0x80000 as a valid size for lpc2000_v2 flash banks (previously
	only the user accessible 0x7d000 were valid) git-svn-id: svn://svn.berlios.de/openocd/trunk@129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/embeddedice.c: - disabled use of single-step bit for EmbeddedICE version 6 cores git-svn-id: svn://svn.berlios.de/openocd/trunk@128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/openocd.c: - disabled JTAG debug output - fixed version information git-svn-id: svn://svn.berlios.de/openocd/trunk@127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* AUTHORS, README, src/target/Makefile.am, src/target/arm926ejs.c,
	src/target/arm926ejs.h, src/target/target.c: - Added support for ARM926EJ-S based cores - Added contributors to AUTHORS file - Added link to Joern Kaipf's OOCD-Link git-svn-id: svn://svn.berlios.de/openocd/trunk@126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/flash/flash.c, src/helper/command.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm7tdmi.h, src/target/arm920t.c, src/target/arm966e.c,
	src/target/arm966e.h, src/target/arm9tdmi.c, src/target/arm9tdmi.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/target.c: - fix incorrect parsing of whitespace in command.c (thanks to Magnus
	Lundin) - fix infinite recursion in target_init_handler (thanks to jw and
	Magnus Lundin) - fix CFI flash handlign with buswidth < 32bit (thanks to Daniele
	Orio for reporting this) - add support for reading JTAG device id (currently only as debug
	output on startup) - cleaned up handling of EmbeddedICE registers. Supported
	functionality and register size now determined by EmbeddedICE
	version number.  - small cleanups/fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/parport.c: - added support for ST flashlink cable git-svn-id: svn://svn.berlios.de/openocd/trunk@123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-09  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/jtag/Makefile.am, src/jtag/ft2232.c,
	src/jtag/jtag.c, src/jtag/parport.c, src/server/gdb_server.c,
	src/target/arm_disassembler.c: - disabled FT2232 debug output (that code should be fairly stable) - fixed bug in jtag.c where JTAG command type was wrong for PATHMOVE
	commands - added lattice ISP cable (experimental) - properly initialize parallel port (clear tristate bit) - fixed jtag/Makefile.am that failed with some versions of autotools - print error number if read() in gdbserver.c failed on Windows - fixed handling of opcodes with bits 27-25 b011 (comment was
	correct, code had a bug) - added support for AT91SAM7SE internal flash git-svn-id: svn://svn.berlios.de/openocd/trunk@122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in: - checked in missing configure.in changes for GW16012 support git-svn-id: svn://svn.berlios.de/openocd/trunk@117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/Makefile.am, src/flash/cfi.c, src/helper/binarybuffer.c,
	src/jtag/Makefile.am, src/jtag/ft2232.c, src/jtag/gw16012.c,
	src/jtag/jtag.c, src/openocd.c, src/pld/Makefile.am, src/pld/pld.c,
	src/pld/pld.h, src/pld/virtex2.c, src/pld/virtex2.h,
	src/pld/xilinx_bit.c, src/pld/xilinx_bit.h, src/target/armv4_5.c: - added a PLD (programmable logic device) subsystem for FPGA, CPLD
	etc. configuration - added support for loading .bit files into Xilinx Virtex-II devices - added support for the Gateworks GW16012 JTAG dongle - merged CFI fixes from XScale branch - a few minor fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/breakpoints.c,
	src/target/target.h: - added support for the oocd-link
	(http://www.joernonline.de/dw/doku.php?id=en:projects:oocdlink) - fixed breakpoint handling (this changes the target_t interface) git-svn-id: svn://svn.berlios.de/openocd/trunk@113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c, src/helper/command.c, src/jtag/ft2232.c,
	src/target/arm7_9_common.c, src/target/breakpoints.c,
	src/target/target.c: - correctly enter debug state on a "soft_reset_halt" command - several small fixes - retry reading from a FT2232 device on incomplete reads git-svn-id: svn://svn.berlios.de/openocd/trunk@110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str9x.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/target/arm7_9_common.c, src/target/arm7tdmi.c: - several small fixes (thanks to Magnus Lundin and Spencer Oliver) - added support for using Luminary Micro development board
	'evb_lm3s811' as a JTAG interface (thanks to Magnus Lundin) git-svn-id: svn://svn.berlios.de/openocd/trunk@106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-19  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c, src/target/arm7_9_common.c: - fixed endianness handling in arm7_9_read_core_reg (thanks to
	Magnus Lundin for reporting this) - correctly handle ft2232_device_desc and ft2232_serial when both
	are given at the same time git-svn-id: svn://svn.berlios.de/openocd/trunk@104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/amt_jtagaccel.c, src/jtag/ft2232.c, src/openocd.c,
	src/target/arm7_9_common.c: - allow FT2232 devices to be opened by serial number instead of
	device description ('ft2232_serial <serial>' command) - redirect output from target event scripts (currently only reset)
	to the daemon output (INFO:) - some minor fixes and enhancements git-svn-id: svn://svn.berlios.de/openocd/trunk@103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* README, src/flash/at91sam7.c, src/flash/at91sam7.h,
	src/jtag/ft2232.c: - added support for American Microsystem's M5960 (FT2232 based USB
	JTAG interface) - added support for AT91SAM7A devices (thanks to Magnus Lundin) - updated README with pointer to Amontec's JTAGkeyTiny git-svn-id: svn://svn.berlios.de/openocd/trunk@102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/server/gdb_server.c: - fixed regression in gdb_server.c (Thanks to Michael Fischer for
	finding these bugs) git-svn-id: svn://svn.berlios.de/openocd/trunk@101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/Makefile.am, src/flash/cfi.c, src/flash/flash.c,
	src/flash/str7x.c, src/flash/str9x.c, src/flash/str9x.h,
	src/helper/binarybuffer.c, src/helper/binarybuffer.h,
	src/helper/interpreter.c, src/jtag/jtag.c, src/server/gdb_server.c,
	src/target/arm966e.c, src/target/arm9tdmi.c, src/target/armv4_5.c,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/etm.c, src/target/etm.h, src/target/register.c,
	src/target/register.h, src/target/target.c: - str9x flash support (Thanks to Spencer Oliver) - str75x flash support (Thanks to Spencer Oliver) - correct reporting of T-Bit in CPSR (Thanks to John Hartman for
	reporting this) - core-state (ARM/Thumb) can be switched by modifying CPSR - fixed bug in gdb_server register handling - register values > 32-bit should now be supported - several minor fixes and enhancements git-svn-id: svn://svn.berlios.de/openocd/trunk@100
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c, src/flash/str7x.h: - allow writes to second flash bank on STR71x devices (cleaned up
	sector list building) - cleaned up str7x flash erase and protect code (use two accesses to
	erase sectors in both banks) git-svn-id: svn://svn.berlios.de/openocd/trunk@98
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-09  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7_9_common.c: - set the T bit in the CPSR when the core was executing in Thumb
	state. Mask the T bit from the CPSR for all CPSR-writing operations git-svn-id: svn://svn.berlios.de/openocd/trunk@97
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c: - free working area used to store flash write buffer git-svn-id: svn://svn.berlios.de/openocd/trunk@96
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/at91sam7.c, src/flash/cfi.c, src/flash/flash.c,
	src/flash/str7x.c, src/flash/str7x.h, src/openocd.c: - integrated patch from Magnus Lundin that fixes at91sam7 flash
	timing bugs and possible endianness problems (big endian hosts) - correctly write trailing bytes on str7x flashes - speed up str7x flash writing by offloading the algorithm to the
	target git-svn-id: svn://svn.berlios.de/openocd/trunk@95
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-04  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm7tdmi.c, src/target/arm920t.c,
	src/target/arm9tdmi.c, src/target/armv4_5.h: - added debug output for D/I FSR and FAR (arm920t) - fixed bug that caused CPSR to be corrupted in Thumb mode git-svn-id: svn://svn.berlios.de/openocd/trunk@93
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/lpc2000.c: - made lpc2000 code endianness safe (support big-endian hosts,
	target is always little) git-svn-id: svn://svn.berlios.de/openocd/trunk@92
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/at91sam7_ecr.cfg, doc/scripts/at91sam7_ecr.script,
	src/jtag/at91rm9200.c, src/openocd.c: - added missing AT91RM9200 files - bumped OpenOCD version date git-svn-id: svn://svn.berlios.de/openocd/trunk@91
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, doc/configs/arm7_ft2232.cfg, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/str7x.c, src/jtag/Makefile.am,
	src/jtag/ft2232.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7_9_common.h, src/target/arm7tdmi.c,
	src/target/arm920t.c, src/target/arm920t.h, src/target/arm9tdmi.c,
	src/target/arm_jtag.c, src/target/arm_jtag.h, src/target/armv4_5.c,
	src/target/armv4_5.h, src/target/armv4_5_cache.h,
	src/target/armv4_5_mmu.c, src/target/armv4_5_mmu.h,
	src/target/embeddedice.c, src/target/embeddedice.h,
	src/target/target.c, src/target/target.h: - endianess fixes everywhere but in the flash code. flashing might
	still be broken on big-endian targets and/or hosts - added access to ARM920T vector catch register (via generic
	register mechanism) - don't disable linefills on ARM920T cores - this lead to lockups
	when accessing lines already contained in cache - read content of ARM920T cache and tlb into file (arm920t
	read_flash/read_mmu commands) - memory reading improved on ARM7/9, can be further accelerated with
	new "arm7_9 fast_memory_access enable" command (renamed from
	fast_writes) - made in_handler independent from in field (makes the handler more
	flexible) - added timeout to ft2232 when using D2XX library - fixed STR7x protection bit handling on second bank (thanks to
	Bernard) - added support for using the OpenOCD on AT91RM9200 systems (thanks
	to Anders Larsen) - fixed AT91SAM7 flash handling when not running from 32kHz clock
	(thanks to Anders Larsen) git-svn-id: svn://svn.berlios.de/openocd/trunk@90
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/target/arm920t.c, src/target/target.c: - made bp command more verbose - fixed bug that could result in register corruption on arm920t
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@89
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c: - updated version info in openocd.c git-svn-id: svn://svn.berlios.de/openocd/trunk@88
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/str7x.c, src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c,
	src/jtag/ep93xx.c, src/jtag/ft2232.c, src/jtag/jtag.c,
	src/jtag/jtag.h, src/jtag/parport.c: - renamed jtag_interface_t.support_statemove to
	jtag_interface_t.support_pathmove (it is used to indicate
	jtag_add_pathmove support) - fixed small bug in str7x.c that printed an address instead of the
	target number in an error message - added support for Olimex ARM-USB-OCD. The new ft2232 layout is
	called "olimex-jtag" git-svn-id: svn://svn.berlios.de/openocd/trunk@87
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* doc/configs/arm7_ft2232.cfg, doc/configs/arm9_ft2232.cfg: - fixed bug in .cfg files. Thanks to Michael Fischer for noticing
	this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@86
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* INSTALL, README, doc/configs/arm7_ft2232.cfg,
	doc/configs/arm7_ftd2xx.cfg, doc/configs/arm9_ft2232.cfg,
	doc/configs/arm9_ftd2xx.cfg: - updated configuration examples, installation instructions and
	README (including list of supported JTAG interfaces) git-svn-id: svn://svn.berlios.de/openocd/trunk@85
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/ft2232.c: - added support for the Signalyzer USB->JTAG dongle
	(www.signalyzer.com) git-svn-id: svn://svn.berlios.de/openocd/trunk@84
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/jtag/Makefile.am,
	src/jtag/ft2232.c, src/jtag/ftd2xx.c, src/jtag/ftdi2232.c,
	src/jtag/jtag.c, src/jtag/jtag.h, src/jtag/parport.c: - added support for FreeBSD ppi (parallel port access similar to
	/dev/parport on linux) (thanks to Darius for this patch) - unified 'ftd2xx' and 'ftdi2232' into a single interface 'ft2232'.
	The library used to access the hardware is choosen during configure
	with --enable-ft2232_ftd2xx or --enable-ft2232-libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@83
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.c: - fixed jtag_n[st]rst_delay. time is now miliseconds (as
	documented), not microseconds git-svn-id: svn://svn.berlios.de/openocd/trunk@82
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/cfi.c, src/server/gdb_server.c, src/target/Makefile.am,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c, src/target/arm966e.c,
	src/target/arm966e.h, src/target/arm9tdmi.c, src/target/armv4_5.c,
	src/target/embeddedice.h, src/target/target.c: - fixed a minor problem with the GDB server that could drop the
	first packet (non-fatal) - fixed some small memory leaks (thanks to Spencer Oliver) - verify chip- and buswidth of cfi flash configurations - added support for ARM966E based systems (tested only with ST micro
	STR9, thanks to Spencer Oliver) git-svn-id: svn://svn.berlios.de/openocd/trunk@81
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-01  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/jtag/amt_jtagaccel.c, src/jtag/ftd2xx.c,
	src/jtag/jtag.c, src/openocd.c, src/server/server.c,
	src/server/server.h: - allow building for MinGW using either -mno-cygwin or the MinGW gcc - added GiveIO support to the amt_jtagaccel driver - explicitly disable loopback mode for FT2232 devices - changed configuration options n[st]rst_delay to
	jtag_n[st]rst_delay - shutdown network services on exit git-svn-id: svn://svn.berlios.de/openocd/trunk@80
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-07-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/flash/flash.c, src/jtag/jtag.c, src/jtag/jtag.h,
	src/jtag/parport.c, src/openocd.c, src/target/arm7_9_common.c: - added configurable delays after reset lines get deasserted. useful
	if reset circuitry keeps lines asserted for too long.  - additional debug output when opening the parallel port - fixed counting of available arm7/9 watchpoint units - 'flash write' now displays elapsed time git-svn-id: svn://svn.berlios.de/openocd/trunk@79
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-07-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/Makefile.am, src/flash/at91sam7.c,
	src/flash/at91sam7.h, src/flash/cfi.c, src/flash/flash.c,
	src/flash/lpc2000.c, src/flash/str7x.c, src/helper/Makefile.am,
	src/helper/binarybuffer.c, src/helper/command.c,
	src/helper/configuration.c, src/helper/interpreter.c,
	src/helper/log.c, src/helper/replacements.c,
	src/helper/replacements.h, src/helper/time_support.c,
	src/jtag/Makefile.am, src/jtag/amt_jtagaccel.c, src/jtag/bitbang.c,
	src/jtag/ep93xx.c, src/jtag/ftd2xx.c, src/jtag/ftdi2232.c,
	src/jtag/jtag.c, src/jtag/parport.c, src/openocd.c,
	src/server/gdb_server.c, src/server/server.c, src/server/server.h,
	src/server/telnet_server.c, src/target/algorithm.c,
	src/target/arm720t.c, src/target/arm7_9_common.c,
	src/target/arm7tdmi.c, src/target/arm920t.c, src/target/arm9tdmi.c,
	src/target/arm_disassembler.c, src/target/arm_jtag.c,
	src/target/armv4_5.c, src/target/armv4_5_cache.c,
	src/target/armv4_5_mmu.c, src/target/breakpoints.c,
	src/target/embeddedice.c, src/target/etm.c, src/target/register.c,
	src/target/target.c, src/xsvf/Makefile.am, src/xsvf/xsvf.c: - Added support for native MinGW builds (thanks to Spencer Oliver
	and Michael Fischer) - you still need to install GiveIO (not part of
	OpenOCD) - Added state-move support to ftd2xx and bitbang JTAG drivers
	(required for XScale, possibly useful for other targets, too) - various fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@78
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/server/server.c, src/target/arm7_9_common.c: - fixed bug in Thumb sw breakpoint handling (thanks to Spen for this
	patch) - fixed handling of services linked list (thanks to Spen for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@76
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/openocd.c, src/server/gdb_server.c,
	src/target/arm_disassembler.c: - changed use of bzero (deprecated) to memset (thanks to Spen for
	pointing this out) - changed fallback implementation of strndup to something that works
	on all systems (thanks to Spen for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@75
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/jtag/jtag.h, src/openocd.c, src/server/telnet_server.c: - added "version" command (patch from John Hartman, thanks) - fixed bug in telnet history handling (patch from John Hartman,
	thanks) - OpenOCD version has been changed from SVN revision number to
	date/time git-svn-id: svn://svn.berlios.de/openocd/trunk@74
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* configure.in, src/flash/at91sam7.c, src/helper/types.h,
	src/jtag/ftd2xx.c, src/jtag/jtag.h, src/server/gdb_server.c,
	src/target/arm7_9_common.c, src/target/target.c,
	src/target/target.h: - added support for AT91SAM7A3 flash (patch from andre renaud,
	thanks) - fix trunk build for mac os x (patch from Lauri Leukkunen, thanks) - added check for host endianness, defines WORDS_BIGENDIAN on a
	big-endian host (e.g. mac os-x) - fixed bug where endianness of memory accesses could be swapped on
	BE hosts - added space for zero termination of ftd2xx_layout string (from
	Magnus Ludin, tahnks) git-svn-id: svn://svn.berlios.de/openocd/trunk@73
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/target/arm_disassembler.c, src/target/arm_disassembler.h: - keep additional information for decoded instructions git-svn-id: svn://svn.berlios.de/openocd/trunk@69
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/target/Makefile.am,
	src/target/arm_disassembler.c, src/target/arm_disassembler.h,
	src/target/armv4_5.c: - the 'help' command now takes an optional argument to display help
	only on a certain command (thanks to Andrew Dyer for this
	enhancement) - OpenOCD now includes the ability to diassemble instructions on its
	own (only ARM for now, Thumb might follow).  The command is "armv4_5
	disassemble <address> <count> ['thumb']" (thumb is currently
	unsupported).  I've compared the produced disassembly against
	GDB/GNU Objdump output, and it seems to be correct, but there may
	still be some bugs left.  git-svn-id: svn://svn.berlios.de/openocd/trunk@68
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* src/helper/command.c, src/openocd.c, src/server/telnet_server.c,
	src/server/telnet_server.h: - fixed some spelling errors (thanks to Andrew Dyer) git-svn-id: svn://svn.berlios.de/openocd/trunk@67
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-02  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* - prepare OpenOCD for branching, created ./trunk/ git-svn-id: svn://svn.berlios.de/openocd/trunk@64
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

